# ç»†èŠ‚



## äºŒåˆ†æŸ¥æ‰¾è¯¦è§£



äºŒåˆ†æ³•ä¸­left + (right - left) /2 å°±å’Œ (left + right) / 2 çš„ç»“æœç›¸åŒï¼Œä½†æ˜¯æœ‰æ•ˆé˜²â½Œäº† left å’Œright å¤ªâ¼¤ç›´æ¥ç›¸åŠ å¯¼è‡´æº¢å‡ºã€‚

```c++
int binarySearch(int[] nums, int target) {
int left = 0;
int right = nums.length - 1; // æ³¨æ„
while(left <= right) {
int mid = left + (right - left) / 2;
if(nums[mid] == target)
return mid;
else if (nums[mid] < target)
left = mid + 1; // æ³¨æ„
else if (nums[mid] > target)
right = mid - 1; // æ³¨æ„
}
return -1;
}

```

1ã€ä¸ºä»€ä¹ˆ while å¾ªç¯çš„æ¡ä»¶ä¸­æ˜¯ <=ï¼Œâ½½ä¸æ˜¯ <ï¼Ÿ
ç­”ï¼šå› ä¸ºåˆå§‹åŒ– right çš„èµ‹å€¼æ˜¯ nums.length - 1 ï¼Œå³æœ€åâ¼€ä¸ªå…ƒç´ çš„ç´¢
å¼•ï¼Œâ½½ä¸æ˜¯ nums.length ã€‚
è¿™â¼†è€…å¯èƒ½å‡ºç°åœ¨ä¸åŒåŠŸèƒ½çš„â¼†åˆ†æŸ¥æ‰¾ä¸­ï¼ŒåŒºåˆ«æ˜¯ï¼šå‰è€…ç›¸å½“äºä¸¤ç«¯éƒ½é—­åŒº
é—´ [left, right] ï¼Œåè€…ç›¸å½“äºå·¦é—­å³å¼€åŒºé—´ [left, right) ï¼Œå› ä¸ºç´¢å¼•å¤§å°ä¸º nums.length æ˜¯è¶Šç•Œçš„ã€‚

æˆ‘ä»¬è¿™ä¸ªç®—æ³•ä¸­ä½¿â½¤çš„æ˜¯å‰è€… [left, right] ä¸¤ç«¯éƒ½é—­çš„åŒºé—´ã€‚è¿™ä¸ªåŒºé—´
å…¶å®å°±æ˜¯æ¯æ¬¡è¿›â¾æœç´¢çš„åŒºé—´ã€‚
ä»€ä¹ˆæ—¶å€™åº”è¯¥åœâ½Œæœç´¢å‘¢ï¼Ÿå½“ç„¶ï¼Œæ‰¾åˆ°äº†â½¬æ ‡å€¼çš„æ—¶å€™å¯ä»¥ç»ˆâ½Œï¼š
if(nums[mid] == target)
return mid;
ä½†å¦‚æœæ²¡æ‰¾åˆ°ï¼Œå°±éœ€è¦ while å¾ªç¯ç»ˆâ½Œï¼Œç„¶åè¿”å› -1ã€‚é‚£ while å¾ªç¯ä»€ä¹ˆæ—¶
å€™åº”è¯¥ç»ˆâ½Œï¼Ÿæœç´¢åŒºé—´ä¸ºç©ºçš„æ—¶å€™åº”è¯¥ç»ˆâ½Œï¼Œæ„å‘³ç€ä½ æ²¡å¾—æ‰¾äº†ï¼Œå°±ç­‰äºæ²¡
æ‰¾åˆ°å˜›ã€‚

while(left <= right) çš„ç»ˆâ½Œæ¡ä»¶æ˜¯ left == right + 1 ï¼Œå†™æˆåŒºé—´çš„å½¢å¼
å°±æ˜¯ [right + 1, right] ï¼Œæˆ–è€…å¸¦ä¸ªå…·ä½“çš„æ•°å­—è¿›å» [3, 2] ï¼Œå¯â»…è¿™æ—¶å€™
åŒºé—´ä¸ºç©ºï¼Œå› ä¸ºæ²¡æœ‰æ•°å­—æ—¢â¼¤äºç­‰äº 3 â¼œâ¼©äºç­‰äº 2 çš„å§ã€‚æ‰€ä»¥è¿™æ—¶å€™while å¾ªç¯ç»ˆâ½Œæ˜¯æ­£ç¡®çš„ï¼Œç›´æ¥è¿”å› -1 å³å¯ã€‚
**while(left < right) çš„ç»ˆâ½Œæ¡ä»¶æ˜¯ left == right** ï¼Œå†™æˆåŒºé—´çš„å½¢å¼å°±æ˜¯
[left, right] ï¼Œæˆ–è€…å¸¦ä¸ªå…·ä½“çš„æ•°å­—è¿›å» [2, 2] ï¼Œè¿™æ—¶å€™åŒºé—´â¾®ç©ºï¼Œè¿˜
æœ‰â¼€ä¸ªæ•° 2ï¼Œä½†æ­¤æ—¶ while å¾ªç¯ç»ˆâ½Œäº†ã€‚ä¹Ÿå°±æ˜¯è¯´è¿™åŒºé—´ [2, 2] è¢«æ¼æ‰
äº†ï¼Œç´¢å¼• 2 æ²¡æœ‰è¢«æœç´¢ï¼Œå¦‚æœè¿™æ—¶å€™ç›´æ¥è¿”å› -1 å°±æ˜¯é”™è¯¯çš„ã€‚

å½“ç„¶ï¼Œå¦‚æœä½ â¾®è¦â½¤ while(left < right) ä¹Ÿå¯ä»¥ï¼Œæˆ‘ä»¬å·²ç»çŸ¥é“äº†å‡ºé”™çš„
åŸå› ï¼Œå°±æ‰“ä¸ªè¡¥ä¸å¥½äº†ï¼š
//...
while(left < right) {
// ...
}
return nums[left] == target ? left : -1;

æ­¤ç®—æ³•æœ‰ä»€ä¹ˆç¼ºé™·ï¼Ÿ
ç­”ï¼šâ¾„æ­¤ï¼Œä½ åº”è¯¥å·²ç»æŒæ¡äº†è¯¥ç®—æ³•çš„æ‰€æœ‰ç»†èŠ‚ï¼Œä»¥åŠè¿™æ ·å¤„ç†çš„åŸå› ã€‚ä½†
æ˜¯ï¼Œè¿™ä¸ªç®—æ³•å­˜åœ¨å±€é™æ€§ã€‚
â½å¦‚è¯´ç»™ä½ æœ‰åºæ•°ç»„ nums = [1,2,2,2,3] ï¼Œ target ä¸º 2ï¼Œæ­¤ç®—æ³•è¿”å›çš„ç´¢å¼•æ˜¯ 2ï¼Œæ²¡é”™ã€‚**ä½†æ˜¯å¦‚æœæˆ‘æƒ³å¾—åˆ° target çš„å·¦ä¾§è¾¹ç•Œï¼Œå³ç´¢å¼• 1ï¼Œæˆ–è€…æˆ‘æƒ³å¾—åˆ° target çš„å³ä¾§è¾¹ç•Œï¼Œå³ç´¢å¼• 3ï¼Œè¿™æ ·çš„è¯æ­¤ç®—æ³•æ˜¯â½†æ³•å¤„ç†çš„**ã€‚



## ğŸ“£ğŸ“£å¯»æ‰¾å·¦ä¾§è¾¹ç•Œçš„â¼†åˆ†æœç´¢

```c++
int left_bound(int[]nums,int target){
    if(nums.length == 0) return -1;
    int left = 0;
    int right = nums.length;//æ³¨æ„è¿™é‡Œ
    while(left < right){
        int mid = (left + right)/2;
        if(nums[mid] == target) right = mid;
        else if(nums[mid] < target ) left = mid+1;
        else if(nums[mid] > target) right  = mid;
    }
    return left;//æ³¨æ„returnçš„æ˜¯ä»€ä¹ˆ
}
å¦ä¸€ç§å†™æ³•ï¼š
     int left_bound(int[]nums,int target){
    int left = 0;
		int right = nums.length - 1;
		while (left <= right) {
			int mid = (right - left) / 2 + left;
			if (nums[mid] == target) {
				right = mid - 1;
			} else if (nums[mid] < target) {
				left = mid + 1;
			} else if (nums[mid] > target) {
				right = mid - 1;
			}
		}
		// å¦‚æœé€€å‡ºå¾ªç¯äº†ï¼Œä¹Ÿå°±æ˜¯left = right + 1
		// åˆ¤æ–­ä¸‹è¶Šç•Œäº†ä¸
		if (left >= nums.length || nums[left] != target) {
			return -1;
		}
		return left;

}
```

1ã€ä¸ºä»€ä¹ˆ while ä¸­æ˜¯ < â½½ä¸æ˜¯ <= ?
ç­”ï¼šâ½¤ç›¸åŒçš„â½…æ³•åˆ†æï¼Œå› ä¸º right = nums.length â½½ä¸æ˜¯ nums.length -1 ã€‚å› æ­¤æ¯æ¬¡å¾ªç¯çš„ã€Œæœç´¢åŒºé—´ã€æ˜¯ [left, right) å·¦é—­å³å¼€ã€‚
while(left < right) ç»ˆâ½Œçš„æ¡ä»¶æ˜¯ left == right ï¼Œæ­¤æ—¶æœç´¢åŒºé—´ [left,left) ä¸ºç©ºï¼Œæ‰€ä»¥å¯ä»¥æ­£ç¡®ç»ˆâ½Œã€‚

PSï¼šè¿™â¾¥å…ˆè¦è¯´â¼€ä¸ªæœç´¢å·¦å³è¾¹ç•Œå’Œä¸Šâ¾¯è¿™ä¸ªç®—æ³•çš„â¼€ä¸ªåŒºåˆ«ï¼Œä¹Ÿæ˜¯å¾ˆå¤šè¯»è€…é—®çš„ï¼šåˆšæ‰çš„ right ä¸æ˜¯ nums.length - 1 å—ï¼Œä¸ºå•¥è¿™â¾¥â¾®è¦å†™æˆnums.length ä½¿å¾—ã€Œæœç´¢åŒºé—´ã€å˜æˆå·¦é—­å³å¼€å‘¢ï¼Ÿ
å› ä¸ºå¯¹äºæœç´¢å·¦å³ä¾§è¾¹ç•Œçš„â¼†åˆ†æŸ¥æ‰¾ï¼Œè¿™ç§å†™æ³•â½è¾ƒæ™®éï¼Œæˆ‘å°±æ‹¿è¿™ç§å†™æ³•ä¸¾ä¾‹äº†ï¼Œä¿è¯ä½ ä»¥åé‡åˆ°è¿™ç±»ä»£ç å¯ä»¥ç†è§£ã€‚ä½ â¾®è¦â½¤ä¸¤ç«¯éƒ½é—­çš„å†™æ³•åâ½½æ›´ç®€å•ï¼Œæˆ‘ä¼šåœ¨åâ¾¯å†™ç›¸å…³çš„ä»£ç ï¼ŒæŠŠä¸‰ç§â¼†åˆ†æœç´¢éƒ½â½¤â¼€ç§ä¸¤ç«¯éƒ½é—­çš„å†™æ³•ç»Ÿâ¼€èµ·æ¥ï¼Œä½ è€â¼¼å¾€åçœ‹å°±â¾äº†

2ã€ä¸ºä»€ä¹ˆæ²¡æœ‰è¿”å› -1 çš„æ“ä½œï¼Ÿå¦‚æœ nums ä¸­ä¸å­˜åœ¨ target è¿™ä¸ªå€¼ï¼Œæ€ä¹ˆåŠï¼Ÿ
ç­”ï¼šå› ä¸ºè¦â¼€æ­¥â¼€æ­¥æ¥ï¼Œå…ˆç†è§£â¼€ä¸‹è¿™ä¸ªã€Œå·¦ä¾§è¾¹ç•Œã€æœ‰ä»€ä¹ˆç‰¹æ®Šå«ä¹‰ï¼š

![image-20210821135322544](C:\Users\14172\AppData\Roaming\Typora\typora-user-images\image-20210821135322544.png)

å¯¹äºè¿™ä¸ªæ•°ç»„ï¼Œç®—æ³•ä¼šè¿”å› 1ã€‚è¿™ä¸ª 1 çš„å«ä¹‰å¯ä»¥è¿™æ ·è§£è¯»ï¼š nums ä¸­â¼©äº2 çš„å…ƒç´ æœ‰ 1 ä¸ªã€‚
â½å¦‚å¯¹äºæœ‰åºæ•°ç»„ nums = [2,3,5,7] , target = 1 ï¼Œç®—æ³•ä¼šè¿”å› 0ï¼Œå«ä¹‰æ˜¯ï¼š nums ä¸­â¼©äº 1 çš„å…ƒç´ æœ‰ 0 ä¸ªã€‚
å†â½å¦‚è¯´ nums = [2,3,5,7], target = 8 ï¼Œç®—æ³•ä¼šè¿”å› 4ï¼Œå«ä¹‰æ˜¯ï¼š numsä¸­â¼©äº 8 çš„å…ƒç´ æœ‰ 4 ä¸ªã€‚

ç»¼ä¸Šå¯ä»¥çœ‹å‡ºï¼Œå‡½æ•°çš„è¿”å›å€¼ï¼ˆå³ left å˜é‡çš„å€¼ï¼‰å–å€¼åŒºé—´æ˜¯é—­åŒºé—´[0, nums.length] ï¼Œæ‰€ä»¥æˆ‘ä»¬ç®€å•æ·»åŠ ä¸¤â¾ä»£ç å°±èƒ½åœ¨æ­£ç¡®çš„æ—¶å€™ return -1ï¼š

```c++
while (left < right) {
//...
}
// target â½æ‰€æœ‰æ•°éƒ½â¼¤
if (left == nums.length) return -1;
// ç±»ä¼¼ä¹‹å‰ç®—æ³•çš„å¤„ç†â½…å¼
return nums[left] == target ? left : -1;
```

3ã€ä¸ºä»€ä¹ˆ left = mid + 1 ï¼Œ right = mid ï¼Ÿå’Œä¹‹å‰çš„ç®—æ³•ä¸â¼€æ ·ï¼Ÿ
ç­”ï¼šè¿™ä¸ªå¾ˆå¥½è§£é‡Šï¼Œå› ä¸ºæˆ‘ä»¬çš„ã€Œæœç´¢åŒºé—´ã€æ˜¯ [left, right) å·¦é—­å³å¼€ï¼Œæ‰€ä»¥å½“ nums[mid] è¢«æ£€æµ‹ä¹‹åï¼Œä¸‹â¼€æ­¥çš„æœç´¢åŒºé—´åº”è¯¥å»æ‰ mid åˆ†å‰²æˆä¸¤ä¸ªåŒºé—´ï¼Œå³ [left, mid) æˆ– [mid + 1, right) ã€‚

å¦‚æœæƒ³æ”¹æˆä¸¤ç«¯åŒºé—´éƒ½é—­ï¼Œåˆ™å¯ä»¥æ”¹æˆï¼š

```java
int left_bound(int[]nums, int target)
{
    // æœç´¢åŒºé—´ä¸º [left, right]
int left = 0, right = nums.length - 1;
while (left <= right) {
int mid = left + (right - left) / 2;
// if else ...
}
```

å› ä¸ºæœç´¢åŒºé—´æ˜¯ä¸¤ç«¯éƒ½é—­çš„ï¼Œä¸”ç°åœ¨æ˜¯æœç´¢å·¦ä¾§è¾¹ç•Œï¼Œæ‰€ä»¥ left å’Œ
right çš„æ›´æ–°é€»è¾‘å¦‚ä¸‹ï¼š

```c
if (nums[mid] < target) {
// æœç´¢åŒºé—´å˜ä¸º [mid+1, right]
left = mid + 1;
} else if (nums[mid] > target) {
// æœç´¢åŒºé—´å˜ä¸º [left, mid-1]
right = mid - 1;
} else if (nums[mid] == target) {
// æ”¶ç¼©å³ä¾§è¾¹ç•Œ
right = mid - 1;
}
```

ä¸Šé¢ä»£ç ç”±äº while çš„é€€å‡ºæ¡ä»¶æ˜¯ left == right + 1 ï¼Œæ‰€ä»¥å½“ target â½ nums ä¸­
æ‰€æœ‰å…ƒç´ éƒ½â¼¤æ—¶ï¼Œä¼šå­˜åœ¨ä»¥ä¸‹æƒ…å†µä½¿å¾—ç´¢å¼•è¶Šç•Œï¼š

![image-20210826114425205](C:\Users\14172\AppData\Roaming\Typora\typora-user-images\image-20210826114425205.png)

å› æ­¤ï¼Œæœ€åè¿”å›ç»“æœçš„ä»£ç åº”è¯¥æ£€æŸ¥è¶Šç•Œæƒ…å†µï¼š
if (left >= nums.length || nums[left] != target)
return -1;
return left;



4ã€ä¸ºä»€ä¹ˆè¯¥ç®—æ³•èƒ½å¤Ÿæœç´¢å·¦ä¾§è¾¹ç•Œï¼Ÿ
ç­”ï¼šå…³é”®åœ¨äºå¯¹äº nums[mid] == target è¿™ç§æƒ…å†µçš„å¤„ç†ï¼š
if (nums[mid] == target)
right = mid;

å¯â»…ï¼Œæ‰¾åˆ° target æ—¶ä¸è¦â½´å³è¿”å›ï¼Œâ½½æ˜¯ç¼©â¼©ã€Œæœç´¢åŒºé—´ã€çš„ä¸Šç•Œright ï¼Œåœ¨åŒºé—´ [left, mid) ä¸­ç»§ç»­æœç´¢ï¼Œå³ä¸æ–­å‘å·¦æ”¶ç¼©ï¼Œè¾¾åˆ°é”å®šå·¦ä¾§è¾¹ç•Œçš„â½¬çš„ã€‚

5ã€ä¸ºä»€ä¹ˆè¿”å› left â½½ä¸æ˜¯ right ï¼Ÿ
ç­”ï¼šéƒ½æ˜¯â¼€æ ·çš„ï¼Œå› ä¸º while ç»ˆâ½Œçš„æ¡ä»¶æ˜¯ left == right ã€‚

ğŸ“£ğŸ“£å¯»æ‰¾å³ä¾§è¾¹ç•Œçš„â¼†åˆ†æŸ¥æ‰¾

```java
 int right_bound(int[]nums,int target){
int left = 0;
		int right = nums.length - 1;
		while (left <= right) {
			int mid = (right - left) / 2 + left;
			if (nums[mid] == target) {
				left = mid + 1;
			} else if (nums[mid] < target) {
				left = mid + 1;
			} else if (nums[mid] > target) {
				right = mid - 1;
			}
		}
		// å¦‚æœé€€å‡ºå¾ªç¯äº†ï¼Œä¹Ÿå°±æ˜¯left = right + 1
		// åˆ¤æ–­ä¸‹è¶Šç•Œäº†ä¸
		if (right < 0 || nums[right] != target) {
			return -1;
		}
		return right;
 }
```

æˆ–è€…å†™æˆï¼š
![image-20210925020553032](C:\Users\14172\AppData\Roaming\Typora\typora-user-images\image-20210925020553032.png)



1ã€ä¸ºä»€ä¹ˆè¿™ä¸ªç®—æ³•èƒ½å¤Ÿæ‰¾åˆ°å³ä¾§è¾¹ç•Œï¼Ÿ
ç­”ï¼šç±»ä¼¼åœ°ï¼Œå…³é”®ç‚¹è¿˜æ˜¯è¿™â¾¥ï¼š
if (nums[mid] == target) {
left = mid + 1;å½“ nums[mid] == target æ—¶ï¼Œä¸è¦â½´å³è¿”å›ï¼Œâ½½æ˜¯å¢â¼¤ã€Œæœç´¢åŒºé—´ã€çš„ä¸‹ç•Œ
left ï¼Œä½¿å¾—åŒºé—´ä¸æ–­å‘å³æ”¶ç¼©ï¼Œè¾¾åˆ°é”å®šå³ä¾§è¾¹ç•Œçš„â½¬çš„ã€‚
2ã€ä¸ºä»€ä¹ˆæœ€åè¿”å› left - 1 â½½ä¸åƒå·¦ä¾§è¾¹ç•Œçš„å‡½æ•°ï¼Œè¿”å› left ï¼Ÿâ½½ä¸”
æˆ‘è§‰å¾—è¿™â¾¥æ—¢ç„¶æ˜¯æœç´¢å³ä¾§è¾¹ç•Œï¼Œåº”è¯¥è¿”å› right æ‰å¯¹ã€‚
ç­”ï¼šâ¾¸å…ˆï¼Œwhile å¾ªç¯çš„ç»ˆâ½Œæ¡ä»¶æ˜¯ left == right ï¼Œæ‰€ä»¥ left å’Œ right
æ˜¯â¼€æ ·çš„ï¼Œä½ â¾®è¦ä½“ç°å³ä¾§çš„ç‰¹ç‚¹ï¼Œè¿”å› right - 1 å¥½äº†ã€‚

â¾„äºä¸ºä»€ä¹ˆè¦å‡â¼€ï¼Œè¿™æ˜¯æœç´¢å³ä¾§è¾¹ç•Œçš„â¼€ä¸ªç‰¹æ®Šç‚¹ï¼Œå…³é”®åœ¨è¿™ä¸ªæ¡ä»¶åˆ¤æ–­ï¼š
if (nums[mid] == target) {
left = mid + 1;
// è¿™æ ·æƒ³: mid = left - 1

**å› ä¸ºæˆ‘ä»¬å¯¹ left çš„æ›´æ–°å¿…é¡»æ˜¯ left = mid + 1 ï¼Œå°±æ˜¯è¯´ while å¾ªç¯ç»“æŸ**
**æ—¶ï¼Œ nums[left] â¼€å®šä¸ç­‰äº target äº†**ï¼Œâ½½ nums[left-1] å¯èƒ½æ˜¯
target ã€‚

3ã€ä¸ºä»€ä¹ˆæ²¡æœ‰è¿”å› -1 çš„æ“ä½œï¼Ÿå¦‚æœ nums ä¸­ä¸å­˜åœ¨ target è¿™ä¸ªå€¼ï¼Œæ€
ä¹ˆåŠï¼Ÿ
ç­”ï¼šç±»ä¼¼ä¹‹å‰çš„å·¦ä¾§è¾¹ç•Œæœç´¢ï¼Œå› ä¸º while çš„ç»ˆâ½Œæ¡ä»¶æ˜¯ left == right ï¼Œ
å°±æ˜¯è¯´ left çš„å–å€¼èŒƒå›´æ˜¯ [0, nums.length] ï¼Œæ‰€ä»¥å¯ä»¥æ·»åŠ ä¸¤â¾ä»£ç ï¼Œ
æ­£ç¡®åœ°è¿”å› -1ï¼š
while (left < right) {
// ...
}
if (left == 0) return -1;
return nums[left-1] == target ? (left-1) : -1;

4ã€æ˜¯å¦ä¹Ÿå¯ä»¥æŠŠè¿™ä¸ªç®—æ³•çš„ã€Œæœç´¢åŒºé—´ã€ä¹Ÿç»Ÿâ¼€æˆä¸¤ç«¯éƒ½é—­çš„å½¢å¼å‘¢ï¼Ÿè¿™æ ·è¿™ä¸‰ä¸ªå†™æ³•å°±å®Œå…¨ç»Ÿâ¼€äº†ï¼Œä»¥åå°±å¯ä»¥é—­ç€çœ¼ç›å†™å‡ºæ¥äº†ã€‚
ç­”ï¼šå½“ç„¶å¯ä»¥ï¼Œç±»ä¼¼æœç´¢å·¦ä¾§è¾¹ç•Œçš„ç»Ÿâ¼€å†™æ³•ï¼Œå…¶å®åªè¦æ”¹ä¸¤ä¸ªåœ°â½…å°±â¾
äº†ï¼š

```c++
int right_bound(int[] nums, int target) {
int left = 0, right = nums.length - 1;
while (left <= right) {
int mid = left + (right - left) / 2;
if (nums[mid] < target) {
left = mid + 1;
} else if (nums[mid] > target) {
right = mid - 1;
} else if (nums[mid] == target) {
// è¿™â¾¥æ”¹æˆæ”¶ç¼©å·¦ä¾§è¾¹ç•Œå³å¯
left = mid + 1;
}
}
// è¿™â¾¥æ”¹ä¸ºæ£€æŸ¥ right è¶Šç•Œçš„æƒ…å†µï¼Œâ»…ä¸‹å›¾
if (right < 0 || nums[right] != target)
return -1;
return right;
}

```

å¯¹äºå¯»æ‰¾å·¦å³è¾¹ç•Œçš„â¼†åˆ†æœç´¢ï¼Œå¸¸â»…çš„â¼¿æ³•æ˜¯ä½¿â½¤å·¦é—­å³å¼€çš„ã€Œæœç´¢åŒº
é—´ã€





## æœ‰åºæ•°ç»„ä¸­æŸä¸ªå…ƒç´ å‡ºç°æ¬¡æ•°

æŒ‰ç…§ä¸Šé¢çš„æœ€å·¦ä¾§è¾¹ç•Œå’Œæœ€å³ä¾§è¾¹ç•Œï¼ŒåŠ ä¸Šä¸€ä¸ªåˆ¤æ–­å‡½æ•°å³å¯å¾—åˆ°è¯¥å…ƒç´ å‡ºç°ä¸ªæ•°

```java
public static int getAppearTimes(int[] arr, int key) {
int min = BinarySearch.binarySearchMaxPosition(arr, key);
int max = BinarySearch.binarySearchMinPosition(arr, key);
if (min != -1 && max != -1) {
if (min == max) {
return 1;
} else {
return max - min - 1;
}
} else {
    return 0;
}
}
```



## å±€éƒ¨æœ€å°çš„ä½ç½®

ç»™å®šä¸€ä¸ªæ— åºæ•°ç»„arrï¼Œå·²çŸ¥ä»»æ„ç›¸é‚»çš„ä¸¤ä¸ªå…ƒç´ å€¼éƒ½ä¸é‡å¤ï¼Œè¿”å›ä»»æ„ä¸€ä¸ªå±€éƒ¨æœ€å°çš„ä½ç½®ã€‚
å±€éƒ¨æœ€å°æ˜¯æŒ‡ï¼š
1ï¼‰arr[0] < arr[1] ï¼Œ0 æ˜¯å±€éƒ¨æœ€å°çš„ä½ç½®
2ï¼‰arr[N-1] < arr[N-2]ï¼ŒN-1 æ˜¯å±€éƒ¨æœ€å°çš„ä½ç½®
3ï¼‰arr[i] < arr[i-1] && arr[i] < arr[i+1]ï¼Œi æ˜¯å±€éƒ¨æœ€å°çš„ä½ç½®
è¦æ±‚æ—¶é—´å¤æ‚åº¦ä¸ºO(logn)
æœªå¿…ä¸€å®šè¦æ±‚æ•°ç»„æœ‰åºï¼Œåªè¦èƒ½åœ¨æ¯”è¾ƒæ—¶æ·˜æ±°ä¸€åŠï¼Œç•™ä¸‹å¦ä¸€åŠï¼Œå°±å¯ä»¥å®ç°O(logn)

```java
public static int search(int[] arr) {
if (arr.length == 0) {
return -1;
}
    if(arr.length == 1)
        return 0;
    if(arr[0] < arr[1])
        return 0;
    if(arr[arr.length -1] > arr[arr.length - 2])
        return arr.length-1;
    int low = 1,high = arr.length-2;//æ³¨æ„è¿™ä¸ªéƒ¨åˆ†
    int mid = 0;
    while(low <= high)    //è¿™é‡Œæ˜¯æ ¸å¿ƒ
    {
        mid = (low  + high)/2;
        if(arr[mid] < arr[mid - 1] && arr[mid] < arr[mid + 1])
            return mid;
        if(arr[mid] > arr[mid-1])
            high = mid-1;
        else if(arr[mid] > arr[mid+1])
            low = mid+1;
    }
    return -1;//æ²¡æ‰¾åˆ°
```



## æŸ¥æ‰¾ç¬¬ä¸€ä¸ªå¤§äºç­‰äºç»™å®šå€¼çš„å…ƒç´ 

```java
public static int search(int[] nums, int val) {
int low = 0, high = nums.length - 1;
while (low <= high) {
int mid = (low + high) >>> 1;
if (nums[mid] < val) {
low = mid + 1;
} else {
// å¦‚æœnums[mid]æ˜¯ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œæˆ–è€…nums[mid-1]å°äºval
// è¯´æ˜nums[mid]å°±æ˜¯ç¬¬ä¸€ä¸ªå¤§äºç­‰äºç»™å®šå€¼çš„å…ƒç´ 
if (mid == 0 || nums[mid - 1] < val) {
return mid;
}
high = mid - 1;
}
}
return -1;
}
```

æˆ–è€…è¿™æ ·ï¼š

```java
public static int search(int[] nums, int val) {
int low = 0, high = nums.length - 1,index=0;
while (low <= high) {
int mid = (low + high) >>> 1;
if (nums[mid] < val) {
low = mid + 1;
} else {
// å¦‚æœnums[mid]æ˜¯ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œæˆ–è€…nums[mid-1]å°äºval
// è¯´æ˜nums[mid]å°±æ˜¯ç¬¬ä¸€ä¸ªå¤§äºç­‰äºç»™å®šå€¼çš„å…ƒç´ 
index=mid;
high = mid - 1;
}
}
return index;
}

```



## äºŒåˆ†ä¹‹å‘æ•°ç»„æ’å…¥å…ƒç´ (æœç´¢æ’å…¥ä½ç½®)

ç»™å®šä¸€ä¸ªæ’åºæ•°ç»„å’Œä¸€ä¸ªç›®æ ‡å€¼ï¼Œåœ¨æ•°ç»„ä¸­æ‰¾åˆ°ç›®æ ‡å€¼ï¼Œå¹¶è¿”å›å…¶ç´¢å¼•ã€‚å¦‚æœç›®æ ‡å€¼ä¸å­˜åœ¨äºæ•°ç»„ä¸­ï¼Œè¿”å›å®ƒå°†ä¼šè¢«æŒ‰é¡ºåºæ’å…¥çš„ä½ç½®ã€‚

è¯·å¿…é¡»ä½¿ç”¨æ—¶é—´å¤æ‚åº¦ä¸º O(log n) çš„ç®—æ³•ã€‚

 æ•°ç»„ä¸ºäº’ä¸é‡å¤çš„å‡åºåºåˆ—ã€‚



```java
  public int searchInsert(int[] nums, int target) {
if(nums.length == 1) {
    if(target >nums[0]) return 1;
    else return 0;
}
int low = 0,high = nums.length-1;
if(nums[nums.length-1] <target) return nums.length;
if(nums[0] >target) return 0;
while(low <=high)
{
    int mid = (low + high)/2;
    if(nums[mid] == target) return mid;
    
  else  if(nums[mid] <target)
    low = mid+1;
    if(nums[mid] > target )
    high = mid-1;
}
return low;
    }
```

## [528. æŒ‰æƒé‡éšæœºé€‰æ‹©](https://leetcode-cn.com/problems/random-pick-with-weight/)

éš¾åº¦ä¸­ç­‰204

ç»™ä½ ä¸€ä¸ª **ä¸‹æ ‡ä» 0 å¼€å§‹** çš„æ­£æ•´æ•°æ•°ç»„ `w` ï¼Œå…¶ä¸­ `w[i]` ä»£è¡¨ç¬¬ `i` ä¸ªä¸‹æ ‡çš„æƒé‡ã€‚

è¯·ä½ å®ç°ä¸€ä¸ªå‡½æ•° `pickIndex` ï¼Œå®ƒå¯ä»¥ **éšæœºåœ°** ä»èŒƒå›´ `[0, w.length - 1]` å†…ï¼ˆå« `0` å’Œ `w.length - 1`ï¼‰é€‰å‡ºå¹¶è¿”å›ä¸€ä¸ªä¸‹æ ‡ã€‚é€‰å–ä¸‹æ ‡ `i` çš„ **æ¦‚ç‡** ä¸º `w[i] / sum(w)` ã€‚



- ä¾‹å¦‚ï¼Œå¯¹äº `w = [1, 3]`ï¼ŒæŒ‘é€‰ä¸‹æ ‡ `0` çš„æ¦‚ç‡ä¸º `1 / (1 + 3) = 0.25` ï¼ˆå³ï¼Œ25%ï¼‰ï¼Œè€Œé€‰å–ä¸‹æ ‡ `1` çš„æ¦‚ç‡ä¸º `3 / (1 + 3) = 0.75`ï¼ˆå³ï¼Œ`75%`ï¼‰ã€‚

-----------

![image-20220221122836110](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220221122836110.png)

```java
  public Solution(int[] w) {
arr = new int[w.length];
arr[0] = w[0];
for(int i = 1;i <w.length;i++)
arr[i] = arr[i-1]+w[i];
total = Arrays.stream(w).sum();
    }
    
    public int pickIndex() {
int x = (int)(Math.random() * total)+1;//æƒé‡æ˜¯æ­£æ•´æ•°ï¼Œä»1å¼€å§‹
return binary(x);
    }
    public int binary(int x)
    {
        int low = 0,high = arr.length-1;
        while(low <= high)
        {
int mid = low +(high - low)/2;
if(arr[mid] < x)
low = mid+1;
else{
if (mid == 0 || arr[mid - 1] < x) {
return mid;
}
high = mid - 1;
}

        }
        return low;
    }
```



## å¾ªç¯æœ‰åºæ•°ç»„çš„æœ€å°å€¼
å¾ªç¯æœ‰åºæ•°ç»„æ˜¯æŒ‡ï¼šæœ‰åºæ•°ç»„å·¦è¾¹ä»»æ„é•¿åº¦çš„éƒ¨åˆ†æ”¾åˆ°å³è¾¹å»ï¼Œå³è¾¹çš„éƒ¨åˆ†æ‹¿åˆ°å·¦è¾¹æ¥ã€æ¯”å¦‚æ•°ç»„ã€1,2,3,4,5ã€‘ï¼Œæ˜¯æœ‰åºå¾ªç¯æ•°ç»„ï¼Œã€4,1,2,3,3ã€‘ä¹Ÿæ˜¯ã€‚
ç®—æ³•ï¼š
ä»¤low åˆå€¼ä¸º0ï¼Œhigh åˆå€¼ä¸ºN-1.ã€‚
1ï¼‰é¦–å…ˆåˆ¤æ–­arr[low]<arr[high]ï¼Œå¦‚æœä¸ºtrueï¼Œé‚£ä¹ˆè¯´æ˜low~high èŒƒå›´å†…æ˜¯ä¸€ä¸ªæ­£å¸¸çš„æœ‰åºæ•°ç»„ï¼Œæ²¡æœ‰å¾ªç¯éƒ¨åˆ†ï¼Œé‚£ä¹ˆæœ€å°å€¼å³ä¸ºarr[0]
2ï¼‰mid ä¸ºlow å’Œhigh çš„ä¸­é—´ä½ç½®ã€‚
å¦‚æœarr[mid] < arr[low]ï¼Œé‚£ä¹ˆè¯´æ˜æœ€å°å€¼ä¸€å®šåœ¨low ä¸midï¼ˆåŒ…å«midï¼‰ä¹‹é—´ï¼Œhigh = mid ï¼Œå› ä¸ºmid ä¸€å®šå¤„äºå¾ªç¯éƒ¨åˆ†ã€‚æ¯”å¦‚ã€7,8,,9,1,2,3,4,5,6ã€‘ã€‚è¿›å…¥ä¸‹æ¬¡å¾ªç¯ã€‚
å¦‚æœarr[mid] > arr[high]ï¼Œé‚£ä¹ˆè¯´æ˜æœ€å°å€¼ä¸€å®šåœ¨midï¼ˆä¸å«midï¼‰ä¸high ä¹‹é—´ï¼Œlow = mid+1ï¼Œå› ä¸ºmid ä¸€å®šå¤„äºå¾ªç¯éƒ¨åˆ†ã€‚æ¯”å¦‚ã€4,5,6,7,8,9,1,2,3ã€‘ã€‚è¿›å…¥ä¸‹æ¬¡å¾ªç¯ã€‚
3ï¼‰å¦‚æœéƒ½ä¸æ»¡è¶³ï¼Œé‚£ä¹ˆè¯´æ˜arr[low]=arr[high]=arr[mid]ã€‚æ­¤æ—¶æ— æ³•ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾ï¼Œåªèƒ½éå†æ•°ç»„å»æŸ¥æ‰¾æœ€å°å€¼ï¼ŒæŸ¥æ‰¾åˆ°åè¿”å›ã€‚



## [33. æœç´¢æ—‹è½¬æ’åºæ•°ç»„](https://leetcode-cn.com/problems/search-in-rotated-sorted-array/)



![image-20220123140651212](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220123140651212.png)

æ ¸å¿ƒæ€è·¯ï¼šå°†æ•°ç»„ä¸€åˆ†ä¸ºäºŒï¼Œå…¶ä¸­ä¸€å®šæœ‰ä¸€ä¸ªæ˜¯æœ‰åºçš„ï¼Œå¦ä¸€ä¸ªå¯èƒ½æ˜¯æœ‰åºï¼Œä¹Ÿèƒ½æ˜¯éƒ¨åˆ†æœ‰åºã€‚æ­¤æ—¶æœ‰åºéƒ¨åˆ†ç”¨äºŒåˆ†æ³•æŸ¥æ‰¾ã€‚æ— åºéƒ¨åˆ†å†ä¸€åˆ†ä¸ºäºŒï¼Œå…¶ä¸­ä¸€ä¸ªä¸€å®šæœ‰åºï¼Œå¦ä¸€ä¸ªå¯èƒ½æœ‰åºï¼Œå¯èƒ½æ— åºã€‚

ä»£ç ï¼š

```java
 public int search(int[] nums, int target) {
int len = nums.length-1;

int left = 0,right = len;
if(nums.length == 0) return -1;
if(len == 0) return target == nums[0]?0:-1;
while(left <= right){
int mid = (right + left)/2;
if(target == nums[mid]) return mid;
if(nums[0] <= nums[mid])
{
if(target >=nums[left] && target < nums[mid])
{
right = mid-1;

}
else{
left = mid+1;
}
}
else{
if(target > nums[mid] && target <= nums[right])
{
    left = mid+1;
}
else{
    right = mid-1;
}
}
}
return -1;
    }
```

## [ æœç´¢æ—‹è½¬æ•°ç»„2](https://leetcode-cn.com/problems/search-rotate-array-lcci/)

éš¾åº¦ä¸­ç­‰83

æœç´¢æ—‹è½¬æ•°ç»„ã€‚ç»™å®šä¸€ä¸ªæ’åºåçš„æ•°ç»„ï¼ŒåŒ…å«nä¸ªæ•´æ•°ï¼Œä½†è¿™ä¸ªæ•°ç»„å·²è¢«æ—‹è½¬è¿‡å¾ˆå¤šæ¬¡äº†ï¼Œæ¬¡æ•°ä¸è¯¦ã€‚è¯·ç¼–å†™ä»£ç æ‰¾å‡ºæ•°ç»„ä¸­çš„æŸä¸ªå…ƒç´ ï¼Œå‡è®¾æ•°ç»„å…ƒç´ åŸå…ˆæ˜¯æŒ‰å‡åºæ’åˆ—çš„ã€‚è‹¥æœ‰å¤šä¸ªç›¸åŒå…ƒç´ ï¼Œè¿”å›ç´¢å¼•å€¼æœ€å°çš„ä¸€ä¸ªã€‚

**ç¤ºä¾‹1:**

```
 è¾“å…¥: arr = [15, 16, 19, 20, 25, 1, 3, 4, 5, 7, 10, 14], target = 5
 è¾“å‡º: 8ï¼ˆå…ƒç´ 5åœ¨è¯¥æ•°ç»„ä¸­çš„ç´¢å¼•ï¼‰
```

---

ä¸ä¸Šé¢çš„ç›¸æ¯”åŒºåˆ«æ˜¯è¿™ä¸ªæ•°ç»„ä¸­æœ‰é‡å¤å…ƒç´ ã€‚è¿™é‡Œè¦æ³¨æ„ï¼Œé¢˜ç›®ä¸­çš„æ—‹è½¬å¤šæ¬¡å…¶å®å¹¶æ²¡æœ‰å½±å“ï¼Œæ—‹è½¬å¤šæ¬¡ä»ç„¶å’Œä¸€æ¬¡æ˜¯ä¸€æ ·çš„ã€‚

æ¯æ¬¡å–ä¸­é—´ç´¢å¼•åˆ¤æ–­æ˜¯å¦å’Œtargetç›¸ç­‰ï¼Œå¦‚æœç›¸ç­‰ï¼Œåˆ™ç»§ç»­å°†targetå¾€å·¦éå†ï¼Œéå†åˆ°æœ€å°å’Œtargetç›¸ç­‰çš„ç´¢å¼•ç„¶åè¿”å›

å¦‚æœä¸ç­‰ï¼šåˆ™åˆ¤æ–­midValå’ŒrVal(å³è¾¹ç•Œçš„å€¼)ï¼Œæ­¤æ—¶æœ‰ä¸‰ç§å¯èƒ½ï¼š

1ï¼‰midVal<rVal,åˆ™å¯ä»¥è¯´æ˜mid~rightä¸€å®šæ˜¯é€’å¢çš„ï¼Œåˆ™åˆ¤æ–­targetæ˜¯å¦æ˜¯å¤§äºmidValå¹¶ä¸”å°äºç­‰äºrValï¼Œå³æ˜¯å¦åœ¨(mid,right]è¿™ä¸ªåŒºé—´ï¼Œå¦‚æœæ˜¯ï¼Œå‹ç¼©åŒºé—´left=mid+1,å¦åˆ™è¯´æ˜ä¸åœ¨(mid,right]åŒºé—´ï¼Œå‹ç¼©åŒºé—´ [left,mid)

2)midVal>rValï¼Œåˆ™å¯ä»¥è¯´æ˜left~midæ˜¯é€’å¢çš„ï¼Œå› ä¸ºåŸæ•°ç»„æ˜¯éé€’å‡çš„ï¼Œè¦æ»¡è¶³ä¸­é—´æ•°å€¼å¤§äºæœ€å³è¾¹æ•°å€¼ï¼Œé‚£ä¹ˆæœ€å¤§å€¼ä¸€å®šä¸åœ¨midValçš„å·¦ä¾§(å‡å¦‚åœ¨å·¦ä¾§ï¼Œé‚£ä¹ˆæœ‰left~k)é€’å¢ï¼Œç„¶åk+1ï¼ˆk<midï¼‰~righté€’å¢ã€‚å¤„ç†æ–¹å¼åŒä¸Š

3ï¼‰midVal==rValï¼Œåˆ™æœ‰ä¸¤ç§å¯èƒ½ right~0~mid çš„å€¼éƒ½ç›¸ç­‰ï¼Œæˆ–è€… mid~rightçš„å€¼ç›¸ç­‰ï¼Œæ— è®ºæ˜¯å“ªç§ï¼Œéƒ½å¯ä»¥å°†rightèˆå»ï¼Œå‹ç¼©åŒºé—´



```java
  public int search(int[] arr, int target) {
int left =0,right=arr.length-1;
while(left <= right)
{
    if(arr[left]== target) return left;
    int mid = (left +right)/2;
    int num = arr[mid];
    if(num == target)
    {
        while(mid > 0 && arr[mid-1]==num)
        mid--;
        return mid;
    }
    else if(arr[mid] < arr[right])//mid-rightéƒ½æ˜¯å‡åº
    {
    if(target > num && target<=arr[right]) left = mid+1;//æ³¨æ„ï¼Œåªæœ‰åŒæ—¶æ»¡è¶³è¿™ä¸¤ä¸ªæ¡ä»¶æ‰è¯´æ˜targetåœ¨midä¸rightä¹‹é—´ï¼Œå¦åˆ™å…¶ä»–æƒ…å†µå‡è®©right=mid-1
    else right = mid-1;
    }
    else if(num > arr[right])
    {
        //left-midä¸ºå‡åº
      if (target < num && arr[left] <= target) 
      right = mid-1;//æ³¨æ„è¿™ä¸ªåˆ¤æ–­æ¡ä»¶ï¼Œå› ä¸ºå¦‚æœtarget<num.æœ‰å¯èƒ½targetåœ¨numçš„å·¦è¾¹æˆ–è€…å³è¾¹ï¼Œå¦‚æœåœ¨Target<arr[mid] && target>arr[left],è¯´æ˜targetåœ¨midä¸leftä¹‹é—´
        else left=mid+1;
    }
    else right--;
}
return -1;
    }
```





## å¿«é€Ÿå¹‚ï¼š[50. Pow(x, n)](https://leetcode-cn.com/problems/powx-n/)

éš¾åº¦ä¸­ç­‰853

å®ç° [pow(*x*, *n*)](https://www.cplusplus.com/reference/valarray/pow/) ï¼Œå³è®¡ç®— `x` çš„ `n` æ¬¡å¹‚å‡½æ•°ï¼ˆå³ï¼Œ`xçš„næ¬¡æ–¹` ï¼‰ã€‚

----------

![image-20220131164242921](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220131164242921.png)

é€’å½’çš„è¾¹ç•Œä¸º n = 0ï¼Œä»»æ„æ•°çš„ 0 æ¬¡æ–¹å‡ä¸º 1ã€‚

ç”±äºæ¯æ¬¡é€’å½’éƒ½ä¼šä½¿å¾—æŒ‡æ•°å‡å°‘ä¸€åŠï¼Œå› æ­¤é€’å½’çš„å±‚æ•°ä¸º O(\log n)ï¼Œç®—æ³•å¯ä»¥åœ¨å¾ˆå¿«çš„æ—¶é—´å†…å¾—åˆ°ç»“æœã€‚



```java
public double myPow(double x, int n) {//ä¸»å‡½æ•°
        long N =n;
     if(n>0) return mytwo(x,N);
     else return 1.0/mytwo(x,-N);

       }
       public double mytwo(double x,long N)
       {
           if(N==0) return 1;
           double y = mytwo(x,N/2);
           if(N%2==1) return y*y*x ;
           else return y*y;
       }
```



## [å‰‘æŒ‡ Offer 66. æ„å»ºä¹˜ç§¯æ•°ç»„](https://leetcode-cn.com/problems/gou-jian-cheng-ji-shu-zu-lcof/)

ç»™å®šä¸€ä¸ªæ•°ç»„ A[0,1,â€¦,n-1]ï¼Œè¯·æ„å»ºä¸€ä¸ªæ•°ç»„ B[0,1,â€¦,n-1]ï¼Œå…¶ä¸­ B[i] çš„å€¼æ˜¯æ•°ç»„ A ä¸­é™¤äº†ä¸‹æ ‡ i ä»¥å¤–çš„å…ƒç´ çš„ç§¯, å³ B[i]=A[0]Ã—A[1]Ã—â€¦Ã—A[i-1]Ã—A[i+1]Ã—â€¦Ã—A[n-1]ã€‚ä¸èƒ½ä½¿ç”¨é™¤æ³•ã€‚

ç¤ºä¾‹:

è¾“å…¥: [1,2,3,4,5]
è¾“å‡º: [120,60,40,30,24]

-------

![image-20220201005249978](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220201005249978.png)





```java
 public int[] constructArr(int[] a) {
        if(a==null||a.length==0) return new int[0];
int[]ans =new int[a.length];
int temp=1;
ans[0]=1;
for(int i = 1;i <a.length;i++)
{
ans[i] = ans[i-1]*a[i-1];
}
for(int j = a.length-2;j>=0;j--)
{
    temp *=a[j+1];
    ans[j] *=temp;
}

return ans;
    }
```

## [367. æœ‰æ•ˆçš„å®Œå…¨å¹³æ–¹æ•°](https://leetcode-cn.com/problems/valid-perfect-square/)

éš¾åº¦ç®€å•349

ç»™å®šä¸€ä¸ª **æ­£æ•´æ•°** `num` ï¼Œç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼Œå¦‚æœ `num` æ˜¯ä¸€ä¸ªå®Œå…¨å¹³æ–¹æ•°ï¼Œåˆ™è¿”å› `true` ï¼Œå¦åˆ™è¿”å› `false` ã€‚

**è¿›é˜¶ï¼šä¸è¦** ä½¿ç”¨ä»»ä½•å†…ç½®çš„åº“å‡½æ•°ï¼Œå¦‚ `sqrt` ã€‚

---

è¿™é‡Œé‡‡ç”¨äºŒåˆ†æ³•ï¼Œå› ä¸ºsqrtï¼ˆnum)ä¸€å®šåœ¨1~numä¹‹é—´

```java
  public boolean isPerfectSquare(int num) {

int low = 1,high = num;
while(low <= high)
{
        int mid = (low + high)/2;
      long square = (long) mid * mid;

    if(square == num) return true;
    else if(square > num) high = mid -1;
    else low = mid+1;
}
return false;
    }
```

## å¹³æ–¹æ ¹

æ±‚xçš„å¹³æ–¹æ ¹ï¼š

æ–¹æ³•1ï¼š

æœ¬é¢˜æ˜¯ä¸€é“å¸¸è§çš„é¢è¯•é¢˜ï¼Œé¢è¯•å®˜ä¸€èˆ¬ä¼šè¦æ±‚é¢è¯•è€…åœ¨ä¸ä½¿ç”¨ \sqrt{x} 
x

  å‡½æ•°çš„æƒ…å†µä¸‹ï¼Œå¾—åˆ° x çš„å¹³æ–¹æ ¹çš„æ•´æ•°éƒ¨åˆ†ã€‚ä¸€èˆ¬çš„æ€è·¯ä¼šæœ‰ä»¥ä¸‹å‡ ç§ï¼š

é€šè¿‡å…¶å®ƒçš„æ•°å­¦å‡½æ•°ä»£æ›¿å¹³æ–¹æ ¹å‡½æ•°å¾—åˆ°ç²¾ç¡®ç»“æœï¼Œå–æ•´æ•°éƒ¨åˆ†ä½œä¸ºç­”æ¡ˆï¼›

é€šè¿‡æ•°å­¦æ–¹æ³•å¾—åˆ°è¿‘ä¼¼ç»“æœï¼Œç›´æ¥ä½œä¸ºç­”æ¡ˆã€‚

æ–¹æ³•ä¸€ï¼šè¢–çè®¡ç®—å™¨ç®—æ³•
ã€Œè¢–çè®¡ç®—å™¨ç®—æ³•ã€æ˜¯ä¸€ç§ç”¨æŒ‡æ•°å‡½æ•° \exp å’Œå¯¹æ•°å‡½æ•° \lnä»£æ›¿å¹³æ–¹æ ¹å‡½æ•°çš„æ–¹æ³•ã€‚æˆ‘ä»¬é€šè¿‡æœ‰é™çš„å¯ä»¥ä½¿ç”¨çš„æ•°å­¦å‡½æ•°ï¼Œå¾—åˆ°æˆ‘ä»¬æƒ³è¦è®¡ç®—çš„ç»“æœã€‚

![image-20220129124312522](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220129124312522.png)

![image-20220129124918652](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220129124918652.png)

```java
    public int mySqrt(int x) {
if(x==0)return 0;
int ans = (int)Math.exp(0.5*Math.log(x));
return (long)(ans +1) *(ans +1)<=x?ans+1:ans;
    }
```

æ–¹æ³•äºŒï¼šäºŒåˆ†æ³•

  

```java
public int mySqrt(int x) {

int left=0,right=x;

int ans=-1;

while(right>=left){

int mid=left+(right-left)/2;

if((long)mid*(long)mid<=x)

//æ³¨æ„è¿™é‡Œä¸èƒ½å†™æˆ(long)(mid*mid),ä¸èƒ½æŠŠç›¸ä¹˜å†™åœ¨æ‹¬å·é‡Œé‡Œé¢ï¼Œå› ä¸ºè¿™æ ·mid*midçš„ç»“æœå·²ç»ä¼šæº¢å‡ºäº†

//å¯ä»¥å†™æˆ(long)mid*(long)midæˆ–è€…(long)mid*mid

{
  left=mid+1;
ans=mid;

}
else right=mid-1;
}

return ans;

  }


```

æˆ–è€…è¿™æ ·ï¼š

```java
    public int mySqrt(int x) {
int left=0,right=x;
int ans=-1;
while(right>=left){
int mid=left+(right-left)/2;
if((long)mid*(long)mid<x)
//æ³¨æ„è¿™é‡Œä¸èƒ½å†™æˆ(long)(mid*mid),ä¸èƒ½æŠŠç›¸ä¹˜å†™åœ¨æ‹¬å·é‡Œé‡Œé¢ï¼Œå› ä¸ºè¿™æ ·mid*midçš„ç»“æœå·²ç»ä¼šæº¢å‡ºäº†
//å¯ä»¥å†™æˆ(long)mid*(long)midæˆ–è€…(long)mid*mid
{
    left=mid+1;
    ans=mid;

}
else if((long)mid*mid>x) right=mid-1;
else{
    ans=mid;break;
}
}
return ans;
    }
```



## [1095. å±±è„‰æ•°ç»„ä¸­æŸ¥æ‰¾ç›®æ ‡å€¼](https://leetcode-cn.com/problems/find-in-mountain-array/)

éš¾åº¦å›°éš¾144

ç»™ä½ ä¸€ä¸ª **å±±è„‰æ•°ç»„** `mountainArr`ï¼Œè¯·ä½ è¿”å›èƒ½å¤Ÿä½¿å¾— `mountainArr.get(index)` **ç­‰äº** `target` **æœ€å°** çš„ä¸‹æ ‡ `index` å€¼ã€‚

å¦‚æœä¸å­˜åœ¨è¿™æ ·çš„ä¸‹æ ‡ `index`ï¼Œå°±è¯·è¿”å› `-1`ã€‚

 

ä½•ä¸ºå±±è„‰æ•°ç»„ï¼Ÿå¦‚æœæ•°ç»„ `A` æ˜¯ä¸€ä¸ªå±±è„‰æ•°ç»„çš„è¯ï¼Œé‚£å®ƒæ»¡è¶³å¦‚ä¸‹æ¡ä»¶ï¼š

**é¦–å…ˆ**ï¼Œ`A.length >= 3`

**å…¶æ¬¡**ï¼Œåœ¨ `0 < i < A.length - 1` æ¡ä»¶ä¸‹ï¼Œå­˜åœ¨ `i` ä½¿å¾—ï¼š

- `A[0] < A[1] < ... A[i-1] < A[i]`
- `A[i] > A[i+1] > ... > A[A.length - 1]`

---



æ€è·¯ï¼šäºŒåˆ†æ³•æ‰¾åˆ°å±±é¡¶ï¼Œç„¶åä¸¤è¾¹ä¸€ä¸ªå‡åºä¸€ä¸ªé™åºï¼Œå‡åºç”¨å‡åºçš„é€’å½’ï¼Œé™åºç”¨é™åºçš„é€’å½’ï¼Œè¿™é‡Œå°¤å…¶æ³¨æ„è¾¹ç•Œæ¡ä»¶ï¼ˆlow<highè¿˜æ˜¯low<=highï¼Œå¦‚æœç¬¦å·å‡ºé”™ä¼šå¯¼è‡´ç»“æœé”™è¯¯ï¼‰

```java
 public int findInMountainArray(int target, MountainArray mountainArr) {
        int low = 0,high = mountainArr.length()-1;
        int index = -1;
     //å¦‚æœnums[mid]>num[mid+1]ï¼Œåˆ™è¯´æ˜midåœ¨æ•°ç»„é™åºçš„ç¬¬äºŒéƒ¨åˆ†ï¼Œæœ€å¤§å€¼åœ¨midçš„å·¦è¾¹ï¼Œæ›´æ–°right=mid-1;
//å¦‚æœnums[mid]<num[mid+1]ï¼Œåˆ™è¯´æ˜midåœ¨æ•°ç»„å‡åºçš„ç¬¬äºŒéƒ¨åˆ†ï¼Œæœ€å¤§å€¼åœ¨midçš„å³è¾¹ï¼Œæ›´æ–°left=mid+1ï¼›
      while(low <= high)
        {
            int mid = (low + high)/2;
         if(mountainArr.get(mid)<mountainArr.get(mid+1))
         low = mid+1;
         else high = mid-1;

        
        }
        index = binaryfind(0,low,target,mountainArr,true);
        if(index!= -1) return index;
        return binaryfind(low+1,mountainArr.length()-1,target,mountainArr,false);
    }
    public int binaryfind(int low,int high,int target,MountainArray mountainArr,boolean flag)
    {
        if(flag){
while(low <= high)
{
    int mid = (low + high)/2;//å‡åºäºŒåˆ†æŸ¥æ‰¾
    if(mountainArr.get(mid) == target) return mid;
    else if(mountainArr.get(mid)<target) low = mid+1;
    else high = mid-1;
}
return -1;
        }
        else
        {
while(low <= high)
{
    int mid = (low + high)/2;//é™åºäºŒåˆ†æŸ¥æ‰¾
    if(mountainArr.get(mid) == target) return mid;
    else if(mountainArr.get(mid)<target) high = mid-1;
    else low = mid+1;
}
return -1;
        }
```

## æœ¨å¤´åˆ‡å‰²

ç»™å®šé•¿åº¦ä¸ºnçš„æ•°ç»„ï¼Œæ¯ä¸ªå…ƒç´ ä»£è¡¨ä¸€ä¸ªæœ¨å¤´çš„é•¿åº¦ï¼Œæœ¨å¤´å¯ä»¥ä»»æ„æˆªæ–­ï¼Œä»è¿™å †æœ¨å¤´ä¸­æˆªå‡ºè‡³å°‘kä¸ªç›¸åŒé•¿åº¦ä¸ºmçš„æœ¨å—ã€‚å·²çŸ¥kï¼Œæ±‚max(m)ã€‚

è¾“å…¥ä¸¤è¡Œï¼Œç¬¬ä¸€è¡Œn, kï¼Œç¬¬äºŒè¡Œä¸ºæ•°ç»„åºåˆ—ã€‚è¾“å‡ºæœ€å¤§å€¼ã€‚

> è¾“å…¥
> 5 5
> 4 7 2 10 5
> è¾“å‡º
> 4
> è§£é‡Šï¼šå¦‚å›¾ï¼Œæœ€å¤šå¯ä»¥æŠŠå®ƒåˆ†æˆ5æ®µé•¿åº¦ä¸º4çš„æœ¨å¤´
>
> ![å›¾ç‰‡](https://mmbiz.qpic.cn/mmbiz_png/oD5ruyVxxVHVR60EJHyZEZAdt5KkTSSvpjP30ZWe9WxlFFHibiaPchmjVcVpkkCkVqUNicm9NReAvCbKC0vdy6sZg/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1)

----

æ–¹æ³•ä¸€ï¼šæš´åŠ›ã€‚å¤§æ¦‚æ€è·¯å°±æ˜¯ä»1éå†åˆ°æœ¨æ£æœ€é•¿çš„é•¿åº¦ï¼Œæ¯æ¬¡éå†çš„é•¿åº¦ä½œä¸ºmï¼Œå¦‚æœå¯ä»¥å°†æ‰€æœ‰æœ¨å¤´æˆªå‡ºæ¥kä¸ªé•¿åº¦ä¸ºmçš„æœ¨å—ï¼Œåˆ™æ›´æ–°æœ€å¤§å€¼ï¼Œæœ€åè¾“å‡ºæœ€å¤§å€¼å³å¯ã€‚

æ–¹æ³•äºŒï¼šäºŒåˆ†ã€‚æ–¹æ³•ä¸€åœ¨[1,max]å¯»æ‰¾æœ€å¤§é•¿åº¦æ—¶æ˜¯é¡ºåºéå†ï¼Œç”±äºå…¶æœ‰åºï¼Œæˆ‘ä»¬å¯å€ŸåŠ©äºŒåˆ†æ¥å¿«é€Ÿæ£€å‡ºç»“æœã€‚å¦‚æœèƒ½æˆªå‡ºæ¥kä¸ªé•¿åº¦ä¸ºxçš„æœ¨å—ï¼Œè¯´æ˜ç­”æ¡ˆè‚¯å®š >= xï¼Œåˆ™æ¥ä¸‹æ¥åªéœ€åœ¨[x,max]ä¸­æ‰¾mæœ€å¤§æ»¡è¶³æ¡ä»¶çš„é•¿åº¦ã€‚åä¹‹åˆ™è¯´æ˜ç­”æ¡ˆ < xï¼Œåˆ™åœ¨[1,x-1]ä¸­å¯»æ‰¾ç»“æœã€‚è¿™æ ·æˆ‘ä»¬æ¯æ¬¡å¯ä»¥èˆå¼ƒ1/2çš„æƒ…å†µï¼Œå› æ­¤ä½¿ç”¨äºŒåˆ†çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(n * log Len)ã€‚

```java
#include <iostream>
using namespace std;

const int N = 100010;
int a[N];
int n, k;

int check(int mid)
{
    int res = 0;
    for (int i = 0; i < n; i ++ ) res += a[i] / mid;
    return res;
}

int main()
{
    cin >> n >> k;
    int l = 1, r = -1;
    
    for (int i = 0; i < n; i ++ )
    {
        cin >> a[i];
        r = max(r, a[i]);
    }
    
    while (l < r)
    {
        int mid = l + r + 1 >> 1;
        if (check(mid) >= k) l = mid;
        else r = mid - 1;
    }
    
    cout << l << endl;
    return 0;
}
```

## 1~nä¸­ç¼ºå¤±çš„æ•°å­—

ä¸€ä¸ªé•¿åº¦ä¸ºn-1çš„é€’å¢æ’åºæ•°ç»„ä¸­çš„æ‰€æœ‰æ•°å­—éƒ½æ˜¯å”¯ä¸€çš„ï¼Œå¹¶ä¸”æ¯ä¸ªæ•°å­—éƒ½åœ¨èŒƒå›´0ï½n-1ä¹‹å†…ã€‚åœ¨èŒƒå›´0ï½n-1å†…çš„nä¸ªæ•°å­—ä¸­æœ‰ä¸”åªæœ‰ä¸€ä¸ªæ•°å­—ä¸åœ¨è¯¥æ•°ç»„ä¸­ï¼Œè¯·æ‰¾å‡ºè¿™ä¸ªæ•°å­—ã€‚

 

ç¤ºä¾‹ 1:

è¾“å…¥: [0,1,3]
è¾“å‡º: 2
ç¤ºä¾‹ 2:

è¾“å…¥: [0,1,2,3,4,5,6,7,9]
è¾“å‡º: 8

------

è‡ªå·±ä¸€å¼€å§‹æ˜¯ç”¨å“ˆå¸Œè¡¨å†™çš„ï¼Œä½†æ˜¯å‘ç°é¢˜ç›®ä¸­æ•°ç»„æ˜¯æœ‰åºçš„ï¼ŒäºŒåˆ†æ³•æ›´å¿«ã€‚

![image-20220414110142460](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220414110142460.png)

```java
    public int missingNumber(int[] nums) {
int[]map = new int[nums.length+1];
int low = 0,high = nums.length-1;
while(low <= high)
{
    int mid = (low +high)/2;
    if(nums[mid] == mid)
    low = mid +1;//lowæœ€åæ˜¯ç¬¬ä¸€ä¸ªnums[mid]!=midçš„ç´¢å¼•ä½ç½®
    else high = mid-1;//æ³¨æ„è¿™ä¸ªåœ°æ–¹ï¼Œhigh=mid-1
}
return low;

    }
```

## å·§å¦™äºŒåˆ†ï¼š[875. çˆ±åƒé¦™è•‰çš„ç‚ç‚](https://leetcode.cn/problems/koko-eating-bananas/)

éš¾åº¦ä¸­ç­‰417ã€è¿™ç§å…·æœ‰å•è°ƒæ€§çš„æ•°ç»„å‡ºç° æ—¶éƒ½å¯ä»¥çŒœæ˜¯å¦å¯ä»¥äºŒåˆ†ã€‘

ç‚ç‚å–œæ¬¢åƒé¦™è•‰ã€‚è¿™é‡Œæœ‰ `n` å †é¦™è•‰ï¼Œç¬¬ `i` å †ä¸­æœ‰ `piles[i]` æ ¹é¦™è•‰ã€‚è­¦å«å·²ç»ç¦»å¼€äº†ï¼Œå°†åœ¨ `h` å°æ—¶åå›æ¥ã€‚

ç‚ç‚å¯ä»¥å†³å®šå¥¹åƒé¦™è•‰çš„é€Ÿåº¦ `k` ï¼ˆå•ä½ï¼šæ ¹/å°æ—¶ï¼‰ã€‚æ¯ä¸ªå°æ—¶ï¼Œå¥¹å°†ä¼šé€‰æ‹©ä¸€å †é¦™è•‰ï¼Œä»ä¸­åƒæ‰ `k` æ ¹ã€‚å¦‚æœè¿™å †é¦™è•‰å°‘äº `k` æ ¹ï¼Œå¥¹å°†åƒæ‰è¿™å †çš„æ‰€æœ‰é¦™è•‰ï¼Œç„¶åè¿™ä¸€å°æ—¶å†…ä¸ä¼šå†åƒæ›´å¤šçš„é¦™è•‰ã€‚ 

ç‚ç‚å–œæ¬¢æ…¢æ…¢åƒï¼Œä½†ä»ç„¶æƒ³åœ¨è­¦å«å›æ¥å‰åƒæ‰æ‰€æœ‰çš„é¦™è•‰ã€‚

è¿”å›å¥¹å¯ä»¥åœ¨ `h` å°æ—¶å†…åƒæ‰æ‰€æœ‰é¦™è•‰çš„æœ€å°é€Ÿåº¦ `k`ï¼ˆ`k` ä¸ºæ•´æ•°ï¼‰ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼špiles = [3,6,7,11], h = 8
è¾“å‡ºï¼š4
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼špiles = [30,11,23,4,20], h = 5
è¾“å‡ºï¼š30
```

-------

å¦‚æœç‚ç‚åœ¨ hh å°æ—¶å†…åƒæ‰æ‰€æœ‰é¦™è•‰çš„æœ€å°é€Ÿåº¦æ˜¯æ¯å°æ—¶ kk ä¸ªé¦™è•‰ï¼Œåˆ™å½“åƒé¦™è•‰çš„é€Ÿåº¦å¤§äºæ¯å°æ—¶ kk ä¸ªé¦™è•‰æ—¶ä¸€å®šå¯ä»¥åœ¨ hh å°æ—¶å†…åƒæ‰æ‰€æœ‰é¦™è•‰ï¼Œå½“åƒé¦™è•‰çš„é€Ÿåº¦å°äºæ¯å°æ—¶ kk ä¸ªé¦™è•‰æ—¶ä¸€å®šä¸èƒ½åœ¨ hh å°æ—¶å†…åƒæ‰æ‰€æœ‰é¦™è•‰ã€‚

ç”±äºåƒé¦™è•‰çš„é€Ÿåº¦å’Œæ˜¯å¦å¯ä»¥åœ¨è§„å®šæ—¶é—´å†…åƒæ‰æ‰€æœ‰é¦™è•‰ä¹‹é—´å­˜åœ¨å•è°ƒæ€§ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾çš„æ–¹æ³•å¾—åˆ°æœ€å°é€Ÿåº¦ kkã€‚

ç”±äºæ¯å°æ—¶éƒ½è¦åƒé¦™è•‰ï¼Œå³æ¯å°æ—¶è‡³å°‘åƒ 1 ä¸ªé¦™è•‰ï¼Œå› æ­¤äºŒåˆ†æŸ¥æ‰¾çš„ä¸‹ç•Œæ˜¯ 1ï¼›ç”±äºæ¯å°æ—¶æœ€å¤šåƒä¸€å †é¦™è•‰ï¼Œå³æ¯å°æ—¶åƒçš„é¦™è•‰æ•°ç›®ä¸ä¼šè¶…è¿‡æœ€å¤šçš„ä¸€å †ä¸­çš„é¦™è•‰æ•°ç›®ï¼Œå› æ­¤äºŒåˆ†æŸ¥æ‰¾çš„ä¸Šç•Œæ˜¯æœ€å¤šçš„ä¸€å †ä¸­çš„é¦™è•‰æ•°ç›®ã€‚

```java
class Solution {
    public int minEatingSpeed(int[] piles, int h) {
int sum = Arrays.stream(piles).sum();
int average = sum/piles.length ;
Arrays.sort(piles);
int max = Arrays.stream(piles).max().getAsInt();
int ans = max;
int high = max;
//æœ€å°æ˜¯æ¯å°æ—¶1 æ ¹ï¼Œæœ€å¤§æ˜¯æœ€å¤§çš„é‚£ä¸€å †æ•°é‡
int low = 1;
while(low < high){
    int mid = low +(high-low)/2;
    if(getTime(piles,mid)<=h){
        high = mid;
        ans = mid;
    }
    else low = mid+1;
}
return ans;
    }
    int getTime(int[]piles,int speed){
        //æ³¨æ„è¿™é‡Œæœ‰ä¸€ä¸ªå¾ˆå·§å¦™çš„è®¡ç®—æ—¶é—´æ³•ï¼Œæ˜¯æ•°ç»„ä¸­çš„å…ƒç´ +åƒçš„é€Ÿåº¦-1å†é™¤ä»¥é€Ÿåº¦çš„åŠæ³•ï¼Œå¯ä»¥è§£å†³ 8/4=2 6/4=2 çš„é—®é¢˜ï¼ˆå¦‚æœä¸€å †æœ‰6ä¸ª æ¯å°æ—¶åƒ4ä¸ª è¦åƒä¸¤å°æ—¶ï¼‰
        int tot = 0;
        for(int pile:piles){
            tot +=(pile+speed-1)/speed;
        }
        return tot;
    }
}
```

## [658. æ‰¾åˆ° K ä¸ªæœ€æ¥è¿‘çš„å…ƒç´ ](https://leetcode.cn/problems/find-k-closest-elements/)

éš¾åº¦ä¸­ç­‰426

ç»™å®šä¸€ä¸ª **æ’åºå¥½** çš„æ•°ç»„ `arr` ï¼Œä¸¤ä¸ªæ•´æ•° `k` å’Œ `x` ï¼Œä»æ•°ç»„ä¸­æ‰¾åˆ°æœ€é è¿‘ `x`ï¼ˆä¸¤æ•°ä¹‹å·®æœ€å°ï¼‰çš„ `k` ä¸ªæ•°ã€‚è¿”å›çš„ç»“æœå¿…é¡»è¦æ˜¯æŒ‰å‡åºæ’å¥½çš„ã€‚

æ•´æ•° `a` æ¯”æ•´æ•° `b` æ›´æ¥è¿‘ `x` éœ€è¦æ»¡è¶³ï¼š

- `|a - x| < |b - x|` æˆ–è€…
- `|a - x| == |b - x|` ä¸” `a < b`

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šarr = [1,2,3,4,5], k = 4, x = 3
è¾“å‡ºï¼š[1,2,3,4]
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šarr = [1,2,3,4,5], k = 4, x = -1
è¾“å‡ºï¼š[1,2,3,4]
```

-----------------



å‡è®¾æ•°ç»„é•¿åº¦ä¸º nnï¼Œæ³¨æ„åˆ°æ•°ç»„ \textit{arr}arr å·²ç»æŒ‰ç…§å‡åºæ’åºï¼Œæˆ‘ä»¬å¯ä»¥å°†æ•°ç»„ \textit{arr}arr åˆ†æˆä¸¤éƒ¨åˆ†ï¼Œå‰ä¸€éƒ¨åˆ†æ‰€æœ‰å…ƒç´  [0, \textit{left}][0,left] éƒ½å°äº xxï¼Œåä¸€éƒ¨åˆ†æ‰€æœ‰å…ƒç´  [\textit{right}, n - 1][right,nâˆ’1] éƒ½å¤§äºç­‰äº xxï¼Œ\textit{left}left ä¸ \textit{right}right éƒ½å¯ä»¥é€šè¿‡äºŒåˆ†æŸ¥æ‰¾è·å¾—ã€‚

\textit{left}left å’Œ \textit{right}right æŒ‡å‘çš„å…ƒç´ éƒ½æ˜¯å„è‡ªéƒ¨åˆ†æœ€æ¥è¿‘ xx çš„å…ƒç´ ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥é€šè¿‡æ¯”è¾ƒ \textit{left}left å’Œ \textit{right}right æŒ‡å‘çš„å…ƒç´ è·å–æ•´ä½“æœ€æ¥è¿‘ xx çš„å…ƒç´ ã€‚å¦‚æœ x - \textit{arr}[\textit{left}] \le \textit{arr}[\textit{right}] - xxâˆ’arr[left]â‰¤arr[right]âˆ’xï¼Œé‚£ä¹ˆå°† \textit{left}left å‡ä¸€ï¼Œå¦åˆ™å°† \textit{right}right åŠ ä¸€ã€‚ç›¸åº”åœ°ï¼Œå¦‚æœ \textit{left}left æˆ– \textit{right}right å·²ç»è¶Šç•Œï¼Œé‚£ä¹ˆä¸è€ƒè™‘å¯¹åº”éƒ¨åˆ†çš„å…ƒç´ ã€‚

```java
class Solution {
    public List<Integer> findClosestElements(int[] arr, int k, int x) {
        int right = binarySearch(arr, x);
        int left = right - 1;
        while (k > 0) {
            if (left < 0) {
                right++;
            } else if (right >= arr.length) {
                left--;
            } else if (x - arr[left] <= arr[right] - x) {
                left--;
            } else {
                right++;
            }
            k--;
        }
        List<Integer> ans = new ArrayList<Integer>();
        for (int i = left + 1; i < right; i++) {
            ans.add(arr[i]);
        }
        return ans;
    }

   public int binarySearch(int[] arr, int x) {
        int low = 0, high = arr.length - 1;
        while (low <= high) {
            int mid = low + (high-low)/2;
            if(arr[mid]==x) return mid;
            if (arr[mid] > x) {
                high = mid-1;
            } else {
                low = mid + 1;
            }
        }
        return low;
    }
}


```

## [1268. æœç´¢æ¨èç³»ç»Ÿ](https://leetcode.cn/problems/search-suggestions-system/)

éš¾åº¦ä¸­ç­‰140

ç»™ä½ ä¸€ä¸ªäº§å“æ•°ç»„ `products` å’Œä¸€ä¸ªå­—ç¬¦ä¸² `searchWord` ï¼Œ`products` æ•°ç»„ä¸­æ¯ä¸ªäº§å“éƒ½æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚

è¯·ä½ è®¾è®¡ä¸€ä¸ªæ¨èç³»ç»Ÿï¼Œåœ¨ä¾æ¬¡è¾“å…¥å•è¯ `searchWord` çš„æ¯ä¸€ä¸ªå­—æ¯åï¼Œæ¨è `products` æ•°ç»„ä¸­å‰ç¼€ä¸ `searchWord` ç›¸åŒçš„æœ€å¤šä¸‰ä¸ªäº§å“ã€‚å¦‚æœå‰ç¼€ç›¸åŒçš„å¯æ¨èäº§å“è¶…è¿‡ä¸‰ä¸ªï¼Œè¯·æŒ‰å­—å…¸åºè¿”å›æœ€å°çš„ä¸‰ä¸ªã€‚

è¯·ä½ ä»¥äºŒç»´åˆ—è¡¨çš„å½¢å¼ï¼Œè¿”å›åœ¨è¾“å…¥ `searchWord` æ¯ä¸ªå­—æ¯åç›¸åº”çš„æ¨èäº§å“çš„åˆ—è¡¨ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šproducts = ["mobile","mouse","moneypot","monitor","mousepad"], searchWord = "mouse"
è¾“å‡ºï¼š[
["mobile","moneypot","monitor"],
["mobile","moneypot","monitor"],
["mouse","mousepad"],
["mouse","mousepad"],
["mouse","mousepad"]
]
è§£é‡Šï¼šæŒ‰å­—å…¸åºæ’åºåçš„äº§å“åˆ—è¡¨æ˜¯ ["mobile","moneypot","monitor","mouse","mousepad"]
è¾“å…¥ m å’Œ moï¼Œç”±äºæ‰€æœ‰äº§å“çš„å‰ç¼€éƒ½ç›¸åŒï¼Œæ‰€ä»¥ç³»ç»Ÿè¿”å›å­—å…¸åºæœ€å°çš„ä¸‰ä¸ªäº§å“ ["mobile","moneypot","monitor"]
è¾“å…¥ mouï¼Œ mous å’Œ mouse åç³»ç»Ÿéƒ½è¿”å› ["mouse","mousepad"]
```

------------------------

æœªä¼˜åŒ–æ—¶çš„å†™æ³•ï¼šå•çº¯åœ°åˆ¤æ–­æ¯ä¸€ä¸ªå­—ç¬¦ä¸²indexof(å‰ç¼€)æ˜¯å¦ç­‰äº0 ã€å…¶å®å¯ä»¥ç”¨startswithåˆ¤æ–­ã€‘ï¼Œæ—¶é—´å¤æ‚åº¦å¾ˆé«˜ï¼Œå› ä¸ºå¯èƒ½è¦æŠŠproductsä¸­çš„å…¨éƒ¨éå†ä¸€é

æ”¹è¿›ï¼šå¯¹äºproductä¸­çš„å­—ç¬¦ä¸²ï¼Œå…ˆäºŒåˆ†æŸ¥æ‰¾æ‰¾åˆ°ç¬¬ä¸€ä¸ªä»¥å‰ç¼€å¼€å¤´çš„å­—ç¬¦ä¸²ï¼Œç„¶åå¾€åéå†å³å¯

```java
 public List<List<String>> suggestedProducts(String[] products, String searchWord) {
Arrays.sort(products);
List<List<String>>ans=new ArrayList<>();
int index=0;
//äºŒåˆ†æŸ¥æ‰¾é¦–ä¸ªä»¥preå¼€å¤´çš„å•è¯
for(int i = 0;i<searchWord.length();i++){
    String pre=searchWord.substring(0,i+1);
    int l=0,r=products.length-1;
    while(l<=r){
        int mid=(l+r)/2;
        //æ³¨æ„è¿™é‡Œæ¯”è¾ƒçš„å­—ç¬¦ä¸²æ˜¯preï¼Œä¹Ÿå°±æ˜¯ç›®å‰æˆªå‡ºæ¥çš„å‰ç¼€
        if(products[mid].compareTo(pre)<0){
            //midè¿™ä¸ªå­—ç¬¦ä¸²çš„å­—å…¸åºå°äºpreçš„
            l=mid+1;
        }else{
            index=mid;
            r=mid-1;
        }
    }
List<String>str=new ArrayList<>();
for(int j=index;j<Math.min(index+3,products.length);j++){
    if(!products[j].startsWith(pre)) break;
   
    str.add(products[j]);
}
ans.add(new ArrayList<>(str));
}
return ans;
    }
```

## æ’åºæ•°ç»„ä¸­å‡ºç°1æ¬¡çš„æ•°

è¦æ±‚ç”¨lognå¤æ‚åº¦ï¼Œç©ºé—´å¤æ‚åº¦o(1)å®ç°

-------

å‡è®¾å‡ºç°ä¸€æ¬¡çš„æ•°ä¸‹æ ‡æ˜¯x,é‚£ä¹ˆxå·¦è¾¹çš„æ•°å­—å¦‚æœä¸‹æ ‡ä¸ºå¶æ•°ï¼Œåˆ™ä¸€å®šæœ‰nums[å¶æ•°]=nums[å¶æ•°+1]ï¼Œå¦‚æœxå·¦è¾¹çš„æ•°å­—ä¸‹æ ‡ä¸ºå¥‡æ•°ï¼Œåˆ™ä¸€å®šæœ‰nums[å¥‡æ•°]=nums[ å¥‡æ•°-1]æ‰€ä»¥å¦‚æœä¸€ä¸ªæ•°ä¸‹æ ‡mä¸ºå¶æ•°ä¸”nums[m]=nums[m+1]é‚£ä¹ˆå®ƒä¸€å®šåœ¨xçš„å·¦è¾¹ï¼Œä¸€ä¸ªæ•°ä¸‹æ ‡nä¸ºå¥‡æ•°ä¸”nums[n]=nums[n-1]é‚£ä¹ˆä¸€å®šåœ¨xçš„å·¦è¾¹



![image-20230220131916402](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230220131916402.png)

```java
  public int singleNonDuplicate(int[] nums) {
int low=0,high=nums.length-1;
while(low<high)
{
    int mid=low+(high-low)/2;
if (nums[mid]==nums[mid^1]) {
    //æˆ–è€…å†™æˆ if((mid%2==0&&nums[mid]==nums[mid+1])||(mid%2==1&&nums[mid]==nums[mid-1]))
                low = mid + 1;
            } else {
                high = mid;
            }

}
return nums[low];
    }
```



#  éé€’å½’å½’å¹¶æ’åº

```java
/**
     * å½’å¹¶æ’åºï¼ˆéé€’å½’ï¼‰
     * ï¼ˆåˆå¹¶å†…éƒ¨å·²æ’å¥½åºçš„ä¸¤ä¸¤ç›¸é‚»æ•°ç»„ï¼‰ä»åˆ‡åˆ†çš„æ•°ç»„é•¿åº¦ä¸º1å¼€å§‹ï¼Œä¸€æ¬¡å½’å¹¶å˜å›åŸæ¥é•¿åº¦çš„2å€
     * @param nums å¾…æ’åºæ•°ç»„
     * @return æ’å¥½åºçš„æ•°ç»„
     */
	static int[] mergSort(int a[]) {
		int len=1;
		while(len<=a.length) {//whileç»ˆæ­¢æ¡ä»¶
			for(int i=0;i+len<a.length;i+=len*2) {
			//forå¾ªç¯ç»ˆæ­¢æ¡ä»¶ä¸ºå½“å‰©ä¸‹çš„å…ƒç´ æ•°é‡ä¸è¶…è¿‡ä¸€ç»„æ—¶ï¼ˆå³æ²¡æœ‰ç¬¬äºŒç»„ä¸ä¹‹åˆå¹¶äº†ï¼‰
				int lb=i,ub=i+len*2-1,mid=i+len-1;
				if(ub>a.length-1) {
					ub=a.length-1;//æ•´ä¸ªå¾…æ’åºæ•°ç»„ä¸ºå¥‡æ•°çš„æƒ…å†µ
				}
				merge(a,lb,mid,ub);
				//å…¶ä¸­[low,mid],[mid+1,high]ä¸ºä¸¤ç»„å·²æ’å¥½åºçš„æ•°ç»„ï¼Œ
				//å„è‡ªçš„é•¿åº¦ä¸ºlen;åè€…é•¿åº¦å¯èƒ½ä¸æ»¡lenï¼Œè¿™åªå¯èƒ½å‡ºç°åœ¨åŸæ•°ç»„å…ƒç´ ä¸ªæ•°ä¸ºå¥‡æ—¶ã€‚
			}
			len*=2;
		}
		return a;
	}
	    /**
     * å°†åˆå¹¶èµ·æ¥çš„ä¸¤ä¸ªå†…éƒ¨å·²æ’åºæ•°ç»„å½’å¹¶æ’åºï¼ŒåŒé€’å½’ç‰ˆï¼Œ
     * å…ˆå°†å·¦åŠéƒ¨åˆ†å­˜åœ¨Lï¼Œå³åŠéƒ¨åˆ†å­˜åœ¨Rï¼Œç„¶åç›´æ¥å¯¹åŸæ•°ç»„è¿›è¡Œä¿®æ”¹ã€‚
     * @param nums å¸¦æ’åºæ•°ç»„
     * @param low å·¦è¾¹æ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ ç´¢å¼•
     * @param mid å·¦è¾¹æ•°ç»„æœ€åä¸€ä¸ªå…ƒç´ ç´¢å¼•ï¼Œmid + 1ä¸ºå³è¾¹æ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ ç´¢å¼•
     * @param high å³è¾¹æ•°ç»„æœ€åä¸€ä¸ªå…ƒç´ ç´¢å¼•
     */
	static void merge(int a[],int lb,int mid,int ub) {
		int n1=mid-lb+1;
		int n2=ub-mid;
		int L[]=new int[n1+1];
		int R[]=new int[n2+1];
		for(int i=0;i<n1;i++) {
			L[i]=a[lb+i];
		}
		for(int i=0;i<n2;i++) {
			R[i]=a[mid+1+i];
		}
		L[n1]=R[n2]=Integer.MAX_VALUE;
		int i=0,j=0;
		for(int k=lb;k<=ub;k++) {
			if(L[i]<=R[j]) {
				a[k]=L[i];
				i++;
			}else {
				a[k]=R[j];
				j++;
			}
		}
	}

```

# æ‹“æ‰‘æ’åº

![image-20230402180911308](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230402180911308.png) 

    æ ¹æ®å›¾ä¸­çš„è¾¹çš„æ–¹å‘ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œè‹¥è¦æ»¡è¶³å¾—åˆ°å…¶æ‹“æ‰‘æ’åºï¼Œåˆ™ç»“ç‚¹è¢«éå†çš„é¡ºåºå¿…é¡»æ»¡è¶³å¦‚ä¸‹è¦æ±‚ï¼š

ç»“ç‚¹1å¿…é¡»åœ¨ç»“ç‚¹2ã€3ä¹‹å‰
ç»“ç‚¹2å¿…é¡»åœ¨ç»“ç‚¹3ã€4ä¹‹å‰
ç»“ç‚¹3å¿…é¡»åœ¨ç»“ç‚¹4ã€5ä¹‹å‰
ç»“ç‚¹4å¿…é¡»åœ¨ç»“ç‚¹5ä¹‹å‰
        åˆ™ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„æ‹“æ‰‘æ’åºä¸º[1, 2, 3, 4, 5]ã€‚ 

æ‹“æ‰‘æ’åºå­˜åœ¨çš„å‰æ
        å½“ä¸”ä»…å½“ä¸€ä¸ªæœ‰å‘å›¾ä¸ºæœ‰å‘æ— ç¯å›¾ï¼ˆdirected acyclic graphï¼Œæˆ–ç§°DAGï¼‰æ—¶ï¼Œæ‰èƒ½å¾—åˆ°å¯¹åº”äºè¯¥å›¾çš„æ‹“æ‰‘æ’åºã€‚æ¯ä¸€ä¸ªæœ‰å‘æ— ç¯å›¾éƒ½è‡³å°‘å­˜åœ¨ä¸€ç§æ‹“æ‰‘æ’åºã€‚è¯¥è®ºæ–­å¯ä»¥åˆ©ç”¨åè¯æ³•è¯æ˜å¦‚ä¸‹ï¼š

        å‡è®¾æˆ‘ä»¬æœ‰ä¸€ç”±åˆ°è¿™nä¸ªç»“ç‚¹æ„æˆçš„æœ‰å‘å›¾ï¼Œä¸”å›¾ä¸­è¿™äº›ç»“ç‚¹æ„æˆä¸€ä¸ªç¯ã€‚è¿™å³æ˜¯è¯´å¯¹äºæ‰€æœ‰1â‰¤i<n-1ï¼Œå›¾ä¸­å­˜åœ¨ä¸€æ¡æœ‰å‘è¾¹ä»æŒ‡å‘ã€‚åŒæ—¶è¿˜å­˜åœ¨ä¸€æ¡ä»æŒ‡å‘çš„è¾¹ã€‚å‡è®¾è¯¥å›¾å­˜åœ¨ä¸€ä¸ªæ‹“æ‰‘æ’åºã€‚
    
        é‚£ä¹ˆåŸºäºè¿™æ ·ä¸€ä¸ªæœ‰å‘å›¾ï¼Œæ˜¾ç„¶æˆ‘ä»¬å¯ä»¥å¾—çŸ¥å¯¹äºæ‰€æœ‰1â‰¤i<n-1ï¼Œå¿…é¡»åœ¨ä¹‹å‰è¢«éå†ï¼Œä¹Ÿå°±æ˜¯å¿…é¡»åœ¨ä¹‹å‰è¢«éå†ã€‚åŒæ—¶ç”±äºè¿˜å­˜åœ¨ä¸€æ¡ä»æŒ‡å‘çš„è¾¹ï¼Œå¿…é¡»åœ¨ä¹‹å‰è¢«éå†ã€‚è¿™é‡Œå‡ºç°äº†ä¸æˆ‘ä»¬çš„å‡è®¾æ‰€å†²çªçš„ç»“æœã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œè¯¥å›¾å­˜åœ¨æ‹“æ‰‘æ’åºçš„å‡è®¾ä¸æˆç«‹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äºéæœ‰å‘æ— ç¯å›¾è€Œè¨€ï¼Œå…¶æ‹“æ‰‘æ’åºä¸å­˜åœ¨ã€‚


## [å‰‘æŒ‡ Offer II 115. é‡å»ºåºåˆ—](https://leetcode.cn/problems/ur2n8P/)

éš¾åº¦ä¸­ç­‰129

ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º `n` çš„æ•´æ•°æ•°ç»„ `nums` ï¼Œå…¶ä¸­ `nums` æ˜¯èŒƒå›´ä¸º `[1ï¼Œn]` çš„æ•´æ•°çš„æ’åˆ—ã€‚è¿˜æä¾›äº†ä¸€ä¸ª 2D æ•´æ•°æ•°ç»„ `sequences` ï¼Œå…¶ä¸­ `sequences[i]` æ˜¯ `nums` çš„å­åºåˆ—ã€‚
æ£€æŸ¥ `nums` æ˜¯å¦æ˜¯å”¯ä¸€çš„æœ€çŸ­ **è¶…åºåˆ—** ã€‚æœ€çŸ­ **è¶…åºåˆ—** æ˜¯ **é•¿åº¦æœ€çŸ­** çš„åºåˆ—ï¼Œå¹¶ä¸”æ‰€æœ‰åºåˆ— `sequences[i]` éƒ½æ˜¯å®ƒçš„å­åºåˆ—ã€‚å¯¹äºç»™å®šçš„æ•°ç»„ `sequences` ï¼Œå¯èƒ½å­˜åœ¨å¤šä¸ªæœ‰æ•ˆçš„ **è¶…åºåˆ—** ã€‚

- ä¾‹å¦‚ï¼Œå¯¹äº `sequences = [[1,2],[1,3]]` ï¼Œæœ‰ä¸¤ä¸ªæœ€çŸ­çš„ **è¶…åºåˆ—** ï¼Œ`[1,2,3]` å’Œ `[1,3,2]` ã€‚
- è€Œå¯¹äº `sequences = [[1,2],[1,3],[1,2,3]]` ï¼Œå”¯ä¸€å¯èƒ½çš„æœ€çŸ­ **è¶…åºåˆ—** æ˜¯ `[1,2,3]` ã€‚`[1,2,3,4]` æ˜¯å¯èƒ½çš„è¶…åºåˆ—ï¼Œä½†ä¸æ˜¯æœ€çŸ­çš„ã€‚

*å¦‚æœ `nums` æ˜¯åºåˆ—çš„å”¯ä¸€æœ€çŸ­ **è¶…åºåˆ—** ï¼Œåˆ™è¿”å› `true` ï¼Œå¦åˆ™è¿”å› `false` ã€‚*
**å­åºåˆ—** æ˜¯ä¸€ä¸ªå¯ä»¥é€šè¿‡ä»å¦ä¸€ä¸ªåºåˆ—ä¸­åˆ é™¤ä¸€äº›å…ƒç´ æˆ–ä¸åˆ é™¤ä»»ä½•å…ƒç´ ï¼Œè€Œä¸æ”¹å˜å…¶ä½™å…ƒç´ çš„é¡ºåºçš„åºåˆ—ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šnums = [1,2,3], sequences = [[1,2],[1,3]]
è¾“å‡ºï¼šfalse
è§£é‡Šï¼šæœ‰ä¸¤ç§å¯èƒ½çš„è¶…åºåˆ—ï¼š[1,2,3]å’Œ[1,3,2]ã€‚
åºåˆ— [1,2] æ˜¯[1,2,3]å’Œ[1,3,2]çš„å­åºåˆ—ã€‚
åºåˆ— [1,3] æ˜¯[1,2,3]å’Œ[1,3,2]çš„å­åºåˆ—ã€‚
å› ä¸º nums ä¸æ˜¯å”¯ä¸€æœ€çŸ­çš„è¶…åºåˆ—ï¼Œæ‰€ä»¥è¿”å›falseã€‚
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šnums = [1,2,3], sequences = [[1,2]]
è¾“å‡ºï¼šfalse
è§£é‡Šï¼šæœ€çŸ­å¯èƒ½çš„è¶…åºåˆ—ä¸º [1,2]ã€‚
åºåˆ— [1,2] æ˜¯å®ƒçš„å­åºåˆ—ï¼š[1,2]ã€‚
å› ä¸º nums ä¸æ˜¯æœ€çŸ­çš„è¶…åºåˆ—ï¼Œæ‰€ä»¥è¿”å›falseã€‚
```

----



![image-20230402182338499](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230402182338499.png)

```java
public boolean sequenceReconstruction(int[] nums, int[][] sequences) {
        //å¯ä»¥å°† sequences ä¸­çš„æ‰€æœ‰åºåˆ—çœ‹æˆæœ‰å‘å›¾ï¼Œæ•°å­— 1 åˆ° n åˆ†åˆ«è¡¨ç¤ºå›¾ä¸­çš„ n ä¸ªç»“ç‚¹ï¼Œæ¯ä¸ªåºåˆ—ä¸­çš„ç›¸é‚»æ•°å­—è¡¨ç¤ºçš„ç»“ç‚¹ä¹‹é—´å­˜åœ¨ä¸€æ¡æœ‰å‘è¾¹ã€‚æ ¹æ®ç»™å®šçš„åºåˆ—æ„é€ è¶…åºåˆ—ç­‰ä»·äºæœ‰å‘å›¾çš„æ‹“æ‰‘æ’åºã€‚


  //è½¬åŒ–æˆè¾¹
        Map<Integer, Set<Integer>> edge = new HashMap<>();
        //è®°å½•å…¥åº¦
        int[] inDegree = new int[nums.length + 1];
        for (int[] sequence : sequences) {
            //æ³¨æ„è¿™é‡Œæ˜¯ä¸€ä¸ªå­åºåˆ—ï¼Œæœ‰å¤šä¸ªå…ƒç´ ï¼Œä¸æ˜¯ä¸¤ä¸ª
            for (int i = 1; i < sequence.length; i++) {
                int from = sequence[i - 1];
                int to = sequence[i];
                //åˆ¤æ–­æ˜¯å¦æœ‰æ­¤æ¡è¾¹
                if (edge.containsKey(from) && edge.get(from).contains(to)) {
                    continue;
                }
                if(!edge.containsKey(from)) edge.put(from,new HashSet<>());
             
                edge.get(from).add(to);
                inDegree[to]++;
            }
        }
        //è®°å½•å…¥åº¦ä¸º0çš„ç‚¹
        Queue<Integer> queue = new ArrayDeque<>();
        for (int i = 1; i <= nums.length; i++) {
            if (inDegree[i] == 0) {
                queue.offer(i);
            }
        }
        while (!queue.isEmpty()) {
            //å­˜åœ¨å¤šä¸ªå…¥åº¦ä¸º0çš„ç‚¹ ä¼šæœ‰å¤šä¸ªè¶…åºåˆ— ç›´æ¥è¿”å›false
            if (queue.size() > 1) {
                return false;
            }
            int from = queue.poll();
            Set<Integer> set = edge.get(from);
            if (set == null) {
                continue;
            }
            //å’Œæ­¤ç‚¹è¿é€šçš„ç‚¹å…¥åº¦å‡ä¸€
            for (int point : set) {
                inDegree[point]--;
                //æ³¨æ„è¿™é‡Œï¼Œåªæœ‰å…¥åº¦ä¸º0çš„æ—¶å€™æ‰åŠ å…¥åˆ°é˜Ÿåˆ—ä¸­å»
                if (inDegree[point] == 0) {
                    queue.add(point);
                }
            }
        }
        return true;


    }
```



# æ»‘åŠ¨çª—å£

1. å³æŒ‡é’ˆå¹³ç¨³ç§»åŠ¨ï¼Œå·¦æŒ‡é’ˆè§†æƒ…å†µç§»åŠ¨ã€‚å³å…ˆè¡Œï¼Œå·¦è§†å®šã€‚
2. å¤šæ•°æƒ…å†µä¸‹å¯ä»¥å…ˆå¯¹æ•°ç»„è¿›è¡Œæ’åºå¤„ç†ï¼›
3. å¾ªç¯æ¡ä»¶ä»¥åŠè¾¹ç•Œæ¡ä»¶ä¸€å®šè¦å¤„ç†å¥½ã€‚ï¼ˆåœ¨è¿™ä¸ªåœ°æ–¹å¤±è´¥å¾ˆå¤šæ¬¡äº†ï¼‰

å¯¹äºè´Ÿæ•°ï¼Œæ»‘åŠ¨çª—å£å¤„ç†ä¸å¥½ï¼Œå·¦å³æ‘‡æ‘†äº†ï¼Œä¸çŸ¥é“å¾€é‚£è¾¹èµ°äº†ã€‚

è¯¥ç®—æ³•çš„â¼¤è‡´é€»è¾‘å¦‚ä¸‹ï¼š

```c
int left = 0, right = 0;
while (right < s.size()) {`
// å¢â¼¤çª—â¼
window.add(s[right]);
right++;
while (window needs shrink) {
// ç¼©â¼©çª—â¼
window.remove(s[left]);
left++;
}
}
```

ç®—æ³•æ¡†æ¶ï¼š

```c
void slidingWindow(string s, string t) {
unordered_map<char, int> need, window;
for (char c : t) need[c]++;

int left = 0, right = 0;
int valid = 0;
while (right < s.size()) {
// c æ˜¯å°†ç§»â¼Šçª—â¼çš„å­—ç¬¦
char c = s[right];
// å³ç§»çª—â¼
right++;
// è¿›â¾çª—â¼å†…æ•°æ®çš„â¼€ç³»åˆ—æ›´æ–°
...
/*** debug è¾“å‡ºçš„ä½ç½® ***/
printf("window: [%d, %d)\n", left, right);
/********************/
// åˆ¤æ–­å·¦ä¾§çª—â¼æ˜¯å¦è¦æ”¶ç¼©
while (window needs shrink) {
// d æ˜¯å°†ç§»å‡ºçª—â¼çš„å­—ç¬¦
char d = s[left];
// å·¦ç§»çª—â¼
left++;
// è¿›â¾çª—â¼å†…æ•°æ®çš„â¼€ç³»åˆ—æ›´æ–°
...
}
}
}
```

## åœ¨ä¸²sé‡Œæ‰¾å‡ºåŒ…å«tæ‰€æœ‰å­—æ¯çš„æœ€å°å­ä¸²

![image-20210827204229140](C:\Users\14172\AppData\Roaming\Typora\typora-user-images\image-20210827204229140.png)

æ»‘åŠ¨çª—â¼ç®—æ³•çš„æ€è·¯æ˜¯è¿™æ ·ï¼š
1ã€æˆ‘ä»¬åœ¨å­—ç¬¦ä¸² S ä¸­ä½¿â½¤åŒæŒ‡é’ˆä¸­çš„å·¦å³æŒ‡é’ˆæŠ€å·§ï¼Œåˆå§‹åŒ– left =
right = 0 ï¼ŒæŠŠç´¢å¼•å·¦é—­å³å¼€åŒºé—´ [left, right) ç§°ä¸ºâ¼€ä¸ªã€Œçª—â¼ã€ã€‚
2ã€æˆ‘ä»¬å…ˆä¸æ–­åœ°å¢åŠ  right æŒ‡é’ˆæ‰©â¼¤çª—â¼ [left, right) ï¼Œç›´åˆ°çª—â¼ä¸­
çš„å­—ç¬¦ä¸²ç¬¦åˆè¦æ±‚ï¼ˆåŒ…å«äº† T ä¸­çš„æ‰€æœ‰å­—ç¬¦ï¼‰ã€‚
3ã€æ­¤æ—¶ï¼Œæˆ‘ä»¬åœâ½Œå¢åŠ  right ï¼Œè½¬â½½ä¸æ–­å¢åŠ  left æŒ‡é’ˆç¼©â¼©çª—â¼
[left, right) ï¼Œç›´åˆ°çª—â¼ä¸­çš„å­—ç¬¦ä¸²ä¸å†ç¬¦åˆè¦æ±‚ï¼ˆä¸åŒ…å« T ä¸­çš„æ‰€æœ‰
å­—ç¬¦äº†ï¼‰ã€‚åŒæ—¶ï¼Œæ¯æ¬¡å¢åŠ  left ï¼Œæˆ‘ä»¬éƒ½è¦æ›´æ–°â¼€è½®ç»“æœã€‚
4ã€é‡å¤ç¬¬ 2 å’Œç¬¬ 3 æ­¥ï¼Œç›´åˆ° right åˆ°è¾¾å­—ç¬¦ä¸² S çš„å°½å¤´ã€‚
è¿™ä¸ªæ€è·¯å…¶å®ä¹Ÿä¸éš¾ï¼Œç¬¬ 2 æ­¥ç›¸å½“äºåœ¨å¯»æ‰¾â¼€ä¸ªã€Œå¯â¾è§£ã€ï¼Œç„¶åç¬¬ 3 æ­¥åœ¨ä¼˜åŒ–è¿™ä¸ªã€Œå¯â¾è§£ã€ï¼Œæœ€ç»ˆæ‰¾åˆ°æœ€ä¼˜è§£ï¼Œä¹Ÿå°±æ˜¯æœ€çŸ­çš„è¦†ç›–â¼¦ä¸²ã€‚å·¦å³æŒ‡é’ˆè½®æµå‰è¿›ï¼Œçª—â¼â¼¤â¼©å¢å¢å‡å‡ï¼Œçª—â¼ä¸æ–­å‘å³æ»‘åŠ¨ï¼Œè¿™å°±æ˜¯ã€Œæ»‘åŠ¨çª—â¼ã€è¿™ä¸ªåå­—çš„æ¥å†ã€‚
 **needs å’Œ window ç›¸å½“äºè®¡æ•°å™¨ï¼Œåˆ†åˆ«è®°å½• T ä¸­å­—ç¬¦å‡ºç°æ¬¡æ•°å’Œã€Œçª—â¼ã€ä¸­çš„ç›¸åº”å­—ç¬¦çš„å‡ºç°æ¬¡æ•°ã€‚**



**valid å˜é‡è¡¨â½°çª—â¼ä¸­æ»¡â¾œ need æ¡ä»¶çš„å­—ç¬¦ä¸ªæ•°**ï¼Œå¦‚æœ valid å’Œ
need.size çš„â¼¤â¼©ç›¸åŒï¼Œåˆ™è¯´æ˜çª—â¼å·²æ»¡â¾œæ¡ä»¶ï¼Œå·²ç»å®Œå…¨è¦†ç›–äº†ä¸² T ã€‚
ç°åœ¨å¼€å§‹å¥—æ¨¡æ¿ï¼Œåªéœ€è¦æ€è€ƒä»¥ä¸‹å››ä¸ªé—®é¢˜ï¼š
1ã€å½“ç§»åŠ¨ right æ‰©â¼¤çª—â¼ï¼Œå³åŠ â¼Šå­—ç¬¦æ—¶ï¼Œåº”è¯¥æ›´æ–°å“ªäº›æ•°æ®ï¼Ÿ
2ã€ä»€ä¹ˆæ¡ä»¶ä¸‹ï¼Œçª—â¼åº”è¯¥æš‚åœæ‰©â¼¤ï¼Œå¼€å§‹ç§»åŠ¨ left ç¼©â¼©çª—â¼ï¼Ÿ
3ã€å½“ç§»åŠ¨ left ç¼©â¼©çª—â¼ï¼Œå³ç§»å‡ºå­—ç¬¦æ—¶ï¼Œåº”è¯¥æ›´æ–°å“ªäº›æ•°æ®ï¼Ÿ
4ã€æˆ‘ä»¬è¦çš„ç»“æœåº”è¯¥åœ¨æ‰©â¼¤çª—â¼æ—¶è¿˜æ˜¯ç¼©â¼©çª—â¼æ—¶è¿›â¾æ›´æ–°ï¼Ÿ
å¦‚æœâ¼€ä¸ªå­—ç¬¦è¿›â¼Šçª—â¼ï¼Œåº”è¯¥å¢åŠ  window è®¡æ•°å™¨ï¼›å¦‚æœâ¼€ä¸ªå­—ç¬¦å°†ç§»å‡ºçª—â¼çš„æ—¶å€™ï¼Œåº”è¯¥å‡å°‘ window è®¡æ•°å™¨ï¼›å½“ valid æ»¡â¾œ need æ—¶åº”è¯¥æ”¶ç¼©çª—â¼ï¼›åº”è¯¥åœ¨æ”¶ç¼©çª—â¼çš„æ—¶å€™æ›´æ–°æœ€ç»ˆç»“æœã€‚
ä¸‹â¾¯æ˜¯å®Œæ•´ä»£ç ï¼š

```java
string minWindow(string s, string t) {
unordered_map<char, int> need, window;
for (char c : t) need[c]++;
int left = 0, right = 0;
int valid = 0;
// è®°å½•æœ€â¼©è¦†ç›–â¼¦ä¸²çš„èµ·å§‹ç´¢å¼•åŠâ»“åº¦
int start = 0, len = INT_MAX;
while (right < s.size()) {
    // c æ˜¯å°†ç§»â¼Šçª—â¼çš„å­—ç¬¦
char c = s[right];
// å³ç§»çª—â¼
right++;
// è¿›â¾çª—â¼å†…æ•°æ®çš„â¼€ç³»åˆ—æ›´æ–°
if (need.count(c)) {
window[c]++;
if (window[c] == need[c])
valid++;
}
// åˆ¤æ–­å·¦ä¾§çª—â¼æ˜¯å¦è¦æ”¶ç¼©
while (valid == need.size()) {
// åœ¨è¿™â¾¥æ›´æ–°æœ€â¼©è¦†ç›–â¼¦ä¸²
if (right - left < len) {
start = left;
len = right - left;
}
// d æ˜¯å°†ç§»å‡ºçª—â¼çš„å­—ç¬¦
char d = s[left];
// å·¦ç§»çª—â¼
left++;
// è¿›â¾çª—â¼å†…æ•°æ®çš„â¼€ç³»åˆ—æ›´æ–°
if (need.count(d)) {
if (window[d] == need[d])
valid--;
window[d]--;
}
}
}
// è¿”å›æœ€â¼©è¦†ç›–â¼¦ä¸²
return len == INT_MAX ?"" : s.substr(start, len);
}
```

![image-20210826214459019](C:\Users\14172\AppData\Roaming\Typora\typora-user-images\image-20210826214459019.png)



## [567. å­—ç¬¦ä¸²çš„æ’åˆ—]åˆ¤æ–­s2æ˜¯å¦åŒ…å«s1çš„æ’åˆ—

éš¾åº¦ä¸­ç­‰564

ç»™ä½ ä¸¤ä¸ªå­—ç¬¦ä¸² `s1` å’Œ `s2` ï¼Œå†™ä¸€ä¸ªå‡½æ•°æ¥åˆ¤æ–­ `s2` æ˜¯å¦åŒ…å« `s1` çš„æ’åˆ—ã€‚å¦‚æœæ˜¯ï¼Œè¿”å› `true` ï¼›å¦åˆ™ï¼Œè¿”å› `false` ã€‚

æ¢å¥è¯è¯´ï¼Œ`s1` çš„æ’åˆ—ä¹‹ä¸€æ˜¯ `s2` çš„ **å­ä¸²** ã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šs1 = "ab" s2 = "eidbaooo"
è¾“å‡ºï¼štrue
è§£é‡Šï¼šs2 åŒ…å« s1 çš„æ’åˆ—ä¹‹ä¸€ ("ba").
```

---



```java
 public boolean checkInclusion(String s1, String s2) {
int n=s1.length(),m = s2.length();
int[]arr1 = new int[26];//æ¯ä¸ªå­—æ¯å‡ºç°çš„æ¬¡æ•°
int[]arr2 = new int[26];//åªè¦ç¬¬ä¸€ä¸ªæ•°ç»„ä¸­æ¯ä¸ªå­—æ¯å‡ºç°çš„æ¬¡æ•°ç­‰äºç¬¬äºŒä¸ªæ•°ç»„ä¸­æ¯ä¸ªå­—æ¯å‡ºç°çš„æ¬¡æ•°å³å¯
if(n >m) return false;
for(int i=0;i < n;i++)
{
arr1[s1.charAt(i) - 'a']++;
arr2[s2.charAt(i)-'a']++;
}
if(Arrays.equals(arr1,arr2)) return true;//æ³¨æ„è¿™ä¸ªåˆ¤æ–­æ•°ç»„ç›¸åŒçš„å‡½æ•°ï¼Œä¹‹å‰æ²¡ç”¨è¿‡
for(int i=n;i <m;i++)//å¿…é¡»è¦åŒ¹é…s1çš„å…¨éƒ¨å­—ç¬¦ä¸²ï¼Œå› æ­¤æ»‘åŠ¨çª—å£æ˜¯å›ºå®šå¤§å°çš„n
{
    arr2[s2.charAt(i)-'a']++;
    arr2[s2.charAt(i-n)-'a']--;
    if(Arrays.equals(arr1,arr2)) return true;
}
return false;
    }
```





## 159.è‡³å¤šåŒ…å«ä¸¤ä¸ªä¸åŒå­—ç¬¦çš„æœ€é•¿å­ä¸²



æ¯”å¦‚è¯´â€œabbbce",æœ€é•¿çš„æ˜¯"abbb"æˆ–è€…"bbbc"ï¼Œé•¿åº¦ä¸º4ï¼ŒåŒ…å«2ä¸ªä¸åŒå­—ç¬¦



-----------------------------



æ€è·¯ï¼š
ä½¿ç”¨ä¸€ä¸ªæ•°ç»„int fre[256] å­˜å‚¨å­—ç¬¦æ¯ä¸ªå‡ºç°çš„ é¢‘ç‡ï¼Œåˆå€¼å‡ä¸º0ã€‚å®šä¹‰æ•´å‹å˜é‡ count è®°å½•ä¸åŒå­—ç¬¦æ•°é‡ã€‚

å½“çª—å£å³æŒ‡é’ˆ r < s.size()ï¼Œå¼€å§‹å¾ªç¯ï¼Œçª—å£å³ç§»ã€‚æ–°åŠ å…¥çª—å£çš„å­—ç¬¦å¦‚æœæœªå‡ºç°è¿‡ï¼Œcount ++ã€‚ç„¶åæ›´æ–°é¢‘ç‡ fre[s[r]]++ã€‚

å¦‚æœè¿™æ—¶countå€¼æ›´æ–°åå¤§äº2ï¼Œè¯´æ˜å½“å‰çª—å£ä¸æ»¡è¶³è¦æ±‚äº†ï¼Œè¿™æ—¶è¦åšçš„å°±æ˜¯ ç¼©å°çª—å£ã€‚å¾ªç¯å·¦ç§»çª—å£å·¦æŒ‡é’ˆï¼Œç›´åˆ°çª—å£å†æ¬¡æ»¡è¶³è¦æ±‚ã€‚

æ¯æ¬¡ç§»åŠ¨çª—å£å³æŒ‡é’ˆæ—¶ æ›´æ–°çª—å£æœ€å¤§å€¼ï¼Œä¹Ÿå°±æ˜¯æ±‚å¾—çš„æœ€é•¿å­ä¸²tçš„é•¿åº¦ã€‚
ä»£ç ï¼š

```java
// æ»‘åŠ¨çª—å£
int lengthOfLongestSubstringTwoDistinct(string s){
    // å·¦å³æŒ‡é’ˆ
    int l, r;
    l = r = 0;
    // è·å¾—é•¿åº¦
    int len = s.size();
    // å­˜å‚¨å­—ç¬¦å‡ºç°é¢‘ç‡
    int fre[256] = {0};
    // ä¸åŒå­—ç¬¦ä¸ªæ•°
    int count = 0;
    // result
    int res = 0;
    while(r < len){
        // çª—å£å†…å‡ºç°ä¸€ä¸ªæ–°å­—ç¬¦ï¼Œè®¡æ•°+1
        if(!fre[s[r++]]++){
            count++;
        }
        // å­—ç¬¦ç§ç±» > 2, çª—å£å·¦è¾¹ç•Œå³ç§»ï¼Œç¼©å°çª—å£
        while(count > 2){
            if(--fre[s[l++]] == 0) count--;
        }
        // æ›´æ–°æœ€å¤§å€¼
        res = max(res, r - l);
    }
    return res;
}

```





## [1358. åŒ…å«æ‰€æœ‰ä¸‰ç§å­—ç¬¦çš„å­å­—ç¬¦ä¸²æ•°ç›®](https://leetcode.cn/problems/number-of-substrings-containing-all-three-characters/)

éš¾åº¦ä¸­ç­‰82

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² `s` ï¼Œå®ƒåªåŒ…å«ä¸‰ç§å­—ç¬¦ a, b å’Œ c ã€‚

è¯·ä½ è¿”å› aï¼Œb å’Œ c éƒ½ **è‡³å°‘** å‡ºç°è¿‡ä¸€æ¬¡çš„å­å­—ç¬¦ä¸²æ•°ç›®ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šs = "abcabc"
è¾“å‡ºï¼š10
è§£é‡Šï¼šåŒ…å« aï¼Œb å’Œ c å„è‡³å°‘ä¸€æ¬¡çš„å­å­—ç¬¦ä¸²ä¸º "abc", "abca", "abcab", "abcabc", "bca", "bcab", "bcabc", "cab", "cabc" å’Œ "abc" (ç›¸åŒå­—ç¬¦ä¸²ç®—å¤šæ¬¡)ã€‚
```

------

è¿™ä¸ªé¢˜çš„å…³é”®åœ¨äºè¦æ˜ç™½ï¼ŒåŠ å…¥ä»0~iä¸­å‡ºç°äº†abcè‡³å°‘ä¸€æ¬¡,åˆ™ä»0ä¸€ç›´åˆ°iä¹‹åçš„å­ä¸²ä¹Ÿä¸€å®šå‡ºç°äº†abcè‡³å°‘ä¸€æ¬¡ï¼Œæ‰€ä»¥ç”¨åŒæŒ‡é’ˆï¼ˆç±»ä¼¼æ»‘åŠ¨çª—å£ï¼‰åªè¦æ‰¾åˆ°å·¦è¾¹å›ºå®šæ—¶ï¼Œå³è¾¹æœ€æ—©çš„å‡ºç°abcçš„ä¸²ï¼Œç„¶åå†ç§»åŠ¨å·¦è¾¹æŒ‡é’ˆ

```java
 public int numberOfSubstrings(String s) {
 int[]cnt=new int[3];
        int ans = 0, left = 0,right =-1;
       while(left < s.length()) {
          
           while(right<s.length()&&!(cnt[0]>=1&&cnt[1]>=1&&cnt[2]>=1)){
               right++;
               if(right==s.length()) break;
               cnt[s.charAt(right)-'a']++;
               
           }
          
           ans +=s.length()-right;
           cnt[s.charAt(left++)-'a']--;
       }
       return ans;
    }
```





## æ±‚ä¸€ä¸ªæ•°ç»„ä¸­å­æ•°ç»„çš„æœ€å¤§å¹³å‡æ•°

![image-20210903131619101](C:\Users\14172\AppData\Roaming\Typora\typora-user-images\image-20210903131619101.png)



```java
public static double findMaxAverage(int[]nums,int k){
        int sum = 0;
    for (int i = 0; i < k; i++) {
        sum += nums[i];//å…ˆç»Ÿè®¡ç¬¬ä¸€ä¸ªçª—å£
    }
    int max = sum;
    for (int i = k; i < nums.length; i++) {
        sum -= nums[i-k];//è¿™é¢˜çª—å£å¤§å°æ˜¯å›ºå®šçš„ï¼Œæ’ä¸ºkï¼Œå› æ­¤çª—å£æ¯æ¬¡å‰ç§»ä¸€æ ¼ï¼Œæ¯”è¾ƒæ˜¯å¦å¤§äºåŸæ¥çš„sum,å¤§äºåˆ™æ›´æ–°
        sum+=nums[i];
        max =Math.max(max,sum);
    }
    return 1.0 * max/k;//è¿”å›Double
}
```





## æ±‰æ˜è·ç¦»
ä¸¤ä¸ªæ•´æ•°ä¹‹é—´çš„æ±‰æ˜è·ç¦»æŒ‡çš„æ˜¯è¿™ä¸¤ä¸ªæ•°å­—å¯¹åº”äºŒè¿›åˆ¶ä½ä¸åŒçš„ä½ç½®çš„æ•°ç›®ã€‚

ç»™å‡ºä¸¤ä¸ªæ•´æ•° x å’Œ yï¼Œè®¡ç®—å®ƒä»¬ä¹‹é—´çš„æ±‰æ˜è·ç¦»ã€‚

javaçš„ä½è¿ç®—ç¬¦ä¸­æœ‰ä¸€ä¸ªå«å¼‚æˆ–çš„è¿ç®—ç¬¦ï¼Œç”¨ç¬¦å·(^)è¡¨ç¤ºï¼Œå…¶è¿ç®—è§„åˆ™æ˜¯ï¼šä¸¤ä¸ªæ“ä½œæ•°çš„ä½ä¸­ï¼Œç›¸åŒåˆ™ç»“æœä¸º0ï¼Œä¸åŒåˆ™ç»“æœä¸º1ã€‚ä½†æ˜¯åœ¨c++ä¸­ä¸èƒ½è¿™ä¹ˆä½¿ç”¨ã€‚å› æ­¤è¿™é¢˜ä¸é€‚åˆç”¨c++æ¥ç®—ã€‚
å¦‚int i = 15, j = 2;

System.out.println("i ^ j = " + (i ^ j));

}

}

è¿è¡Œç»“æœæ˜¯ï¼ši ^ j = 13.
é¦–å…ˆè¦æ³¨æ„å¾ˆå°‘ç”¨åˆ°çš„å¼‚æˆ–è¿ç®—ï¼Œåœ¨å…³äºåˆ¤æ–­ä¸¤ä¸ªæ•°çš„äºŒè¿›åˆ¶æ•°å­—çš„ä½æ•°æ˜¯å¦ç›¸ç­‰æ—¶éå¸¸æœ‰æ•ˆï¼Œç„¶åè¿˜æœ‰å³ç§»ç¬¦å·æ˜¯é™¤ä»¥äºŒ x >>2
x,éƒ½æœ‰x ^ x = 0,x ^ 0 = x ,A^ B=A^ 0=A

ï¼Œå› æ­¤å¼‚æˆ–è¿ç®—å¯¹äºåˆ¤æ–­ä¸¤ä¸ªæ•°å­—æ˜¯å¦ç›¸ç­‰éå¸¸æœ‰æ•ˆã€‚
ç”¨å¼‚æˆ–å®ç°ï¼š
```java
   public int hammingDistance(int x, int y) {
int xor = x^y;
int distance = 0;
while(xor != 0)
{
    if(xor % 2 == 1)
    distance++;
    xor = xor>>1;
}
return distance;
    }
```
è¿˜æœ‰ä¸€ç§å®ç°æ˜¯ç”¨javaå†…ç½®çš„å‡½æ•°å³Integer.binary

## [76. æœ€å°è¦†ç›–å­ä¸²](https://leetcode-cn.com/problems/minimum-window-substring/)

éš¾åº¦å›°éš¾1794

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² `s` ã€ä¸€ä¸ªå­—ç¬¦ä¸² `t` ã€‚è¿”å› `s` ä¸­æ¶µç›– `t` æ‰€æœ‰å­—ç¬¦çš„æœ€å°å­ä¸²ã€‚å¦‚æœ `s` ä¸­ä¸å­˜åœ¨æ¶µç›– `t` æ‰€æœ‰å­—ç¬¦çš„å­ä¸²ï¼Œåˆ™è¿”å›ç©ºå­—ç¬¦ä¸² `""` 



---------

![image-20220414100640708](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220414100640708.png)





```java
class Solution {
    public String minWindow(String s, String t) {
        if(s.length()<t.length() || s.length()==0 || s ==null || t == null || t.length() == 0)
            return "";

        //æ¨¡æ‹Ÿå“ˆå¸Œè¡¨ï¼Œå­˜å‚¨ç›®æ ‡å­—ç¬¦ä¸²çš„å„ä¸ªå­—ç¬¦çš„ä¸ªæ•°
        int[] map = new int[255];
        for(int i=0;i<t.length();i++){
            map[t.charAt(i)]++;
        }

        //åŒæŒ‡é’ˆéå†æºå­—ç¬¦ä¸²s
        int begin = 0,end = 0;
        //æœ€å°å­—ç¬¦ä¸²çš„èµ·ç‚¹
        int minBegin = 0;
        //æœ€å°å­—ç¬¦ä¸²çš„é•¿åº¦
        int res = Integer.MAX_VALUE;
        //ç”¨æ¥è®°å½•åŒ¹é…åˆ°å­—ç¬¦çš„ä¸ªæ•°ï¼Œå¦‚æœcount == t.length()æ„å‘³ç€æ‰¾åˆ°ä¸€ä¸ªåŒ¹é…çš„å­—ä¸²
        int count = 0;

        //éå†
        while(end < s.length()){
            //è¿™é‡Œå¯ç†è§£ä¸ºç¼ºå¤±å­—ç¬¦çš„ä¸ªæ•°ï¼Œ==0æ—¶åˆ™è¡¨ç¤º è¿™ä¸ªå­—ç¬¦åŒ¹é…å¤Ÿäº†ï¼Œ==1åˆ™è¡¨ç¤ºä»éœ€è¦å†åŒ¹é…ä¸€ä¸ªè¯¥å­—ç¬¦
            if(map[s.charAt(end)]>0)
                count ++;
            //ä¸éœ€è¦åŒ¹é…çš„å­—ç¬¦ï¼Œå…¶å€¼æ­¤æ—¶å°äº0,è¿™é‡Œä¸éœ€è¦åŒ¹é…çš„å­—ç¬¦ä¸€ç›´éƒ½ä¸ä¼šå‡ºç°å¤§äºé›¶çš„æƒ…å†µ
            map[s.charAt(end)]--;
            //å°¾æŒ‡é’ˆå³ç§»
            end++;
            //åŒ¹é…åˆ°ä¸€ä¸ªå­—ä¸²
            while(count == t.length()){
                //æ¯”è¾ƒå­—ä¸²é•¿åº¦ï¼Œæ›´æ–°å­—ä¸²ä¿¡æ¯
                if(end - begin < res){
                    res = end - begin;
                    minBegin = begin;
                }
                //å¦‚æœé¦–æŒ‡é’ˆå¯¹åº”å­—ç¬¦æ˜¯ç›®æ ‡å­—ç¬¦ä¹‹ä¸€ï¼Œåˆ™è·³å‡ºå¾ªç¯
                if(map[s.charAt(begin)] == 0)
                    count--;
                //é¦–æŒ‡é’ˆå¯¹åº”å­—ç¬¦çš„å“ˆå¸Œå€¼è¿˜åŸ
                map[s.charAt(begin)]++;
                //é¦–æŒ‡é’ˆå³ç§»
                begin++;
            }
        }

        return res == Integer.MAX_VALUE? "" :s.substring(minBegin,minBegin + res);
    }
} 

```

æˆ–è€…ç”¨mapè¿™æ ·å†™ï¼š

```java
 public String minWindow(String s, String t) {
        int count=t.length();
int left=0,right=0;
int ans=s.length()+1;
String subs="";
Map<Character,Integer>map=new HashMap<>();
if(s.indexOf(t)>-1) return t;
for(int i=0;i<26;i++)
{
    char temp=(char)(i+'a');
    map.put(temp,0);
}
        for(int i=0;i<26;i++)
        {
            char temp=(char)(i+'A');
            map.put(temp,0);
        }
for(char ch:t.toCharArray())
{
    map.put(ch,map.getOrDefault(ch,0)+1);
}
while(right<s.length())
{
    char ch=s.charAt(right);
if(map.get(ch)>0){
   
count--;
}
    map.put(ch,map.getOrDefault(ch,0)-1);
if(count==0)
{
    //é€™ä¸€æ­¥æ˜¯ä¸ºäº†ç¼©å°å·¦è¾¹çª—å£ï¼Œå› ä¸ºå¯èƒ½å½“å‰å·¦è¾¹çš„å­—ç¬¦å¹¶æ²¡æœ‰åœ¨tä¸­å‡ºç°ï¼Œé‚£ä¹ˆè¦å³ç§»
    while(map.get(s.charAt(left))<0)
    {
        map.put(s.charAt(left),map.get(s.charAt(left))+1);
        left++;
    }
    //æ›´æ–°ç­”æ¡ˆ
    if(right-left+1<ans)
    {
        ans=right-left+1;
        subs=s.substring(left,right+1);
    }
}
right++;
}
return subs;
    }
```





## [438. æ‰¾åˆ°å­—ç¬¦ä¸²ä¸­æ‰€æœ‰å­—æ¯å¼‚ä½è¯](https://leetcode.cn/problems/find-all-anagrams-in-a-string/)

éš¾åº¦ä¸­ç­‰986

ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸² `s` å’Œ `p`ï¼Œæ‰¾åˆ° `s` ä¸­æ‰€æœ‰ `p` çš„ **å¼‚ä½è¯** çš„å­ä¸²ï¼Œè¿”å›è¿™äº›å­ä¸²çš„èµ·å§‹ç´¢å¼•ã€‚ä¸è€ƒè™‘ç­”æ¡ˆè¾“å‡ºçš„é¡ºåºã€‚

**å¼‚ä½è¯** æŒ‡ç”±ç›¸åŒå­—æ¯é‡æ’åˆ—å½¢æˆçš„å­—ç¬¦ä¸²ï¼ˆåŒ…æ‹¬ç›¸åŒçš„å­—ç¬¦ä¸²ï¼‰ã€‚

 

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: s = "cbaebabacd", p = "abc"
è¾“å‡º: [0,6]
è§£é‡Š:
èµ·å§‹ç´¢å¼•ç­‰äº 0 çš„å­ä¸²æ˜¯ "cba", å®ƒæ˜¯ "abc" çš„å¼‚ä½è¯ã€‚
èµ·å§‹ç´¢å¼•ç­‰äº 6 çš„å­ä¸²æ˜¯ "bac", å®ƒæ˜¯ "abc" çš„å¼‚ä½è¯ã€‚
```

-----------------------

ç”¨ä¸€ä¸ªint[]æ•°ç»„å½“æˆhashmap,æ¥è®°å½•æ¯ä¸ªå­—æ¯å‡ºç°çš„æ¬¡æ•°

```java
  public List<Integer> findAnagrams(String s, String p) {
int nump=0;
int len1 = s.length(),len2=p.length();
if(len1<len2) return new ArrayList<>();

List<Integer>ans = new ArrayList<>();
        int[] sCount = new int[26];
        int[] pCount = new int[26];
        for (int i = 0; i < len2; ++i) {
            ++sCount[s.charAt(i) - 'a'];
            ++pCount[p.charAt(i) - 'a'];
        }
if(Arrays.equals(sCount,pCount))
ans.add(0);
//èµ·å§‹ä»0å¼€å§‹
for(int i=0;i<len1-len2;i++){
--sCount[s.charAt(i)-'a'];
++sCount[s.charAt(i+len2)-'a'];
if(Arrays.equals(sCount,pCount))
//è®°å¾—è¿™é‡Œå› ä¸ºåˆšåˆšå·²ç»åˆ¤æ–­äº†så­—ç¬¦ä¸²ä»0å¼€å§‹æ˜¯å¦ä¸på½¢æˆå¼‚ä½è¯ï¼Œæ‰€ä»¥è¿™é‡Œæ˜¯i+1
ans.add(i+1);
}
return ans;
    }
```

æˆ–è€…è¿™æ ·å†™ï¼š

```java
class Solution {
    public List<Integer> findAnagrams(String s, String p) {
     int[] st = new int[128];
     // ç»´æŠ¤ä¸€ä¸ªç»“æœé›†åˆ
     List<Integer> res = new ArrayList<Integer>();
     // pä¸­å­—ç¬¦çš„ä¸ªæ•° ä¹Ÿå°±æ˜¯çª—å£çš„å¤§å°
     int count = p.length();
    //  è®°å½• pä¸­æ¯ä¸ªå­—ç¬¦å‡ºç°çš„ä¸ªæ•°
     for(int i =0; i<p.length();i++){
         st[p.charAt(i)]++;
     }
     for(int l =0, r=0; r < s.length(); r++){
         char c = s.charAt(r);
//     å¦‚æœæ˜¯pä¸­å‡ºç°çš„å­—ç¬¦ å¹¶ä¸”ä¸ªæ•°ä¹Ÿç¬¦åˆ countæ¡ä»¶å‡å»1
         if(st[c] > 0){
            count --;
         }
         st[c] --;
        //  å¦‚æœæ»¡è¶³æ¡ä»¶
         if(count == 0){
            //  å‹ç¼©å·¦è¾¹ç•Œï¼Œå¦‚æœå°äº0å°±è¡¨ç¤ºè¿™ä¸ªå­—ç¬¦æ²¡æœ‰å‡ºç°åœ¨pä¸­ï¼Œé‚£ä¹ˆå¿…é¡»è¦å»æ‰ï¼Œè¿™æ ·çš„è¯é€€å‡ºwhileæ—¶lå¯¹åº”çš„å­—ç¬¦ä¸€å®šæ˜¯åœ¨pä¸­å‡ºç°äº†çš„
             while(st[s.charAt(l)] < 0){
                 st[s.charAt(l++)]++;
             }
            //  æ»¡è¶³å¼‚ä½
             if(r - l +1 == p.length()){
                 res.add(l);
             }
            //  l å³ç§» æ‰¾æ–°çš„çª—å£
             st[s.charAt(l++)]++;
             count++;
         }
     }
     return res;
    }
}


```



## [1658. å°† x å‡åˆ° 0 çš„æœ€å°æ“ä½œæ•°](https://leetcode.cn/problems/minimum-operations-to-reduce-x-to-zero/)

éš¾åº¦ä¸­ç­‰118

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` å’Œä¸€ä¸ªæ•´æ•° `x` ã€‚æ¯ä¸€æ¬¡æ“ä½œæ—¶ï¼Œä½ åº”å½“ç§»é™¤æ•°ç»„ `nums` æœ€å·¦è¾¹æˆ–æœ€å³è¾¹çš„å…ƒç´ ï¼Œç„¶åä» `x` ä¸­å‡å»è¯¥å…ƒç´ çš„å€¼ã€‚è¯·æ³¨æ„ï¼Œéœ€è¦ **ä¿®æ”¹** æ•°ç»„ä»¥ä¾›æ¥ä¸‹æ¥çš„æ“ä½œä½¿ç”¨ã€‚

å¦‚æœå¯ä»¥å°† `x` **æ°å¥½** å‡åˆ° `0` ï¼Œè¿”å› **æœ€å°æ“ä½œæ•°** ï¼›å¦åˆ™ï¼Œè¿”å› `-1` ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šnums = [1,1,4,2,3], x = 5
è¾“å‡ºï¼š2
è§£é‡Šï¼šæœ€ä½³è§£å†³æ–¹æ¡ˆæ˜¯ç§»é™¤åä¸¤ä¸ªå…ƒç´ ï¼Œå°† x å‡åˆ° 0 ã€‚
```

-------



```java
  public int minOperations(int[] nums, int x) {
        //è½¬åŒ–æ€ç»´ï¼Œè¿™é‡Œæ˜¯è¦æ•°ç»„ä¸­å‡å»æœ€å·¦è¾¹æˆ–è€…æœ€å³è¾¹çš„å…ƒç´ ï¼Œç›´åˆ°å‡å»çš„å…ƒç´ å’Œä¸ºx,é‚£ä¹ˆå¯ä»¥å˜æ¢æˆæ•°ç»„ä¸­è¿ç»­çš„æ•°ç»„ä¹‹å’Œä¸ºsum-xï¼Œå…¶ä¸­è¦ä¿è¯è¿™ä¸ªè¿ç»­æ•°ç»„é•¿åº¦æœ€å¤§ï¼Œè¿™æ ·å‡å»çš„å…ƒç´ æ‰ä¼šæœ€å°‘ï¼Œæ‰€ä»¥å…¶å®åªæ˜¯æ±‚æ•°ç»„ä¸­è¿ç»­é•¿åº¦ä¹‹å’Œä¸ºæŸä¸€ä¸ªå€¼çš„æœ€å¤§é•¿åº¦
int sum = 0;
for(int i : nums)
sum +=i;
if(sum < x) return -1;
int maxlen = -1;
int left = 0,right = 0,begin=0;
while(right< nums.length){
    begin += nums[right];
    while(begin > sum-x && left<nums.length){
        begin -=nums[left];
        left++;
    }
    if(begin == sum-x){
        maxlen = Math.max(maxlen,right-left+1);

    }
    right++;
}//è¿™é‡Œè®°å¾—ç­”æ¡ˆæ˜¯nums-maxlen,å› ä¸ºæ˜¯è¿”å›å‡å»çš„æ•°ç»„
 if (maxlen == -1) return -1;
        else return nums.length-maxlen;

    }
```

## [424. æ›¿æ¢åçš„æœ€é•¿é‡å¤å­—ç¬¦](https://leetcode.cn/problems/longest-repeating-character-replacement/)

éš¾åº¦ä¸­ç­‰704

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² `s` å’Œä¸€ä¸ªæ•´æ•° `k` ã€‚ä½ å¯ä»¥é€‰æ‹©å­—ç¬¦ä¸²ä¸­çš„ä»»ä¸€å­—ç¬¦ï¼Œå¹¶å°†å…¶æ›´æ”¹ä¸ºä»»ä½•å…¶ä»–å¤§å†™è‹±æ–‡å­—ç¬¦ã€‚è¯¥æ“ä½œæœ€å¤šå¯æ‰§è¡Œ `k` æ¬¡ã€‚

åœ¨æ‰§è¡Œä¸Šè¿°æ“ä½œåï¼Œè¿”å›åŒ…å«ç›¸åŒå­—æ¯çš„æœ€é•¿å­å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šs = "ABAB", k = 2
è¾“å‡ºï¼š4
è§£é‡Šï¼šç”¨ä¸¤ä¸ª'A'æ›¿æ¢ä¸ºä¸¤ä¸ª'B',åä¹‹äº¦ç„¶ã€‚
```

-------------------

æœ€åŸºæœ¬çš„æ€è·¯ï¼š

äºæ¯ä¸€ä¸ªå­ä¸²ï¼š

å¦‚æœå­ä¸²é‡Œæ‰€æœ‰çš„å­—ç¬¦éƒ½ä¸€æ ·ï¼Œå°±è€ƒè™‘é•¿åº¦æ›´é•¿çš„å­ä¸²ï¼›
å¦‚æœå½“å‰å­ä¸²é‡Œå‡ºç°äº†è‡³å°‘ä¸¤ç§å­—ç¬¦ï¼Œè¦æƒ³ä½¿å¾—æ›¿æ¢ä»¥åæ‰€æœ‰çš„å­—ç¬¦éƒ½ä¸€æ ·ï¼Œå¹¶ä¸”é‡å¤çš„ã€è¿ç»­çš„éƒ¨åˆ†æ›´é•¿ï¼Œåº”è¯¥æ›¿æ¢æ‰å‡ºç°æ¬¡æ•°æœ€å¤šå­—ç¬¦ ä»¥å¤– çš„å­—ç¬¦ã€‚



å³è¾¹ç•Œå…ˆç§»åŠ¨æ‰¾åˆ°ä¸€ä¸ªæ»¡è¶³é¢˜æ„çš„å¯ä»¥æ›¿æ¢ k ä¸ªå­—ç¬¦ä»¥åï¼Œæ‰€æœ‰å­—ç¬¦éƒ½å˜æˆä¸€æ ·çš„å½“å‰çœ‹æ¥æœ€é•¿çš„å­ä¸²ï¼Œç›´åˆ°å³è¾¹ç•Œçº³å…¥ä¸€ä¸ªå­—ç¬¦ä»¥åï¼Œä¸èƒ½æ»¡è¶³çš„æ—¶å€™åœä¸‹ï¼›
ç„¶åè€ƒè™‘å·¦è¾¹ç•Œå‘å³ç§»åŠ¨ï¼Œå·¦è¾¹ç•Œåªé¡»è¦å‘å³ç§»åŠ¨ä¸€æ ¼ä»¥åï¼Œå³è¾¹ç•Œå°±åˆå¯ä»¥å¼€å§‹å‘å³ç§»åŠ¨äº†ï¼Œç»§ç»­å°è¯•æ‰¾åˆ°æ›´é•¿çš„ç›®æ ‡å­ä¸²ï¼›
æ›¿æ¢åçš„æœ€é•¿é‡å¤å­ä¸²å°±äº§ç”Ÿåœ¨å³è¾¹ç•Œã€å·¦è¾¹ç•Œäº¤æ›¿å‘å³ç§»åŠ¨çš„è¿‡ç¨‹ä¸­ã€‚



```java
    public int characterReplacement(String s, int k) {
        int len = s.length();
        if (len < 2) {
            return len;
        }

        char[] charArray = s.toCharArray();
        int left = 0;
        int right = 0;

        int res = 0;
        //maxCountæ˜¯left,righåŒºé—´å†…å­—æ¯å‡ºç°æ¬¡æ•°æœ€å¤šçš„è¿™ä¸ªæ¬¡æ•°
        int maxCount = 0;
        int[] freq = new int[26];
        // [left, right) å†…æœ€å¤šæ›¿æ¢ k ä¸ªå­—ç¬¦å¯ä»¥å¾—åˆ°åªæœ‰ä¸€ç§å­—ç¬¦çš„å­ä¸²
        while (right < len){
            freq[charArray[right] - 'A']++;
            // åœ¨è¿™é‡Œç»´æŠ¤ maxCountï¼Œå› ä¸ºæ¯ä¸€æ¬¡å³è¾¹ç•Œè¯»å…¥ä¸€ä¸ªå­—ç¬¦ï¼Œå­—ç¬¦é¢‘æ•°å¢åŠ ï¼Œæ‰ä¼šä½¿å¾— maxCount å¢åŠ 
            maxCount = Math.max(maxCount, freq[charArray[right] - 'A']);
            right++;

            if (right - left > maxCount + k){
              	// è¯´æ˜æ­¤æ—¶ k ä¸å¤Ÿç”¨
                // æŠŠå…¶å®ƒä¸æ˜¯æœ€å¤šå‡ºç°çš„å­—ç¬¦æ›¿æ¢ä»¥åï¼Œéƒ½ä¸èƒ½å¡«æ»¡è¿™ä¸ªæ»‘åŠ¨çš„çª—å£ï¼Œè¿™ä¸ªæ—¶å€™é¡»è¦è€ƒè™‘å·¦è¾¹ç•Œå‘å³ç§»åŠ¨
                // ç§»å‡ºæ»‘åŠ¨çª—å£çš„æ—¶å€™ï¼Œé¢‘æ•°æ•°ç»„é¡»è¦ç›¸åº”åœ°åšå‡æ³•
                freq[charArray[left] - 'A']--;
                left++;
            }
            res = Math.max(res, right - left);
        }
        return res;
    }

```



## [é¢è¯•é¢˜ 17.18. æœ€çŸ­è¶…ä¸²](https://leetcode.cn/problems/shortest-supersequence-lcci/)

éš¾åº¦ä¸­ç­‰64

å‡è®¾ä½ æœ‰ä¸¤ä¸ªæ•°ç»„ï¼Œä¸€ä¸ªé•¿ä¸€ä¸ªçŸ­ï¼ŒçŸ­çš„å…ƒç´ å‡ä¸ç›¸åŒã€‚æ‰¾åˆ°é•¿æ•°ç»„ä¸­åŒ…å«çŸ­æ•°ç»„æ‰€æœ‰çš„å…ƒç´ çš„æœ€çŸ­å­æ•°ç»„ï¼Œå…¶å‡ºç°é¡ºåºæ— å…³ç´§è¦ã€‚

è¿”å›æœ€çŸ­å­æ•°ç»„çš„å·¦ç«¯ç‚¹å’Œå³ç«¯ç‚¹ï¼Œå¦‚æœ‰å¤šä¸ªæ»¡è¶³æ¡ä»¶çš„å­æ•°ç»„ï¼Œè¿”å›å·¦ç«¯ç‚¹æœ€å°çš„ä¸€ä¸ªã€‚è‹¥ä¸å­˜åœ¨ï¼Œè¿”å›ç©ºæ•°ç»„ã€‚

**ç¤ºä¾‹ 1:**

```
è¾“å…¥:
big = [7,5,9,0,2,1,3,5,7,9,1,1,5,8,8,9,7]
small = [1,5,9]
è¾“å‡º: [7,10]
```

**ç¤ºä¾‹ 2:**

```
è¾“å…¥:
big = [1,2,3]
small = [4]
è¾“å‡º: []
```

---------------------





æ³¨æ„ï¼šè¿™é‡Œå› ä¸ºè¦åˆ¤æ–­é•¿æ•°ç»„ä¸­æ˜¯å¦å‡ºç°äº†çŸ­æ•°ç»„ä¸­æŸä¸ªå…ƒç´ ï¼ŒçŸ­æ•°ç»„æ”¾åœ¨hashsetä¸­ï¼Œå·§å¦™è½¬åŒ–ä¸ºåˆ¤æ–­é•¿æ•°ç»„ä¸­è¯¥å…ƒç´ æ˜¯å¦è¢«çŸ­æ•°ç»„åŒ…å«

```java
    public int[] shortestSeq(int[] big, int[] small) {
        //1.æŠŠ[left,right]ç§°ä¸ºä¸€ä¸ªçª—å£ï¼›
//2.å…ˆå³ç§»å³æŒ‡é’ˆæ‰©å¤§çª—å£ï¼Œç›´åˆ°çª—å£ä¸­çš„æ•°å­—æ»¡è¶³smallæ•°ç»„è¦æ±‚ï¼›
//3.æ»¡è¶³è¦æ±‚æ—¶ï¼Œåœæ­¢å¢åŠ rightï¼Œè½¬è€Œå¢åŠ leftç¼©å°çª—å£ï¼Œç›´åˆ°ä¸æ»¡è¶³è¦æ±‚
//4.é‡å¤2,3æ­¥ç›´åˆ°rightèµ°åˆ°bigå°½å¤´


//setæ˜¯ç”¨äºåˆ¤æ–­ä¹‹åçš„çª—å£ä¸­æ˜¯å¦å«æœ‰smallä¸­çš„å…ƒç´ 
Set<Integer>smallmap=new HashSet<>();
Map<Integer,Integer>window=new HashMap<>();
for(int i:small)
smallmap.add(i);
int start=0,right=0,left=0,match=0,minlen= Integer.MAX_VALUE;
while(right<big.length){
    if(smallmap.contains(big[right])){
       //åªæœ‰çŸ­æ•°ç»„åŒ…å«äº†è¿™ä¸ªå…ƒç´  æ‰æ”¾è¿›windowä¸­
        window.put(big[right],window.getOrDefault(big[right],0)+1);
//æ³¨æ„ å› ä¸ºçŸ­æ•°ç»„ä¸­å…ƒç´ å„ä¸ç›¸åŒï¼Œå› æ­¤åªè¦ç¬¬ä¸€æ¬¡å‡ºç°çš„æ—¶å€™åŒ¹é…ä¸ªæ•°åŠ ä¸€å°±è¡Œäº†
        if(window.get(big[right])==1)
        match++;
    }
    //whileå¾ªç¯ä¸­ç§»åŠ¨å·¦æŒ‡é’ˆç›´åˆ°ä¸æ»¡è¶³æ¡ä»¶ å³ç›´åˆ°åŒ¹é…çš„ä¸ªæ•°å°äºsmallä¸­çš„ä¸ªæ•°
  while(match==small.length){
      //åœ¨è¿™ä¸ªå¾ªç¯ä¸­leftå³ç§»
if(right-left<minlen){
    minlen=right-left;
    start=left;
}
//æ³¨æ„ç§»åŠ¨çš„æ—¶å€™è¦åˆ¤æ–­å·¦æŒ‡é’ˆæŒ‡å‘çš„å…ƒç´ æ˜¯å¦åœ¨smallä¸­ï¼Œå¦‚æœåœ¨smallä¸­åˆ™éœ€è¦å°†windowä¸­è¯¥å…ƒç´ ä¸ªæ•°å‡ä¸€
if(smallmap.contains(big[left])){
       window.put(big[left],window.getOrDefault(big[left],0)-1);
       //å› ä¸ºä¹‹å‰çš„æ­¥éª¤ä¸­åªè¦æ˜¯smallä¸­å‡ºç°çš„å…ƒç´ ï¼Œwindowä¸­æ•°é‡éƒ½åŠ ä¸Šäº†1ï¼Œæ‰€ä»¥ä¸€å®šå­˜åœ¨è¯¥é”®ï¼Œè€Œä¸”æ•°é‡ä¸º0æ—¶è¡¨ç¤ºWindowçª—å£å·²ç»ä¸å­˜åœ¨è¯¥å…ƒç´ 
       if(window.get(big[left])==0)
       match--;
}
//ç§»åŠ¨å·¦æŒ‡é’ˆ
left++;
    }
    //åœ¨æœ€å¤–å±‚å¾ªç¯æœ€åå³æŒ‡é’ˆå‘å³ç§»åŠ¨
    right++;
}
return minlen == Integer.MAX_VALUE? new int[]{}: new int[]{start,start+minlen};
    }
```

## [1156. å•å­—ç¬¦é‡å¤å­ä¸²çš„æœ€å¤§é•¿åº¦](https://leetcode.cn/problems/swap-for-longest-repeated-character-substring/)

éš¾åº¦ä¸­ç­‰99

å¦‚æœå­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰å­—ç¬¦éƒ½ç›¸åŒï¼Œé‚£ä¹ˆè¿™ä¸ªå­—ç¬¦ä¸²æ˜¯å•å­—ç¬¦é‡å¤çš„å­—ç¬¦ä¸²ã€‚

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² `text`ï¼Œä½ åªèƒ½äº¤æ¢å…¶ä¸­ä¸¤ä¸ªå­—ç¬¦ä¸€æ¬¡æˆ–è€…ä»€ä¹ˆéƒ½ä¸åšï¼Œç„¶åå¾—åˆ°ä¸€äº›å•å­—ç¬¦é‡å¤çš„å­ä¸²ã€‚è¿”å›å…¶ä¸­æœ€é•¿çš„å­ä¸²çš„é•¿åº¦ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼štext = "ababa"
è¾“å‡ºï¼š3
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼štext = "aaabaaa"
è¾“å‡ºï¼š6
```



-----

æ–¹æ³•ä¸€ï¼š

```java
   public int maxRepOpt1(String text) {
int[]num=new int[26];
for(int i=0;i<text.length();i++)
num[text.charAt(i)-'a']++;
int i = 0;
int maxlen=0;
//å¯ä»¥ç†è§£ä¸ºï¼Œå¦‚æœé‡åˆ°äº†ä¸€ä¸ªä¸å½“å‰å­—ç¬¦ä¸ä¸€æ ·çš„å­—ç¬¦ï¼Œé‚£ä¹ˆå…ˆè·³è¿‡è¿™ä¸ªå­—ç¬¦ï¼Œç»§ç»­éå†åé¢çš„å­—ç¬¦ï¼Œçœ‹åé¢çš„èƒ½å¦ä¸å½“å‰å­—ç¬¦ç›¸ç­‰
while(i<text.length()){
    int cur=i;
    while(i<text.length()&& text.charAt(i)==text.charAt(cur))
{
i++;
}
int next=i+1;
int len=0;
while(next<text.length()&&text.charAt(next)==text.charAt(cur)){
    next++;
    len++;
}
//æ³¨æ„è¿™é‡Œé•¿åº¦è¿˜è¦åŠ ä¸€ï¼Œä¸ç„¶ç­”æ¡ˆå°‘ä¸€ä¸ªï¼Œå› ä¸ºè·³è¿‡äº†ä¸€ä¸ªä¸åŒçš„å­—ç¬¦ï¼Œè¿™ä¸ªä¸åŒçš„å­—ç¬¦æ˜¯å¯ä»¥è¢«äº¤æ¢æ‰çš„ï¼Œä½†æ˜¯è¦æ³¨æ„èƒ½å¦äº¤æ¢å–å†³äºè¿™ä¸ªå­—ç¬¦å‡ºç°çš„æ€»æ¬¡æ•°æ˜¯å¦ä¼šè¶…ï¼Œæ¯”å¦‚aaabè¿™é‡Œæ˜¯æ— æ³•äº¤æ¢bçš„ ä¹Ÿå°±æ˜¯aæœ€å¤§å‡ºç°æ¬¡æ•°ä¹Ÿåªæœ‰3æ¬¡ è€Œlen+i-cur+1=4,æ‰€ä»¥è¿˜è¦å–ä¸€ä¸ªå°çš„,
maxlen=Math.max(maxlen,Math.min(len+i-cur+1,num[text.charAt(cur)-'a']));
//if(i==cur) i++;
}
return maxlen;
    }
}
```

## [å‰‘æŒ‡ Offer II 016. ä¸å«é‡å¤å­—ç¬¦çš„æœ€é•¿å­å­—ç¬¦ä¸²](https://leetcode.cn/problems/wtcaE1/)

éš¾åº¦ä¸­ç­‰69

ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² `s` ï¼Œè¯·ä½ æ‰¾å‡ºå…¶ä¸­ä¸å«æœ‰é‡å¤å­—ç¬¦çš„ **æœ€é•¿è¿ç»­å­å­—ç¬¦ä¸²** çš„é•¿åº¦ã€‚

 

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: s = "abcabcbb"
è¾“å‡º: 3 
è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­å­—ç¬¦ä¸²æ˜¯ "abc"ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 3ã€‚
```

-------

```java
    public int lengthOfLongestSubstring(String s) {
Set<Character>set=new HashSet<>();
        int left=0,right=0;
        int ans=0;
        if(s.length()==0) return 0;
        while(right<s.length())
        {
           
            char index=s.charAt(right);
            if(!set.contains(index)) {
                set.add(index);
                ans=Math.max(ans,right-left+1);
                right++;
                
            }else {
                while(set.contains(index))
                {
set.remove(s.charAt(left++));
                }
              //å°¤å…¶æ³¨æ„è¿™é‡Œä¸èƒ½åªç§»åŠ¨RightæŒ‡é’ˆï¼Œå› ä¸ºRightæŒ‡é’ˆçš„å…ƒç´ è¿˜æ²¡æœ‰åŠ å…¥è¿›å»
            //  right++;
            ä¸‹é¢çš„è¿™ä¸¤å¥å¯ä»¥åŠ ä¹Ÿå¯ä»¥ä¸åŠ 
            set.add(index);
            right++;
            }
    
        }
        return ans;
    }
```

## æ»‘åŠ¨çª—å£+æœ‰åºé›†åˆï¼šå€¼å’Œä¸‹æ ‡å·®éƒ½åœ¨ç»™å®šèŒƒå›´å†…

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’Œä¸¤ä¸ªæ•´æ•° k å’Œ t ã€‚è¯·ä½ åˆ¤æ–­æ˜¯å¦å­˜åœ¨ ä¸¤ä¸ªä¸åŒä¸‹æ ‡ i å’Œ jï¼Œä½¿å¾— abs(nums[i] - nums[j]) <= t ï¼ŒåŒæ—¶åˆæ»¡è¶³ abs(i - j) <= k ã€‚

å¦‚æœå­˜åœ¨åˆ™è¿”å› trueï¼Œä¸å­˜åœ¨è¿”å› falseã€‚

 

ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼šnums = [1,2,3,1], k = 3, t = 0
è¾“å‡ºï¼štrue


----------------------------



![image-20230218150812058](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230218150812058.png)

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æœ‰åºé›†åˆæ¥æ”¯æŒè¿™äº›æ“ä½œã€‚

å®ç°æ–¹é¢ï¼Œæˆ‘ä»¬åœ¨æœ‰åºé›†åˆä¸­æŸ¥æ‰¾å¤§äºç­‰äº x-tçš„æœ€å°çš„å…ƒç´  
yï¼Œå¦‚æœ y å­˜åœ¨ï¼Œä¸” yâ‰¤x+tï¼Œæˆ‘ä»¬å°±æ‰¾åˆ°äº†ä¸€å¯¹ç¬¦åˆæ¡ä»¶çš„å…ƒç´ ã€‚å®Œæˆæ£€æŸ¥åï¼Œæˆ‘ä»¬å°† x æ’å…¥åˆ°æœ‰åºé›†åˆä¸­ï¼Œå¦‚æœæœ‰åºé›†åˆä¸­å…ƒç´ æ•°é‡è¶…è¿‡äº† kï¼Œæˆ‘ä»¬å°†æœ‰åºé›†åˆä¸­æœ€æ—©è¢«æ’å…¥çš„å…ƒç´ åˆ é™¤å³å¯ã€‚

ä¸ºäº†é˜²æ­¢æº¢å‡ºï¼Œæˆ‘ä»¬é‡‡ç”¨longæ¥å­˜å‚¨

```java
public boolean containsNearbyAlmostDuplicate(int[] nums, int k, int t) {
 TreeSet<Long>tree=new TreeSet<>();
 for(int i=0;i<nums.length;i++)
 {
       Long ceiling = tree.ceiling((long) nums[i] - (long) t);
       //è¿˜è¦åˆ¤æ–­è¿™ä¸ªæ•°å­—æ˜¯å¦å°äºnums[i]+tæ‰è¡Œï¼Œå› ä¸ºMath.abs(a-b)<=tè¡¨ç¤º a-b<t&&b-a<t
       //æ‰€ä»¥å¯¹äºbæ¥è¯´ï¼ŒèŒƒå›´æ˜¯[a-t,a+t]
     if(ceiling!=null&&ceiling<=(long)nums[i]+(long)t) return true;
     tree.add((long)nums[i]);
     if(i>=k)  tree.remove((long)nums[i-k]);
 }
return false;
    }
```

## [209. é•¿åº¦æœ€å°çš„å­æ•°ç»„](https://leetcode.cn/problems/minimum-size-subarray-sum/)

éš¾åº¦ä¸­ç­‰1604

ç»™å®šä¸€ä¸ªå«æœ‰ `n` ä¸ªæ­£æ•´æ•°çš„æ•°ç»„å’Œä¸€ä¸ªæ­£æ•´æ•° `target` **ã€‚**

æ‰¾å‡ºè¯¥æ•°ç»„ä¸­æ»¡è¶³å…¶å’Œ `â‰¥ target` çš„é•¿åº¦æœ€å°çš„ **è¿ç»­å­æ•°ç»„** `[numsl, numsl+1, ..., numsr-1, numsr]` ï¼Œå¹¶è¿”å›å…¶é•¿åº¦**ã€‚**å¦‚æœä¸å­˜åœ¨ç¬¦åˆæ¡ä»¶çš„å­æ•°ç»„ï¼Œè¿”å› `0` ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼štarget = 7, nums = [2,3,1,2,4,3]
è¾“å‡ºï¼š2
è§£é‡Šï¼šå­æ•°ç»„ [4,3] æ˜¯è¯¥æ¡ä»¶ä¸‹çš„é•¿åº¦æœ€å°çš„å­æ•°ç»„ã€‚
```



--

```java
 public int minSubArrayLen(int target, int[] nums) {
     int left=0,right=0;
        int sum=0;
        int minlen=nums.length+1;
        while(right<nums.length)
        {
            sum+=nums[right];
            if(sum>=target) {
                minlen = Math.min(minlen, right - left + 1);
                while (sum >= target) {
                     minlen = Math.min(minlen, right - left + 1);
                    sum -= nums[left];
                    left++;
                }
            
            }
            right++;
        }
         return minlen==nums.length+1?0:minlen;
    }
```



# æ¨¡æ‹Ÿ

## [13. ç½—é©¬æ•°å­—è½¬æ•´æ•°](https://leetcode-cn.com/problems/roman-to-integer/)

éš¾åº¦ç®€å•1827

ç½—é©¬æ•°å­—åŒ…å«ä»¥ä¸‹ä¸ƒç§å­—ç¬¦: `I`ï¼Œ `V`ï¼Œ `X`ï¼Œ `L`ï¼Œ`C`ï¼Œ`D` å’Œ `M`ã€‚

```
å­—ç¬¦          æ•°å€¼
I             1
V             5
X             10
L             50
C             100
D             500
M             1000
```

ä¾‹å¦‚ï¼Œ ç½—é©¬æ•°å­— `2` å†™åš `II` ï¼Œå³ä¸ºä¸¤ä¸ªå¹¶åˆ—çš„ 1 ã€‚`12` å†™åš `XII` ï¼Œå³ä¸º `X` + `II` ã€‚ `27` å†™åš `XXVII`, å³ä¸º `XX` + `V` + `II` ã€‚

é€šå¸¸æƒ…å†µä¸‹ï¼Œç½—é©¬æ•°å­—ä¸­å°çš„æ•°å­—åœ¨å¤§çš„æ•°å­—çš„å³è¾¹ã€‚ä½†ä¹Ÿå­˜åœ¨ç‰¹ä¾‹ï¼Œä¾‹å¦‚ 4 ä¸å†™åš `IIII`ï¼Œè€Œæ˜¯ `IV`ã€‚æ•°å­— 1 åœ¨æ•°å­— 5 çš„å·¦è¾¹ï¼Œæ‰€è¡¨ç¤ºçš„æ•°ç­‰äºå¤§æ•° 5 å‡å°æ•° 1 å¾—åˆ°çš„æ•°å€¼ 4 ã€‚åŒæ ·åœ°ï¼Œæ•°å­— 9 è¡¨ç¤ºä¸º `IX`ã€‚è¿™ä¸ªç‰¹æ®Šçš„è§„åˆ™åªé€‚ç”¨äºä»¥ä¸‹å…­ç§æƒ…å†µï¼š

- `I` å¯ä»¥æ”¾åœ¨ `V` (5) å’Œ `X` (10) çš„å·¦è¾¹ï¼Œæ¥è¡¨ç¤º 4 å’Œ 9ã€‚
- `X` å¯ä»¥æ”¾åœ¨ `L` (50) å’Œ `C` (100) çš„å·¦è¾¹ï¼Œæ¥è¡¨ç¤º 40 å’Œ 90ã€‚ 
- `C` å¯ä»¥æ”¾åœ¨ `D` (500) å’Œ `M` (1000) çš„å·¦è¾¹ï¼Œæ¥è¡¨ç¤º 400 å’Œ 900ã€‚

-------

```java
  public int romanToInt(String s) {
   Map<Character, Integer> symbolValues = new HashMap<Character, Integer>() {{
        put('I', 1);//å…ˆå»ºç«‹ä¸€ä¸ªå“ˆå¸Œè¡¨è¿›è¡Œæ˜ å°„
        put('V', 5);
        put('X', 10);
        put('L', 50);
        put('C', 100);
        put('D', 500);
        put('M', 1000);
    }};
int num = 0;
for(int i =0;i < s.length();i++)
{
int value = symbolValues.get(s.charAt(i));
if(i < s.length()-1 && symbolValues.get(s.charAt(i+1))>value)//åˆ¤æ–­æ˜¯IX è¿˜æ˜¯XIçš„æƒ…å†µï¼Œå‰è€…çš„è¯è¦å‡å»1ï¼Œåè€…åŠ ä¸Š1
num -=value;
else 
num +=value;
}
return num;

    }
```

## ã€LeetCode - 362ã€‘æ•²å‡»è®¡æ•°å™¨

![image-20221006220008121](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20221006220008121.png)



--------------------

æ€è·¯ï¼š

ä½¿ç”¨ä¸€ä¸ªé˜Ÿåˆ—ç”¨äºå­˜å‚¨æ•²å‡»æ—¶çš„æ—¶é—´æˆ³ï¼Œå®šä¹‰ä¸€ä¸ªå˜é‡ startIndex ä½œä¸ºé˜Ÿé¦–å…ƒç´ å€¼ï¼Œå³äº”åˆ†é’Ÿå†…çš„ç¬¬ä¸€æ¬¡æ•²å‡»çš„æ—¶é—´æˆ³ï¼›

â€ƒâ€ƒ1ã€hit(timestamp)ï¼š

â€ƒâ€ƒå¦‚æœ startIndex == -1ï¼Œå³æ­¤æ—¶ queue æ²¡æœ‰ä»»ä½•å…ƒç´ ï¼Œåˆ™å½“å‰ hit å°±æ˜¯ç¬¬ä¸€æ¬¡æ•²å‡»ï¼ŒstartIndex = timestampï¼›

â€ƒâ€ƒ2ã€getHits(int timestamp)ï¼š

â€ƒâ€ƒäº”åˆ†é’Ÿå†…çš„è¾¹ç•Œæ˜¯æ»¡è¶³ timestamp - startIndex + 1 == 300ã€‚

â€ƒâ€ƒå¦‚æœ timestamp - startIndex + 1 > 300ï¼Œè¡¨æ˜å½“å‰çš„ startIndex æ˜¯è¶…å‡ºäº”åˆ†é’Ÿçš„ã€‚

â€ƒâ€ƒæˆ‘ä»¬æŠŠé˜Ÿé¦–å…ƒç´ åˆ é™¤ï¼Œç”¨æ–°çš„é˜Ÿé¦–å»æ›´æ–° startIndexï¼Œé‡æ–°åˆ¤æ–­ï¼Œå¾ªç¯å¾€å¤ï¼Œç›´åˆ° timestamp - startIndex + 1 <= 300 æˆ–è€…é˜Ÿåˆ—ä¸ºç©ºã€‚

â€ƒâ€ƒæœ€ç»ˆè¿”å›é˜Ÿåˆ—çš„å…ƒç´ ä¸ªæ•°ã€‚
```java
class HitCounter {
    Queue<Integer> queue;
    int startIndex = -1;    // äº”åˆ†é’Ÿå†…çš„ç¬¬ä¸€æ¬¡æ•²å‡»çš„æ—¶é—´æˆ³ï¼Œ-1 è¡¨ç¤ºæ²¡æœ‰å…ƒç´ 

    /** Initialize your data structure here. */
    public HitCounter() {
        queue = new LinkedList<Integer>();
    }

    /** Record a hit.
     @param timestamp - The current timestamp (in seconds granularity). */
    public void hit(int timestamp) {
        if(startIndex == -1) {  // å½“å‰æ²¡æœ‰å…ƒç´ ï¼Œæ–°æ•²å‡»çš„ä½œä¸ºç¬¬ä¸€ä¸ª
            startIndex = timestamp;
        }
        queue.offer(timestamp);
    }

    /** Return the number of hits in the past 5 minutes.
     @param timestamp - The current timestamp (in seconds granularity). */
    public int getHits(int timestamp) {
        // äº”åˆ†é’Ÿçš„ä¸´ç•Œå€¼åº”è¯¥æ˜¯ timestamp - startIndex + 1 == 300
        // æˆ–è€…é˜Ÿåˆ—æ ¹æœ¬æ²¡æœ‰å…ƒç´ 
        while (timestamp - startIndex >= 300 && !queue.isEmpty()) {
            // timestamp - startIndex >= 300 è¯´æ˜å½“å‰é˜Ÿé¦–å…ƒç´ è¶…è¿‡äº†5åˆ†é’Ÿï¼Œåˆ é™¤é˜Ÿé¦–
            queue.poll();
            if(!queue.isEmpty()) {
                // å¦‚æœé˜Ÿåˆ—ä¸ä¸ºç©ºï¼Œæ›´æ–° startIndex ä¸ºæ–°çš„é˜Ÿé¦–
                startIndex = queue.peek();
            } else {
                // å¦‚æœé˜Ÿåˆ—ä¸ºå·²ç»ä¸ºç©ºï¼Œåˆ™ startIndex æ¢å¤æˆåˆå§‹å€¼
                startIndex = -1;
            }
        }
        return queue.size();
    }
}

```

## åŠ›æ‰£ï¼ˆLeetCodeï¼‰311. ç¨€ç–çŸ©é˜µçš„ä¹˜æ³•

é¢˜ç›®æè¿°ï¼š
ç»™ä½ ä¸¤ä¸ª ç¨€ç–çŸ©é˜µ A å’Œ Bï¼Œè¯·ä½ è¿”å› AB çš„ç»“æœã€‚ä½ å¯ä»¥é»˜è®¤ A çš„åˆ—æ•°ç­‰äº B çš„è¡Œæ•°ã€‚
è¯·ä»”ç»†é˜…è¯»ä¸‹é¢çš„ç¤ºä¾‹ã€‚
ç¤ºä¾‹ï¼š
è¾“å…¥ï¼š
A = [
[ 1, 0, 0],
[-1, 0, 3]
]
B = [
[ 7, 0, 0 ],
[ 0, 0, 0 ],
[ 0, 0, 1 ]

]

------

æ–¹æ³•ä¸€ï¼šç›´æ¥å…¨éƒ¨ç›¸ä¹˜

æ–¹æ³•äºŒï¼š1ï¼‰æ—¢ç„¶ç¨€ç–çŸ©é˜µä¸­çš„å¤§éƒ¨åˆ†å…ƒç´ æ˜¯0ï¼Œè€Œ0çš„ä¹˜æ³•æ˜¯å¯ä»¥å¿½ç•¥çš„ï¼Œæ•…å¯ä»¥å…ˆå¯¹ä¸¤ä¸ªæ•°ç»„ä¸­çš„éé›¶å…ƒç´ è¿›è¡Œç»Ÿè®¡ï¼Œè·å¾—éé›¶å…ƒç´ çš„ä½ç½®ï¼Œç„¶åå†åœ¨ä¹˜æ³•ä¸­ï¼Œåªå¤„ç†è¿™äº›éé›¶å…ƒç´ å³å¯ï¼›

ç½‘ä¸Šçš„c++ç‰ˆï¼š

```java
class Solution {
public:
    vector<vector<int>> multiply(vector<vector<int>>& A, vector<vector<int>>& B) {
        vector<vector<int>> res(A.size(),vector<int>(B[0].size()));
        //ç»Ÿè®¡æ•°ç»„Aä¸­çš„éé›¶å…ƒç´ 
        vector<vector<int>> A_tmp(A.size());
        for(int i=0;i<A.size();++i){
            for(int j=0;j<A[0].size();++j){
                if(A[i][j]){
                    A_tmp[i].push_back(j);
                }
            }
        }
        //ç»Ÿè®¡æ•°ç»„Bä¸­çš„éé›¶å…ƒç´ 
        vector<vector<int>> B_tmp(B[0].size());
        for(int i=0;i<B[0].size();++i){
            for(int j=0;j<B.size();++j){
                if(B[j][i]){
                    B_tmp[i].push_back(j);
                }
            }
        }
		//å¤„ç†çŸ©é˜µçš„ä¹˜æ³•
        for(int i=0;i<A.size();++i){
            for(int j=0;j<B[0].size();++j){
            	//ä½¿ç”¨éé›¶å…ƒç´ è¾ƒå°‘çš„æ•°ç»„æ¥å®ç°ä¹˜æ³•
                if(A_tmp[i].size()<B_tmp[j].size()){
                    for(int&k:A_tmp[i]){
                        res[i][j]+=A[i][k]*B[k][j];
                    }
                }
                else{
                    for(int&k:B_tmp[j]){
                        res[i][j]+=A[i][k]*B[k][j];
                    }
                }
            }
        }
        //è¿”å›ç»“æœ
        return res;
    }
};

```

è‡ªå·±å†™çš„Javaç‰ˆï¼š

```java
int[][] multiply(List<List<Integer>> A, List<List<Integer>> B) {
        List<List<Integer>>tempA=new ArrayList<>();
        List<List<Integer>>tempB=new ArrayList<>();
        List<List<Integer>>ans=new ArrayList<>();
        int[][]array=new int[A.size()][B.get(0).size()];
        for (int j = 0; j < A.size(); j++) {
            tempA.add(new ArrayList<>());
        }
        for(int i=0;i<A.size();i++)
        {
            for (int j = 0; j < A.get(i).size(); j++) {
                if(A.get(i).get(j)!=0){
                    tempA.get(i).add(j);
                }
            }
        }
        for (int j = 0; j < B.get(0).size(); j++) {
            tempB.add(new ArrayList<>());
        }
        for(int i=0;i<B.get(0).size();i++)
        {
            for (int j = 0; j < B.size(); j++) {
                if(A.get(j).get(i)!=0){
                    tempB.get(i).add(j);
                }
            }
        }
        for (int i = 0; i < tempA.size(); i++) {
            for (int j = 0; j < tempB.size(); j++) {
                //ä½¿ç”¨éé›¶å…ƒç´ è¾ƒå°‘çš„æ•°ç»„æ¥å®ç°ä¹˜æ³•
                if(tempA.get(i).size()<tempB.get(j).size())
for(int numA:tempA.get(i))
{
    array[i][j]=A.get(i).get(numA)*tempB.get(numA).get(j);
}
else{
                    for(int numB:tempB.get(i))
                    {
                        array[i][j]=A.get(i).get(numB)*tempB.get(numB).get(j);
                    }
                }
            }
        }
        return array;
    }
```



## æ€ç»´è½¬åŒ–ï¼š[453. æœ€å°æ“ä½œæ¬¡æ•°ä½¿æ•°ç»„å…ƒç´ ç›¸ç­‰](https://leetcode.cn/problems/minimum-moves-to-equal-array-elements/)

#### 

éš¾åº¦ä¸­ç­‰510

ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸º `n` çš„æ•´æ•°æ•°ç»„ï¼Œæ¯æ¬¡æ“ä½œå°†ä¼šä½¿ `n - 1` ä¸ªå…ƒç´ å¢åŠ  `1` ã€‚è¿”å›è®©æ•°ç»„æ‰€æœ‰å…ƒç´ ç›¸ç­‰çš„æœ€å°æ“ä½œæ¬¡æ•°ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šnums = [1,2,3]
è¾“å‡ºï¼š3
è§£é‡Šï¼š
åªéœ€è¦3æ¬¡æ“ä½œï¼ˆæ³¨æ„æ¯æ¬¡æ“ä½œä¼šå¢åŠ ä¸¤ä¸ªå…ƒç´ çš„å€¼ï¼‰ï¼š
[1,2,3]  =>  [2,3,3]  =>  [3,4,3]  =>  [4,4,4]
```

-----

```java
 //å› ä¸ºåªéœ€è¦æ‰¾å‡ºè®©æ•°ç»„æ‰€æœ‰å…ƒç´ ç›¸ç­‰çš„æœ€å°æ“ä½œæ¬¡æ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­å„ä¸ªå…ƒç´ çš„ç»å¯¹å¤§å°ï¼Œå³ä¸éœ€è¦çœŸæ­£ç®—å‡ºæ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ ç›¸ç­‰æ—¶çš„å…ƒç´ å€¼ï¼Œåªéœ€è¦è€ƒè™‘æ•°ç»„ä¸­å…ƒç´ ç›¸å¯¹å¤§å°çš„å˜åŒ–å³å¯ã€‚
//å› æ­¤ï¼Œæ¯æ¬¡æ“ä½œæ—¢å¯ä»¥ç†è§£ä¸ºä½¿ nâˆ’1 ä¸ªå…ƒç´ å¢åŠ  1ï¼Œä¹Ÿå¯ä»¥ç†è§£ä½¿ 1 ä¸ªå…ƒç´ å‡å°‘ 1ã€‚æ˜¾ç„¶ï¼Œåè€…æ›´åˆ©äºæˆ‘ä»¬çš„è®¡ç®—ã€‚äºæ˜¯ï¼Œè¦è®¡ç®—è®©æ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ ç›¸ç­‰çš„æ“ä½œæ•°ï¼Œæˆ‘ä»¬åªéœ€è¦è®¡ç®—å°†æ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ éƒ½å‡å°‘åˆ°æ•°ç»„ä¸­å…ƒç´ æœ€å°å€¼æ‰€éœ€çš„æ“ä½œæ•°
    public int minMoves(int[] nums) {
int sum=0;
int min=Integer.MAX_VALUE;
for(int i:nums)
min=Math.min(min,i);
for(int i=0;i<nums.length;i++)
sum+=nums[i]-min;
return sum;
    }
```



# åŒæŒ‡é’ˆé—®é¢˜

å¯»æ‰¾é“¾è¡¨çš„å€’æ•°ç¬¬ k ä¸ªå…ƒç´ 
æˆ‘ä»¬çš„æ€è·¯è¿˜æ˜¯ä½¿â½¤å¿«æ…¢æŒ‡é’ˆï¼Œè®©å¿«æŒ‡é’ˆå…ˆâ¾› k æ­¥ï¼Œç„¶åå¿«æ…¢æŒ‡é’ˆå¼€å§‹åŒé€Ÿå‰è¿›ã€‚è¿™æ ·å½“å¿«æŒ‡é’ˆâ¾›åˆ°é“¾è¡¨æœ«å°¾ null æ—¶ï¼Œæ…¢æŒ‡é’ˆæ‰€åœ¨çš„ä½ç½®å°±æ˜¯å€’æ•°ç¬¬ kä¸ªé“¾è¡¨èŠ‚ç‚¹ï¼ˆä¸ºäº†ç®€åŒ–ï¼Œå‡è®¾ k ä¸ä¼šè¶…è¿‡é“¾è¡¨â»“åº¦ï¼‰ï¼š

```java
ListNode slow, fast;
slow = fast = head;
while (k-- > 0)
fast = fast.next;
while (fast != null) {
slow = slow.next;
fast = fast.next;
}
return slow;
```



å·¦å³æŒ‡é’ˆçš„å¸¸â½¤ç®—æ³•
å·¦å³æŒ‡é’ˆåœ¨æ•°ç»„ä¸­å®é™…æ˜¯æŒ‡ä¸¤ä¸ªç´¢å¼•å€¼ï¼Œâ¼€èˆ¬åˆå§‹åŒ–ä¸º left = 0, right =
nums.length - 1 ã€‚

åè½¬æ•°ç»„

```java
void reverse(int[] nums) {
int left = 0;
int right = nums.length - 1;
while (left < right) {
// swap(nums[left], nums[right])
int temp = nums[left];
nums[left] = nums[right];
nums[right] = temp;
left++; right--;
}
}
```

## [11. ç››æœ€å¤šæ°´çš„å®¹å™¨](https://leetcode-cn.com/problems/container-with-most-water/)

éš¾åº¦ä¸­ç­‰3163

ç»™ä½  `n` ä¸ªéè´Ÿæ•´æ•° `a1ï¼Œa2ï¼Œ...ï¼Œa``n`ï¼Œæ¯ä¸ªæ•°ä»£è¡¨åæ ‡ä¸­çš„ä¸€ä¸ªç‚¹ `(i, ai)` ã€‚åœ¨åæ ‡å†…ç”» `n` æ¡å‚ç›´çº¿ï¼Œå‚ç›´çº¿ `i` çš„ä¸¤ä¸ªç«¯ç‚¹åˆ†åˆ«ä¸º `(i, ai)` å’Œ `(i, 0)` ã€‚æ‰¾å‡ºå…¶ä¸­çš„ä¸¤æ¡çº¿ï¼Œä½¿å¾—å®ƒä»¬ä¸ `x` è½´å…±åŒæ„æˆçš„å®¹å™¨å¯ä»¥å®¹çº³æœ€å¤šçš„æ°´ã€‚

**è¯´æ˜ï¼š**ä½ ä¸èƒ½å€¾æ–œå®¹å™¨ã€‚

![image-20220208135353130](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220208135353130.png)

------

![image-20220208135456347](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220208135456347.png)



```java
 public int maxArea(int[] height) {
    int maxtotal=0;
    int i=0,j=height.length-1;
    while(i<j)
    {
        int min=Math.min(height[i],height[j]);
        maxtotal = Math.max(min*(j-i),maxtotal);
        if(height[i]<height[j]) i++;
        else j--;
    }

return maxtotal;
    }
```

## [611. æœ‰æ•ˆä¸‰è§’å½¢çš„ä¸ªæ•°](https://leetcode-cn.com/problems/valid-triangle-number/)

éš¾åº¦ä¸­ç­‰349

ç»™å®šä¸€ä¸ªåŒ…å«éè´Ÿæ•´æ•°çš„æ•°ç»„ `nums` ï¼Œè¿”å›å…¶ä¸­å¯ä»¥ç»„æˆä¸‰è§’å½¢ä¸‰æ¡è¾¹çš„ä¸‰å…ƒç»„ä¸ªæ•°ã€‚

 

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: nums = [2,2,3,4]
è¾“å‡º: 3
è§£é‡Š:æœ‰æ•ˆçš„ç»„åˆæ˜¯: 
2,3,4 (ä½¿ç”¨ç¬¬ä¸€ä¸ª 2)
2,3,4 (ä½¿ç”¨ç¬¬äºŒä¸ª 2)
2,2,3
```

---

æœ€æ™®é€šï¼šæš´åŠ›æšä¸¾æ³•ï¼Œè¿™ç§æƒ…å†µä¸‹æ—¶é—´å¤æ‚åº¦n3

![image-20220221192820177](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220221192820177.png)

æ”¹è¿›åŠæ³•ï¼šæ’åº+åŒæŒ‡é’ˆ

![image-20220221192914960](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220221192914960.png)

```java
public int triangleNumber(int[] nums) {
Arrays.sort(nums);
used = new boolean[nums.length];
for(int i = nums.length-1;i >=0;i--)//åŒæŒ‡é’ˆï¼Œä¸¤å¤§ä¸€å°
for(int j = i-1,k=0;k<j;j--)
{
    while(k<j&&nums[k]+nums[j]<=nums[i])
    k++;
    tot+=j-k;//k~jä¹‹é—´çš„å‡æ»¡è¶³æ¡ä»¶
}
return tot;
    }
```

## [80. åŸåœ°åˆ é™¤æœ‰åºæ•°ç»„ä¸­çš„é‡å¤é¡¹ II](https://leetcode-cn.com/problems/remove-duplicates-from-sorted-array-ii/)

éš¾åº¦ä¸­ç­‰666

ç»™ä½ ä¸€ä¸ªæœ‰åºæ•°ç»„ `nums` ï¼Œè¯·ä½ **[ åŸåœ°](http://baike.baidu.com/item/åŸåœ°ç®—æ³•)** åˆ é™¤é‡å¤å‡ºç°çš„å…ƒç´ ï¼Œä½¿æ¯ä¸ªå…ƒç´  **æœ€å¤šå‡ºç°ä¸¤æ¬¡** ï¼Œè¿”å›åˆ é™¤åæ•°ç»„çš„æ–°é•¿åº¦ã€‚

ä¸è¦ä½¿ç”¨é¢å¤–çš„æ•°ç»„ç©ºé—´ï¼Œä½ å¿…é¡»åœ¨ **[åŸåœ° ](https://baike.baidu.com/item/åŸåœ°ç®—æ³•)ä¿®æ”¹è¾“å…¥æ•°ç»„** å¹¶åœ¨ä½¿ç”¨ O(1) é¢å¤–ç©ºé—´çš„æ¡ä»¶ä¸‹å®Œæˆã€‚

------

```java
 public int removeDuplicates(int[] nums) {
int tot = 0;
 int numbers = 0;
if(nums.length<2) return nums.length;
int fast = 2,slow=2;
while(fast < nums.length)
{
    if(nums[fast] != nums[slow-2])//è¿™é‡Œæ˜¯ä¸slow-2æ¯”è¾ƒ
    {
        nums[slow] = nums[fast];//æ³¨æ„è¿™é‡Œçš„slowä¸æ˜¯åˆšåˆšè¢«æ¯”è¾ƒçš„slow-2,slowæ˜¯ç¬¬ä¸€ä¸ªé‡å¤ä¸ªæ•°å¤§äº2çš„ä¸‹æ ‡æˆ–è€…æ˜¯ä¸€ä¸ªå‡ºç°ä¸€æ¬¡çš„æ•°ä¸‹æ ‡
slow++;
    }
    fast++;
}
return slow;
    }
```

## 918 Â· ä¸‰æ•°ä¹‹å’Œå°äº



æè¿°

ç»™å®šä¸€ä¸ª`n`ä¸ªæ•´æ•°çš„æ•°ç»„å’Œä¸€ä¸ª`ç›®æ ‡æ•´æ•°target`ï¼Œæ‰¾åˆ°ä¸‹æ ‡ä¸º`iã€jã€k`çš„æ•°ç»„å…ƒç´ `0 <= i < j < k < n`ï¼Œæ»¡è¶³æ¡ä»¶`nums[i] + nums[j] + nums[k] < target`.

---------------------



å¥—è·¯ï¼šè¿™ç§ä¸‰æ•°ä¹‹å’Œé—®é¢˜ï¼Œå¦‚æœå¯ä»¥æ’åºçš„è¯å…ˆè¿›è¡Œæ’åºï¼Œå†éå†å…¶ä¸­ä¸€ä¸ªå…ƒç´ ï¼Œå¯¹å…¶ä½™å…ƒç´ è¿›è¡ŒåŒæŒ‡é’ˆéå†ï¼Œè¿™é‡Œé¢˜ä¸­è™½ç„¶æåˆ°äº†ç´¢å¼•ï¼Œä½†æ˜¯å…¶å®å’Œç´¢å¼•å¹¶æ— å…³ç³»ï¼Œå¯ä»¥æ’å®Œåºå†è¿›è¡Œåˆ¤æ–­ã€‚

```java
 public int threeSumSmaller(int[] nums, int target) {
        // Write your code here
         int ans = 0;
         Arrays.sort(nums);
        for (int i = 0; i < nums.length-2; i++) {
        
            int left = i+1,right = nums.length-1;
            while(left < right){
               if(nums[left]+nums[i]+nums[right]<target) {
                   ans+=right-left;
               left++;
               }
               else right--;

            }

        }
        return ans;
    }
```

## ä¸‰æ•°ä¹‹å’Œç­‰äº0

æ±‚ä¸€ä¸ªæ•°ç»„ä¸­æ‰€æœ‰ä¸‰æ•°ä¹‹å’Œç­‰äº0çš„ä¸‰å…ƒç»„

æ—¶é—´å¤æ‚åº¦on2

```java
public ArrayList<ArrayList<Integer>> threeSum(int[] num) {
        Arrays.sort(num);
        ArrayList<ArrayList<Integer>> ans=new ArrayList<>();
        if(num.length<3)  return ans;
        for(int i=0;i<num.length-2;i++)
        {
            //è¦åŠ è¿™ä¸€æ­¥åˆ¤æ–­ï¼Œä¸ç„¶ä¼šé‡å¤
              if(i != 0 && num[i] == num[i - 1])
                continue;
         int l=i+1,r=num.length-1;
         while(l<r)
         {
            if(num[l]+num[r]==-num[i]){
                ArrayList<Integer>temp=new ArrayList<Integer>();

                temp.add(num[i]);
 temp.add(num[l]);
  temp.add(num[r]);
  ans.add(temp);
  //å»é‡
while(num[l]==num[l+1]&&l+1<r) l++;
while(num[r]==num[r-1]&&r-1>l) r--; 
            l++;
            r--;
            } 
else if(num[l]+num[r]+num[i]>0)
r--;
else l++;
         }
        }
return ans;
    }
```



## [457. ç¯å½¢æ•°ç»„æ˜¯å¦å­˜åœ¨å¾ªç¯](https://leetcode.cn/problems/circular-array-loop/)

éš¾åº¦ä¸­ç­‰197

å­˜åœ¨ä¸€ä¸ªä¸å« `0` çš„ **ç¯å½¢** æ•°ç»„ `nums` ï¼Œæ¯ä¸ª `nums[i]` éƒ½è¡¨ç¤ºä½äºä¸‹æ ‡ `i` çš„è§’è‰²åº”è¯¥å‘å‰æˆ–å‘åç§»åŠ¨çš„ä¸‹æ ‡ä¸ªæ•°ï¼š

- å¦‚æœ `nums[i]` æ˜¯æ­£æ•°ï¼Œ**å‘å‰**ï¼ˆä¸‹æ ‡é€’å¢æ–¹å‘ï¼‰ç§»åŠ¨ `|nums[i]|` æ­¥
- å¦‚æœ `nums[i]` æ˜¯è´Ÿæ•°ï¼Œ**å‘å**ï¼ˆä¸‹æ ‡é€’å‡æ–¹å‘ï¼‰ç§»åŠ¨ `|nums[i]|` æ­¥

å› ä¸ºæ•°ç»„æ˜¯ **ç¯å½¢** çš„ï¼Œæ‰€ä»¥å¯ä»¥å‡è®¾ä»æœ€åä¸€ä¸ªå…ƒç´ å‘å‰ç§»åŠ¨ä¸€æ­¥ä¼šåˆ°è¾¾ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œè€Œç¬¬ä¸€ä¸ªå…ƒç´ å‘åç§»åŠ¨ä¸€æ­¥ä¼šåˆ°è¾¾æœ€åä¸€ä¸ªå…ƒç´ ã€‚

æ•°ç»„ä¸­çš„ **å¾ªç¯** ç”±é•¿åº¦ä¸º `k` çš„ä¸‹æ ‡åºåˆ— `seq` æ ‡è¯†ï¼š

- éµå¾ªä¸Šè¿°ç§»åŠ¨è§„åˆ™å°†å¯¼è‡´ä¸€ç»„é‡å¤ä¸‹æ ‡åºåˆ— `seq[0] -> seq[1] -> ... -> seq[k - 1] -> seq[0] -> ...`
- æ‰€æœ‰ `nums[seq[j]]` åº”å½“ä¸æ˜¯ **å…¨æ­£** å°±æ˜¯ **å…¨è´Ÿ**
- `k > 1`

å¦‚æœ `nums` ä¸­å­˜åœ¨å¾ªç¯ï¼Œè¿”å› `true` ï¼›å¦åˆ™ï¼Œè¿”å› `false` ã€‚

-----------------

![image-20221213214625498](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20221213214625498.png)

é¢˜éš¾ç‚¹åœ¨äºé¢˜ç›®çš„ä¸¤ä¸ªé™åˆ¶æ¡ä»¶ï¼š


åœ¨æ¯æ¬¡å¾ªç¯çš„è¿‡ç¨‹ä¸­ï¼Œå¿…é¡»ä¿è¯æ‰€ç»å†è¿‡çš„æ‰€æœ‰æ•°å­—éƒ½æ˜¯åŒå·çš„ã€‚
é‚£ä¹ˆï¼Œåœ¨å¿«æŒ‡é’ˆç»å†è¿‡çš„æ¯ä¸ªä½ç½®éƒ½è¦åˆ¤æ–­ä¸€ä¸‹å’Œå‡ºå‘ç‚¹çš„æ•°å­—æ˜¯ä¸æ˜¯ç›¸åŒçš„ç¬¦å·ã€‚
å½“å¿«æ…¢æŒ‡é’ˆç›¸é‡çš„æ—¶å€™ï¼Œè¿˜è¦åˆ¤æ–­ç¯çš„å¤§å°ä¸æ˜¯ 1ã€‚
æ‰€ä»¥ï¼Œæ‰¾åˆ°ç›¸é‡ç‚¹çš„ä½ç½®åï¼Œå¦‚æœå†èµ° 1 æ­¥ï¼Œåˆ¤æ–­æ˜¯ä¸æ˜¯è‡ªå·±ã€‚



```java
 public boolean circularArrayLoop(int[] nums) {
   int len = nums.length;
        for (int i = 0; i < nums.length; i++)
        {
        if(nums[i]==0) continue;
        int slow = i,fast = next(nums,i);
        while(nums[slow]*nums[fast]>0 && nums[slow]*nums[next(nums,fast)]>0){
            if(slow == fast){
                if(slow != next(nums,slow)){
                    return true;
                }
                else {
                    break;
                }
            }
            slow = next(nums,slow);
            fast = next(nums,next(nums,fast));
        }
        int add = i;
        while(nums[add]*nums[next(nums,add)]>0){
            int temp = add;
            add = next(nums,add);
            nums[temp] = 0;
        }
        }
        return false;
    }
    public int next(int[]nums,int n){
        int len = nums.length ;
        //è¿™é‡Œå¿…é¡»å¾—åŠ ä¸Šlen,å› ä¸ºä¸åŠ lençš„è¯ï¼Œè´Ÿæ•°æ¨¡æ­£æ•°ä¸ºä¸€ä¸ªè´Ÿæ•°ï¼Œä¼šä½¿å¾—ç»“æœä¸ºè´Ÿæ•°,è¿™é‡Œè¦è®©è¿”å›ç»“æœåœ¨[0,len)ä¹‹é—´
        return ((n+nums[n])%len+len)%len;
    }
```

å…³äºç¯å½¢é“¾è¡¨çš„é—®é¢˜ï¼š

![image-20221213215704160](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20221213215704160.png)

## å›æ–‡å­ä¸²çš„ä¸ªæ•°



![image-20230212234148204](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230212234148204.png)

![image-20230212234425336](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230212234425336.png) 

æ³¨æ„è¿™é‡Œï¼Œå¦‚æœæ˜¯å¥‡æ•°é‚£ä¹ˆå›æ–‡ä¸­å¿ƒæ˜¯ä¸­é—´çš„æ•°ï¼Œå¦‚æœæ˜¯å¶æ•°é‚£ä¹ˆåˆ™æ˜¯ä¸­é—´çš„ä¸¤ä¸ªæ•°

```java
  public int countSubstrings(String s) {

int ans=0;
//è¿™é‡Œå¯ä»¥å‘ç°ï¼Œ0å’Œ1é™¤ä»¥2çš„ç»“æœéƒ½æ˜¯0ï¼Œ2å’Œ3é™¤ä»¥2çš„ç»“æœéƒ½æ˜¯1ï¼Œåªæ˜¯æ¨¡2çš„å€¼ä¸ä¸€æ ·
//ç›¸å½“äºä¸­å¿ƒæ˜¯è¿™æ ·ï¼šå…ˆç¬¬ä¸€ä¸ª ç„¶åç¬¬ä¸€ä¸ªç¬¬äºŒä¸ª ç„¶åç¬¬äºŒä¸ª ç„¶åç¬¬äºŒä¸ªç¬¬ä¸‰ä¸ª 
for(int i=0;i<2*s.length()+1;i++)
{//ä¸€å…±å¯ä»¥æœ‰2*N-1ä¸ªä¸­å¿ƒ
    int left=i/2,right=i/2+i%2;
    while(left>=0&&right<s.length()&&s.charAt(left)==s.charAt(right))
    {
        ans++;
        left--;
        right++;
    }
}
return ans;
    }
```

## åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦ä¸²èƒ½å¦åˆ é™¤ä¸€äº›å­—æ¯å¾—åˆ°å¦ä¸€ä¸ªå­—ç¬¦ä¸²

[524. é€šè¿‡åˆ é™¤å­—æ¯åŒ¹é…åˆ°å­—å…¸é‡Œæœ€é•¿å•è¯](https://leetcode.cn/problems/longest-word-in-dictionary-through-deleting/)

éš¾åº¦ä¸­ç­‰330

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² `s` å’Œä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ `dictionary` ï¼Œæ‰¾å‡ºå¹¶è¿”å› `dictionary` ä¸­æœ€é•¿çš„å­—ç¬¦ä¸²ï¼Œè¯¥å­—ç¬¦ä¸²å¯ä»¥é€šè¿‡åˆ é™¤ `s` ä¸­çš„æŸäº›å­—ç¬¦å¾—åˆ°ã€‚

å¦‚æœç­”æ¡ˆä¸æ­¢ä¸€ä¸ªï¼Œè¿”å›é•¿åº¦æœ€é•¿ä¸”å­—æ¯åºæœ€å°çš„å­—ç¬¦ä¸²ã€‚å¦‚æœç­”æ¡ˆä¸å­˜åœ¨ï¼Œåˆ™è¿”å›ç©ºå­—ç¬¦ä¸²ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šs = "abpcplea", dictionary = ["ale","apple","monkey","plea"]
è¾“å‡ºï¼š"apple"
```



------

è¿™é‡Œå¯ä»¥ç”¨åŒæŒ‡é’ˆï¼Œä¸¤ä¸ªå­—ç¬¦ä¸²æ¯”è¾ƒï¼Œå¦‚æœåŒ¹é…ä¸Šäº†éƒ½å‘å‰ç§»åŠ¨ï¼Œå¦åˆ™åªç§»åŠ¨é‚£ä¸ªåŸæ¥çš„s

å¯ä»¥å…ˆæ’åºå†è®¡ç®—

```java
 public String findLongestWord(String s, List<String> dictionary) {
 String res = "";
 Collections.sort(dictionary,new Comparator<String>() {
    @Override
    public int compare(String o1, String o2) {
        if(o1.length()<o2.length()) return o2.length()-o1.length();
        if(o1.length()>o2.length()) return o2.length()-o1.length();
     else return o1.compareTo(o2);
    }
});
        for (String t : dictionary) {
            int i = 0, j = 0;
            while (i < t.length() && j < s.length()) {
                if (t.charAt(i) == s.charAt(j)) {
                    ++i;
                }
                ++j;
            }
            if (i == t.length()) {
              res=t;break;
            }
        }
        return res;
    }

```

 ä¹Ÿå¯ä»¥ä¸æ’åºï¼Œç›´æ¥ç»´æŠ¤è¿™ä¸ªç­”æ¡ˆå­—ç¬¦ä¸²ï¼š

```java
 public String findLongestWord(String s, List<String> dictionary) {
 String res = "";

        for (String t : dictionary) {
            int i = 0, j = 0;
            while (i < t.length() && j < s.length()) {
                if (t.charAt(i) == s.charAt(j)) {
                    ++i;
                }
                ++j;
            }
            if (i == t.length()) {
            if(t.length()>res.length()|| (t.length() == res.length() && t.compareTo(res) < 0))
            res=t;
            }
        }
        return res;
    }
```



# ä½è¿ç®—

â¼ä¸ªæœ‰è¶£çš„ä½æ“ä½œ
1. åˆ©â½¤æˆ–æ“ä½œ | å’Œç©ºæ ¼å°†è‹±â½‚å­—ç¬¦è½¬æ¢ä¸ºâ¼©å†™
('a' | ' ') = 'a'
('A' | ' ') = 'a'
1. åˆ©â½¤ä¸æ“ä½œ & å’Œä¸‹åˆ’çº¿å°†è‹±â½‚å­—ç¬¦è½¬æ¢ä¸ºâ¼¤å†™
('b' & '_') = 'B'
('B' & '_') = 'B'
1. åˆ©â½¤å¼‚æˆ–æ“ä½œ ^ å’Œç©ºæ ¼è¿›â¾è‹±â½‚å­—ç¬¦â¼¤â¼©å†™äº’æ¢
('d' ^ ' ') = 'D'
('D' ^ ' ') = 'd'

**ç®—æ³•å¸¸â½¤æ“ä½œ n&(n-1)**

ä½œâ½¤æ˜¯æ¶ˆé™¤æ•°å­— n çš„â¼†è¿›åˆ¶è¡¨â½°ä¸­çš„æœ€åâ¼€ä¸ª1

å¦‚æœè®©ä½ è¿”å› n çš„â¼†è¿›åˆ¶è¡¨â½°ä¸­æœ‰â¼ä¸ª 1ï¼š

å› ä¸º n & (n - 1) å¯ä»¥æ¶ˆé™¤æœ€åâ¼€
ä¸ª 1ï¼Œæ‰€ä»¥å¯ä»¥â½¤â¼€ä¸ªå¾ªç¯ä¸åœåœ°æ¶ˆé™¤ 1 åŒæ—¶è®¡æ•°ï¼Œç›´åˆ° n å˜æˆ 0 ä¸ºâ½Œã€‚

```c
int hammingWeight(uint32_t n) {
int res = 0;
while (n != 0) {
n = n & (n - 1);
res++;
}
return res;
}
```

**åˆ¤æ–­â¼€ä¸ªæ•°æ˜¯ä¸æ˜¯ 2 çš„æŒ‡æ•°**

â¼€ä¸ªæ•°å¦‚æœæ˜¯ 2 çš„æŒ‡æ•°ï¼Œé‚£ä¹ˆå®ƒçš„â¼†è¿›åˆ¶è¡¨â½°â¼€å®šåªå«æœ‰â¼€ä¸ª 1ï¼š
2^0 = 1 = 0b0001
2^1 = 2 = 0b0010
2^2 = 4 = 0b0100

å¦‚æœä½¿â½¤ä½è¿ç®—æŠ€å·§å°±å¾ˆç®€å•äº†ï¼ˆæ³¨æ„è¿ç®—ç¬¦ä¼˜å…ˆçº§ï¼Œæ‹¬å·ä¸å¯ä»¥çœç•¥ï¼‰ï¼š
bool isPowerOfTwo(int n) {
if (n <= 0) return false;
return (n & (n - 1)) == 0;
}

å¯¹äºå¼‚æˆ–è¿ç®—ï¼ˆ ^ ï¼‰ï¼Œæˆ‘ä»¬çŸ¥é“å®ƒæœ‰â¼€ä¸ªç‰¹æ®Šæ€§è´¨ï¼šâ¼€ä¸ªæ•°å’Œå®ƒæœ¬â¾åšå¼‚
æˆ–è¿ç®—ç»“æœä¸º 0ï¼Œâ¼€ä¸ªæ•°å’Œ 0 åšå¼‚æˆ–è¿ç®—è¿˜æ˜¯å®ƒæœ¬â¾ã€‚
â½½ä¸”å¼‚æˆ–è¿ç®—æ»¡â¾œäº¤æ¢å¾‹å’Œç»“åˆå¾‹ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼š
2 ^ 3 ^ 2 = 3 ^ (2 ^ 2) = 3 ^ 0 = 3

## [å‰‘æŒ‡ Offer 15. äºŒè¿›åˆ¶ä¸­1çš„ä¸ªæ•°](https://leetcode-cn.com/problems/er-jin-zhi-zhong-1de-ge-shu-lcof/)

éš¾åº¦ç®€å•241

ç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼Œè¾“å…¥æ˜¯ä¸€ä¸ªæ— ç¬¦å·æ•´æ•°ï¼ˆä»¥äºŒè¿›åˆ¶ä¸²çš„å½¢å¼ï¼‰ï¼Œè¿”å›å…¶äºŒè¿›åˆ¶è¡¨è¾¾å¼ä¸­æ•°å­—ä½æ•°ä¸º '1' çš„ä¸ªæ•°ï¼ˆä¹Ÿè¢«ç§°ä¸º [æ±‰æ˜é‡é‡](http://en.wikipedia.org/wiki/Hamming_weight)).ï¼‰ã€‚

 

**æç¤ºï¼š**

- è¯·æ³¨æ„ï¼Œåœ¨æŸäº›è¯­è¨€ï¼ˆå¦‚ Javaï¼‰ä¸­ï¼Œæ²¡æœ‰æ— ç¬¦å·æ•´æ•°ç±»å‹ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¾“å…¥å’Œè¾“å‡ºéƒ½å°†è¢«æŒ‡å®šä¸ºæœ‰ç¬¦å·æ•´æ•°ç±»å‹ï¼Œå¹¶ä¸”ä¸åº”å½±å“æ‚¨çš„å®ç°ï¼Œå› ä¸ºæ— è®ºæ•´æ•°æ˜¯æœ‰ç¬¦å·çš„è¿˜æ˜¯æ— ç¬¦å·çš„ï¼Œå…¶å†…éƒ¨çš„äºŒè¿›åˆ¶è¡¨ç¤ºå½¢å¼éƒ½æ˜¯ç›¸åŒçš„ã€‚
- åœ¨ Java ä¸­ï¼Œç¼–è¯‘å™¨ä½¿ç”¨ [äºŒè¿›åˆ¶è¡¥ç ](https://baike.baidu.com/item/äºŒè¿›åˆ¶è¡¥ç /5295284) è®°æ³•æ¥è¡¨ç¤ºæœ‰ç¬¦å·æ•´æ•°ã€‚å› æ­¤ï¼Œåœ¨ä¸Šé¢çš„ **ç¤ºä¾‹ 3** ä¸­ï¼Œè¾“å…¥è¡¨ç¤ºæœ‰ç¬¦å·æ•´æ•° `-3`ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šn = 11 (æ§åˆ¶å°è¾“å…¥ 00000000000000000000000000001011)
è¾“å‡ºï¼š3
è§£é‡Šï¼šè¾“å…¥çš„äºŒè¿›åˆ¶ä¸² 00000000000000000000000000001011 ä¸­ï¼Œå…±æœ‰ä¸‰ä½ä¸º '1'ã€‚
```

-----------

å¾ªç¯æ£€æµ‹äºŒè¿›åˆ¶ä½ï¼Œå°†è¾“å…¥çš„æ•°å­—ä¸2çš„iæ¬¡æ–¹è¿›è¡Œä¸è¿ç®—ï¼Œå¾—åˆ°ç»“æœ

```java
    public int hammingWeight(int n) {

        int ans = 0;
for(int i = 0;i <32;i++)
{
if((n &(1<<i)) !=0)
ans++;
}
        return ans;
    }
```





## ä½1çš„ä¸ªæ•°



![image-20211212171351327](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20211212171351327.png)

![image-20211212171658613](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20211212171658613.png)

![image-20211212171849488](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20211212171849488.png)

```java
 public int[] countBits(int n) {

 int[]nums = new int[n+1];
        for (int i = 0; i <= n; i++) {
            nums[i] = countOne(i);

        }
        return nums;
    }

    private int countOne(int i) {
        int ones = 0;
        while(i >0)
        {
            i &= (i-1);
            ones++;
        }
        return ones;
    }
```

## åè¿›åˆ¶è½¬16è¿›åˆ¶

æ³¨ï¼šè¾“å…¥æœ‰æ­£æ•°æœ‰è´Ÿæ•°ï¼Œè´Ÿæ•°ç”¨è¡¥ç è®¡ç®—



-----

![image-20220208172852708](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220208172852708.png)

```java
   public String toHex(int num) {
char[]arr=new char[]{'0','1','2','3','4','5','6','7','8','9','a','b','c','d','e','f'};
String ans="";
char digit;
if(num==0) return "0";
long longnum;
for(int i=7;i>=0;i--)
{
    int value=(num>>4*i)&0xf;
    if(ans.length()>0||value>0)
  {  digit=value<10?(char)(value+'0'):(char)(value-10+'a');
    ans+=digit;
  }
}



return  ans;
    }
```

## ä¸ç”¨åŠ å·çš„åŠ æ³•

![image-20220208181543309](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220208181543309.png)

```java
    public int add(int a, int b) {
int m=a^b;
int n=(a&b)<<1;
while(n!=0)
{
    int temp=m^n;
    n=(m&n)<<1;
    m=temp;
}
return m;
    }
}
```



ä½¿ç”¨ä½è¿ç®—(x >> i) & 1 å¾—åˆ° xçš„ç¬¬ i ä¸ªäºŒè¿›åˆ¶ä½ã€‚



å¼‚æˆ–è¿ç®—

å¼‚æˆ–ï¼ˆXORï¼‰â€è¿ç®—ç¬¦â€œ^â€ï¼Œå…¶è§„åˆ™æ˜¯â€œå¦‚æœAå’ŒBä¸ç›¸åŒï¼Œåˆ™A^Bä¸º1ï¼Œå¦åˆ™ä¸º0â€ã€‚å¼‚æˆ–è¿ç®—æœ€é‡è¦çš„æ€§è´¨å°±æ˜¯â€œå¼€å…³æ€§â€â€”â€”å¼‚æˆ–ä¸¤æ¬¡ä»¥åç›¸å½“äºæ²¡æœ‰å¼‚æˆ–ï¼Œå³A^B^B=Aã€‚å¦å¤–ï¼Œä¸ã€æˆ–å’Œå¼‚æˆ–éƒ½æ»¡è¶³äº¤æ¢å¾‹ï¼šA&B=B&Aï¼ŒA|B=B|Aï¼ŒA^B=B^Aã€‚

å½“ç”¨äºŒè¿›åˆ¶è¡¨ç¤ºå­é›†æ—¶ï¼Œä½è¿ç®—ä¸­çš„æŒ‰ä½ä¸ã€æˆ–ã€å¼‚æˆ–å¯¹åº”é›†åˆçš„äº¤ã€å¹¶å’Œå¯¹ç§°å·®ã€‚





## 1.ä¸ä½¿ç”¨é¢å¤–ç©ºé—´äº¤æ¢ä¸¤ä¸ªæ•°ï¼š

```java
public void swap(int a,int b)
{
    a = a ^b;
    b = a^b;
    a = a^b; //å¼‚æˆ–è¿ç®—æ»¡è¶³äº¤æ¢å¾‹ï¼Œå¦‚b = a ^b ^b,å¾—åˆ°çš„ç»“æœæ˜¯a
}
```

2.æ±‚å‡ºä¸€ä¸ªintç±»å‹æ•°å­—æœ€å³ä¾§çš„1ï¼š

**a & (~a+1) ä¹Ÿå³ a &(-a)**

aå–å+1å†å’Œaç›¸ä¸

3.ä¸€ä¸ªæ•°ç»„ä¸­æœ‰ä¸€ä¸ªæ•°å‡ºç°kæ¬¡ï¼Œå…¶ä»–æ•°éƒ½å‡ºç°mæ¬¡



4.ä¸€ä¸ªæ•°ç»„ä¸­æœ‰ä¸¤ä¸ªæ•°å‡ºç°äº†å¥‡æ•°æ¬¡ï¼Œå…¶ä»–å‡ºç°äº†å¶æ•°æ¬¡

ï¼ˆå·¦ç¨‹äº‘bç«™ï¼šå¼‚æˆ–ç›¸å…³é¢è¯•é¢˜ ç¬¬58åˆ†ï¼‰

![image-20211202201705846](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20211202201705846.png)

å¯¹ä¸€ä¸ªæ•°ç»„æ¥è¯´ï¼Œå‡è®¾å…¶ä¸­aä¸bå‡ºç°äº†å¥‡æ•°æ¬¡ï¼Œeor ^ æ¯ä¸ªæ•°å­—å¾—åˆ°çš„ç»“æœæ˜¯a ^b,è€Œeor & (-eor)å¾—åˆ°çš„æ˜¯æœ€å³ä¾§çš„1ï¼Œå³rightone,ç”¨arrä¸­çš„æ¯ä¸ªæ•°å­—ä¸rightoneç›¸ä¸ï¼Œåˆ™å¯ä»¥åˆ†ä¸ºä¸¤ç±»ï¼Œä¸€ç±»æ˜¯rightoneæœ€å³ä¾§çš„1è¿™ä¸ªä½ç½®ä¸Šæ•°å­—æ˜¯1ï¼Œä¸€ç±»æ˜¯è¿™ä¸ªä½ç½®æ˜¯0ï¼Œä¸”ç”±äºrightoneæ˜¯a bå¼‚æˆ–ä»¥åå¾—åˆ°çš„ï¼Œæ‰€ä»¥è¿™ä¸ªä½ç½®ä¸Ša bå¿…ç„¶ä¸ä¸€æ ·ï¼ˆä¸€ä¸ªæ˜¯1 ä¸€ä¸ªæ˜¯0ï¼‰ï¼Œè¿™æ ·ç›¸å½“äºæŠŠarråˆåˆ†ä¸ºäº†ä¸¤ç±»ï¼Œä¸€ç±»æ˜¯aç±»ï¼Œä¸€ç±»æ˜¯bç±»ï¼ŒæŠŠaç±»ä¸ä¸€ä¸ªæ–°çš„å˜é‡onlyoneå¼‚æˆ–åˆ™å¯ä»¥å¾—åˆ°a

å¯å‚è€ƒåŠ›æ‰£ç¬¬260é¢˜ï¼š

![image-20220215230856942](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220215230856942.png)

ä»£ç 

```java
class Solution {
    public int[] singleNumber(int[] nums) {
        int xorsum = 0;
        for (int num : nums) {
            xorsum ^= num;
        }
        // é˜²æ­¢æº¢å‡º
        int lsb = (xorsum == Integer.MIN_VALUE ? xorsum : xorsum & (-xorsum));//æŒ‰ä½å–åä¹Ÿå¯å†™æˆ~x+1
        int type1 = 0, type2 = 0;
        for (int num : nums) {
            if ((num & lsb) != 0) {
                type1 ^= num;
            } else {
                type2 ^= num;
            }
        }
        return new int[]{type1, type2};
    }
}


```



## [137. åªå‡ºç°ä¸€æ¬¡çš„æ•°å­— II](https://leetcode-cn.com/problems/single-number-ii/)

éš¾åº¦ä¸­ç­‰800

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` ï¼Œé™¤æŸä¸ªå…ƒç´ ä»…å‡ºç° **ä¸€æ¬¡** å¤–ï¼Œå…¶ä½™æ¯ä¸ªå…ƒç´ éƒ½æ°å‡ºç° **ä¸‰æ¬¡ ã€‚**è¯·ä½ æ‰¾å‡ºå¹¶è¿”å›é‚£ä¸ªåªå‡ºç°äº†ä¸€æ¬¡çš„å…ƒç´ ã€‚

----



 ```java
  public int singleNumber(int[] nums) {
         int ans = 0;
 for(int i = 0;i < 32;i++)//32ä½æ•´æ•°
 {
     int tot=0;//æ¯ä¸€ä½ä¸Šçš„1æœ‰å¤šå°‘ä¸ª
     for(int num:nums)
     {
         tot+=(num>>i)&1;
     }
     if(tot %3!=0)
     ans = ans|(1<<i);
 }
 return ans;
     }
 ```

## [æœ‰åºæ•°ç»„ä¸­çš„å•ä¸€å…ƒç´ ](https://leetcode-cn.com/problems/single-element-in-a-sorted-array/)

éš¾åº¦ä¸­ç­‰493

ç»™ä½ ä¸€ä¸ªä»…ç”±æ•´æ•°ç»„æˆçš„**æœ‰åºæ•°ç»„**ï¼Œå…¶ä¸­æ¯ä¸ªå…ƒç´ éƒ½ä¼šå‡ºç°ä¸¤æ¬¡ï¼Œå”¯æœ‰ä¸€ä¸ªæ•°åªä¼šå‡ºç°ä¸€æ¬¡ã€‚

è¯·ä½ æ‰¾å‡ºå¹¶è¿”å›åªå‡ºç°ä¸€æ¬¡çš„é‚£ä¸ªæ•°ã€‚

ä½ è®¾è®¡çš„è§£å†³æ–¹æ¡ˆå¿…é¡»æ»¡è¶³ `O(log n)` æ—¶é—´å¤æ‚åº¦å’Œ `O(1)` ç©ºé—´å¤æ‚åº¦ã€‚

----------

æ³¨æ„æ¡ä»¶ï¼šæœ‰åºæ•°ç»„ä¸”æ—¶é—´å¤æ‚åº¦logn,è¿™é‡Œå¯ä»¥è®¤ä¸ºç›¸ç­‰çš„æ•°å­—å¿…é¡»ç›¸é‚»ï¼Œæ‰¾åˆ°é‚£ä¸ªâ€œä¸­é—´â€çš„æ•°

åˆå§‹æ—¶ï¼ŒäºŒåˆ†æŸ¥æ‰¾çš„å·¦è¾¹ç•Œæ˜¯ 00ï¼Œå³è¾¹ç•Œæ˜¯æ•°ç»„çš„æœ€å¤§ä¸‹æ ‡ã€‚æ¯æ¬¡å–å·¦å³è¾¹ç•Œçš„å¹³å‡å€¼mid ä½œä¸ºå¾…åˆ¤æ–­çš„ä¸‹æ ‡ï¼Œæ ¹æ®mid çš„å¥‡å¶æ€§å†³å®šå’Œå·¦è¾¹æˆ–å³è¾¹çš„ç›¸é‚»å…ƒç´ æ¯”è¾ƒï¼š

å¦‚æœmid æ˜¯å¶æ•°ï¼Œåˆ™æ¯”è¾ƒnums[mid] å’Œnums[mid+1] æ˜¯å¦ç›¸ç­‰ï¼›

å¦‚æœmid æ˜¯å¥‡æ•°ï¼Œåˆ™æ¯”è¾ƒnums[midâˆ’1] å’Œ nums[mid] æ˜¯å¦ç›¸ç­‰ã€‚

å¦‚æœä¸Šè¿°æ¯”è¾ƒç›¸é‚»å…ƒç´ çš„ç»“æœæ˜¯ç›¸ç­‰ï¼Œåˆ™mid<xï¼Œè°ƒæ•´å·¦è¾¹ç•Œï¼Œå¦åˆ™midâ‰¥xï¼Œè°ƒæ•´å³è¾¹ç•Œã€‚è°ƒæ•´è¾¹ç•Œä¹‹åç»§ç»­äºŒåˆ†æŸ¥æ‰¾ï¼Œç›´åˆ°ç¡®å®šä¸‹æ ‡ xx çš„å€¼ã€‚

å¾—åˆ°ä¸‹æ ‡ xx çš„å€¼ä¹‹åï¼Œnums[x] å³ä¸ºåªå‡ºç°ä¸€æ¬¡çš„å…ƒç´ ã€‚



```java
 public int singleNonDuplicate(int[] nums) {
int low= 0,high = nums.length-1;
while(low < high)
{
    int mid =(low +high)/2;
    //if(nums[mid] == nums[mid^1] )//è¿™é‡Œä¸èƒ½ç”¨nums[mid]==nums[mid+1]åˆ¤æ–­ï¼Œä¼šå‡ºé”™ å¦‚æœmid=mid^1è¯´æ˜
if((nums[mid]==nums[mid+1] && mid %2==0)||(mid > 0 &&nums[mid]==nums[mid-1] && mid %2==1))
    low = mid+1;
    
    else 
    high = mid;
}
return nums[low];
    }
```



## [å‰‘æŒ‡ Offer 56 - I. ä¸¤ä¸ªåªå‡ºç°ä¸€æ¬¡çš„æ•°](https://leetcode-cn.com/problems/shu-zu-zhong-shu-zi-chu-xian-de-ci-shu-lcof/)

éš¾åº¦ä¸­ç­‰543

ä¸€ä¸ªæ•´å‹æ•°ç»„ `nums` é‡Œé™¤ä¸¤ä¸ªæ•°å­—ä¹‹å¤–ï¼Œå…¶ä»–æ•°å­—éƒ½å‡ºç°äº†ä¸¤æ¬¡ã€‚è¯·å†™ç¨‹åºæ‰¾å‡ºè¿™ä¸¤ä¸ªåªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ã€‚è¦æ±‚æ—¶é—´å¤æ‚åº¦æ˜¯O(n)ï¼Œç©ºé—´å¤æ‚åº¦æ˜¯O(1)ã€‚

-----

è®©æˆ‘ä»¬å…ˆæ¥è€ƒè™‘ä¸€ä¸ªæ¯”è¾ƒç®€å•çš„é—®é¢˜ï¼š

å¦‚æœé™¤äº†ä¸€ä¸ªæ•°å­—ä»¥å¤–ï¼Œå…¶ä»–æ•°å­—éƒ½å‡ºç°äº†ä¸¤æ¬¡ï¼Œé‚£ä¹ˆå¦‚ä½•æ‰¾åˆ°å‡ºç°ä¸€æ¬¡çš„æ•°å­—ï¼Ÿ

ç­”æ¡ˆå¾ˆç®€å•ï¼šå…¨å‘˜è¿›è¡Œå¼‚æˆ–æ“ä½œå³å¯ã€‚è€ƒè™‘å¼‚æˆ–æ“ä½œçš„æ€§è´¨ï¼šå¯¹äºä¸¤ä¸ªæ“ä½œæ•°çš„æ¯ä¸€ä½ï¼Œç›¸åŒç»“æœä¸º 0ï¼Œä¸åŒç»“æœä¸º 1ã€‚é‚£ä¹ˆåœ¨è®¡ç®—è¿‡ç¨‹ä¸­ï¼Œæˆå¯¹å‡ºç°çš„æ•°å­—çš„æ‰€æœ‰ä½ä¼šä¸¤ä¸¤æŠµæ¶ˆä¸º 0ï¼Œæœ€ç»ˆå¾—åˆ°çš„ç»“æœå°±æ˜¯é‚£ä¸ªå‡ºç°äº†ä¸€æ¬¡çš„æ•°å­—ã€‚

é‚£ä¹ˆè¿™ä¸€æ–¹æ³•å¦‚ä½•æ‰©å±•åˆ°æ‰¾å‡ºä¸¤ä¸ªå‡ºç°ä¸€æ¬¡çš„æ•°å­—å‘¢ï¼Ÿ

å¦‚æœæˆ‘ä»¬å¯ä»¥æŠŠæ‰€æœ‰æ•°å­—åˆ†æˆä¸¤ç»„ï¼Œä½¿å¾—ï¼š

ä¸¤ä¸ªåªå‡ºç°ä¸€æ¬¡çš„æ•°å­—åœ¨ä¸åŒçš„ç»„ä¸­ï¼›

ç›¸åŒçš„æ•°å­—ä¼šè¢«åˆ†åˆ°ç›¸åŒçš„ç»„ä¸­ã€‚

é‚£ä¹ˆå¯¹ä¸¤ä¸ªç»„åˆ†åˆ«è¿›è¡Œå¼‚æˆ–æ“ä½œï¼Œå³å¯å¾—åˆ°ç­”æ¡ˆçš„ä¸¤ä¸ªæ•°å­—ã€‚è¿™æ˜¯è§£å†³è¿™ä¸ªé—®é¢˜çš„å…³é”®ã€‚

æ­¥éª¤ï¼š

å…ˆå¯¹æ‰€æœ‰æ•°å­—è¿›è¡Œä¸€æ¬¡å¼‚æˆ–ï¼Œå¾—åˆ°ä¸¤ä¸ªå‡ºç°ä¸€æ¬¡çš„æ•°å­—çš„å¼‚æˆ–å€¼ã€‚

åœ¨å¼‚æˆ–ç»“æœä¸­æ‰¾åˆ°ä»»æ„ä¸º 1 çš„ä½ã€‚

æ ¹æ®è¿™ä¸€ä½å¯¹æ‰€æœ‰çš„æ•°å­—è¿›è¡Œåˆ†ç»„ã€‚

åœ¨æ¯ä¸ªç»„å†…è¿›è¡Œå¼‚æˆ–æ“ä½œï¼Œå¾—åˆ°ä¸¤ä¸ªæ•°å­—

-----

```java
 public int[] singleNumbers(int[] nums) {

int ans = 0;
for(int num:nums)
ans = (ans ^ num);//æœ€åçš„ç»“æœæ˜¯ä¸¤ä¸ªå‡ºç°æ¬¡æ•°ä¸º1çš„å¼‚æˆ–ï¼Œæ¯”å¦‚4^6
int a=0,b= 0;
int div = 1;
while((ans & div)==0)//4^6=010,010&1=0->1å·¦ç§»ï¼Œ010&010 = 1ï¼Œ4ä¸6ä¹‹ä¸­åªæœ‰ä¸€ä¸ªåœ¨è¿™ä¸€ä½ä¸Šæ˜¯1
div = (div <<1);//æ‰¾åˆ°ä¸€ä¸ªæœ€ä½ä¸º1çš„ä½ï¼Œæ¯”å¦‚4æ˜¯100 6æ˜¯110,æœ€ä½æ˜¯ç¬¬äºŒä½çš„1
for(int i:nums)
{
    if((i&div) ==0)//numsä¸­çš„æ¯ä¸ªæ•°ä¸
    a = a^i;
    else b = b^i;//ç›¸å½“äºåˆ†ä¸ºä¸¤ç»„ï¼Œä¸€ç»„æ˜¯ç¬¬äºŒä½æœ‰1 ä¸€ç»„æ˜¯ç¬¬äºŒä½æ²¡1
}
return new int[]{a,b};
    }
```





## ä¸€ä¸ªæ•°ç»„ä¸­åªæœ‰ä¸€ä¸ªæ•°å­—å‡ºç°kæ¬¡ï¼Œå…¶ä»–æ•°å­—éƒ½å‡ºç°äº†mæ¬¡



```java
  public static int onlyKTimes(int[]arr,int k,int m)
    {
        int[]times = new int[32];//intç±»å‹ä¸º32ä½é•¿åº¦
        for(int theNum:arr)
        {
            //éå†arrä¸­çš„æ‰€æœ‰æ•°å­—
            for (int i = 0; i < 32; i++) {
               times[i]+=(theNum >> i) &1;//theNumå‘å³ç§»åŠ¨iä½ï¼Œå†ä¸1ç›¸ä¸ï¼Œè¡¨ç¤ºè¿™ä¸ªä½ç½®ä¸Šå¦‚æœæ˜¯1ï¼Œåˆ™times[i]çš„æ¬¡æ•°åŠ ä¸€
                //times[0]ï¼šç¬¬0ä½ç½®çš„1å‡ºç°äº†å‡ æ¬¡times[i]:ç¬¬iä½ç½®çš„1å‡ºç°äº†å‡ æ¬¡times
                //å‡ºç°äº†mæ¬¡çš„æ•°ï¼Œåˆ™times[i]ä¸€å®šæ˜¯mçš„æ•´æ•°å€
            }
        }
        int ans = 0;//ansæ˜¯ç­”æ¡ˆ å³å‡ºç°äº†kæ¬¡çš„æ•°å­—
        for (int i = 0; i < 32; i++) {
            //ç°åœ¨å¼€å§‹éå†æ•°ç»„times
            if(times[i] % m != 0)
            {
                //å¦‚æœtimes[i]%mä¸æ˜¯0ï¼Œåˆ™è¯´æ˜å‡ºç°äº†kæ¬¡çš„æ•°å­—åœ¨è¿™ä¸ªiä½ç½®ä¸Šæ˜¯1
                ans |= (1 << i);//å°†1å·¦ç§»iä½å†ä¸ç­”æ¡ˆç›¸æˆ–ï¼Œå³å¯è®©ç­”æ¡ˆæ•°å­—çš„ç¬¬iä½å˜æˆ1
            }

        }
        return ans;
    }

    public static void main(String[] args) {

        int arr[] = new int[]{1,1,1,3,3,3,4,4};//2å‡ºç°äº†2æ¬¡
        System.out.println(onlyKTimes(arr,2,3));
    }
}
```



## æ‰¾åˆ°åªå‡ºç°ä¸€æ¬¡çš„æ•°

ä¸€ä¸ªæ•°ç»„ï¼Œå…¶ä»–çš„çš„å…ƒç´ éƒ½å‡ºç°äº†ä¸¤æ¬¡ï¼Œåªæœ‰ä¸€ä¸ªå…ƒç´ å‡ºç°äº†ä¸€æ¬¡ï¼Œæ‰¾åˆ°è¿™ä¸ªæ•°

---

é‡‡ç”¨ä½è¿ç®—ï¼Œç”¨å¼‚æˆ–æ“ä½œï¼Œå‰©ä¸‹çš„å³ç»“æœ

```java
 public int singleNumber(int[] nums) {
        int sing=0;
for(int i =0;i<nums.length;i++)
{
    sing ^=nums[i];
}
return sing;
    }
```

## [393. UTF-8 ç¼–ç éªŒè¯](https://leetcode.cn/problems/utf-8-validation/)

éš¾åº¦ä¸­ç­‰175

ç»™å®šä¸€ä¸ªè¡¨ç¤ºæ•°æ®çš„æ•´æ•°æ•°ç»„ `data` ï¼Œè¿”å›å®ƒæ˜¯å¦ä¸ºæœ‰æ•ˆçš„ **UTF-8** ç¼–ç ã€‚

**UTF-8** ä¸­çš„ä¸€ä¸ªå­—ç¬¦å¯èƒ½çš„é•¿åº¦ä¸º **1 åˆ° 4 å­—èŠ‚**ï¼Œéµå¾ªä»¥ä¸‹çš„è§„åˆ™ï¼š

1. å¯¹äº **1 å­—èŠ‚** çš„å­—ç¬¦ï¼Œå­—èŠ‚çš„ç¬¬ä¸€ä½è®¾ä¸º 0 ï¼Œåé¢ 7 ä½ä¸ºè¿™ä¸ªç¬¦å·çš„ unicode ç ã€‚
2. å¯¹äº **n å­—èŠ‚** çš„å­—ç¬¦ (n > 1)ï¼Œç¬¬ä¸€ä¸ªå­—èŠ‚çš„å‰ n ä½éƒ½è®¾ä¸º1ï¼Œç¬¬ n+1 ä½è®¾ä¸º 0 ï¼Œåé¢å­—èŠ‚çš„å‰ä¸¤ä½ä¸€å¾‹è®¾ä¸º 10 ã€‚å‰©ä¸‹çš„æ²¡æœ‰æåŠçš„äºŒè¿›åˆ¶ä½ï¼Œå…¨éƒ¨ä¸ºè¿™ä¸ªç¬¦å·çš„ unicode ç ã€‚

è¿™æ˜¯ UTF-8 ç¼–ç çš„å·¥ä½œæ–¹å¼ï¼š

```
      Number of Bytes  |        UTF-8 octet sequence
                       |              (binary)
   --------------------+---------------------------------------------
            1          | 0xxxxxxx
            2          | 110xxxxx 10xxxxxx
            3          | 1110xxxx 10xxxxxx 10xxxxxx
            4          | 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx
```

`x` è¡¨ç¤ºäºŒè¿›åˆ¶å½¢å¼çš„ä¸€ä½ï¼Œå¯ä»¥æ˜¯ `0` æˆ– `1`ã€‚

**æ³¨æ„ï¼š**è¾“å…¥æ˜¯æ•´æ•°æ•°ç»„ã€‚åªæœ‰æ¯ä¸ªæ•´æ•°çš„ **æœ€ä½ 8 ä¸ªæœ‰æ•ˆä½** ç”¨æ¥å­˜å‚¨æ•°æ®ã€‚è¿™æ„å‘³ç€æ¯ä¸ªæ•´æ•°åªè¡¨ç¤º 1 å­—èŠ‚çš„æ•°æ®ã€‚

----------------------

è¿™é‡Œæœ‰ä¸€ä¸ªæŠ€æœ¯ç‚¹ï¼šå¦‚æœåˆ¤æ–­ä¸€ä¸ªæ•°å­—çš„äºŒè¿›åˆ¶å¼€å¤´å‡ ä½æ˜¯å¦ä¸º1ï¼Œå¯ä»¥ç›´æ¥ç”¨ä¸è¿ç®—ï¼Œå› ä¸ºåº•å±‚éƒ½æ˜¯è½¬åŒ–ä¸ºäºŒè¿›åˆ¶è¿›è¡Œçš„ï¼Œå¹¶ä¸”ç”¨1<<nè¡¨ç¤º2çš„næ¬¡æ–¹ï¼Œæ¯”å¦‚è¯´9çš„äºŒè¿›åˆ¶æ˜¯1001ï¼Œå’Œ1<<3è¿›è¡Œä¸è¿ç®—,å°±å¯ä»¥å¾—åˆ°æœ€é«˜ä½æ˜¯ä¸æ˜¯1äº†

æ¯”è¾ƒæ˜¯å¦æ˜¯10ï¼Œå¯ä»¥ç”¨æœ€é«˜ä½æ˜¯11çš„æ•°å’Œç›®æ ‡æ•°è¿›è¡Œä¸è¿ç®—

ç”¨ mm è¡¨ç¤º \textit{data}data çš„é•¿åº¦ï¼Œç”¨index è¡¨ç¤ºUTF-8 å­—ç¬¦çš„å¤´å­—èŠ‚åœ¨data ä¸­çš„ä¸‹æ ‡ï¼Œåˆå§‹æ—¶



index=0ã€‚å¯¹äºæ¯ä¸ªå­—ç¬¦ï¼Œæ‰§è¡Œå¦‚ä¸‹æ“ä½œã€‚

å¤´å­—èŠ‚åŒ…å«äº†å½“å‰å­—ç¬¦çš„å­—èŠ‚æ•°ä¿¡æ¯ï¼Œæ ¹æ®å¤´å­—èŠ‚è®¡ç®—å½“å‰å­—ç¬¦å­—èŠ‚æ•°çš„æ–¹æ³•å¦‚ä¸‹ã€‚

å¦‚æœå¤´å­—èŠ‚çš„æœ€é«˜ä½æ˜¯ 00ï¼Œåˆ™å½“å‰å­—ç¬¦ç”± 11 ä¸ªå­—èŠ‚ç»„æˆï¼Œåªæœ‰å¤´å­—èŠ‚ï¼Œæ²¡æœ‰å…¶ä½™å­—èŠ‚ã€‚

å¦‚æœå¤´å­—èŠ‚çš„æœ€é«˜ä½æ˜¯ 11ï¼Œåˆ™è®¡ç®—å¤´å­—èŠ‚ä»æœ€é«˜ä½å¼€å§‹çš„è¿ç»­ 11 çš„ä¸ªæ•°ã€‚å¦‚æœè¿ç»­ 11 çš„ä¸ªæ•°ä¸º 22 ä¸ªåˆ° 44 ä¸ªï¼Œåˆ™è¿ç»­ 11 çš„ä¸ªæ•°è¡¨ç¤ºå½“å‰å­—ç¬¦çš„å­—èŠ‚æ•°ï¼›å¦åˆ™å¤´å­—èŠ‚ä¸ç¬¦åˆ \text{UTF-8}UTF-8 ç¼–ç çš„è§„åˆ™ï¼Œ\textit{data}data ä¸æ˜¯æœ‰æ•ˆçš„ \text{UTF-8}UTF-8 ç¼–ç ã€‚

å½“å¤´å­—èŠ‚ç¬¦åˆ \text{UTF-8}UTF-8 ç¼–ç çš„è§„åˆ™æ—¶ï¼Œæ ¹æ®å¤´å­—èŠ‚å¾—åˆ°å½“å‰å­—ç¬¦çš„å­—èŠ‚æ•°ä¸º nnï¼Œåˆ™å½“å‰å­—ç¬¦åŒ…æ‹¬å¤´å­—èŠ‚å’Œ n - 1nâˆ’1 ä¸ªå…¶ä½™å­—èŠ‚ã€‚å¦‚æœ \textit{data}data åœ¨å¤´å­—èŠ‚åé¢çš„å­—èŠ‚æ•°å°äº n - 1nâˆ’1ï¼Œå³ \textit{index} + n > mindex+n>mï¼Œåˆ™ \textit{data}data ä¸æ˜¯æœ‰æ•ˆçš„ \text{UTF-8}UTF-8 ç¼–ç ã€‚

å½“data åœ¨å¤´å­—èŠ‚åé¢çš„å­—èŠ‚æ•°å¤§äºç­‰äº n - 1nâˆ’1 æ—¶ï¼Œå¤´å­—èŠ‚åé¢çš„ n - 1nâˆ’1 ä¸ªå­—èŠ‚ä¸ºå½“å‰å­—ç¬¦çš„å…¶ä½™å­—èŠ‚ã€‚åˆ¤æ–­æ¯ä¸ªå…¶ä½™å­—èŠ‚çš„æœ€é«˜ä¸¤ä½æ˜¯å¦æ˜¯ 1010ï¼Œå¦‚æœå­˜åœ¨ä¸€ä¸ªå…¶ä½™å­—èŠ‚çš„æœ€é«˜ä¸¤ä½ä¸æ˜¯ 1010ï¼Œåˆ™data ä¸æ˜¯æœ‰æ•ˆçš„UTF-8 ç¼–ç ã€‚

å½“å‰å­—ç¬¦éå†ç»“æŸä¹‹åï¼Œå°†index çš„å€¼åŠ  nï¼Œåˆ™æ›´æ–°åçš„ index æ˜¯ä¸‹ä¸€ä¸ªå­—ç¬¦çš„å¤´å­—èŠ‚åœ¨ data ä¸­çš„ä¸‹æ ‡ã€‚

é‡å¤ä¸Šè¿°æ“ä½œï¼Œç›´åˆ° index=n æ—¶éå†ç»“æŸï¼Œæ­¤æ—¶data æ˜¯æœ‰æ•ˆçš„ \UTF-8 ç¼–ç ã€‚



ä»£ç ï¼š

```java
  int mask2=(1<<7)+(1<<6);
    int mask1=(1<<7);
    public boolean validUtf8(int[] data) {

  int m = data.length;
        int index = 0;
 
        while (index < m) {
            int num = data[index];
            int n = getNum(num);
            if (n < 0 || index + n > m) {
                return false;
            }
            for (int i = 1; i < n; i++) {
                if (!valid(data[index + i])) {
                    return false;
                }
            }
            index += n;
        }
        return true;


    }
    public int getNum(int number){
        int mask=mask1;
        if((number &mask)==0)return 1;
        int n =0;
        while((number & mask)!=0){
            n++;
            mask>>=1;
            if(n>4)return -1;
        }
        return n>=2?n:-1;
    }
    public boolean valid(int n){
        return (n&mask2)==mask1;
    }
```

## [å‰‘æŒ‡ Offer 56 - II. æ•°ç»„ä¸­æ•°å­—å‡ºç°çš„æ¬¡æ•° II](https://leetcode.cn/problems/shu-zu-zhong-shu-zi-chu-xian-de-ci-shu-ii-lcof/)

éš¾åº¦ä¸­ç­‰387

åœ¨ä¸€ä¸ªæ•°ç»„ `nums` ä¸­é™¤ä¸€ä¸ªæ•°å­—åªå‡ºç°ä¸€æ¬¡ä¹‹å¤–ï¼Œå…¶ä»–æ•°å­—éƒ½å‡ºç°äº†ä¸‰æ¬¡ã€‚è¯·æ‰¾å‡ºé‚£ä¸ªåªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šnums = [3,4,3,3]
è¾“å‡ºï¼š4
```

-------------------



![image-20220916213230308](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220916213230308.png)

```java
 public int singleNumber(int[] nums) {
 int[] counts = new int[32];
        for (int i = 0; i < nums.length; i++) {
            for (int j = 31; j >=0; j--) {
                //æ³¨æ„è¿™é‡Œ31å¼€å§‹ï¼Œå› ä¸ºæ•°ç»„çš„ç¬¬31ä½å…¶å®å°±æ˜¯æœ€ä½ä½ï¼Œè¿™é‡Œä¸è¦å¼„é”™äº†ï¼Œè¿™ä¸ªcountæ•°ç»„æ˜¯æ¯ä¸€ä½ä¸Šçš„æ•°å­—æ€»å’Œ
                counts[j]+=nums[i]&1;
                nums[i]=nums[i]>>1;
            }

        }
        int res = 0;
        for (int i = 0; i < counts.length; i++) {
            //å…ˆå·¦ç§»å†å¼‚æˆ–ï¼Œæ¢å¤æ¯ä¸ªä½æ•°ä¸Šçš„æ•°å­—ï¼Œè®°å¾—è¦æ¨¡3
            res <<=1;
            res = res|counts[i]%3;
        }
        return res;
    }
```

## é«˜æ•ˆåˆ¤æ–­ä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦æœ‰ç›¸åŒå­—æ¯

æ€è·¯1ï¼šç”¨ä¸€ä¸ªmapè®°å½•å­—æ¯å’Œå‡ºç°æ¬¡æ•°ï¼Œå…ˆéå†å…¶ä¸­ä¸€ä¸ªæ¬¡æ•°åŠ ä¸€ï¼Œç„¶åéå†å¦ä¸€ä¸ªæ¬¡æ•°å‡ä¸€ï¼Œå¦‚æœå‡ºç°æŸä¸ªé”®çš„æ¬¡æ•°ä¸º0åˆ™å­˜åœ¨ç›¸åŒå­—æ¯

æ–¹æ³•äºŒï¼šä½è¿ç®—ï¼Œä½¿ç”¨æˆ–è¿ç®—å¾—åˆ°ä¸€ä¸ªæ•´æ•°ï¼Œç„¶åå°†è¿™ä¸ªæ•´æ•°ä¸å¦ä¸€ä¸ªæ•´æ•°ç›¸ä¸

```java
String[] words
int[]arr=new int[words.length];
        for(int i =0;i<words.length;i++){
            int sum=0;
            for(int j = 0;j<words[i].length();j++)
            sum|=1<<(words[i].charAt(j)-'0');
            arr[i]=sum;
        }
```



## IPåœ°å€ä¸intæ•´æ•°çš„è½¬æ¢

ç»™ä½ ä¸€ä¾‹å¦‚ï¼Œipåœ°å€ä¸º10.0.3.193ï¼ŒæŠŠæ¯æ®µæ‹†åˆ†æˆä¸€ä¸ªäºŒè¿›åˆ¶å½¢å¼ç»„åˆèµ·æ¥ä¸º`00001010 00000000 00000011 11000001`ï¼Œç„¶åæŠŠè¿™ä¸ªäºŒè¿›åˆ¶æ•°è½¬å˜æˆåè¿›åˆ¶æ•´æ•°å°±æ˜¯167773121ã€‚



è§£ç­”ï¼š

å€ŸåŠ©ä½è¿ç®—å®ç°ã€‚å¦‚IP 10.0.3.193ï¼Œå°†10å·¦ç§»24ä½ï¼Œ0å·¦ç§»16ä½ï¼Œ3å·¦ç§»8ä½ï¼Œ193å·¦ç§»0ä½ã€‚4ä¸ªseg`æˆ–è¿ç®—`ï¼Œå³ä¸ºç»“æœã€‚

ä¹Ÿå¯ä»¥ç”¨åŠ æ³•è¿ç®—å®ç°ï¼Œä½†æ˜¯å› ä¸ºä¼šæº¢å‡ºè¦ç”¨long:

```java
 public static long ipToTen(String str)
    {
        String[]line=str.split("\\.");
         long ans=0;
         int begin=24;
         for(String s:line)
         {
ans+=((long)Integer.valueOf(s)<<begin);
begin-=8;
         }
         return ans;
    }
ç”¨æˆ–è¿ç®—ï¼š
     public static long ipToTen(String str)
    {
        String[]line=str.split("\\.");
         long ans=0;
         int begin=24;
         for(String s:line)
         {
ans=ans<<8|Integer.valueOf(s);

         }
         return ans;
    }
```



æˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸‹å¦‚ä½•å°†æ•´æ•°è½¬æˆIPã€‚å°†æ•´æ•°å’Œ255åš`ä¸è¿ç®—`ï¼Œç»“æœä¸ºIPçš„ç¬¬4æ®µã€‚æ•´æ•°å³ç§»8ä½ï¼Œå’Œ255åš`ä¸è¿ç®—`çš„ç»“æœå°±æ˜¯IPçš„ç¬¬3æ®µ...æœ€åå†å°†æ¯è½®ä¸è¿ç®—çš„ç»“æœæ‹¼æ¥èµ·æ¥ä¾¿æ˜¯æœ€ç»ˆçš„IPåœ°å€

```c++
string intToIp(unsigned num) {
    vector<string> ipList;
    string res = "";
    for(int i = 0; i < 4; i ++) {
        string seg = to_string(num & 255);
        ipList.push_back(seg);
        num = num >> 8;
    }
    reverse(ipList.begin(), ipList.end());
    for(int i = 0; i < 4; i ++) {
        if(i == 3) res += ipList[i];
        else res += ipList[i] + '.';
    }
    return res;
}
æˆ–è€…è¿™æ ·å†™ï¼š
       public static String tenToIp(String str)
       {
long num=Long.valueOf(str);
int begin=24;
int n=8;
StringBuilder sb=new StringBuilder();
for(int i=24;i>=0;i=i-8)
{
sb.append(String.valueOf((num&(0xff<<i))>>i)).append(".");
}
sb.deleteCharAt(sb.length()-1);
return sb.toString();
       }
```





## [338. æ¯”ç‰¹ä½è®¡æ•°](https://leetcode.cn/problems/counting-bits/)

éš¾åº¦ç®€å•1141

ç»™ä½ ä¸€ä¸ªæ•´æ•° `n` ï¼Œå¯¹äº `0 <= i <= n` ä¸­çš„æ¯ä¸ª `i` ï¼Œè®¡ç®—å…¶äºŒè¿›åˆ¶è¡¨ç¤ºä¸­ **`1` çš„ä¸ªæ•°** ï¼Œè¿”å›ä¸€ä¸ªé•¿åº¦ä¸º `n + 1` çš„æ•°ç»„ `ans` ä½œä¸ºç­”æ¡ˆã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šn = 2
è¾“å‡ºï¼š[0,1,1]
è§£é‡Šï¼š
0 --> 0
1 --> 1
2 --> 10
```



--------------------------

åŠ å…¥ä¸€ä¸ªæ•°å­—num,æ¯”ä»–å°çš„æœ€å¤§çš„2çš„å¹‚æ¬¡æ–¹ä¸ºhigh,åˆ™æœ‰numæ¯”num-highåªå¤šäº†1ä¸ªæ¯”ç‰¹ä½ï¼Œ**è¿™é‡Œæœ‰ä¸€ä¸ªå·§å¦™åˆ¤æ–­ä¸€ä¸ªæ•°å­—æ˜¯å¦æ˜¯2çš„å¹‚æ¬¡æ–¹çš„æ–¹æ³•ï¼ši&i-1 æ˜¯å¦ä¸º0**ï¼Œæ‰€ä»¥ç”¨ä½è¿ç®—+åŠ¨æ€è§„åˆ’çš„æ€æƒ³æ˜¯æœ€å¿«çš„

```java
 public int[] countBits(int n) {
int[]ans=new int[n+1];
ans[0]=0;
int highbit=0;
for(int i = 1;i<=n;i++){
if((i&i-1)==0)
highbit=i;

//21=16+5 å¯ä»¥è¯´21æ¯”5åªå¤šäº†1ä¸ªæ¯”ç‰¹ä½ï¼Œæ‰€ä»¥ç”¨è¿™ç§åŠ¨æ€è§„åˆ’çš„æ€æƒ³ã€‚
ans[i]=ans[i-highbit]+1;
}
return ans;
    }
```

## [å‰‘æŒ‡ Offer II 001. æ•´æ•°é™¤æ³•](https://leetcode.cn/problems/xoh6Oh/)

éš¾åº¦ç®€å•220

ç»™å®šä¸¤ä¸ªæ•´æ•° `a` å’Œ `b` ï¼Œæ±‚å®ƒä»¬çš„é™¤æ³•çš„å•† `a/b` ï¼Œè¦æ±‚ä¸å¾—ä½¿ç”¨ä¹˜å· `'*'`ã€é™¤å· `'/'` ä»¥åŠæ±‚ä½™ç¬¦å· `'%'` ã€‚

 

**æ³¨æ„ï¼š**

- æ•´æ•°é™¤æ³•çš„ç»“æœåº”å½“æˆªå»ï¼ˆ`truncate`ï¼‰å…¶å°æ•°éƒ¨åˆ†ï¼Œä¾‹å¦‚ï¼š`truncate(8.345) = 8` ä»¥åŠ `truncate(-2.7335) = -2`
- å‡è®¾æˆ‘ä»¬çš„ç¯å¢ƒåªèƒ½å­˜å‚¨ 32 ä½æœ‰ç¬¦å·æ•´æ•°ï¼Œå…¶æ•°å€¼èŒƒå›´æ˜¯ `[âˆ’231, 231âˆ’1]`ã€‚æœ¬é¢˜ä¸­ï¼Œå¦‚æœé™¤æ³•ç»“æœæº¢å‡ºï¼Œåˆ™è¿”å› `231 âˆ’ 1`

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼ša = 15, b = 2
è¾“å‡ºï¼š7
è§£é‡Šï¼š15/2 = truncate(7.5) = 7
```

-----

ä¸€ç§ç”¨ä½è¿ç®—çš„æ–¹æ³•ï¼š

```java
 public int divide(int a, int b) {
        //è¿™é‡Œå·²ç»æŠŠ-2147483648å’Œ-1çš„æƒ…å†µè¿”å›äº†
           if (a == Integer.MIN_VALUE && b == -1)
        return Integer.MAX_VALUE;

int res=0;
 int sign = (a > 0) ^ (b > 0) ? -1 : 1;
a=Math.abs(a);
b=Math.abs(b);

    for(int i=31;i>=0;i--)
    {
        //ç›¸å½“äºa/2çš„iæ¬¡æ–¹-b>0  

        // æ³¨æ„ï¼Œè¿™é‡Œä¸èƒ½æ˜¯ (a >>> i) >= b è€Œåº”è¯¥æ˜¯ (a >>> i) - b >= 0
        // è¿™ä¸ªä¹Ÿæ˜¯ä¸ºäº†é¿å… b = -2147483648ï¼Œå¦‚æœ b = -2147483648
        // é‚£ä¹ˆ (a >>> i) >= b æ°¸è¿œä¸º trueï¼Œä½†æ˜¯ (a >>> i) - b >= 0 ä¸º false
        //è¿™é‡Œä¸èƒ½æ˜¯a>>i,è€Œæ˜¯æ— ç¬¦å·çš„>>>ï¼Œ >>è¡¨ç¤ºå³ç§»ï¼Œå¦‚æœè¯¥æ•°ä¸ºæ­£ï¼Œåˆ™é«˜ä½è¡¥0ï¼Œè‹¥ä¸ºè´Ÿæ•°ï¼Œåˆ™é«˜ä½è¡¥1ï¼Œ >>>è¡¨ç¤º æ— ç¬¦å·å³ç§»ï¼Œä¹Ÿå«é€»è¾‘å³ç§»ï¼Œå³è‹¥è¯¥æ•°ä¸ºæ­£ï¼Œåˆ™é«˜ä½è¡¥0ï¼Œè€Œè‹¥è¯¥æ•°ä¸ºè´Ÿæ•°ï¼Œåˆ™å³ç§»åé«˜ä½åŒæ ·è¡¥0
        if((a>>>i)-b>=0)
        {a-=(b<<i);
        //è¿™é‡Œä¸ç”¨res+1<<iå¯ä»¥é˜²æ­¢æº¢å‡ºï¼Œå› ä¸ºåŠ æ³•æ›´å¤§
         if (res > Integer.MAX_VALUE - (1 << i)) {
                return Integer.MIN_VALUE;
            }
        res+=(1<<i);
        }
    
}
    return sign == 1 ? res : -res;
    }
```

æˆ–è€…æŠŠå˜é‡éƒ½å˜ä¸ºlong:

```java
  public int divide(int a, int b) {
        //è¿™é‡Œå·²ç»æŠŠ-2147483648å’Œ-1çš„æƒ…å†µè¿”å›äº†
           if (a == Integer.MIN_VALUE && b == -1)
        return Integer.MAX_VALUE;

int res=0;
 int sign = (a > 0) ^ (b > 0) ? -1 : 1;
 long la=a,lb=b;
 long aa=la<0?-la:la,bb=lb<0?-lb:lb;


    for(int i=31;i>=0;i--)
    {
 //è¿™é‡Œä¸èƒ½aa=aa-(aa>>i)
         if(aa>=(bb<<i))
        {
            aa-=(bb<<i);
        res+=(1<<i);
        }
    
}
    return sign == 1 ? res : -res;
    }
```

## æ±‚ä¸€æ®µåŒºé—´å†…1çš„ä¸ªæ•°æœ€å¤šçš„æ•°

æ±‚ä¸€æ®µåŒºé—´å†…ï¼Œè½¬ä¸ºäºŒè¿›åˆ¶æ—¶1ä¸ªæ•°æœ€å¤šçš„æ•°ï¼š

ç”¨å¼‚æˆ–è¿ç®—ï¼Œå…ˆè·å¾—æ‰€æœ‰2çš„å¹‚æ¬¡æ–¹ï¼Œæ¯”å¦‚2çš„0æ¬¡æ–¹1,2çš„1æ¬¡æ–¹10 2çš„2æ¬¡æ–¹100ï¼Œæ¯æ¬¡éƒ½æ˜¯1å·¦ç§»ï¼Œç„¶åå†å°†åŒºé—´å·¦ç«¯ç‚¹è¿›è¡Œå¼‚æˆ–è¿™äº›2çš„å¹‚æ¬¡æ–¹ç”¨äºæ·»åŠ ä¸€ä¸ª1ï¼Œç›´åˆ°å¤§äºå³ç«¯ç‚¹

```java
 int[]bin=new int[60];
        bin[0]=1;
        for (int i = 1; i < 60; i++) {
            bin[i]=bin[i-1]<<1;
        }
        //l:å·¦ç«¯ç‚¹ æ¯å¼‚æˆ–ä¸€æ¬¡ï¼Œè¿™ä¸ªæ•°å½“ä¸­çš„1çš„ä¸ªæ•°å°±å¤šäº†ä¸€ä¸ª
            long l=in.nextLong();
            long r=in.nextLong();
            for (int i = 0; i < 60; i++) {
                if((l|bin[i])<=r) l|=bin[i];
                  else break;
            }
            System.out.println(l+" "+cal(l));
            q--;
        
```



# åŠ¨æ€è§„åˆ’é—®é¢˜å¥—è·¯

å…ˆçœ‹ä¸‹é¢˜â½¬ï¼šç»™ä½  k ç§â¾¯å€¼çš„ç¡¬å¸ï¼Œâ¾¯å€¼åˆ†åˆ«ä¸º c1, c2 ... ck ï¼Œæ¯ç§ç¡¬
å¸çš„æ•°é‡â½†é™ï¼Œå†ç»™â¼€ä¸ªæ€»â¾¦é¢ amount ï¼Œé—®ä½ æœ€å°‘éœ€è¦â¼æšç¡¬å¸å‡‘å‡ºè¿™ä¸ª
â¾¦é¢ï¼Œå¦‚æœä¸å¯èƒ½å‡‘å‡ºï¼Œç®—æ³•è¿”å› -1 ã€‚ç®—æ³•çš„å‡½æ•°ç­¾åå¦‚ä¸‹

// coins ä¸­æ˜¯å¯é€‰ç¡¬å¸â¾¯å€¼ï¼Œamount æ˜¯â½¬æ ‡â¾¦é¢
int coinChange(int[] coins, int amount);

â½å¦‚è¯´ k = 3 ï¼Œâ¾¯å€¼åˆ†åˆ«ä¸º 1ï¼Œ2ï¼Œ5ï¼Œæ€»â¾¦é¢ amount = 11 ã€‚é‚£ä¹ˆæœ€å°‘éœ€è¦ 3 æšç¡¬å¸å‡‘å‡ºï¼Œå³ 11 = 5 + 5 + 1ã€‚



â¾¸å…ˆï¼Œè¿™ä¸ªé—®é¢˜æ˜¯åŠ¨æ€è§„åˆ’é—®é¢˜ï¼Œå› ä¸ºå®ƒå…·æœ‰ã€Œæœ€ä¼˜â¼¦ç»“æ„ã€çš„ã€‚è¦ç¬¦åˆ
ã€Œæœ€ä¼˜â¼¦ç»“æ„ã€ï¼Œâ¼¦é—®é¢˜é—´å¿…é¡»äº’ç›¸ç‹¬â½´ã€‚å•¥å«ç›¸äº’ç‹¬â½´ï¼Ÿä½ è‚¯å®šä¸æƒ³çœ‹æ•°
å­¦è¯æ˜ï¼Œæˆ‘â½¤â¼€ä¸ªç›´è§‚çš„ä¾‹â¼¦æ¥è®²è§£ã€‚
â½å¦‚è¯´ï¼Œä½ çš„åŸé—®é¢˜æ˜¯è€ƒå‡ºæœ€â¾¼çš„æ€»æˆç»©ï¼Œé‚£ä¹ˆä½ çš„â¼¦é—®é¢˜å°±æ˜¯è¦æŠŠè¯­â½‚è€ƒ
åˆ°æœ€â¾¼ï¼Œæ•°å­¦è€ƒåˆ°æœ€â¾¼â€¦â€¦ ä¸ºäº†æ¯é—¨è¯¾è€ƒåˆ°æœ€â¾¼ï¼Œä½ è¦æŠŠæ¯é—¨è¯¾ç›¸åº”çš„é€‰
æ‹©é¢˜åˆ†æ•°æ‹¿åˆ°æœ€â¾¼ï¼Œå¡«ç©ºé¢˜åˆ†æ•°æ‹¿åˆ°æœ€â¾¼â€¦â€¦ å½“ç„¶ï¼Œæœ€ç»ˆå°±æ˜¯ä½ æ¯é—¨è¯¾éƒ½
æ˜¯æ»¡åˆ†ï¼Œè¿™å°±æ˜¯æœ€â¾¼çš„æ€»æˆç»©ã€‚

å›åˆ°å‡‘é›¶é’±é—®é¢˜ï¼Œä¸ºä»€ä¹ˆè¯´å®ƒç¬¦åˆæœ€ä¼˜â¼¦ç»“æ„å‘¢ï¼Ÿâ½å¦‚ä½ æƒ³æ±‚ amount =11 æ—¶çš„æœ€å°‘ç¡¬å¸æ•°ï¼ˆåŸé—®é¢˜ï¼‰ï¼Œå¦‚æœä½ çŸ¥é“å‡‘å‡º amount = 10 çš„æœ€å°‘ç¡¬å¸æ•°ï¼ˆâ¼¦é—®é¢˜ï¼‰ï¼Œä½ åªéœ€è¦æŠŠâ¼¦é—®é¢˜çš„ç­”æ¡ˆåŠ â¼€ï¼ˆå†é€‰â¼€æšâ¾¯å€¼ä¸º 1 çš„ç¡¬å¸ï¼‰å°±æ˜¯åŸé—®é¢˜çš„ç­”æ¡ˆï¼Œå› ä¸ºç¡¬å¸çš„æ•°é‡æ˜¯æ²¡æœ‰é™åˆ¶çš„ï¼Œâ¼¦é—®é¢˜ä¹‹é—´æ²¡æœ‰ç›¸äº’åˆ¶ï¼Œæ˜¯äº’ç›¸ç‹¬â½´çš„æ˜ç¡® base caseï¼Œæ˜¾ç„¶â½¬æ ‡â¾¦é¢ä¸º 0 æ—¶ï¼Œæ‰€éœ€ç¡¬å¸æ•°é‡ä¸º 0ï¼›å½“â½¬æ ‡â¾¦é¢â¼©äº 0 æ—¶ï¼Œâ½†è§£ï¼Œè¿”å› -1ï¼š

![](C:\Users\14172\AppData\Roaming\Typora\typora-user-images\image-20210824222340149.png)

æ—¶é—´å¤æ‚åº¦åˆ†æï¼šâ¼¦é—®é¢˜æ€»æ•° x æ¯ä¸ªâ¼¦é—®é¢˜çš„æ—¶é—´ã€‚
â¼¦é—®é¢˜æ€»æ•°ä¸ºé€’å½’æ ‘èŠ‚ç‚¹ä¸ªæ•°ï¼Œè¿™ä¸ªâ½è¾ƒéš¾çœ‹å‡ºæ¥ï¼Œæ˜¯ O(n^k)ï¼Œæ€»ä¹‹æ˜¯æŒ‡æ•°çº§åˆ«çš„ã€‚æ¯ä¸ªâ¼¦é—®é¢˜ä¸­å«æœ‰â¼€ä¸ª for å¾ªç¯ï¼Œå¤æ‚åº¦ä¸º O(k)ã€‚æ‰€ä»¥æ€»æ—¶é—´å¤æ‚åº¦ä¸º O(k * n^k)ï¼ŒæŒ‡æ•°çº§åˆ«ã€‚
2ã€å¸¦å¤‡å¿˜å½•çš„é€’å½’
åªéœ€è¦ç¨åŠ ä¿®æ”¹ï¼Œå°±å¯ä»¥é€šè¿‡å¤‡å¿˜å½•æ¶ˆé™¤â¼¦é—®é¢˜ï¼š
def coinChange(coins: List[int], amount: int):

![image-20210824222517094](C:\Users\14172\AppData\Roaming\Typora\typora-user-images\image-20210824222517094.png)

ï¼Œå¾ˆæ˜¾ç„¶ã€Œå¤‡å¿˜å½•ã€â¼¤â¼¤å‡â¼©äº†â¼¦é—®é¢˜æ•°â½¬ï¼Œå®Œå…¨æ¶ˆé™¤äº†â¼¦é—®é¢˜çš„
å†—ä½™ï¼Œæ‰€ä»¥â¼¦é—®é¢˜æ€»æ•°ä¸ä¼šè¶…è¿‡â¾¦é¢æ•° nï¼Œå³â¼¦é—®é¢˜æ•°â½¬ä¸º O(n)ã€‚å¤„ç†â¼€ä¸ª
â¼¦é—®é¢˜çš„æ—¶é—´ä¸å˜ï¼Œä»æ˜¯ O(k)ï¼Œæ‰€ä»¥æ€»çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(kn)ã€‚

![image-20210824222603288](C:\Users\14172\AppData\Roaming\Typora\typora-user-images\image-20210824222603288.png)

}
}
return (dp[amount] == amount + 1) ? -1 : dp[amount];
}

## é›¶é’±å…‘æ¢



![image-20210829191501516](C:\Users\14172\AppData\Roaming\Typora\typora-user-images\image-20210829191501516.png)



```java
  public int coinChange(int[] coins, int amount) {
if(amount < 1) return 0;
int[]dp= new int[amount+1];//dp[i]:å½“ç›®æ ‡é‡‘é¢ä¸ºiæ—¶è‡³å°‘éœ€è¦å¤šå°‘ç¡¬å¸
Arrays.fill(dp,amount+1);
dp[0]=0;
for(int i=0;i<dp.length;i++)
{
   for(int num:coins)
   {
       if(i-num<0)
       continue;
       else
       dp[i]=Math.min(dp[i-num]+1,dp[i]);
   }
}
return dp[amount]==amount+1?-1:dp[amount];

    }

```



## [518. é›¶é’±å…‘æ¢ II](https://leetcode-cn.com/problems/coin-change-2/)

éš¾åº¦ä¸­ç­‰715

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `coins` è¡¨ç¤ºä¸åŒé¢é¢çš„ç¡¬å¸ï¼Œå¦ç»™ä¸€ä¸ªæ•´æ•° `amount` è¡¨ç¤ºæ€»é‡‘é¢ã€‚

è¯·ä½ è®¡ç®—å¹¶è¿”å›å¯ä»¥å‡‘æˆæ€»é‡‘é¢çš„ç¡¬å¸ç»„åˆæ•°ã€‚å¦‚æœä»»ä½•ç¡¬å¸ç»„åˆéƒ½æ— æ³•å‡‘å‡ºæ€»é‡‘é¢ï¼Œè¿”å› `0` ã€‚

å‡è®¾æ¯ä¸€ç§é¢é¢çš„ç¡¬å¸æœ‰æ— é™ä¸ªã€‚ 

é¢˜ç›®æ•°æ®ä¿è¯ç»“æœç¬¦åˆ 32 ä½å¸¦ç¬¦å·æ•´æ•°ã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šamount = 5, coins = [1, 2, 5]
è¾“å‡ºï¼š4
è§£é‡Šï¼šæœ‰å››ç§æ–¹å¼å¯ä»¥å‡‘æˆæ€»é‡‘é¢ï¼š
5=5
5=2+2+1
5=2+1+1+1
5=1+1+1+1+1
```

------

![image-20220821105740114](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220821105740114.png)

![image-20220821105752103](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220821105752103.png)

![image-20220821105819869](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220821105819869.png)

```java
    public int change(int amount, int[] coins) {
int[]dp = new int[amount+1];
if(amount==0) return 1;
dp[0]=1;
for(int coin:coins)
{
    for(int i=coin;i<=amount;i++)
    dp[i]+=dp[i-coin];
}
return dp[amount];
    }
```






æœ€ä¼˜â¼¦ç»“æ„æ€§è´¨ä½œä¸ºåŠ¨æ€è§„åˆ’é—®é¢˜çš„å¿…è¦æ¡ä»¶ï¼Œâ¼€å®šæ˜¯è®©ä½ æ±‚æœ€å€¼çš„



## [377. ç»„åˆæ€»å’Œ â…£](https://leetcode.cn/problems/combination-sum-iv/)

éš¾åº¦ä¸­ç­‰689

ç»™ä½ ä¸€ä¸ªç”± **ä¸åŒ** æ•´æ•°ç»„æˆçš„æ•°ç»„ `nums` ï¼Œå’Œä¸€ä¸ªç›®æ ‡æ•´æ•° `target` ã€‚è¯·ä½ ä» `nums` ä¸­æ‰¾å‡ºå¹¶è¿”å›æ€»å’Œä¸º `target` çš„å…ƒç´ ç»„åˆçš„ä¸ªæ•°ã€‚

é¢˜ç›®æ•°æ®ä¿è¯ç­”æ¡ˆç¬¦åˆ 32 ä½æ•´æ•°èŒƒå›´ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šnums = [1,2,3], target = 4
è¾“å‡ºï¼š7
è§£é‡Šï¼š
æ‰€æœ‰å¯èƒ½çš„ç»„åˆä¸ºï¼š
(1, 1, 1, 1)
(1, 1, 2)
(1, 2, 1)
(1, 3)
(2, 1, 1)
(2, 2)
(3, 1)
è¯·æ³¨æ„ï¼Œé¡ºåºä¸åŒçš„åºåˆ—è¢«è§†ä½œä¸åŒçš„ç»„åˆã€‚
```

-------------------

![image-20220831172726160](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220831172726160.png)

ç”±æ­¤å¯ä»¥å¾—åˆ°åŠ¨æ€è§„åˆ’çš„åšæ³•ï¼š

åˆå§‹åŒ– dp[0]=1ï¼›

éå† i ä» 1 åˆ°targetï¼Œå¯¹äºæ¯ä¸ª iï¼Œè¿›è¡Œå¦‚ä¸‹æ“ä½œï¼š

éå†æ•°ç»„nums ä¸­çš„æ¯ä¸ªå…ƒç´  numï¼Œå½“numâ‰¤i æ—¶ï¼Œå°†dp[iâˆ’num] çš„å€¼åŠ åˆ° dp[i]ã€‚
æœ€ç»ˆå¾—åˆ° dp[target] çš„å€¼å³ä¸ºç­”æ¡ˆã€‚

```java
  public int combinationSum4(int[] nums, int target) {
int []dp = new int[target+1];
dp[0]=1;
for(int i = 1;i <= target;i++){
    for(int num:nums){
        if(num<=i){
            dp[i]+=dp[i-num];
        }
    }
}
    
return dp[target];

}
```





## èƒŒåŒ…é—®é¢˜ï¼š

dp\[i][w] è¡¨â½°ï¼šå¯¹äºå‰ i ä¸ªç‰©å“ï¼Œå½“å‰èƒŒåŒ…çš„å®¹é‡ä¸º w æ—¶ï¼Œè¿™ç§æƒ…å†µä¸‹å¯ä»¥è£…ä¸‹çš„æœ€â¼¤ä»·å€¼æ˜¯ dp\[i][w] ã€‚
å¦‚æœä½ æ²¡æœ‰æŠŠè¿™ç¬¬ i ä¸ªç‰©å“è£…â¼ŠèƒŒåŒ…ï¼Œé‚£ä¹ˆå¾ˆæ˜¾ç„¶ï¼Œæœ€â¼¤ä»·å€¼ dp\[i][w]åº”è¯¥ç­‰äº dp\[i-1][w] ï¼Œç»§æ‰¿ä¹‹å‰çš„ç»“æœã€‚
å¦‚æœä½ æŠŠè¿™ç¬¬ i ä¸ªç‰©å“è£…â¼Šäº†èƒŒåŒ…ï¼Œé‚£ä¹ˆ dp\[i][w] åº”è¯¥ç­‰äº dp\[i-1][w-wt[i-1]] + val[i-1] ã€‚

æ¢å¥è¯è¯´ï¼Œå¦‚æœ j - nums[i-1] çš„é‡é‡å¯ä»¥è¢«æ°å¥½è£…æ»¡ï¼Œé‚£ä¹ˆåªè¦æŠŠç¬¬ iä¸ªç‰©å“è£…è¿›å»ï¼Œä¹Ÿå¯æ°å¥½è£…æ»¡ j çš„é‡é‡ï¼›å¦åˆ™çš„è¯ï¼Œé‡é‡ j è‚¯å®šæ˜¯è£…ä¸æ»¡çš„ã€‚
â¾¸å…ˆï¼Œç”±äº i æ˜¯ä» 1 å¼€å§‹çš„ï¼Œæ‰€ä»¥ val å’Œ wt çš„ç´¢å¼•æ˜¯ i-1 æ—¶è¡¨â½°ç¬¬i ä¸ªç‰©å“çš„ä»·å€¼å’Œé‡é‡ã€‚(æœ‰ä¸¤ä¸ªæ•°ç»„ï¼Œåˆ†åˆ«æ”¾valä»·å€¼å’Œwté‡é‡)
â½½ dp\[i-1][w - wt[i-1]] ä¹Ÿå¾ˆå¥½ç†è§£ï¼šä½ å¦‚æœè£…äº†ç¬¬ i ä¸ªç‰©å“ï¼Œå°±è¦å¯»æ±‚å‰©ä½™é‡é‡ w - wt[i-1] é™åˆ¶ä¸‹çš„æœ€â¼¤ä»·å€¼ï¼ŒåŠ ä¸Šç¬¬ i ä¸ªç‰©å“çš„ä»·å€¼val[i-1] ã€‚

ç”±äº i æ˜¯ä» 1 å¼€å§‹çš„ï¼Œâ½½æ•°ç»„ç´¢å¼•æ˜¯ä» 0 å¼€å§‹çš„ï¼Œæ‰€ä»¥ç¬¬ i ä¸ªç‰©å“çš„é‡é‡åº”è¯¥æ˜¯ nums[i-1] ï¼Œè¿™â¼€ç‚¹ä¸è¦ææ··ã€‚

```java
é—®é¢˜æè¿°ï¼šæœ‰ä¸€ä¸ªèƒŒåŒ…å¯ä»¥è£…ç‰©å“çš„æ€»é‡é‡ä¸ºWï¼Œç°æœ‰Nä¸ªç‰©å“ï¼Œæ¯ä¸ªç‰©å“ä¸­w[i]ï¼Œä»·å€¼v[i]ï¼Œç”¨èƒŒåŒ…è£…ç‰©å“ï¼Œèƒ½è£…çš„æœ€å¤§ä»·å€¼æ˜¯å¤šå°‘ï¼Ÿ

å®šä¹‰çŠ¶æ€è½¬ç§»æ•°ç»„dp[i][j]ï¼Œè¡¨ç¤ºå‰iä¸ªç‰©å“ï¼ŒèƒŒåŒ…é‡é‡ä¸ºjçš„æƒ…å†µä¸‹èƒ½è£…çš„æœ€å¤§ä»·å€¼ã€‚

ä¾‹å¦‚ï¼Œdp[3][4]=6ï¼Œè¡¨ç¤ºç”¨å‰3ä¸ªç‰©å“è£…å…¥é‡é‡ä¸º4çš„èƒŒåŒ…æ‰€èƒ½è·å¾—çš„æœ€å¤§ä»·å€¼ä¸º6ï¼Œæ­¤æ—¶å¹¶ä¸æ˜¯3ä¸ªç‰©å“å…¨éƒ¨è£…å…¥ï¼Œè€Œæ˜¯3ä¸ªç‰©å“æ»¡è¶³è£…å…¥èƒŒåŒ…çš„æ¡ä»¶ä¸‹çš„æœ€å¤§ä»·å€¼ã€‚

çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š

dp[i][j] = max(dp[i-1][j], dp[i-1][j-w[i]]+v[i])

dp[i-1][j]è¡¨ç¤ºå½“å‰ç‰©å“ä¸æ”¾å…¥èƒŒåŒ…ï¼Œdp[i-1][j-w[i]]+v[i]è¡¨ç¤ºå½“å‰ç‰©å“æ”¾å…¥èƒŒåŒ…ï¼Œå³å½“å‰ç¬¬iä¸ªç‰©å“è¦ä¹ˆæ”¾å…¥èƒŒåŒ…ï¼Œè¦ä¹ˆä¸æ”¾å…¥èƒŒåŒ…ã€‚


dp = [[0]*(n+1) for _ in range(m+1)]
for i in range(1,m+1):
    for j in range(1,n+1):
        if j-w[i]>=0:
            dp[i][j] = max(dp[i-1][j], dp[i-1][j-w[i]]+v[i])
        else:
            dp[i][j] = dp[i-1][j]
return dp[m][n]
```



416 

![image-20210830173243676](C:\Users\14172\AppData\Roaming\Typora\typora-user-images\image-20210830173243676.png)

```java
  public boolean canPartition(int[] nums) {
int sum = 0;
for(int n:nums)
sum += n;
if(sum % 2 == 1) return false;
int size = nums.length;
boolean [][]dp = new boolean[size+1][sum+1];
sum = sum/2;
for(int i =0;i <= size;i++)
for(int j = 1;j <= sum;j++)
dp[i][j] = false;
for(int i = 0;i <= size;i++) dp[i][0] = true;
for(int i = 1;i <= size;i++)
for(int j = 1;j <= sum;j++)
{
    if(j - nums[i-1] < 0) dp[i][j] = dp[i-1][j];
    else
    {
        dp[i][j] = dp[i -1][j] | dp[i-1][j - nums[i-1]];
    }
}
return dp[size][sum];
    }
```

## [879. ç›ˆåˆ©è®¡åˆ’](https://leetcode-cn.com/problems/profitable-schemes/)

éš¾åº¦å›°éš¾224

é›†å›¢é‡Œæœ‰ `n` åå‘˜å·¥ï¼Œä»–ä»¬å¯ä»¥å®Œæˆå„ç§å„æ ·çš„å·¥ä½œåˆ›é€ åˆ©æ¶¦ã€‚

ç¬¬ `i` ç§å·¥ä½œä¼šäº§ç”Ÿ `profit[i]` çš„åˆ©æ¶¦ï¼Œå®ƒè¦æ±‚ `group[i]` åæˆå‘˜å…±åŒå‚ä¸ã€‚å¦‚æœæˆå‘˜å‚ä¸äº†å…¶ä¸­ä¸€é¡¹å·¥ä½œï¼Œå°±ä¸èƒ½å‚ä¸å¦ä¸€é¡¹å·¥ä½œã€‚

å·¥ä½œçš„ä»»ä½•è‡³å°‘äº§ç”Ÿ `minProfit` åˆ©æ¶¦çš„å­é›†ç§°ä¸º **ç›ˆåˆ©è®¡åˆ’** ã€‚å¹¶ä¸”å·¥ä½œçš„æˆå‘˜æ€»æ•°æœ€å¤šä¸º `n` ã€‚

æœ‰å¤šå°‘ç§è®¡åˆ’å¯ä»¥é€‰æ‹©ï¼Ÿå› ä¸ºç­”æ¡ˆå¾ˆå¤§ï¼Œæ‰€ä»¥ **è¿”å›ç»“æœæ¨¡** `10^9 + 7` **çš„å€¼**ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šn = 5, minProfit = 3, group = [2,2], profit = [2,3]
è¾“å‡ºï¼š2
è§£é‡Šï¼šè‡³å°‘äº§ç”Ÿ 3 çš„åˆ©æ¶¦ï¼Œè¯¥é›†å›¢å¯ä»¥å®Œæˆå·¥ä½œ 0 å’Œå·¥ä½œ 1 ï¼Œæˆ–ä»…å®Œæˆå·¥ä½œ 1 ã€‚
æ€»çš„æ¥è¯´ï¼Œæœ‰ä¸¤ç§è®¡åˆ’ã€‚
```

----

![image-20220205213612459](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220205213612459.png)

dp\[i]\[j][k]=*dp*\[*i*âˆ’1]\[j][k]+dp\[iâˆ’1]\[jâˆ’group[i]]\[max(0,*k*âˆ’*profit*[*i*])]

ç”±äºæˆ‘ä»¬å®šä¹‰çš„ç¬¬ä¸‰ç»´æ˜¯å·¥ä½œåˆ©æ¶¦è‡³å°‘ä¸º k è€Œä¸æ˜¯ å·¥ä½œåˆ©æ¶¦æ°å¥½ä¸º kï¼Œå› æ­¤ä¸Šè¿°çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸­å³ä¾§çš„ç¬¬ä¸‰ç»´æ˜¯max(0,kâˆ’profit[i]) è€Œä¸æ˜¯kâˆ’profit[i]

```java
public int profitableSchemes(int n, int minProfit, int[] group, int[] profit) {
int max=(int)(1e9+7);
int[][][]dp=new int[group.length+1][n+1][minProfit+1];
dp[0][0][0]=1;//nåå‘˜å·¥
for(int i=1;i<=group.length;i++)
{
    int member=group[i-1],thepro=profit[i-1];
    for(int j=0;j<=n;j++)
    for(int z=0;z<=minProfit;z++)
    {
if(j<member) dp[i][j][z]=dp[i-1][j][z];
else
dp[i][j][z]=(dp[i-1][j][z]+dp[i-1][j-member][Math.max(0,z-thepro)])%max;
    }
}
  int sum = 0;
for(int j=0;j<=n;j++)
sum=(sum+dp[group.length][j][minProfit])%max;
return sum;
    }
```

## [1155. æ·éª°å­çš„Nç§æ–¹æ³•](https://leetcode-cn.com/problems/number-of-dice-rolls-with-target-sum/)

éš¾åº¦ä¸­ç­‰119

è¿™é‡Œæœ‰ `d` ä¸ªä¸€æ ·çš„éª°å­ï¼Œæ¯ä¸ªéª°å­ä¸Šéƒ½æœ‰ `f` ä¸ªé¢ï¼Œåˆ†åˆ«æ ‡å·ä¸º `1, 2, ..., f`ã€‚

æˆ‘ä»¬çº¦å®šï¼šæ·éª°å­çš„å¾—åˆ°æ€»ç‚¹æ•°ä¸ºå„éª°å­é¢æœä¸Šçš„æ•°å­—çš„æ€»å’Œã€‚

å¦‚æœéœ€è¦æ·å‡ºçš„æ€»ç‚¹æ•°ä¸º `target`ï¼Œè¯·ä½ è®¡ç®—å‡ºæœ‰å¤šå°‘ç§ä¸åŒçš„ç»„åˆæƒ…å†µï¼ˆæ‰€æœ‰çš„ç»„åˆæƒ…å†µæ€»å…±æœ‰ `f^d` ç§ï¼‰ï¼Œ**æ¨¡ `10^9 + 7`** åè¿”å›ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šd = 1, f = 6, target = 3
è¾“å‡ºï¼š1
```

----

æ–¹ç¨‹ï¼šdp\[i][j] ä¸ dp[i - 1] çš„å…³ç³»æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ ç¬¬ i æ¬¡æˆ‘æŠ•äº† k ( 1 <= k <= f)ï¼Œé‚£ä¹ˆå‰ i - 1 æ¬¡ å’Œ ä¸º j - kï¼Œå¯¹åº” dp\[i - 1][j - k]ï¼›

dp\[i][j] = dp\[i - 1][j - 1] + dp\[i - 1][j - 2] + ... + dp\[i - 1][j - f]

```java
    public int numRollsToTarget(int n, int k, int target) {
int[][]dp=new int[31][1001];//dp[i][j]:iä¸ªéª°å­æŠ•å‡ºå’Œä¸ºj
int maxnum=1000000007;
int min=Math.min(k,target);
for(int i=1;i<=min;i++)
dp[1][i]=1;//å–é¢æ•°å’Œtargetä¸­çš„æ›´å°å€¼ï¼Œ1ä¸ªéª°å­æ—¶æŠ•å‡ºå’Œæ˜¯içš„ç§æ•°æœ‰ä¸€ç§
for(int i=2;i<=n;i++)//nä¸ªéª°å­
for(int j=i;j<=n*k;j++)//ä¸Šä¸€æ¬¡æ˜¯i-1ä¸ªéª°å­æŠ•å‡ºå’Œä¸ºj-z æœ€å¤§æ•°ä¹Ÿåªæœ‰n*k
for(int z=1;z<=j&&z<=k;z++)
dp[i][j]=(dp[i-1][j-z]+dp[i][j])%maxnum;//ç›¸å½“äºdp[i][j]=dp[i-1][j-1]+dp[i-1][j-2]+..... å¦‚æœä¸å–æ¨¡çš„è¯å°±æ˜¯dp[i][j]+=dp[i-1][j-z]

return dp[n][target];
    }
```



## è¿ç»­åºåˆ—æœ€å¤§å’Œ

```c++
//ç»™å®šä¸€ä¸ªæ•°å­—åºåˆ—ï¼Œæ±‚i j ä½¿å¾—A[i]~A[j]çš„å’Œæœ€å¤§ 
int a[maxn],dp[maxn];//dp[i]å­˜æ”¾ä»¥iç»“å°¾çš„è¿ç»­åºåˆ—çš„æœ€å¤§å’Œ

int main()
{	
 
int n;
cin >> n;
for(int i = 0; i < n; i++)
cin >> a[i];
a[0] = dp[0];//è¾¹ç•Œ
for(int i = 1; i < n; i++)
dp[i] = max( dp[i-1] + a[i] ,a[i]); 
int k = 0;
for(int i = 1; i < n; i++)
if(dp[i] > dp[k])//éå†dp[0~n-1]æ±‚å‡ºæœ€å¤§å€¼å³ä¸ºè¿ç»­åºåˆ—çš„æœ€å¤§å’Œ 
k = i;//kå­˜å‚¨ä¸‹æ ‡
cout << dp[k]; 


}
```







## ç¼–è¾‘è·ç¦»

![image-20210831111014605](C:\Users\14172\AppData\Roaming\Typora\typora-user-images\image-20210831111014605.png)



![image-20230319231433309](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230319231433309.png)

```java
 public int minDistance(String word1, String word2) {
int dp[][] = new int[word1.length()+1][word2.length()+1];
for(int i = 0;i <= word1.length();i++)
dp[i][0] = i;
for(int i = 0;i  <=word2.length();i++)
dp[0][i] = i;
for(int i = 1;i <= word1.length();i++)
for(int j = 1;j <= word2.length();j++)
{
    if(word1.charAt(i-1) == word2.charAt(j-1))
    dp[i][j] = dp[i-1][j-1];
    else
    {
        if(dp[i-1][j] <= dp[i][j-1] && dp[i-1][j] <=dp[i-1][j-1]  )
         dp[i][j]  = dp[i-1][j]  +1;
         else if(dp[i-1][j-1] <= dp[i-1][j] && dp[i-1][j-1] <=dp[i][j-1])
            dp[i][j]  = dp[i-1][j-1]  +1;
      else
      dp[i][j] = dp[i][j-1]+1;
    }
}
return dp[word1.length()][word2.length()];
    }
```

![image-20210831111128148](C:\Users\14172\AppData\Roaming\Typora\typora-user-images\image-20210831111128148.png)

![image-20210831111218996](C:\Users\14172\AppData\Roaming\Typora\typora-user-images\image-20210831111218996.png)

dp å‡½æ•°çš„ base case æ˜¯ i,j ç­‰äº -1ï¼Œâ½½æ•°ç»„ç´¢å¼•â¾„å°‘æ˜¯ 0ï¼Œæ‰€ä»¥ dp æ•°ç»„ä¼šåç§»â¼€ä½ã€‚
æ—¢ç„¶ dp æ•°ç»„å’Œé€’å½’ dp å‡½æ•°å«ä¹‰â¼€æ ·ï¼Œä¹Ÿå°±å¯ä»¥ç›´æ¥å¥—â½¤ä¹‹å‰çš„æ€è·¯å†™ä»£ç ï¼Œå”¯â¼€ä¸åŒçš„æ˜¯ï¼ŒDP table æ˜¯â¾ƒåº•å‘ä¸Šæ±‚è§£ï¼Œé€’å½’è§£æ³•æ˜¯â¾ƒé¡¶å‘ä¸‹æ±‚

å¦‚æœç”¨å¤‡å¿˜å½•ä¼˜åŒ–ï¼š

```python
def minDistance(s1, s2) -> int:
memo = dict() # å¤‡å¿˜å½•
def dp(i, j):
if (i, j) in memo:
return memo[(i, j)]
...
if s1[i] == s2[j]:
memo[(i, j)] = ...
else:
memo[(i, j)] = ...
return memo[(i, j)]
return dp(len(s1) - 1, len(s2) - 1)
```





## åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„

![image-20210903125638735](C:\Users\14172\AppData\Roaming\Typora\typora-user-images\image-20210903125638735.png)

æ€è·¯ä¸€ã€‚åˆ©ç”¨ç³»ç»Ÿè‡ªå¸¦çš„system.arraycopy+sort

æ€è·¯äºŒï¼šåˆ©ç”¨åŒæŒ‡é’ˆ+ä¸€ä¸ªæ–°çš„æ•°ç»„ï¼Œç©ºé—´å¤æ‚åº¦é«˜äº1

æ€è·¯ä¸‰ï¼šåŒæŒ‡é’ˆï¼Œä¸”ä¸éœ€è¦ä¸€ä¸ªæ–°çš„æ•°ç»„ï¼Œä»åå¾€å‰éå†å³å¯

```java
public static int[]merge3(int[] nums1,int m,int[]nums2,int n){
    int p1 = m-1;
    int p2 = n-1;
    int p = m+n-1;(nums1çš„ç©ºé—´è§„å®šå¤§å°ä¸ºm+n)
    while(p1>=0 && p2>=0){
        nums1[p--] = nums1[p1] < nums2[p2] ? nums2[p2--]:nums1[p1--];
    }
    System.arraycopy(nums2,0,nums1,0,p2+1);
}

    public static void main(String[] args) {
//      int[]arr = getMaxWindow(new int[]{4,3,5,4,3,3,6,7},3);
//        for (int i = 0; i < arr.length; i++) {
//            System.out.println(arr[i]);
//        }
        int[] nums1=new int[]{1,4,5,6,0,0,0};
        int[] nums2 = new int[]{2,4,8};
        nums1 =merge3(nums1,4,nums2,nums2.length);
        for (int i = 0; i < nums1.length; i++) {
            System.out.println(nums1[i]);
        }
        //æ³¨æ„ï¼Œè¿™ä¸ªå‡½æ•°çš„ç¬¬äºŒä¸ªå‚æ•°ä¸æ˜¯nums1çš„é•¿åº¦ï¼Œè€Œæ˜¯nums1ä¸­æœ‰åºçš„å…ƒç´ ä¸ªæ•°
```

## é«˜æ¥¼æ‰”é¸¡è›‹

ã€ŒçŠ¶æ€ã€å¾ˆæ˜æ˜¾ï¼Œå°±æ˜¯å½“å‰æ‹¥æœ‰çš„é¸¡è›‹æ•° K å’Œéœ€è¦æµ‹è¯•çš„æ¥¼å±‚æ•° N ã€‚éš
ç€æµ‹è¯•çš„è¿›â¾ï¼Œé¸¡è›‹ä¸ªæ•°å¯èƒ½å‡å°‘ï¼Œæ¥¼å±‚çš„æœç´¢èŒƒå›´ä¼šå‡â¼©ï¼Œè¿™å°±æ˜¯çŠ¶æ€çš„
å˜åŒ–ã€‚
ã€Œé€‰æ‹©ã€å…¶å®å°±æ˜¯å»é€‰æ‹©å“ªå±‚æ¥¼æ‰”é¸¡è›‹ã€‚å›é¡¾åˆšæ‰çš„çº¿æ€§æ‰«æå’Œâ¼†åˆ†æ€è·¯ï¼Œ
â¼†åˆ†æŸ¥æ‰¾æ¯æ¬¡é€‰æ‹©åˆ°æ¥¼å±‚åŒºé—´çš„ä¸­é—´å»æ‰”é¸¡è›‹ï¼Œâ½½çº¿æ€§æ‰«æé€‰æ‹©â¼€å±‚å±‚å‘ä¸Š
æµ‹è¯•ã€‚ä¸åŒçš„é€‰æ‹©ä¼šé€ æˆçŠ¶æ€çš„è½¬ç§»ã€‚
ç°åœ¨æ˜ç¡®äº†ã€ŒçŠ¶æ€ã€å’Œã€Œé€‰æ‹©ã€ï¼ŒåŠ¨æ€è§„åˆ’çš„åŸºæœ¬æ€è·¯å°±å½¢æˆäº†ï¼šè‚¯å®šæ˜¯ä¸ª
â¼†ç»´çš„ dp æ•°ç»„æˆ–è€…å¸¦æœ‰ä¸¤ä¸ªçŠ¶æ€å‚æ•°çš„ dp å‡½æ•°æ¥è¡¨â½°çŠ¶æ€è½¬ç§»ï¼›å¤–åŠ 
â¼€ä¸ª for å¾ªç¯æ¥éå†æ‰€æœ‰é€‰æ‹©ï¼Œæ‹©æœ€ä¼˜çš„é€‰æ‹©æ›´æ–°çŠ¶æ€ï¼š

å½“å‰çŠ¶æ€ä¸º K ä¸ªé¸¡è›‹ï¼Œâ¾¯å¯¹ N å±‚æ¥¼ï¼Œè¿”å›è¿™ä¸ªçŠ¶æ€ä¸‹çš„æœ€ä¼˜ç»“æœ

def dp(K, N):
int res
for 1 <= i <= N:
res = min(res, è¿™æ¬¡åœ¨ç¬¬ i å±‚æ¥¼æ‰”é¸¡è›‹)
return res
è¿™æ®µä¼ªç è¿˜æ²¡æœ‰å±•â½°é€’å½’å’ŒçŠ¶æ€è½¬ç§»ï¼Œä¸è¿‡â¼¤è‡´çš„ç®—æ³•æ¡†æ¶å·²ç»å®Œæˆäº†ã€‚

æˆ‘ä»¬é€‰æ‹©åœ¨ç¬¬ i å±‚æ¥¼æ‰”äº†é¸¡è›‹ä¹‹åï¼Œå¯èƒ½å‡ºç°ä¸¤ç§æƒ…å†µï¼šé¸¡è›‹ç¢äº†ï¼Œé¸¡è›‹æ²¡ç¢ã€‚æ³¨æ„ï¼Œè¿™æ—¶å€™çŠ¶æ€è½¬ç§»å°±æ¥äº†ï¼š
å¦‚æœé¸¡è›‹ç¢äº†ï¼Œé‚£ä¹ˆé¸¡è›‹çš„ä¸ªæ•° K åº”è¯¥å‡â¼€ï¼Œæœç´¢çš„æ¥¼å±‚åŒºé—´åº”è¯¥ä»
[1..N] å˜ä¸º [1..i-1] å…± i-1 å±‚æ¥¼ï¼›
å¦‚æœé¸¡è›‹æ²¡ç¢ï¼Œé‚£ä¹ˆé¸¡è›‹çš„ä¸ªæ•° K ä¸å˜ï¼Œæœç´¢çš„æ¥¼å±‚åŒºé—´åº”è¯¥ä» [1..N]
å˜ä¸º [i+1..N] å…± N-i å±‚æ¥¼ã€‚

å› ä¸ºæˆ‘ä»¬è¦æ±‚çš„æ˜¯æœ€åæƒ…å†µä¸‹æ‰”é¸¡è›‹çš„æ¬¡æ•°ï¼Œæ‰€ä»¥é¸¡è›‹åœ¨ç¬¬ i å±‚æ¥¼ç¢æ²¡
ç¢ï¼Œå–å†³äºé‚£ç§æƒ…å†µçš„ç»“æœæ›´â¼¤ï¼š

æœ€åæƒ…å†µä¸‹çš„æœ€å°‘æ‰”é¸¡è›‹æ¬¡æ•°

```python
def dp(K, N):
for 1 <= i <= N:
res = min(res,
max(
dp(K - 1, i - 1), # ç¢
dp(K, N - i) # æ²¡ç¢
) + 1 # åœ¨ç¬¬ i æ¥¼æ‰”äº†â¼€æ¬¡
)
return res
```

é€’å½’çš„ base case å¾ˆå®¹æ˜“ç†è§£ï¼šå½“æ¥¼å±‚æ•° N ç­‰äº 0 æ—¶ï¼Œæ˜¾ç„¶ä¸éœ€è¦æ‰”é¸¡
è›‹ï¼›å½“é¸¡è›‹æ•° K ä¸º 1 æ—¶ï¼Œæ˜¾ç„¶åªèƒ½çº¿æ€§æ‰«ææ‰€æœ‰æ¥¼å±‚ï¼š
def dp(K, N):
if K == 1: return N
if N == 0: return 0

â¾¸å…ˆï¼Œæœ‰è¯»è€…å¯èƒ½ä¸ç†è§£ä»£ç ä¸­ä¸ºä»€ä¹ˆâ½¤â¼€ä¸ª for å¾ªç¯éå†æ¥¼å±‚ [1..N] ï¼Œ
ä¹Ÿè®¸ä¼šæŠŠè¿™ä¸ªé€»è¾‘å’Œä¹‹å‰æ¢è®¨çš„çº¿æ€§æ‰«ææ··ä¸ºâ¼€è°ˆã€‚å…¶å®ä¸æ˜¯çš„ï¼Œè¿™åªæ˜¯åœ¨
åšâ¼€æ¬¡ã€Œé€‰æ‹©ã€

â½â½…è¯´ä½ æœ‰ 2 ä¸ªé¸¡è›‹ï¼Œâ¾¯å¯¹ 10 å±‚æ¥¼ï¼Œä½ è¿™æ¬¡é€‰æ‹©å»å“ªâ¼€å±‚æ¥¼æ‰”å‘¢ï¼Ÿä¸çŸ¥
é“ï¼Œé‚£å°±æŠŠè¿™ 10 å±‚æ¥¼å…¨è¯•â¼€éã€‚â¾„äºä¸‹æ¬¡æ€ä¹ˆé€‰æ‹©ä¸â½¤ä½ æ“â¼¼ï¼Œæœ‰æ­£ç¡®çš„
çŠ¶æ€è½¬ç§»ï¼Œé€’å½’ä¼šç®—å‡ºæ¯ä¸ªé€‰æ‹©çš„ä»£ä»·ï¼Œæˆ‘ä»¬å–æœ€ä¼˜çš„é‚£ä¸ªå°±æ˜¯æœ€ä¼˜è§£ã€‚

```java
  Map<Integer, Integer> memo = new HashMap<Integer, Integer>();

    public int superEggDrop(int k, int n) {
        return dp(k, n);
    }

    public int dp(int k, int n) {
        if (!memo.containsKey(n * 100 + k)) {
            int ans;
            if (n == 0) {
                ans = 0;
            } else if (k == 1) {
                ans = n;
            } else {
                int lo = 1, hi = n;
                while (lo + 1 < hi) {
                    int x = (lo + hi) / 2;
                    int t1 = dp(k - 1, x - 1);
                    int t2 = dp(k, n - x);

                    if (t1 < t2) {
                        lo = x;
                    } else if (t1 > t2) {
                        hi = x;
                    } else {
                        lo = hi = x;
                    }
                }

                ans = 1 + Math.min(Math.max(dp(k - 1, lo - 1), dp(k, n - lo)), Math.max(dp(k - 1, hi - 1), dp(k, n - hi)));
            }

            memo.put(n * 100 + k, ans);
        }

        return memo.get(n * 100 + k);
    }
```





------------



ä¸€ä¸ªé—®é¢˜å¿…é¡»æœ‰é‡å å­é—®é¢˜ï¼Œæ‰å¯ä»¥ç”¨åŠ¨æ€è§„åˆ’è§£ã€‚

ä¸€ä¸ªé—®é¢˜å¿…é¡»æœ‰æœ€ä¼˜å­ç»“æ„ï¼Œæ‰èƒ½ç”¨åŠ¨æ€è§„åˆ’è§£å†³ã€‚

```c++
const int maxn = 1000;
//åŠ¨æ€è§„åˆ’ä¹‹æ•°å¡”é—®é¢˜
int f[maxn][maxn], dp[maxn][maxn];

 
int main()
{	

int n;
cin >> n;
fill(dp[0], dp[0] + maxn*maxn, -1);
for(int i = 0; i < n ;i ++)
for(int j = 0; j <= i; j++)
cin >> f[i][j];
for(int i = n-1; i >=0 ; i--)
dp[n-1][i] = f[n-1][i];//æœ€åº•å±‚å…ˆèµ‹å€¼

 for(int i = n-2; i >= 0 ; i--)
for(int j = 0; j <= i; j++)
{
	//çŠ¶æ€è½¬ç§»æ–¹ç¨‹ ä»å€’æ•°ç¬¬äºŒå±‚å¼€å§‹å‘ä¸Šç®—å‡ºä¸€æ¡ç´¯åŠ å’Œæœ€å¤§çš„è·¯å¾„ 
	dp[i][j] = max(dp[i+1][j], dp[i+1][j+1]) + f[i][j];	
}
cout<<dp[0][0];


}
```

é€’å½’ä¸é€’æ¨ï¼šå‰è€…æ˜¯è‡ªé¡¶å‘ä¸‹ï¼Œä»ç›®æ ‡é—®é¢˜å¼€å§‹å°†å®ƒåˆ†è§£æˆå­é—®é¢˜çš„ç»„åˆï¼Œåè€…æ˜¯è‡ªåº•å‘ä¸Šï¼Œä»è¾¹ç•Œå¼€å§‹ï¼Œä¸æ–­å‘ä¸Šè§£å†³é—®é¢˜



## åŠ¨æ€è§„åˆ’ä¹‹è¾“å‡ºä¸¤ä¸ªå­—ç¬¦ä¸²æœ€é•¿å…¬å…±å­åºåˆ—c++ç‰ˆ

æ‘˜å½•è‡ªä¹¦ç±ã€Šè¶£å­¦ç®—æ³•ã€‹åŠ¨æ€è§„åˆ’ç« èŠ‚

ç®—æ³•è®¾è®¡

æœ€é•¿å…¬å…±å­åºåˆ—é—®é¢˜æ»¡è¶³åŠ¨æ€è§„åˆ’çš„æœ€ä¼˜å­ç»“æ„æ€§è´¨ï¼Œå¯ä»¥è‡ªåº•å‘ä¸Šé€æ­¥å¾—åˆ°æœ€ä¼˜è§£ã€‚ 
ï¼ˆ1ï¼‰ç¡®å®šåˆé€‚çš„æ•°æ®ç»“æ„ é‡‡ç”¨äºŒç»´æ•°ç»„c[][]æ¥è®°å½•æœ€é•¿å…¬å…±å­åºåˆ—çš„é•¿åº¦ï¼ŒäºŒç»´æ•°ç»„b[][]æ¥è®°å½•æœ€é•¿å…¬å…±å­åºåˆ—çš„é•¿åº¦çš„æ¥æºï¼Œä»¥ä¾¿ç®—æ³•ç»“æŸæ—¶å€’æ¨æ±‚è§£å¾—åˆ°è¯¥æœ€é•¿å…¬å…±å­åºåˆ—ã€‚ ï¼ˆ2ï¼‰åˆå§‹åŒ– è¾“å…¥ä¸¤ä¸ªå­—ç¬¦ä¸²s1ã€s2ï¼Œåˆå§‹åŒ–c[][]ç¬¬ä¸€è¡Œç¬¬ä¸€åˆ—å…ƒç´ ä¸º0ã€‚ 
ï¼ˆ3ï¼‰å¾ªç¯é˜¶æ®µ i = 1ï¼šs1[0]ä¸s2[j-1]æ¯”è¾ƒï¼Œj=1ï¼Œ2ï¼Œ3ï¼Œâ€¦ï¼Œlen2ã€‚ å¦‚æœs1[0]=s2[j-1]ï¼Œc\[i][j] = c\[i-1][j-1]+1ï¼›å¹¶è®°å½•æœ€ä¼˜ç­–ç•¥æ¥æºb\[i][j]=1ï¼› å¦‚æœs1[0] â‰ s2[j-1]ï¼Œåˆ™å…¬å…±å­åºåˆ—çš„é•¿åº¦ä¸ºc\[i][j-1]å’Œc\[i-1][j]ä¸­çš„æœ€å¤§å€¼ï¼Œå¦‚æœc\[i][j-1]c\[i-1][j]ï¼Œåˆ™c\[i][j]=c\[i][j-1]ï¼Œæœ€ä¼˜ç­–ç•¥æ¥æºb\[i][j]=2ï¼›å¦åˆ™c\[i][j]= c\[i-1][j]ï¼Œæœ€ä¼˜ç­–ç•¥æ¥æºb\[i][j]=3ã€‚ i = 2ï¼šs1[1]ä¸s2[j-1]æ¯”è¾ƒï¼Œj=1ï¼Œ2ï¼Œ3ï¼Œâ€¦ï¼Œlen2ã€‚ ä»¥æ­¤ç±»æ¨ï¼Œç›´åˆ°i > len1æ—¶ï¼Œç®—æ³•ç»“æŸï¼Œè¿™æ—¶c\[len1][len2]å°±æ˜¯æœ€é•¿å…¬å…±åºåˆ—çš„é•¿åº¦ã€‚ 
ï¼ˆ4ï¼‰æ„é€ æœ€ä¼˜è§£ æ ¹æ®æœ€ä¼˜å†³ç­–ä¿¡æ¯æ•°ç»„b[][]é€’å½’æ„é€ æœ€ä¼˜è§£ï¼Œå³è¾“å‡ºæœ€é•¿å…¬å…±å­åºåˆ—ã€‚å› ä¸ºæˆ‘ä»¬åœ¨æ±‚æœ€é•¿å…¬å…±å­åºåˆ—é•¿åº¦c[i][j]çš„è¿‡ç¨‹ä¸­ï¼Œç”¨b[i][j]è®°å½•äº†c[i][j]çš„æ¥æºï¼Œé‚£ä¹ˆå°±å¯ä»¥æ ¹æ®b[i][j]æ•°ç»„å€’æ¨æœ€ä¼˜è§£ã€‚ å¦‚æœb[i][j]=1ï¼Œè¯´æ˜s1[i-1]=s2[j-1]ï¼Œé‚£ä¹ˆå°±å¯ä»¥é€’å½’æ±‚è§£print(i-1, j-1)ï¼›ç„¶åè¾“å‡ºs1[i-1]ã€‚ æ³¨æ„ï¼šå¦‚æœå…ˆè¾“å‡ºï¼Œåé€’å½’æ±‚è§£print(i-1,j-1)ï¼Œåˆ™è¾“å‡ºçš„ç»“æœæ˜¯å€’åºã€‚ å¦‚æœb[i][j]=2ï¼Œè¯´æ˜s1[i-1]â‰ s2[j-1]ä¸”æœ€ä¼˜è§£æ¥æºäºc[i][j]=c[i][j-1]ï¼Œé€’å½’æ±‚è§£print(i, j-1)ã€‚ å¦‚æœb[i][j]=3ï¼Œè¯´æ˜s1[i-1]â‰ s2[j-1]ä¸”æœ€ä¼˜è§£æ¥æºäºc[i][j]=c[i-1][j]ï¼Œé€’å½’æ±‚è§£print(i-1, j)ã€‚å½“i==0 || j==0æ—¶ï¼Œé€’å½’ç»“æŸã€‚ 

å›¾è§£

ä»¥å­—ç¬¦ä¸²s1=â€œABCADABâ€ï¼Œs2=â€œBACDBAâ€ä¸ºä¾‹ã€‚ 
ï¼ˆ1ï¼‰åˆå§‹åŒ– len1=7ï¼Œlen2=6ï¼Œåˆå§‹åŒ–c[][]ç¬¬ä¸€è¡Œã€ç¬¬ä¸€åˆ—å…ƒç´ ä¸º0ï¼Œå¦‚å›¾4-7æ‰€ç¤ºã€‚ 
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/20210526032237112.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxMzU4NTc0,size_16,color_FFFFFF,t_70) 
                                             å›¾ 4-7

 2ï¼‰i=1ï¼šs1[0]ä¸s2[j-1]æ¯”è¾ƒï¼Œj=1ï¼Œ2ï¼Œ3ï¼Œâ€¦ï¼Œlen2ã€‚å³â€œAâ€ä¸â€œBACDBAâ€åˆ†åˆ«æ¯”è¾ƒä¸€æ¬¡ã€‚ å¦‚æœå­—ç¬¦ç›¸ç­‰ï¼Œc\[i][j]å–å·¦ä¸Šè§’æ•°å€¼åŠ 1ï¼Œè®°å½•æœ€ä¼˜å€¼æ¥æºb\[i][j]=1ã€‚ å¦‚æœå­—ç¬¦ä¸ç­‰ï¼Œå–å·¦ä¾§å’Œä¸Šé¢æ•°å€¼ä¸­çš„æœ€å¤§å€¼ã€‚å¦‚æœå·¦ä¾§å’Œä¸Šé¢æ•°å€¼ç›¸ç­‰ï¼Œé»˜è®¤å–å·¦ä¾§æ•°å€¼ã€‚å¦‚æœc\[i][j]çš„å€¼æ¥æºäºå·¦ä¾§b\[i][j]=2ï¼Œæ¥æºäºä¸Šé¢b\[i][j]=3ã€‚ j=1ï¼šAâ‰ Bï¼Œå·¦ä¾§=ä¸Šé¢ï¼Œå–å·¦ä¾§æ•°å€¼ï¼Œc\[1][1]= 0ï¼Œæœ€ä¼˜ç­–ç•¥æ¥æºb[1]\[1]=2ï¼Œå¦‚å›¾4-8æ‰€ç¤ºã€‚  å›¾4-8ã€€æœ€é•¿å…¬å…±å­åºåˆ—æ±‚è§£è¿‡ç¨‹ j=2ï¼šA=Aï¼Œåˆ™å–å·¦ä¸Šè§’æ•°å€¼åŠ 1ï¼Œc\[1][2]= c\[0][1]+1=2ï¼Œæœ€ä¼˜ç­–ç•¥æ¥æºb\[1][2] =1ï¼Œå¦‚å›¾4-9æ‰€ç¤ºã€‚  å›¾4-9ã€€æœ€é•¿å…¬å…±å­åºåˆ—æ±‚è§£è¿‡ç¨‹ j=3ï¼šAâ‰ Cï¼Œå·¦ä¾§ä¸Šé¢ï¼Œå–å·¦ä¾§æ•°å€¼ï¼Œc\[1][3]= 1ï¼Œæœ€ä¼˜ç­–ç•¥æ¥æºb\[1][3] =2ï¼Œå¦‚å›¾4-10æ‰€ç¤ºã€‚ 


![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/20210526032333745.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxMzU4NTc0,size_16,color_FFFFFF,t_70)
å›¾4-9

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/20210526032409692.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxMzU4NTc0,size_16,color_FFFFFF,t_70)
å›¾4-10


æœ€åå¾—åˆ°çš„bæ•°ç»„ï¼š
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/20210526032435394.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxMzU4NTc0,size_16,color_FFFFFF,t_70)

å®Œæ•´ä»£ç ï¼š

```cpp
int len1, len2;
const int n = 1002;
int b[n][n];//b[i][j]è¡¨ç¤ºc[i][j]çš„æ¥æºï¼Œç”¨äºè¾“å‡ºæœ€é•¿å…¬å…±å­åºåˆ— ä¸º1æ—¶è¯´æ˜s1[i-1]=s2[j-1] åˆ™å¯ä»¥é€’å½’å‡½æ•°printå†è¾“å‡ºs1[i-1]
//b[i][j]ä¸º2æ—¶è¯´æ˜s1[i-1]ä¸ç­‰äºs2[j-1] æœ€ä¼˜è§£æ¥æºäºc[i][j]=c[i][j-1] é€’å½’è¾“å‡ºprint(i,j-1)
//ä¸º3æ—¶è¯´æ˜1[i-1]ä¸ç­‰äºs2[j-1] æœ€ä¼˜è§£æ¥æºäºc[i][j]=c[i-1][j] é€’å½’è¾“å‡ºprint(i-1,j) iæˆ–è€…jä¸º0æ—¶é€’å½’ç»“æŸ
int c[n][n];//c[len1][len2]è¡¨ç¤ºæœ€é•¿å…¬å…±å­åºåˆ—çš„é•¿åº¦
char s1[n], s2[n];

void LCSL() {

    for (int i = 1; i <= len1; i++) 
        for (int j = 1; j <= len2; j++) {
            if (s1[i - 1] == s2[j - 1]) {
                b[i][j] = 1;
                c[i][j] = c[i - 1][j - 1] + 1;
            }
            else if (c[i - 1][j] >= c[i][j - 1]) {
                b[i][j] = 2;
                c[i][j] = c[i - 1][j];
            }
            else {
                b[i][j] = 3;
                c[i][j] = c[i][j - 1];
            }
        }
    
}



        void print(int i, int j) {
            if (i == 0 || j == 0) return;
            if (b[i][j] == 1)
            {
                print(i - 1, j - 1);
                cout << s1[i - 1];
            }
            else if (b[i][j] == 2) {
                print(i - 1, j);
            }
            else
                print(i, j - 1);
        }
int main()

{
   
    cout << "input s1 and s2";
    cin >> s1;
    cout << "s2:";
    cin >> s2;
    len1 = strlen(s1);
    len2 = strlen(s2);
    for (int i = 0; i < len1; i++) {
        for (int j = 0; j < len2; j++) {
            c[0][j] = 0;
            c[i][0] = 0;
        }
    }
    LCSL();
    print(len1, len2);
}


```

## [1143. æœ€é•¿å…¬å…±å­åºåˆ—é•¿åº¦](https://leetcode.cn/problems/longest-common-subsequence/)

éš¾åº¦ä¸­ç­‰1180

ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸² `text1` å’Œ `text2`ï¼Œè¿”å›è¿™ä¸¤ä¸ªå­—ç¬¦ä¸²çš„æœ€é•¿ **å…¬å…±å­åºåˆ—** çš„é•¿åº¦ã€‚å¦‚æœä¸å­˜åœ¨ **å…¬å…±å­åºåˆ—** ï¼Œè¿”å› `0` ã€‚

ä¸€ä¸ªå­—ç¬¦ä¸²çš„ **å­åºåˆ—** æ˜¯æŒ‡è¿™æ ·ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼šå®ƒæ˜¯ç”±åŸå­—ç¬¦ä¸²åœ¨ä¸æ”¹å˜å­—ç¬¦çš„ç›¸å¯¹é¡ºåºçš„æƒ…å†µä¸‹åˆ é™¤æŸäº›å­—ç¬¦ï¼ˆä¹Ÿå¯ä»¥ä¸åˆ é™¤ä»»ä½•å­—ç¬¦ï¼‰åç»„æˆçš„æ–°å­—ç¬¦ä¸²ã€‚

- ä¾‹å¦‚ï¼Œ`"ace"` æ˜¯ `"abcde"` çš„å­åºåˆ—ï¼Œä½† `"aec"` ä¸æ˜¯ `"abcde"` çš„å­åºåˆ—ã€‚

ä¸¤ä¸ªå­—ç¬¦ä¸²çš„ **å…¬å…±å­åºåˆ—** æ˜¯è¿™ä¸¤ä¸ªå­—ç¬¦ä¸²æ‰€å…±åŒæ‹¥æœ‰çš„å­åºåˆ—ã€‚

-----------------

æ³¨æ„ï¼šæ˜¯æœ€é•¿å…¬å…±å­åºåˆ—ä¸æ˜¯æœ€é•¿å…¬å…±å­ä¸²ï¼ŒäºŒè€…ä¸ä¸€æ ·

å¦‚æœæ˜¯æœ€é•¿å…¬å…±å­ä¸²çš„é•¿åº¦åˆ™è¿™æ ·è§£ï¼š

```java
  public static int getLCS(char[] x, char[] y) {
        // base caseï¼Œé»˜è®¤ dp ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½ä¸º 0ã€‚å®šä¹‰dp[i][j]è¡¨ç¤ºå­—ç¬¦ä¸²str1ä¸­ç¬¬iä¸ªå­—ç¬¦å’Œstr2ç§ç¬¬jä¸ªå­—ç¬¦ä¸ºæœ€åä¸€ä¸ªå…ƒç´ æ‰€æ„æˆçš„æœ€é•¿å…¬å…±å­ä¸²
        int dp[][] = new int[x.length+1][y.length+1];
        
        // æœ€é•¿å…¬å…±å­ä¸²ï¼Œ ç”¨ä¸€ä¸ªä¸´æ—¶å˜é‡è¡¨ç¤º
        int resultLCS = 0;
        for (int i = 1; i <= x.length; i++) {
            for (int j = 1; j <= y.length; j++) {
                // ä»¥ä¸‹æ˜¯çŠ¶æ€è½¬ç§»æ–¹ç¨‹
                if (x[i-1] == y[j-1]) {
                    dp[i][j] = dp[i-1][j-1] + 1;
                    resultLCS = Math.max(resultLCS, dp[i][j]);
                } else {
                    dp[i][j] = 0;
                }
            }
        }
        return resultLCS;
    }
```



![image-20221212172627633](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20221212172627633.png)

![image-20221212172707863](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20221212172707863.png)

æœ€é•¿å…¬å…±å­åºåˆ—ä»£ç å¦‚ä¸‹ï¼š

```java
  public int longestCommonSubsequence(String text1, String text2) {
              //è¿™é‡Œdp[i][j]è¡¨ç¤ºé•¿åº¦ä¸ºiå’Œjçš„å‰ç¼€,æ‰€ä»¥è¦åŠ ä¸€
        String word1 = text1,word2=text2;,
   int[][]dp = new int[word1.length()+1][word2.length()+1];
        for (int i = 1; i <= word1.length(); i++)
        {

            char ch1=word1.charAt(i-1);
            for (int j = 1; j <= word2.length(); j++) {
                char ch2=word2.charAt(j-1);
                if(ch1==ch2){
                    dp[i][j] = dp[i-1][j-1]+1;
                }
                else{
                    dp[i][j] = Math.max(dp[i-1][j],dp[i][j-1]);
                }
            }
        }
        int n = dp[word1.length()][word2.length()];
        return n;
    }
```

ä¾‹é¢˜ï¼šæŸ¥æ‰¾ä¸¤ä¸ªå­—ç¬¦ä¸²a,bä¸­çš„æœ€é•¿å…¬å…±å­ä¸²ã€‚è‹¥æœ‰å¤šä¸ªï¼Œè¾“å‡ºåœ¨**è¾ƒçŸ­ä¸²ä¸­æœ€å…ˆå‡ºç°çš„é‚£ä¸ªã€‚**

æ³¨ï¼šå­ä¸²çš„å®šä¹‰ï¼šå°†ä¸€ä¸ªå­—ç¬¦ä¸²åˆ å»å‰ç¼€å’Œåç¼€ï¼ˆä¹Ÿå¯ä»¥ä¸åˆ ï¼‰å½¢æˆçš„å­—ç¬¦ä¸²ã€‚è¯·å’Œâ€œå­åºåˆ—â€çš„æ¦‚å¿µåˆ†å¼€ï¼

å…³é”®ï¼šå…ˆæ‰¾åˆ°æ›´çŸ­çš„ä¸²ï¼Œç„¶åå…ˆä»æ›´çŸ­çš„ä¸²éå†

```java
 public static void main(String[] args) {
        Scanner in = new Scanner(System.in);
        // æ³¨æ„ hasNext å’Œ hasNextLine çš„åŒºåˆ«
        String str1=in.nextLine();
        String str2=in.nextLine();
        String ans="";
    String temp="";
   // ä¿è¯str1æ˜¯è¾ƒçŸ­å­—ç¬¦ä¸²
        if (str1.length() > str2.length()) {
            temp = str1;
            str1 = str2;
            str2 = temp;
        }
        int m = str1.length() + 1;
        int n = str2.length() + 1;
        // è¡¨ç¤ºåœ¨è¾ƒçŸ­å­—ç¬¦ä¸²str1ä»¥ç¬¬iä¸ªå­—ç¬¦ç»“å°¾ï¼Œstr2ä¸­ä»¥ç¬¬jä¸ªå­—ç¬¦ç»“å°¾æ—¶çš„å…¬å…±å­ä¸²é•¿åº¦ã€‚
        int[][] dp = new int[m][n];
        // åŒ¹é…å­—ç¬¦ï¼Œå¹¶è®°å½•æœ€å¤§å€¼çš„str1çš„ç»“å°¾ä¸‹æ ‡
        int max = 0;
        int index = 0;
        // ä»å·¦å‘å³é€’æ¨ï¼Œiä¸ºçŸ­å­—ç¬¦ä¸²str1çš„ç»“å°¾ç´¢å¼•ï¼Œjä¸ºstr2çš„ç»“å°¾ç´¢å¼•
        for (int i=1; i < m; i++) {
            for (int j=1; j < n; j++) {
                if (str1.charAt(i-1) == str2.charAt(j-1)) {
                    // ç›¸ç­‰åˆ™è®¡æ•°
                    dp[i][j] = dp[i-1][j-1] + 1;
                    // ä¸æ–­æ›´æ–°å˜é‡
                    if (dp[i][j] > max) {
                        max = dp[i][j];
                        index = i;
                    }
                }
            }
        }
        // æˆªå–æœ€å¤§å…¬å…±å­ä¸²
      System.out.println(str1.substring(index-max+1, index+1));
    }
```



## 

## [712. ä¸¤ä¸ªå­—ç¬¦ä¸²çš„æœ€å°ASCIIåˆ é™¤å’Œ](https://leetcode.cn/problems/minimum-ascii-delete-sum-for-two-strings/)

éš¾åº¦ä¸­ç­‰306

ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸²`s1` å’Œ `s2`ï¼Œè¿”å› *ä½¿ä¸¤ä¸ªå­—ç¬¦ä¸²ç›¸ç­‰æ‰€éœ€åˆ é™¤å­—ç¬¦çš„ **ASCII** å€¼çš„æœ€å°å’Œ* ã€‚

 

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: s1 = "sea", s2 = "eat"
è¾“å‡º: 231
è§£é‡Š: åœ¨ "sea" ä¸­åˆ é™¤ "s" å¹¶å°† "s" çš„å€¼(115)åŠ å…¥æ€»å’Œã€‚
åœ¨ "eat" ä¸­åˆ é™¤ "t" å¹¶å°† 116 åŠ å…¥æ€»å’Œã€‚
ç»“æŸæ—¶ï¼Œä¸¤ä¸ªå­—ç¬¦ä¸²ç›¸ç­‰ï¼Œ115 + 116 = 231 å°±æ˜¯ç¬¦åˆæ¡ä»¶çš„æœ€å°å’Œã€‚
```

**ç¤ºä¾‹ 2:**

```
è¾“å…¥: s1 = "delete", s2 = "leet"
è¾“å‡º: 403
è§£é‡Š: åœ¨ "delete" ä¸­åˆ é™¤ "dee" å­—ç¬¦ä¸²å˜æˆ "let"ï¼Œ
å°† 100[d]+101[e]+101[e] åŠ å…¥æ€»å’Œã€‚åœ¨ "leet" ä¸­åˆ é™¤ "e" å°† 101[e] åŠ å…¥æ€»å’Œã€‚
ç»“æŸæ—¶ï¼Œä¸¤ä¸ªå­—ç¬¦ä¸²éƒ½ç­‰äº "let"ï¼Œç»“æœå³ä¸º 100+101+101+101 = 403 ã€‚
å¦‚æœæ”¹ä¸ºå°†ä¸¤ä¸ªå­—ç¬¦ä¸²è½¬æ¢ä¸º "lee" æˆ– "eet"ï¼Œæˆ‘ä»¬ä¼šå¾—åˆ° 433 æˆ– 417 çš„ç»“æœï¼Œæ¯”ç­”æ¡ˆæ›´å¤§ã€‚
```



--------------------------



![image-20230205190637166](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230205190637166.png)

![image-20230205190650147](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230205190650147.png)

```java
  public int minimumDeleteSum(String s1, String s2) {
int a=97;
int[][]dp=new int[s1.length()+1][s2.length()+1];
      //è¿™é‡Œä¸€å®šè¦æ³¨æ„åˆå§‹åŒ–é—®é¢˜
for(int i =1;i<=s1.length();i++)
dp[i][0]=dp[i-1][0]+s1.codePointAt(i-1);
for(int i =1;i<=s2.length();i++)
dp[0][i]=dp[0][i-1]+s2.codePointAt(i-1);
for(int i = 1;i<=s1.length();i++)
{
    int code1=s1.codePointAt(i-1);
    for(int j=1;j<=s2.length();j++)
    {
int code2=s2.codePointAt(j-1);
if(code1==code2)
dp[i][j]=dp[i-1][j-1];
else 
dp[i][j]=Math.min(dp[i-1][j]+code1,dp[i][j-1]+code2);
    }
}
return dp[s1.length()][s2.length()];
    }
```





## çº¸ç‰Œæ¸¸æˆ

![image-20211213203920446](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20211213203920446.png)



![image-20211213203901180](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20211213203901180.png)



## è¿ç»­å­æ•°ç»„çš„æœ€å¤§å’Œ

![image-20211218011851971](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20211218011851971.png)

é¢˜è§£ï¼š

![image-20211218011938711](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20211218011938711.png)



```java
  public int maxSubArray(int[] nums) {
       if (nums.length == 0) {
            return 0;
        }
        int min= 0;

        int maxsub = nums[0];
      
     for(int i = 0;i <nums.length;i++)
     {
min = Math.max(nums[i],min+nums[i]);
maxsub = Math.max(maxsub,min);
     }
        return maxsub;
        }
            }
```



## ä¸èƒ½è¿ç»­çš„æ•°ç»„ä¹‹å’Œ

ä¸€ä¸ªæœ‰åçš„æŒ‰æ‘©å¸ˆä¼šæ”¶åˆ°æºæºä¸æ–­çš„é¢„çº¦è¯·æ±‚ï¼Œ æ¯ä¸ªé¢„çº¦éƒ½å¯ä»¥é€‰æ‹©æ¥æˆ–ä¸æ¥ã€‚åœ¨æ¯æ¬¡é¢„çº¦æœåŠ¡ä¹‹é—´è¦æœ‰ä¼‘æ¯æ—¶é—´ï¼Œ å› æ­¤å¥¹ä¸èƒ½æ¥å—ç›¸é‚»çš„é¢„çº¦ã€‚ç»™å®šä¸€ä¸ªé¢„çº¦è¯·æ±‚åºåˆ—ï¼Œ æ›¿æŒ‰æ‘©å¸ˆæ‰¾åˆ°æœ€ä¼˜çš„é¢„çº¦é›†åˆï¼ˆ æ€»é¢„çº¦æ—¶é—´æœ€é•¿ï¼‰ ï¼Œ è¿”å›æ€»çš„åˆ†é’Ÿæ•°ã€‚
ç¤ºä¾‹ 1 ï¼š
è¾“å…¥ï¼š [ 1 , 2 , 3 , 1 ]
è¾“å‡ºï¼š 4
è§£é‡Šï¼š é€‰æ‹© 1 å·é¢„çº¦å’Œ 3 å·é¢„çº¦ï¼Œ æ€»æ—¶é•¿ = 1 + 3 = 4

ç¤ºä¾‹ 2 ï¼š
è¾“å…¥ï¼š [ 2 , 7 , 9 , 3 , 1 ]
åŸåˆ› å±±å¤§ç‹wld æ•°æ®ç»“æ„å’Œç®—æ³• 11æœˆ16æ—¥
è¾“å‡ºï¼š 1 2
è§£é‡Šï¼š é€‰æ‹© 1 å·é¢„çº¦ã€ 3 å·é¢„çº¦å’Œ 5 å·é¢„çº¦ï¼Œ æ€»æ—¶é•¿ = 2 + 9 + 1 =12



åŠ¨æ€è§„åˆ’è§£å†³
æ•°ç»„ä¸­çš„å€¼è¡¨ç¤ºçš„æ˜¯é¢„çº¦æ—¶é—´ï¼Œ æŒ‰æ‘©å¸ˆå¯ä»¥é€‰æ‹©æ¥æˆ–è€…ä¸æ¥ï¼Œ å¦‚æœå‰ä¸€ä¸ªæ¥äº†ï¼Œ é‚£ä¹ˆä¸‹ä¸€ä¸ªè‚¯å®šæ˜¯ä¸èƒ½æ¥çš„ï¼Œ å› ä¸ºæŒ‰æ‘©å¸ˆä¸èƒ½æ¥ç›¸é‚»çš„ä¸¤æ¬¡é¢„çº¦ã€‚å¦‚æœä¸Šä¸€ä¸ªæ²¡æ¥ï¼Œ é‚£ä¹ˆä¸‹ä¸€
ä¸ªå¯ä»¥é€‰æ‹©æ¥ä¹Ÿå¯ä»¥é€‰æ‹©ä¸æ¥ï¼Œ è§†æƒ…å†µè€Œå®šã€‚
è¿™é‡Œå¯ä»¥å®šä¹‰ä¸€ä¸ªäºŒç»´æ•°ç»„d p [ l e n g t h ] [ 2 ] ï¼Œ å…¶ä¸­d p [ i ] [ 0 ] è¡¨ç¤ºç¬¬i + 1 ï¼ˆ å› ä¸ºæ•°ç»„ä¸‹æ ‡
æ˜¯ä»0 å¼€å§‹çš„ï¼Œ æ‰€ä»¥è¿™é‡Œæ˜¯i + 1 ï¼‰ ä¸ªé¢„çº¦æ²¡æœ‰æ¥çš„æœ€é•¿æ€»é¢„çº¦æ—¶é—´ï¼Œ d p [ i ] [ 1 ] è¡¨ç¤ºçš„æ˜¯ç¬¬i + 1 ä¸ªé¢„çº¦æ¥äº†çš„æœ€é•¿æ€»é¢„çº¦æ—¶é—´ã€‚é‚£ä¹ˆæˆ‘ä»¬æ‰¾å‡ºé€’æ¨å…¬å¼1 ï¼Œ d p [ i ] [ 0 ] = m a x ( d p [ i - 1 ] [ 0 ] , d p [ i - 1 ] [ 1 ] )
ä»–è¡¨ç¤ºå¦‚æœç¬¬i + 1 ä¸ªæ²¡æœ‰æ¥ï¼Œ é‚£ä¹ˆç¬¬i ä¸ªæœ‰æ²¡æœ‰æ¥éƒ½æ˜¯å¯ä»¥çš„ï¼Œ æˆ‘ä»¬å–æœ€å¤§å€¼å³å¯ã€‚
2 ï¼Œ d p [ i ] [ 1 ] = d p [ i - 1 ] [ 0 ] + n u m s [ i ]
ä»–è¡¨ç¤ºçš„æ˜¯å¦‚æœç¬¬i + 1 ä¸ªæ¥äº†ï¼Œ é‚£ä¹ˆç¬¬i ä¸ªå¿…é¡»è¦æ²¡æ¥ï¼Œ è¿™é‡Œn u m s [ i ] è¡¨ç¤ºçš„æ˜¯ç¬¬i + 1 ä¸ªé¢„çº¦çš„æ—¶é—´ã€‚
é€’æ¨å…¬å¼æ‰¾å‡ºæ¥ä¹‹åæˆ‘ä»¬å†æ¥çœ‹ä¸‹è¾¹ç•Œæ¡ä»¶ï¼Œ ç¬¬ä¸€ä¸ªé¢„çº¦å¯ä»¥é€‰æ‹©æ¥ï¼Œ ä¹Ÿå¯ä»¥é€‰æ‹©ä¸æ¥ï¼Œ æ‰€ä»¥d p [ 0 ] [ 0 ] = 0 ï¼Œ ç¬¬ä¸€ä¸ªæ²¡æ¥
d p [ 0 ] [ 1 ] = n u m s [ 0 ] ï¼Œ ç¬¬ä¸€ä¸ªæ¥äº†ã€‚
æœ€åå†æ¥çœ‹ä¸‹ä»£ç 

```java
public int massage(int[] nums) {
 //è¾¹ç•Œæ¡ä»¶åˆ¤æ–­
 if (nums == null || nums.length == 0)
 return 0;
 int length = nums.length;
 int[][] dp = new int[length][2];
 dp[0][0] = 0;//ç¬¬1ä¸ªæ²¡æ¥
 dp[0][1] = nums[0];//ç¬¬1ä¸ªæ¥äº†
 //ä»ç¬¬2ä¸ªå¼€å§‹åˆ¤æ–­
 for (int i = 1; i < length; i++) {
 //ä¸‹é¢ä¸¤è¡Œæ˜¯é€’æ¨å…¬å¼2
     dp[i][0] = Math.max(dp[i - 1][0], dp[i - 1][1]);
 dp[i][1] = dp[i - 1][0] + nums[i];
 }
 //æœ€åå–æœ€å¤§å€¼å³å¯
 return Math.max(dp[length - 1][0], dp[length - 1][1]);
 }
```



åŠ¨æ€è§„åˆ’ä¼˜åŒ–
ä¸Šé¢å®šä¹‰äº†ä¸€ä¸ªäºŒç»´æ•°ç»„ï¼Œ ä½†æ¯æ¬¡è®¡ç®—çš„æ—¶å€™éƒ½åªæ˜¯ç”¨äºŒç»´æ•°ç»„çš„å‰ä¸€å¯¹å€¼ï¼Œ åœ¨å¾€å‰é¢
çš„å°±æ°¸è¿œä½¿ç”¨ä¸åˆ°äº†ï¼Œ è¿™æ ·å°±ä¼šé€ æˆå·¨å¤§çš„ç©ºé—´æµªè´¹ï¼Œ æ‰€ä»¥æˆ‘ä»¬å¯ä»¥å®šä¹‰ä¸¤ä¸ªå˜é‡æ¥è§£
å†³ï¼Œ æ¥çœ‹ä¸‹ä»£ç 
1 public int massage(int[] nums) {
2 //è¾¹ç•Œæ¡ä»¶åˆ¤æ–­
3 if (nums == null || nums.length == 0)
4 return 0;
5 int length = nums.length;
6 int dp0 = 0;//ç¬¬1ä¸ªæ²¡æ¥
7 int dp1 = nums[0];//ç¬¬1ä¸ªæ¥äº†
8 //ä»ç¬¬2ä¸ªå¼€å§‹åˆ¤æ–­
9 for (int i = 1; i < length; i++) {
10 //é˜²æ­¢dp0è¢«ä¿®æ”¹ä¹‹åå¯¹ä¸‹é¢è¿ç®—é€ æˆå½±å“ï¼Œè¿™é‡Œ
11 //ä½¿ç”¨ä¸€ä¸ªä¸´æ—¶å˜é‡tempå…ˆæŠŠç»“æœå­˜èµ·æ¥ï¼Œè®¡ç®—å®Œ
12 //ä¹‹åå†èµ‹å€¼ç»™dp0.
13 int temp = Math.max(dp0, dp1);
14 dp1 = dp0 + nums[i];
15 dp0 = temp;
16 }
17 //æœ€åå–æœ€å¤§å€¼å³å¯
18 return Math.max(dp0, dp1);
19 }



## ä¸‰è§’å½¢æœ€å°è·¯å¾„å’Œ

ç»™å®šä¸€ä¸ªä¸‰è§’å½¢ï¼Œ æ‰¾å‡ºè‡ªé¡¶å‘ä¸‹çš„æœ€å°è·¯å¾„å’Œã€‚æ¯ä¸€æ­¥åªèƒ½ç§»åŠ¨åˆ°ä¸‹ä¸€è¡Œä¸­ç›¸é‚»çš„ç»“ç‚¹
ä¸Šã€‚
ç›¸é‚»çš„ç»“ç‚¹åœ¨è¿™é‡ŒæŒ‡çš„æ˜¯ä¸‹æ ‡ä¸ä¸Šä¸€å±‚ç»“ç‚¹ä¸‹æ ‡ç›¸åŒæˆ–è€…ç­‰äºä¸€å±‚ç»“ç‚¹ä¸‹æ ‡+ 1 çš„ä¸¤ä¸ªç»“
ç‚¹ã€‚
ä¾‹å¦‚ï¼Œ ç»™å®šä¸‰è§’å½¢ï¼š
[
[2],
[3,4],
[6,5,7],
[4,1,8,3]
]





ç­”ï¼š



è‡ªé¡¶å‘ä¸‹çš„æœ€å°è·¯å¾„å’Œä¸º 1 1 ï¼ˆ å³ï¼Œ 2 + 3 + 5 + 1 = 1 1 ï¼‰ ã€‚
é€’å½’æ±‚è§£
è¿™é¢˜è®©æ±‚è·¯å¾„çš„æœ€å°å€¼ï¼Œ å¦‚æœçŸ¥é“äº†ä¸‹é¢è·¯å¾„çš„æœ€å°å€¼ï¼Œ åªéœ€è¦é€‰æ‹©æœ€å°çš„å³å¯ï¼Œ æè¿°
ä¸æ˜¯å¾ˆæ˜ç™½ï¼Œ è¿™é‡Œä»¥ç¤ºä¾‹ä¸ºä¾‹ç”»ä¸ªå›¾æ¥çœ‹ä¸€ä¸‹

![image-20211222115559783](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20211222115559783.png)



```java
  public int minimumTotal(List<List<Integer>> triangle) {
return minimumTotal(triangle,0,0,triangle.size());
    }

    private int minimumTotal(List<List<Integer>> triangle,int line, int row, int size) {
        if(line > size||row > size)
        {
            return 0;//è¿™æ—¶å€™ä»£è¡¨å·²ç»å‡ºå»åˆ°ä¸‰è§’å½¢å¤–é¢äº†ï¼Œè¿”å›é›¶ã€‚æ³¨æ„è¿™ä¸ªä¸‰è§’å½¢ä¸­æ¯ä¸€è¡Œçš„è¡Œå·ç­‰äºè¿™ä¸€è¡Œå…ƒç´ ä¸ªæ•°
        }
        int left = minimumTotal(triangle,line+1,row,size);//ä¸‹ä¸€è¡Œçš„å·¦è¾¹å…ƒç´ çš„
        int right = minimumTotal(triangle,line+1,row+1,size);
        return triangle.get(line).get(row)+Math.min(left,right);
    }
```

è¿™ç§è§£æ³•è™½ç„¶æ²¡æœ‰é€»è¾‘ä¸Šçš„é”™è¯¯ï¼Œ ä½†æ˜¯æ‰§è¡Œæ•ˆç‡å¾ˆå·®ï¼Œ å› ä¸ºä»–åŒ…å«å¤§é‡çš„é‡å¤è®¡ç®—ï¼Œ æœ‰
ç‚¹ç±»ä¼¼æ–æ³¢é‚£å¥‘æ•°é‡ä¸€æ ·ï¼Œ åœ¨ä¹‹å‰è®²è¿‡3 5 6 ï¼Œ é’è›™è·³å°é˜¶ç›¸å…³é—®é¢˜çš„æ—¶å€™æåˆ°è¿‡æ–æ³¢é‚£
å¥‘æ•°åˆ—å¯ä»¥ä½¿ç”¨m a p æŠŠè®¡ç®—çš„ç»“æœå­˜å‚¨èµ·æ¥ï¼Œ ä¸‹æ¬¡ç”¨çš„æ—¶å€™å¦‚æœm a p ä¸­æœ‰å°±ç›´æ¥ä»
m a p ä¸­å–ï¼Œ å¦‚æœm a p ä¸­æ²¡æœ‰å†è®¡ç®—ã€‚

if (line >= total || row >= total)
8 return 0;
9 String key = line + "-" + row;
10 if (map.containsKey(key))
11 return map.get(key);
12 int left = minimumTotal(triangle, line + 1, row, total, map);
13 int right = minimumTotal(triangle, line + 1, row + 1, total, map);
14 int sum = triangle.get(line).get(row) + (left < right ? left : right);
15 //æŠŠè®¡ç®—çš„ç»“æœå­˜å‚¨åˆ°mapä¸­
16 map.put(key, sum);
17 return sum;

åŠ¨æ€è§„åˆ’è§£å†³
é€’å½’ä½¿ç”¨çš„æ˜¯ä»ä¸Šåˆ°ä¸‹çš„æ–¹å¼æ¥è®¡ç®—ï¼ˆ ä½†å®é™…ä¸Šè®¡ç®—çš„æ—¶å€™ç”±äºé€’å½’çš„åŸå› ï¼Œ ä»–è¿˜æ˜¯å…ˆ
ä»ä¸‹é¢å¼€å§‹è®¡ç®—ï¼Œ ç„¶åæŠŠè®¡ç®—çš„ç»“æœè¿”å›ç»™ä¸Šä¸€å±‚è°ƒç”¨é€’å½’çš„åœ°æ–¹ï¼‰ ã€‚å…¶å®è¿˜å¯ä»¥ä¸ä½¿
ç”¨é€’å½’ï¼Œ å€’æ•°ç¬¬ä¸€è¡Œçš„æœ€å°è·¯å¾„å°±æ˜¯ä»–è‡ªå·±ï¼Œ ä»å€’æ•°ç¬¬äºŒè¡Œå¼€å§‹ï¼Œ å½“å‰å…ƒç´ çš„æœ€å°è·¯å¾„
å°±æ˜¯å½“å‰å…ƒç´ åŠ ä¸Šä»–ä¸‹ä¸€è¡Œå·¦å³ä¸¤ä¸ªå…ƒç´ çš„æœ€å°è·¯å¾„ã€‚ç”»ä¸ªå›¾æ¥çœ‹ä¸€ä¸‹

![image-20211222121004749](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20211222121004749.png)

æˆ‘ä»¬æ¥å®šä¹‰ä¸€ä¸ªäºŒç»´æ•°ç»„d p ï¼Œ ä»–è¡¨ç¤ºå½“å‰ä½ç½®çš„æœ€å°è·¯å¾„å’Œï¼Œ æˆ‘ä»¬å¯ä»¥å¾—å‡ºé€’æ¨å…¬å¼
d p [ i ] [ j ] = m i n ( d p [ i + 1 ] [ j ] + d p [ i + 1 ] [ j + 1 ] )
+ t r i a n g l e . g e t ( i ) . g e t ( j ) ï¼›
  ä»–è¡¨ç¤ºå½“å‰ä½ç½®çš„æœ€å°è·¯å¾„å’Œæ˜¯ä¸‹ä¸€è¡Œå·¦å³ä¸¤ä¸ªæœ€å°çš„è·¯å¾„å’ŒåŠ ä¸Šå½“å‰çš„å€¼ã€‚

```java
public int minimumTotal(List<List<Integer>> triangle) {
2 //å®šä¹‰ä¸€ä¸ªäºŒç»´æ•°ç»„
3 int[][] dp = new int[triangle.size() + 1][triangle.size() + 1];
4 //ä»æœ€åä¸€è¡Œå¼€å§‹è®¡ç®—
5 for (int i = triangle.size() - 1; i >= 0; i--) {
6 for (int j = 0; j < triangle.get(i).size(); j++) {
7 //é€’å½’å…¬å¼
8 dp[i][j] = Math.min(dp[i + 1][j], dp[i + 1][j + 1]) + triangle.get(i).get(j);
9 }
10 }
11 return dp[0][0];
12 }
13
ä¸Šé¢ä»£ç ä½¿ç”¨çš„æ˜¯äºŒç»´æ•°ç»„ï¼Œ æ¯ä¸€è¡Œä½¿ç”¨ä¹‹åå°±ä¸ä¼šå†ä½¿ç”¨äº†ï¼Œ é€ æˆäº†ç©ºé—´çš„æµªè´¹ï¼Œ å…¶
å®æˆ‘ä»¬è¿˜å¯ä»¥æŠŠå®ƒæ”¹æˆä¸€ç»´çš„ï¼Œ å°±åƒä¹‹å‰è®²çš„3 7 0 ï¼Œ æœ€é•¿å…¬å…±å­ä¸²å’Œå­åºåˆ—ä¸­æåˆ°çš„ä»£
ç ä¼˜åŒ–é‚£æ ·ï¼Œ æœ€åå†æ¥çœ‹ä¸‹ä»£ç 
1 public int minimumTotal(List<List<Integer>> triangle) {
2 int[] dp = new int[triangle.size() + 1];
3 for (int i = triangle.size() - 1; i >= 0; i--) {
4 for (int j = 0; j < triangle.get(i).size(); j++) {
5 //minå‡½æ•°ä¸­çš„dp[j]å®é™…ä¸Šæ˜¯ä¸‹ä¸€è¡Œçš„å€¼è¿™é‡Œè¿˜æ²¡æœ‰æ›´æ–°
6 dp[j] = Math.min(dp[j], dp[j + 1]) + triangle.get(i).get(j);
7 }
8 }
9 return dp[0];
10 }
```



## [122. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº II](https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-ii/)

![image-20220126142448040](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220126142448040.png)

è´ªå¿ƒæ³•ï¼š

![image-20220126142544340](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220126142544340.png)



```java
 public int maxProfit(int[] prices) {
int ans = 0;
for(int i = 1;i <prices.length;i++)
{
ans +=Math.max(prices[i]-prices[i-1],0);
}

return ans;
    }
```

åŠ¨æ€è§„åˆ’æ³•ï¼š

![image-20220126142837613](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220126142837613.png)

![image-20220126142858553](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220126142858553.png)

## ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº3

zåœ¨ä¸Šä¸€ä¸ªé—®é¢˜çš„åŸºç¡€ä¸Šåˆå¤šäº†ä¸€æ¡ä»¶ï¼šæœ€å¤šåªèƒ½è¿›è¡Œä¸¤ç¬”æ“ä½œï¼ˆå³ä¸¤æ¬¡ä¹°å…¥å–å‡ºï¼‰

--------------

![image-20220219180248135](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220219180248135.png)

![image-20220219180316521](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220219180316521.png)

![image-20220219180726558](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220219180726558.png)

```java
 public int maxProfit(int[] prices) {
int buy1 = -prices[0],sell1 = 0,buy2 = -prices[0],sell2 = 0;
for(int i = 1; i < prices.length;i++)
{
    buy1=Math.max(-prices[i],buy1);
    sell1 = Math.max(prices[i]+buy1,sell1);
    buy2 = Math.max(sell1-prices[i],buy2);
    sell2 = Math.max(buy2+prices[i],sell2);
}
return Math.max(sell1,sell2);
    }
```



## [188. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº IV](https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-iv/)

éš¾åº¦å›°éš¾676

ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ `prices` ï¼Œå®ƒçš„ç¬¬ `i` ä¸ªå…ƒç´  `prices[i]` æ˜¯ä¸€æ”¯ç»™å®šçš„è‚¡ç¥¨åœ¨ç¬¬ `i` å¤©çš„ä»·æ ¼ã€‚

è®¾è®¡ä¸€ä¸ªç®—æ³•æ¥è®¡ç®—ä½ æ‰€èƒ½è·å–çš„æœ€å¤§åˆ©æ¶¦ã€‚ä½ æœ€å¤šå¯ä»¥å®Œæˆ **k** ç¬”äº¤æ˜“ã€‚

**æ³¨æ„ï¼š**ä½ ä¸èƒ½åŒæ—¶å‚ä¸å¤šç¬”äº¤æ˜“ï¼ˆä½ å¿…é¡»åœ¨å†æ¬¡è´­ä¹°å‰å‡ºå”®æ‰ä¹‹å‰çš„è‚¡ç¥¨ï¼‰ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šk = 2, prices = [2,4,1]
è¾“å‡ºï¼š2
è§£é‡Šï¼šåœ¨ç¬¬ 1 å¤© (è‚¡ç¥¨ä»·æ ¼ = 2) çš„æ—¶å€™ä¹°å…¥ï¼Œåœ¨ç¬¬ 2 å¤© (è‚¡ç¥¨ä»·æ ¼ = 4) çš„æ—¶å€™å–å‡ºï¼Œè¿™ç¬”äº¤æ˜“æ‰€èƒ½è·å¾—åˆ©æ¶¦ = 4-2 = 2 ã€‚
```

-------------



![image-20220311082340926](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220311082340926.png)

![image-20220311082717971](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220311082717971.png)



```java
    public int maxProfit(int k, int[] prices) {

if(prices.length == 0) return 0;
   //k = Math.min(k, prices.length / 2);
int[][]buy = new int[prices.length][k+1];
int[][]sell = new int[prices.length][k+1];
buy[0][0] = -prices[0];
      
  for (int i = 1; i <= k; ++i) {
            buy[0][i] = sell[0][i] = Integer.MIN_VALUE / 2;
        }
for(int i = 1;i < prices.length;i++)
{
    buy[i][0] = Math.max(buy[i-1][0],sell[i-1][0]-prices[i]);//è¿™é‡Œéƒ½è¦è¿›è¡Œ  buy[i][0] çš„åˆ¤æ–­
    for(int j = 1;j <=k;j++)//æ³¨æ„è¿™é‡Œä»1å¼€å§‹
    {
buy[i][j] = Math.max(buy[i-1][j],sell[i-1][j]-prices[i]);
sell[i][j] = Math.max(sell[i-1][j],buy[i-1][j-1]+prices[i]);
        //æ³¨æ„ï¼Œbuyå¯¹åº”sell[i-1][j] sellå¯¹åº”buy[i-1][j-1] åªæœ‰å®Œæˆå–å‡ºæ‰æ˜¯ä¸€ç¬”äº¤æ˜“
    }
}
return Arrays.stream(sell[prices.length-1]).max().getAsInt();
    }
```

ä¹Ÿå¯ä»¥è¿™ä¹ˆç†è§£ï¼š

æœ¬é¢˜ä¸­å­˜åœ¨ä¸‰ç§ã€ŒçŠ¶æ€ã€ï¼šå¤©æ•°ã€æ˜¯å¦æŒæœ‰è‚¡ç¥¨çš„çŠ¶æ€ã€äº¤æ˜“æ¬¡æ•°
è€Œå¯¹äºæ¯ç§çŠ¶æ€ï¼Œæˆ‘ä»¬åˆæœ‰ä¸åŒçš„é€‰æ‹©ï¼š
1. å¤©æ•°ç”±pricesç¡®å®š
2. æ˜¯å¦æŒæœ‰è‚¡ç¥¨çš„çŠ¶æ€æˆ‘ä»¬å¯ä»¥ç”¨0/1è¡¨ç¤ºï¼Œ0ä»£è¡¨ä¸æŒæœ‰è‚¡ç¥¨ï¼Œ1ä»£è¡¨æŒæœ‰è‚¡ç¥¨
3. äº¤æ˜“æ¬¡æ•°ç”±kç¡®å®š

è¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬å¯ä»¥è®¾å®šä¸€ä¸ªä¸‰ç»´æ•°ç»„dp[i][j][k]ï¼Œå…¶å­˜å‚¨çš„å†…å®¹æ˜¯åœ¨ç¬¬iå¤©ï¼Œæˆ‘ä»¬æŒæœ‰è‚¡ç¥¨çš„çŠ¶æ€ä¸ºjï¼Œå·²ç»è¿›è¡Œäº†kæ¬¡äº¤æ˜“æ—¶èƒ½å¤Ÿè·å–çš„æœ€å¤§åˆ©æ¶¦
è¿™é‡Œéœ€è¦è¯´æ˜çš„æ˜¯ï¼Œç¬¬iå¤©å’Œæ•°ç»„çš„ç´¢å¼•ä¸€è‡´ï¼Œå®ƒçš„èŒƒå›´æ˜¯0 ~ prices.length-1ï¼Œæ‰€ä»¥æˆ‘è®¾ç½®çš„èµ·ç‚¹æ˜¯ç¬¬0å¤©
æ¯”å¦‚è¯´dp\[5]\[0][2]ï¼šå…¶ä¸­å­˜å‚¨äº† ã€Œåœ¨ç¬¬5å¤©æ—¶ï¼Œæˆ‘ä»¬ä¸æŒæœ‰è‚¡ç¥¨ï¼Œå·²ç»è¿›è¡Œäº†2æ¬¡äº¤æ˜“ã€ æ—¶è·å–çš„æœ€å¤§åˆ©æ¶¦
å¥½äº†ï¼Œåˆ°è¿™é‡Œdpçš„å®šä¹‰å’ŒçŠ¶æ€æˆ‘ä»¬å°±ç¡®å®šä¸‹æ¥äº†ï¼Œé‚£ä¹ˆåˆå§‹å€¼æ€ä¹ˆç¡®å®šå‘¢ï¼Ÿ

å› ä¸ºå¯¹äºç¬¬0å¤©æ¥è¯´ï¼Œå®ƒæ‰€èƒ½å¤Ÿè·å–çš„æœ€å¤§åˆ©æ¶¦åªæœ‰ä¸¤ç§ï¼Œä¸äº¤æ˜“æ¬¡æ•°æ¯«æ— å…³ç³»ï¼Œæ‰€ä»¥æˆ‘ä»¬æœ‰ä»¥ä¸‹åˆå§‹å€¼ï¼š
1.ä¸æŒæœ‰è‚¡ç¥¨æ—¶ï¼šdp\[0]\[0][k]=0
2.æŒæœ‰è‚¡ç¥¨æ—¶ï¼šdp\[0]\[1][k]=-prices[0]

å¥½äº†ï¼Œåˆ°è¿™é‡Œåˆå§‹å€¼ä¹Ÿç¡®å®šä¸‹æ¥äº†ï¼Œé‚£ä¹ˆè¿˜å‰©ä¸‹æœ€åä¸€ä¸ªé—®é¢˜ã€ŒçŠ¶æ€æ–¹ç¨‹ã€
æˆ‘ä»¬é¦–å…ˆè¦çŸ¥é“ä¸€ç‚¹ï¼Œ**ç¬¬iå¤©çš„çŠ¶æ€åªå’Œç¬¬i-1å¤©æœ‰å…³ï¼Œç¬¬iå¤©æŒæœ‰/ä¸æŒæœ‰è‚¡ç¥¨ èƒ½å¤Ÿè·å–çš„æœ€å¤§åˆ©æ¶¦å–å†³äº ç¬¬i-1å¤©æŒæœ‰/ä¸æŒæœ‰è‚¡ç¥¨**
è¿™é‡Œéœ€è¦æ³¨æ„ï¼šæˆ‘å°†ä¹°å…¥è‚¡ç¥¨æ—¶ä½œä¸ºä¸€æ¬¡äº¤æ˜“ï¼Œä¹Ÿå°±æ˜¯åœ¨ä¹°å…¥è‚¡ç¥¨çš„æ—¶å€™äº¤æ˜“æ¬¡æ•°+1
ç¬¬iå¤©ä¸æŒæœ‰è‚¡ç¥¨æ—¶ï¼š
1.å¦‚æœç¬¬i-1å¤©ä¹Ÿä¸æŒæœ‰è‚¡ç¥¨ï¼Œé‚£å°±ä»£è¡¨çŠ¶æ€ä¸å˜ï¼Œç¬¬iå¤©çš„çŠ¶æ€=ç¬¬i-1å¤©çš„çŠ¶æ€
2.å¦‚æœç¬¬i-1å¤©æŒæœ‰è‚¡ç¥¨ï¼Œè¯´æ˜æˆ‘ä»¬åœ¨ç¬¬iå¤©æŠŠè‚¡ç¥¨å–äº†ï¼Œæ—¢ç„¶å–è‚¡ç¥¨èµšé’±äº†ï¼Œåˆ©æ¶¦å°±è¦å¤šprices[i]

dp\[i]\[0][k] = max(dp\[i-1]\[0][k] , dp\[i-1]\[1][k]+prices[i])

ç¬¬iå¤©æŒæœ‰è‚¡ç¥¨æ—¶ï¼š
1.å¦‚æœç¬¬i-1å¤©ä¹ŸæŒæœ‰è‚¡ç¥¨ï¼Œé‚£å°±ä»£è¡¨çŠ¶æ€ä¸å˜ï¼Œå³dp\[i]\[1][k] = dp\[i-1]\[1][k]
2.å¦‚æœç¬¬i-1å¤©ä¸æŒæœ‰è‚¡ç¥¨ï¼Œè¯´æ˜æˆ‘ä»¬åœ¨ç¬¬iå¤©ä¹°å…¥è‚¡ç¥¨ï¼Œæ—¢ç„¶ä¹°è‚¡ç¥¨è¦èŠ±é’±ï¼Œåˆ©æ¶¦å°±è¦å°‘price[i]
ä¹°å…¥è‚¡ç¥¨çš„åŒæ—¶ï¼Œå½“å¤©çš„äº¤æ˜“æ¬¡æ•°è¦åœ¨å‰ä¸€å¤©çš„åŸºç¡€ä¸Š+1

```java
dp[i][1][k] = max(dp[i-1][1][k] , dp[i-1][0][k-1]-prices[i])
```

è‡³æ­¤ï¼Œæ€è·¯æ‹é¡ºï¼Œå¼€å§‹ç ä»£ç äº†ï¼
è¿˜éœ€è¦æ³¨æ„çš„ç‚¹ï¼šå› ä¸ºä¸€æ¬¡äº¤æ˜“æ¶‰åŠä¸€å¤©ä¹°å…¥ä¸€å¤©å–å‡ºï¼Œä¸€å…±ä¸¤å¤©ï¼Œæ‰€ä»¥å¦‚æœkå€¼å¤§äºæ•°ç»„é•¿åº¦çš„ä¸€åŠï¼Œkå°±ç›´æ¥å–æ•°ç»„é•¿åº¦çš„ä¸€åŠï¼Œå› ä¸ºå¤šä½™çš„äº¤æ˜“æ¬¡æ•°æ— æ³•è¾¾åˆ°
å³ï¼šk=min(k , prices.length/2)

```java
 public int maxProfit(int K, int[] prices) {//è¿™é‡Œæ‚„å’ªå’ªæŠŠå°kæ¢æˆäº†å¤§Kï¼Œä¾¿äºåç»­ç´¢å¼•èµ‹å€¼
        int n=prices.length;
        if(n<=1)    return 0;
        //å› ä¸ºä¸€æ¬¡äº¤æ˜“è‡³å°‘æ¶‰åŠä¸¤å¤©ï¼Œæ‰€ä»¥å¦‚æœkå¤§äºæ€»å¤©æ•°çš„ä¸€åŠï¼Œå°±ç›´æ¥å–å¤©æ•°ä¸€åŠå³å¯ï¼Œå¤šä½™çš„äº¤æ˜“æ¬¡æ•°æ˜¯æ— æ„ä¹‰çš„
        K=Math.min(K,n/2);

        /*dpå®šä¹‰ï¼šdp[i][j][k]ä»£è¡¨ ç¬¬iå¤©äº¤æ˜“äº†kæ¬¡æ—¶çš„æœ€å¤§åˆ©æ¶¦ï¼Œå…¶ä¸­jä»£è¡¨å½“å¤©æ˜¯å¦æŒæœ‰è‚¡ç¥¨ï¼Œ0ä¸æŒæœ‰ï¼Œ1æŒæœ‰
        æ³¨æ„åœ¨è¿™é‡Œkä¸æ˜¯kæ¬¡å…¨éƒ¨å®Œæˆåçš„åˆ©æ¶¦ï¼Œè€Œæ˜¯æœ€å¤§åˆ©æ¶¦ï¼Œä¹Ÿå°±æ˜¯ä¸ä¸€å®šæ˜¯kæ¬¡éƒ½å®Œæˆçš„åˆ©æ¶¦
        */
        int[][][] dp=new int[n][2][K+1];
        for(int k=0;k<=K;k++){
            dp[0][0][k]=0;
            dp[0][1][k]=-prices[0];
        }

        /*çŠ¶æ€æ–¹ç¨‹ï¼š
        dp[i][0][k]ï¼Œå½“å¤©ä¸æŒæœ‰è‚¡ç¥¨æ—¶ï¼Œçœ‹å‰ä¸€å¤©çš„è‚¡ç¥¨æŒæœ‰æƒ…å†µ
        dp[i][1][k]ï¼Œå½“å¤©æŒæœ‰è‚¡ç¥¨æ—¶ï¼Œçœ‹å‰ä¸€å¤©çš„è‚¡ç¥¨æŒæœ‰æƒ…å†µ*/
        for(int i=1;i<n;i++){
            for(int k=1;k<=K;k++){
                dp[i][0][k]=Math.max(dp[i-1][0][k],dp[i-1][1][k]+prices[i]);
                dp[i][1][k]=Math.max(dp[i-1][1][k],dp[i-1][0][k-1]-prices[i]);
            }
        }
        return dp[n-1][0][K];
    }


```

## [309. æœ€ä½³ä¹°å–è‚¡ç¥¨æ—¶æœºå«å†·å†»æœŸ](https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-with-cooldown/)

éš¾åº¦ä¸­ç­‰1363

ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„`prices`ï¼Œå…¶ä¸­ç¬¬ `prices[i]` è¡¨ç¤ºç¬¬ `*i*` å¤©çš„è‚¡ç¥¨ä»·æ ¼ ã€‚

è®¾è®¡ä¸€ä¸ªç®—æ³•è®¡ç®—å‡ºæœ€å¤§åˆ©æ¶¦ã€‚åœ¨æ»¡è¶³ä»¥ä¸‹çº¦æŸæ¡ä»¶ä¸‹ï¼Œä½ å¯ä»¥å°½å¯èƒ½åœ°å®Œæˆæ›´å¤šçš„äº¤æ˜“ï¼ˆå¤šæ¬¡ä¹°å–ä¸€æ”¯è‚¡ç¥¨ï¼‰:

- å–å‡ºè‚¡ç¥¨åï¼Œä½ æ— æ³•åœ¨ç¬¬äºŒå¤©ä¹°å…¥è‚¡ç¥¨ (å³å†·å†»æœŸä¸º 1 å¤©)ã€‚

**æ³¨æ„ï¼š**ä½ ä¸èƒ½åŒæ—¶å‚ä¸å¤šç¬”äº¤æ˜“ï¼ˆä½ å¿…é¡»åœ¨å†æ¬¡è´­ä¹°å‰å‡ºå”®æ‰ä¹‹å‰çš„è‚¡ç¥¨ï¼‰ã€‚

 

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: prices = [1,2,3,0,2]
è¾“å‡º: 3 
è§£é‡Š: å¯¹åº”çš„äº¤æ˜“çŠ¶æ€ä¸º: [ä¹°å…¥, å–å‡º, å†·å†»æœŸ, ä¹°å…¥, å–å‡º]
```

--------------

![image-20221212225748724](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20221212225748724.png)

![image-20221212225805544](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20221212225805544.png) 

```java
   public int maxProfit(int[] prices) {
 if(prices.length==0){
            return 0;
        }
        //// f[i][0]: æ‰‹ä¸ŠæŒæœ‰è‚¡ç¥¨çš„æœ€å¤§æ”¶ç›Š
        //        // f[i][1]: æ‰‹ä¸Šä¸æŒæœ‰è‚¡ç¥¨ï¼Œå¹¶ä¸”å¤„äºå†·å†»æœŸä¸­çš„ç´¯è®¡æœ€å¤§æ”¶ç›Š
        //        // f[i][2]: æ‰‹ä¸Šä¸æŒæœ‰è‚¡ç¥¨ï¼Œå¹¶ä¸”ä¸åœ¨å†·å†»æœŸä¸­çš„ç´¯è®¡æœ€å¤§æ”¶ç›Š
        //

        int[][]f = new int[prices.length][3];
        f[0][0]=-prices[0];
        f[0][1]=0;
        f[0][2]=0;
        for (int i = 1; i < prices.length; i++) {
            f[i][0] = Math.max(f[i-1][0],f[i-1][2]- prices[i]);
            f[i][1]=f[i-1][0]+prices[i];
            f[i][2]=Math.max(f[i-1][1],f[i-1][2]);
        }
        return Math.max(f[prices.length-1][1],f[prices.length-1][2]);
    }
```





## [221. æœ€å¤§æ­£æ–¹å½¢](https://leetcode-cn.com/problems/maximal-square/)

éš¾åº¦ä¸­ç­‰1003

åœ¨ä¸€ä¸ªç”± `'0'` å’Œ `'1'` ç»„æˆçš„äºŒç»´çŸ©é˜µå†…ï¼Œæ‰¾åˆ°åªåŒ…å« `'1'` çš„æœ€å¤§æ­£æ–¹å½¢ï¼Œå¹¶è¿”å›å…¶é¢ç§¯ã€‚



è¿™é‡Œæ³¨æ„æ¯ä¸€ä¸ªä¸º1çš„æ ¼å­éƒ½è‡ªèº«æ˜¯ä¸€ä¸ªå°æ­£æ–¹å½¢ï¼Œç„¶åæ‰å‘å¤–æ‹“å±•ï¼Œéœ€è¦ä¿è¯å¯¹è§’çº¿ä¹Ÿä¸º1ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªå·§å¦™çš„ç‚¹ï¼šç”¨dpæ•°ç»„æ—¶çš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹

  dp\[i][j] = Math.min(Math.min(dp\[i-1][j],dp[i][j-1]),dp\[i-1][j-1])+1;

```java
 public int maximalSquare(char[][] matrix) {
int[][]dp = new int[matrix.length][matrix[0].length];
int maxSide = 0;
        if (matrix == null || matrix.length == 0 || matrix[0].length == 0) {
            return maxSide;
        }

for(int i = 0;i <matrix.length;i++)
{
    for(int j = 0;j <matrix[0].length;j++)
    {
        if(matrix[i][j] == '1')
        {
            if(i == 0 ||j == 0)
         {  dp[i][j] = 1;}
            else
            dp[i][j] = Math.min(Math.min(dp[i-1][j],dp[i][j-1]),dp[i-1][j-1])+1;
              maxSide = Math.max(maxSide,dp[i][j]);
        }
  
    }
}
return maxSide*maxSide;
    }
```



## [718. æœ€é•¿é‡å¤å­æ•°ç»„](https://leetcode-cn.com/problems/maximum-length-of-repeated-subarray/)

ç»™ä¸¤ä¸ªæ•´æ•°æ•°ç»„ A å’Œ B ï¼Œè¿”å›ä¸¤ä¸ªæ•°ç»„ä¸­å…¬å…±çš„ã€é•¿åº¦æœ€é•¿çš„å­æ•°ç»„çš„é•¿åº¦ã€‚

 

ç¤ºä¾‹ï¼š

è¾“å…¥ï¼š
A: [1,2,3,2,1]
B: [3,2,1,4,7]
è¾“å‡ºï¼š3
è§£é‡Šï¼š
é•¿åº¦æœ€é•¿çš„å…¬å…±å­æ•°ç»„æ˜¯ [3, 2, 1] ã€‚

------------------

![image-20220128142922730](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220128142922730.png)

```java
 public int findLength(int[] nums1, int[] nums2) {
int tot=0;
int[][]dp = new int[nums1.length+1][nums2.length+1];
if(nums1[0]==nums2[0])
dp[0][0] = 1;
if(nums1[0]==nums2)
for(int i =0;i<nums1.length-1;i++)
{
   for(int j = 0;j <nums2.length-1;j++)
    {
if(nums1[i]==nums2[j]&&i!=0&&j!=0)
  dp[i][j] =dp[i-1][j-1] +1;
  tot = Math.max(dp[i][j],tot);
    }
     
}
return tot;
    }
```



## [62. ä¸åŒè·¯å¾„](https://leetcode-cn.com/problems/unique-paths/)

ä¸€ä¸ªæœºå™¨äººä½äºä¸€ä¸ª m x n ç½‘æ ¼çš„å·¦ä¸Šè§’ ï¼ˆèµ·å§‹ç‚¹åœ¨ä¸‹å›¾ä¸­æ ‡è®°ä¸º â€œStartâ€ ï¼‰ã€‚

æœºå™¨äººæ¯æ¬¡åªèƒ½å‘ä¸‹æˆ–è€…å‘å³ç§»åŠ¨ä¸€æ­¥ã€‚æœºå™¨äººè¯•å›¾è¾¾åˆ°ç½‘æ ¼çš„å³ä¸‹è§’ï¼ˆåœ¨ä¸‹å›¾ä¸­æ ‡è®°ä¸º â€œFinishâ€ ï¼‰ã€‚

é—®æ€»å…±æœ‰å¤šå°‘æ¡ä¸åŒçš„è·¯å¾„ï¼Ÿ

 

---------

![image-20220128165608528](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220128165608528.png)



```java
 public int uniquePaths(int m, int n) {
        boolean[][]vis = new boolean[m][n];
int[][]dp = new int[m][n];
for(int i = 0;i<m;i++)
dp[i][0] = 1;
for(int i = 0;i<n;i++)
dp[0][i] = 1;
for(int i = 1;i<m;i++)
for(int j = 1;j<n;j++)
{
    dp[i][j] = dp[i-1][j]+dp[i][j-1];
}

return dp[m-1][n-1];
    }
    public void dfs(   boolean[][]vis ,int i,int j,int m,int n)
    {
        if(i == m-1 && j==n-1)
       {
           tot++;
            return; 
       }
       vis[i][j] = true;
       int[]d1 = {1,0};
       int[]d2 = {0,1};
       for(int z = 0;z < 2;z++)
       {if(i+d1[z] < m  && j+d2[z]<n&&!vis[i+d1[z]][j+d2[z]])
           dfs(vis,i+d1[z],j+d2[z],m,n);
       }
       vis[i][j] = false;
    }
```

## [63. ä¸åŒè·¯å¾„ II](https://leetcode-cn.com/problems/unique-paths-ii/)

éš¾åº¦ä¸­ç­‰719

ä¸€ä¸ªæœºå™¨äººä½äºä¸€ä¸ª `m x n` ç½‘æ ¼çš„å·¦ä¸Šè§’ ï¼ˆèµ·å§‹ç‚¹åœ¨ä¸‹å›¾ä¸­æ ‡è®°ä¸º â€œStartâ€ ï¼‰ã€‚

æœºå™¨äººæ¯æ¬¡åªèƒ½å‘ä¸‹æˆ–è€…å‘å³ç§»åŠ¨ä¸€æ­¥ã€‚æœºå™¨äººè¯•å›¾è¾¾åˆ°ç½‘æ ¼çš„å³ä¸‹è§’ï¼ˆåœ¨ä¸‹å›¾ä¸­æ ‡è®°ä¸º â€œFinishâ€ï¼‰ã€‚

ç°åœ¨è€ƒè™‘ç½‘æ ¼ä¸­æœ‰éšœç¢ç‰©ã€‚é‚£ä¹ˆä»å·¦ä¸Šè§’åˆ°å³ä¸‹è§’å°†ä¼šæœ‰å¤šå°‘æ¡ä¸åŒçš„è·¯å¾„ï¼Ÿ

ç½‘æ ¼ä¸­çš„éšœç¢ç‰©å’Œç©ºä½ç½®åˆ†åˆ«ç”¨ `1` å’Œ `0` æ¥è¡¨ç¤ºã€‚

 æ³¨æ„ï¼šè¿™ä¸ªé¢˜è¯•è¿‡äº†ç”¨é€’å½’ï¼Œè™½ç„¶è§£ç­”æ˜¯æ­£ç¡®çš„ä½†æ˜¯ä¼šè¶…å‡ºæ—¶é—´é™åˆ¶ï¼Œéœ€è¦è€ƒè™‘ç”¨åŠ¨æ€è§„åˆ’

```java
   int tot=0;
    boolean[][]vis=new boolean[100][100];
    public int uniquePathsWithObstacles(int[][] obstacleGrid) {
        if(obstacleGrid[0][0]==1) return 0;
int[][]dp=new int[obstacleGrid.length][obstacleGrid[0].length];
for(int i = 0;i<obstacleGrid.length && obstacleGrid[i][0] == 0;i++)
    //å°¤å…¶æ³¨æ„è¿™ä¸ªå¾ªç¯æ¡ä»¶ï¼Œå¦‚æœdp[i][0]ä¸º0ï¼Œåˆ™dp[i+1][0]ä¹Ÿä¸º0ï¼Œå³å¦‚æœæœ‰ä¸€ä¸ªobstacleGrid[i][0]ä¸º1ï¼Œåˆ™è¿™ä¸€è¡Œåé¢çš„ä½ç½®å¿…ç„¶éƒ½åˆ°ä¸äº†ï¼Œå¯ä»¥ç›´æ¥é€€å‡ºå¾ªç¯

dp[i][0]=1;
for(int i = 0;i<obstacleGrid[0].length && obstacleGrid[0][i] == 0;i++)
if(obstacleGrid[0][i]==0)
dp[0][i]=1;
for(int i = 1;i<obstacleGrid.length;i++)
{
    for(int j = 1;j<obstacleGrid[0].length;j++)
    {
        if(obstacleGrid[i][j]==0)
        {
          
dp[i][j]=dp[i-1][j]+dp[i][j-1];
        }
    }
}

return dp[obstacleGrid.length-1][obstacleGrid[0].length-1];
    }
```



## æ‰“å®¶åŠ«èˆ2

è¿™é‡Œå˜æˆäº†ç¯å½¢æˆ¿å±‹ï¼Œå³æ•°ç»„å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä¸èƒ½åŒæ—¶æˆ¿å±‹

```
è¾“å…¥ï¼šnums = [2,3,2]
è¾“å‡ºï¼š3
è§£é‡Šï¼šä½ ä¸èƒ½å…ˆå·çªƒ 1 å·æˆ¿å±‹ï¼ˆé‡‘é¢ = 2ï¼‰ï¼Œç„¶åå·çªƒ 3 å·æˆ¿å±‹ï¼ˆé‡‘é¢ = 2ï¼‰, å› ä¸ºä»–ä»¬æ˜¯ç›¸é‚»çš„ã€‚
```

----

ç”±äºæ˜¯ç¯å½¢çš„ï¼Œæ‰€ä»¥é€‰æ‹©éå†ä¸¤æ¬¡çš„æ–¹å¼

```java
 public int rob(int[] nums) {
if(nums.length==2) return Math.max(nums[0],nums[1]);
if(nums.length==1) return nums[0];
int[]dp=new int[nums.length];
int[]dp2=new int[nums.length];
dp[0]=nums[0];
dp[1]=Math.max(nums[0],nums[1]);
dp2[1]=nums[1];
dp2[2]=Math.max(nums[1],nums[2]);
for(int i=2;i<nums.length-1;i++)
dp[i]=Math.max(dp[i-2]+nums[i],dp[i-1]);
for(int i=3;i<nums.length;i++)
dp2[i]=Math.max(dp2[i-2]+nums[i],dp2[i-1]);
return Math.max(dp2[nums.length-1],dp[nums.length-2]);
    }
```

## æ ‘å½¢åŠ¨æ€è§„åˆ’[337. æ‰“å®¶åŠ«èˆ III](https://leetcode-cn.com/problems/house-robber-iii/)

#### 

éš¾åº¦ä¸­ç­‰

å°å·åˆå‘ç°äº†ä¸€ä¸ªæ–°çš„å¯è¡Œçªƒçš„åœ°åŒºã€‚è¿™ä¸ªåœ°åŒºåªæœ‰ä¸€ä¸ªå…¥å£ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º `root` ã€‚

é™¤äº† `root` ä¹‹å¤–ï¼Œæ¯æ ‹æˆ¿å­æœ‰ä¸”åªæœ‰ä¸€ä¸ªâ€œçˆ¶â€œæˆ¿å­ä¸ä¹‹ç›¸è¿ã€‚ä¸€ç•ªä¾¦å¯Ÿä¹‹åï¼Œèªæ˜çš„å°å·æ„è¯†åˆ°â€œè¿™ä¸ªåœ°æ–¹çš„æ‰€æœ‰æˆ¿å±‹çš„æ’åˆ—ç±»ä¼¼äºä¸€æ£µäºŒå‰æ ‘â€ã€‚ å¦‚æœ **ä¸¤ä¸ªç›´æ¥ç›¸è¿çš„æˆ¿å­åœ¨åŒä¸€å¤©æ™šä¸Šè¢«æ‰“åŠ«** ï¼Œæˆ¿å±‹å°†è‡ªåŠ¨æŠ¥è­¦ã€‚

ç»™å®šäºŒå‰æ ‘çš„ `root` ã€‚è¿”å› ***åœ¨ä¸è§¦åŠ¨è­¦æŠ¥çš„æƒ…å†µä¸‹** ï¼Œå°å·èƒ½å¤Ÿç›—å–çš„æœ€é«˜é‡‘é¢* ã€‚

![image-20220129141844949](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220129141844949.png)

--------

![image-20220129141938823](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220129141938823.png)

```java
HashMap<TreeNode,Integer>g = new HashMap<>();//ä¸é€‰æŸä¸ªç‚¹
HashMap<TreeNode,Integer>f = new HashMap<>();//é€‰æŸä¸ªç‚¹
    public int rob(TreeNode root) {
dfs(root);
return Math.max(g.getOrDefault(root,0),f.getOrDefault(root,0));
    }
    public void dfs(TreeNode root)
    {
     if(root == null) return;
       dfs(root.left);
     dfs(root.right);
     f.put(root,root.val+g.getOrDefault(root.right,0)+g.getOrDefault(root.left,0));
     g.put(root,Math.max(f.getOrDefault(root.left,0),g.getOrDefault(root.left,0))+Math.max(f.getOrDefault(root.right,0),g.getOrDefault(root.right,0)));
   
    }
```

## [740. åˆ é™¤å¹¶è·å¾—ç‚¹æ•°](https://leetcode-cn.com/problems/delete-and-earn/)

éš¾åº¦ä¸­ç­‰541

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` ï¼Œä½ å¯ä»¥å¯¹å®ƒè¿›è¡Œä¸€äº›æ“ä½œã€‚

æ¯æ¬¡æ“ä½œä¸­ï¼Œé€‰æ‹©ä»»æ„ä¸€ä¸ª `nums[i]` ï¼Œåˆ é™¤å®ƒå¹¶è·å¾— `nums[i]` çš„ç‚¹æ•°ã€‚ä¹‹åï¼Œä½ å¿…é¡»åˆ é™¤ **æ‰€æœ‰** ç­‰äº `nums[i] - 1` å’Œ `nums[i] + 1` çš„å…ƒç´ ã€‚

å¼€å§‹ä½ æ‹¥æœ‰ `0` ä¸ªç‚¹æ•°ã€‚è¿”å›ä½ èƒ½é€šè¿‡è¿™äº›æ“ä½œè·å¾—çš„æœ€å¤§ç‚¹æ•°ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šnums = [3,4,2]
è¾“å‡ºï¼š6
è§£é‡Šï¼š
åˆ é™¤ 4 è·å¾— 4 ä¸ªç‚¹æ•°ï¼Œå› æ­¤ 3 ä¹Ÿè¢«åˆ é™¤ã€‚
ä¹‹åï¼Œåˆ é™¤ 2 è·å¾— 2 ä¸ªç‚¹æ•°ã€‚æ€»å…±è·å¾— 6 ä¸ªç‚¹æ•°ã€‚
```

-----

![image-20220211002242987](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220211002242987.png)

```java
 public int deleteAndEarn(int[] nums) {
int maxval = 0;
if(nums.length == 1) return nums[0];
for(int i:nums)
maxval = Math.max(i,maxval);
int[]sum = new int[maxval+1];
for(int i:nums)
sum[i]+=i;
return rob(sum);
    }
    public int rob(int[] sum)
    {
        int[]dp = new int[sum.length];
        dp[0]= sum[0];dp[1] = Math.max(sum[0],sum[1]);
        int first = sum[0], second = Math.max(sum[0],sum[1]);
        for(int i = 2;i< sum.length;i++)
        {
            dp[i] = Math.max(dp[i-1],sum[i]+dp[i-2]);
        }
        return dp[sum.length-1];
    }
```





## [139. å•è¯æ‹†åˆ†](https://leetcode-cn.com/problems/word-break/)

éš¾åº¦ä¸­ç­‰1366

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² `s` å’Œä¸€ä¸ªå­—ç¬¦ä¸²åˆ—è¡¨ `wordDict` ä½œä¸ºå­—å…¸ã€‚è¯·ä½ åˆ¤æ–­æ˜¯å¦å¯ä»¥åˆ©ç”¨å­—å…¸ä¸­å‡ºç°çš„å•è¯æ‹¼æ¥å‡º `s` ã€‚

**æ³¨æ„ï¼š**ä¸è¦æ±‚å­—å…¸ä¸­å‡ºç°çš„å•è¯å…¨éƒ¨éƒ½ä½¿ç”¨ï¼Œå¹¶ä¸”å­—å…¸ä¸­çš„å•è¯å¯ä»¥é‡å¤ä½¿ç”¨ã€‚

 è¾“å…¥: s = "leetcode", wordDict = ["leet", "code"]
è¾“å‡º: true
è§£é‡Š: è¿”å› true å› ä¸º "leetcode" å¯ä»¥ç”± "leet" å’Œ "code" æ‹¼æ¥æˆã€‚

"cars" ["car","ca","rs"]

è¾“å‡º: true

---------------

![image-20220129151203572](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220129151203572.png)

```java
 public boolean wordBreak(String s, List<String> wordDict) {
        Set<String>mydict = new HashSet(wordDict);
        boolean[]dp = new boolean[s.length()+1];
        dp[0] = true;//æ³¨æ„è¿™ä¸ªåˆå§‹åŒ–æ¡ä»¶
        for(int i = 1;i <= s.length();i++)
        {
            for(int j = 0;j < i;j++)
            {
                if(dp[j] && mydict.contains(s.substring(j,i)))
                dp[i] = true;
            }
        }
return dp[s.length()];


    }
```



## [10. æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…](https://leetcode-cn.com/problems/regular-expression-matching/)

éš¾åº¦å›°éš¾2700

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² `s` å’Œä¸€ä¸ªå­—ç¬¦è§„å¾‹ `p`ï¼Œè¯·ä½ æ¥å®ç°ä¸€ä¸ªæ”¯æŒ `'.'` å’Œ `'*'` çš„æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ã€‚

- `'.'` åŒ¹é…ä»»æ„å•ä¸ªå­—ç¬¦
- `'*'` åŒ¹é…é›¶ä¸ªæˆ–å¤šä¸ªå‰é¢çš„é‚£ä¸€ä¸ªå…ƒç´ 

æ‰€è°“åŒ¹é…ï¼Œæ˜¯è¦æ¶µç›– **æ•´ä¸ª** å­—ç¬¦ä¸² `s`çš„ï¼Œè€Œä¸æ˜¯éƒ¨åˆ†å­—ç¬¦ä¸²ã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šs = "aa" p = "a"
è¾“å‡ºï¼šfalse
è§£é‡Šï¼š"a" æ— æ³•åŒ¹é… "aa" æ•´ä¸ªå­—ç¬¦ä¸²ã€‚
```

**ç¤ºä¾‹ 2:**

```
è¾“å…¥ï¼šs = "aa" p = "a*"
è¾“å‡ºï¼štrue
è§£é‡Šï¼šå› ä¸º '*' ä»£è¡¨å¯ä»¥åŒ¹é…é›¶ä¸ªæˆ–å¤šä¸ªå‰é¢çš„é‚£ä¸€ä¸ªå…ƒç´ , åœ¨è¿™é‡Œå‰é¢çš„å…ƒç´ å°±æ˜¯ 'a'ã€‚å› æ­¤ï¼Œå­—ç¬¦ä¸² "aa" å¯è¢«è§†ä¸º 'a' é‡å¤äº†ä¸€æ¬¡ã€‚
```

---

![image-20220207155503642](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220207155503642.png)

![image-20220207155558891](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220207155558891.png)

![image-20230203165009123](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230203165009123.png)



```java
  public boolean isMatch(String s, String p) {
boolean[][]dp=new boolean[s.length()+1][p.length()+1];
dp[0][0]=true;
for(int i=0;i<=s.length();i++)
{
    for(int j=1;j<=p.length();j++)
    {
if(p.charAt(j-1)=='*')
{dp[i][j]=dp[i][j-2];
if(match(s,p,i,j-1))
dp[i][j]=dp[i][j]||dp[i-1][j];
}
else{ if(match(s,p,i,j))
dp[i][j]=dp[i-1][j-1];
}
    }
}
return dp[s.length()][p.length()];
    }
public boolean match(String s,String p,int i,int j)
{
    if(i==0) return false;
    if(p.charAt(j-1)=='.') return true;
    return s.charAt(i-1)==p.charAt(j-1);
}
    
```

## [5. æœ€é•¿å›æ–‡å­ä¸²](https://leetcode.cn/problems/longest-palindromic-substring/)

éš¾åº¦ä¸­ç­‰6229

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² `s`ï¼Œæ‰¾åˆ° `s` ä¸­æœ€é•¿çš„å›æ–‡å­ä¸²ã€‚

å¦‚æœå­—ç¬¦ä¸²çš„ååºä¸åŸå§‹å­—ç¬¦ä¸²ç›¸åŒï¼Œåˆ™è¯¥å­—ç¬¦ä¸²ç§°ä¸ºå›æ–‡å­—ç¬¦ä¸²ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šs = "babad"
è¾“å‡ºï¼š"bab"
è§£é‡Šï¼š"aba" åŒæ ·æ˜¯ç¬¦åˆé¢˜æ„çš„ç­”æ¡ˆã€‚
```

------

![image-20230308223714264](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230308223714264.png) 

```java

    public String longestPalindrome(String s) {
        int len = s.length();
        if (len < 2) {
            return s;
        }

        int maxLen = 1;
        int begin = 0;
        // dp[i][j] è¡¨ç¤º s[i..j] æ˜¯å¦æ˜¯å›æ–‡ä¸²
        boolean[][] dp = new boolean[len][len];
        // åˆå§‹åŒ–ï¼šæ‰€æœ‰é•¿åº¦ä¸º 1 çš„å­ä¸²éƒ½æ˜¯å›æ–‡ä¸²
        for (int i = 0; i < len; i++) {
            dp[i][i] = true;
        }

        char[] charArray = s.toCharArray();
        // é€’æ¨å¼€å§‹
        // å…ˆæšä¸¾å­ä¸²é•¿åº¦
        for (int L = 2; L <= len; L++) {
            // æšä¸¾å·¦è¾¹ç•Œï¼Œå·¦è¾¹ç•Œçš„ä¸Šé™è®¾ç½®å¯ä»¥å®½æ¾ä¸€äº›
            for (int i = 0; i < len; i++) {
                // ç”± L å’Œ i å¯ä»¥ç¡®å®šå³è¾¹ç•Œï¼Œå³ j - i + 1 = L å¾—
                int j = L + i - 1;
                // å¦‚æœå³è¾¹ç•Œè¶Šç•Œï¼Œå°±å¯ä»¥é€€å‡ºå½“å‰å¾ªç¯
                if (j >= len) {
                    break;
                }

                if (charArray[i] != charArray[j]) {
                    dp[i][j] = false;
                } else {
                    if (j - i < 3) {
                        dp[i][j] = true;
                    } else {
                        dp[i][j] = dp[i + 1][j - 1];
                    }
                }

                // åªè¦ dp[i][L] == true æˆç«‹ï¼Œå°±è¡¨ç¤ºå­ä¸² s[i..L] æ˜¯å›æ–‡ï¼Œæ­¤æ—¶è®°å½•å›æ–‡é•¿åº¦å’Œèµ·å§‹ä½ç½®
                if (dp[i][j] && j - i + 1 > maxLen) {
                    maxLen = j - i + 1;
                    begin = i;
                }
            }
        }
        return s.substring(begin, begin + maxLen);
    }

```







## åˆ†å‰²å›æ–‡ä¸²

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² sï¼Œè¯·ä½ å°† s åˆ†å‰²æˆä¸€äº›å­ä¸²ï¼Œä½¿æ¯ä¸ªå­ä¸²éƒ½æ˜¯ å›æ–‡ä¸² ã€‚è¿”å› s æ‰€æœ‰å¯èƒ½çš„åˆ†å‰²æ–¹æ¡ˆã€‚

å›æ–‡ä¸² æ˜¯æ­£ç€è¯»å’Œåç€è¯»éƒ½ä¸€æ ·çš„å­—ç¬¦ä¸²ã€‚

 

ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼šs = "aab"
è¾“å‡ºï¼š[["a","a","b"],["aa","b"]]



![image-20220203153229497](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220203153229497.png)

```java
List<List<String>>ans = new LinkedList<>();
boolean [][]dp;
   List<String>member =new LinkedList<>();
    public List<List<String>> partition(String s) {
         
if(s.length()==1) {

    member.add(s);
    ans.add(member);
    return ans;
}
dp=new boolean[s.length()][s.length()];
      for (int i = 0; i < s.length(); ++i) 
Arrays.fill(dp[i],true);
for(int i=s.length()-1;i>=0;i--)
{
    for(int j=i+1;j<s.length();j++)
    dp[i][j] = s.charAt(i)==s.charAt(j)&& dp[i+1][j-1];
}
dfs(s,0);
return ans;
    }
    public void dfs(String s,int start)
    {
        if(start==s.length())
        {
            ans.add(new LinkedList<>(member));
            return;
        }
        for(int i=start;i<s.length();i++)
        {
            if(dp[start][i])
            {
                member.add(s.substring(start,i+1));
                dfs(s,i+1);
                member.remove(member.size()-1);
            }
        }
    }
```



## æ¨ç®±å­

å †ç®±å­ã€‚ç»™ä½ ä¸€å †nä¸ªç®±å­ï¼Œç®±å­å®½ wiã€æ·± diã€é«˜ hiã€‚ç®±å­ä¸èƒ½ç¿»è½¬ï¼Œå°†ç®±å­å †èµ·æ¥æ—¶ï¼Œä¸‹é¢ç®±å­çš„å®½åº¦ã€é«˜åº¦å’Œæ·±åº¦å¿…é¡»å¤§äºä¸Šé¢çš„ç®±å­ã€‚å®ç°ä¸€ç§æ–¹æ³•ï¼Œæ­å‡ºæœ€é«˜çš„ä¸€å †ç®±å­ã€‚ç®±å †çš„é«˜åº¦ä¸ºæ¯ä¸ªç®±å­é«˜åº¦çš„æ€»å’Œã€‚

è¾“å…¥ä½¿ç”¨æ•°ç»„[wi, di, hi]è¡¨ç¤ºæ¯ä¸ªç®±å­ã€‚

ç¤ºä¾‹1:

 è¾“å…¥ï¼šbox = [[1, 1, 1], [2, 2, 2], [3, 3, 3]]
 è¾“å‡ºï¼š6
ç¤ºä¾‹2:

 è¾“å…¥ï¼šbox = [[1, 1, 1], [2, 3, 4], [2, 6, 7], [3, 4, 5]]
 è¾“å‡ºï¼š10

------

å…³é”®ï¼šå¯ä»¥é€‰æ‹©è¿™ä¸ªç®±å­ä¹Ÿå¯ä»¥ä¸é€‰è¿™ä¸ªç®±å­ï¼Œéœ€è¦æ¯”è¾ƒä¸¤ç§æƒ…å†µä¸‹å¾—åˆ°æœ€å¤§å€¼

ç”¨ä¸€ä¸ªäºŒç»´dpï¼šæ³¨æ„å…ˆå¯¹æ•°ç»„è¿›è¡Œæ’åº

```java
 public int pileBox(int[][] box) {
              Arrays.sort(box, (a,b)->{return a[0]-b[0];});//å¿…é¡»è¦å…ˆæ’åº
int[][]dp=new int[box.length][2];//dp[i][0]å¯¹åº”çš„æ˜¯ä¸é€‰è¿™ä¸ªç®±å­çš„é«˜åº¦ï¼Œdp[i][1]å¯¹åº”é€‰è¿™ä¸ªç®±å­çš„é«˜åº¦
dp[0][1]=box[0][2];
dp[0][0] = 0;
for(int i =1;i <box.length;i++)
{
int[]temp=box[i];
int max=temp[2];
for(int j = 0;j <i;j++)
{
    int[]pre=box[j];
    if(temp[0]>pre[0]&&temp[1]>pre[1]&&temp[2]>pre[2])
    {
int val = dp[j][1]+temp[2];
max=Math.max(val,max);
    }
}
dp[i][1]=max;
dp[i][0] = Math.max(dp[i-1][0],dp[i-1][1]);//è¿™ä¸ªå¾ˆå·§å¦™ï¼Œå¦‚æœä¸é€‰è¿™ä¸ªç®±å­ï¼Œåˆ™æœ€å¤§å€¼æ˜¯ä¸é€‰ä¸Šä¸€ä¸ªç®±å­å’Œé€‰ä¸Šä¸€ä¸ªç®±å­æ¯”è¾ƒä¹‹åå¾—åˆ°çš„æœ€å¤§å€¼
}
return Math.max(dp[box.length-1][0],dp[box.length-1][1]);
    }
```

## èƒŒåŒ…ï¼šåˆ†å‰²ç­‰å’Œå­é›†

é¢˜ç›®ï¼šåˆ¤æ–­ä¸€ä¸ªæ•°ç»„æ˜¯å¦å¯ä»¥æ‹†æˆä¸¤ä¸ªå­é›†ï¼Œå…¶ä¸­ä¸¤ä¸ªå­é›†çš„å’Œç›¸ç­‰

å‰ç½®çŸ¥è¯†ï¼šæœ€åŸºæœ¬çš„èƒŒåŒ…é—®é¢˜å°±æ˜¯01èƒŒåŒ…é—®é¢˜ï¼ˆ01 knapsack problemï¼‰ï¼šä¸€å…±æœ‰Nä»¶ç‰©å“ï¼Œç¬¬iï¼ˆiä»1å¼€å§‹ï¼‰ä»¶ç‰©å“çš„é‡é‡ä¸ºw[i]ï¼Œä»·å€¼ä¸ºv[i]ã€‚åœ¨æ€»é‡é‡ä¸è¶…è¿‡èƒŒåŒ…æ‰¿è½½ä¸Šé™Wçš„æƒ…å†µä¸‹ï¼Œèƒ½å¤Ÿè£…å…¥èƒŒåŒ…çš„æœ€å¤§ä»·å€¼æ˜¯å¤šå°‘ï¼Ÿ

å¦‚æœé‡‡ç”¨æš´åŠ›ç©·ä¸¾çš„æ–¹å¼ï¼Œæ¯ä»¶ç‰©å“éƒ½å­˜åœ¨è£…å…¥å’Œä¸è£…å…¥ä¸¤ç§æƒ…å†µï¼Œæ‰€ä»¥æ€»çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(2^N)ï¼Œè¿™æ˜¯ä¸å¯æ¥å—çš„ã€‚è€Œä½¿ç”¨åŠ¨æ€è§„åˆ’å¯ä»¥å°†å¤æ‚åº¦é™è‡³O(NW)ã€‚æˆ‘ä»¬çš„ç›®æ ‡æ˜¯ä¹¦åŒ…å†…ç‰©å“çš„æ€»ä»·å€¼ï¼Œè€Œå˜é‡æ˜¯ç‰©å“å’Œä¹¦åŒ…çš„é™é‡ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯å®šä¹‰çŠ¶æ€dp:

```text
dp[i][j]è¡¨ç¤ºå°†å‰iä»¶ç‰©å“è£…è¿›é™é‡ä¸ºjçš„èƒŒåŒ…å¯ä»¥è·å¾—çš„æœ€å¤§ä»·å€¼, 0<=i<=N, 0<=j<=W
```

é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥å°†dp\[0][0...W]åˆå§‹åŒ–ä¸º0ï¼Œè¡¨ç¤ºå°†å‰0ä¸ªç‰©å“ï¼ˆå³æ²¡æœ‰ç‰©å“ï¼‰è£…å…¥ä¹¦åŒ…çš„æœ€å¤§ä»·å€¼ä¸º0ã€‚é‚£ä¹ˆå½“ i > 0 æ—¶`dp[i][j]`æœ‰ä¸¤ç§æƒ…å†µï¼š

1. ä¸è£…å…¥ç¬¬iä»¶ç‰©å“ï¼Œå³`dp[iâˆ’1][j]`ï¼›
2. è£…å…¥ç¬¬iä»¶ç‰©å“ï¼ˆå‰ææ˜¯èƒ½è£…ä¸‹ï¼‰ï¼Œå³`dp[iâˆ’1][jâˆ’w[i]] + v[i]`ã€‚

å³çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸º

```text
dp[i][j] = max(dp[iâˆ’1][j], dp[iâˆ’1][jâˆ’w[i]]+v[i]) // j >= w[i]
// 01èƒŒåŒ…é—®é¢˜ä¼ªä»£ç (ç©ºé—´ä¼˜åŒ–ç‰ˆ)
dp[0,...,W] = 0
for i = 1,...,N
    for j = W,...,w[i] // å¿…é¡»é€†å‘æšä¸¾!!!
        dp[j] = max(dp[j], dp[jâˆ’w[i]]+v[i])
```

å®Œå…¨èƒŒåŒ…ï¼ˆunbounded knapsack problemï¼‰ä¸01èƒŒåŒ…ä¸åŒå°±æ˜¯æ¯ç§ç‰©å“å¯ä»¥æœ‰æ— é™å¤šä¸ªï¼šä¸€å…±æœ‰Nç§ç‰©å“ï¼Œæ¯ç§ç‰©å“æœ‰æ— é™å¤šä¸ªï¼Œç¬¬iï¼ˆiä»1å¼€å§‹ï¼‰ç§ç‰©å“çš„é‡é‡ä¸ºw[i]ï¼Œä»·å€¼ä¸ºv[i]ã€‚åœ¨æ€»é‡é‡ä¸è¶…è¿‡èƒŒåŒ…æ‰¿è½½ä¸Šé™Wçš„æƒ…å†µä¸‹ï¼Œèƒ½å¤Ÿè£…å…¥èƒŒåŒ…çš„æœ€å¤§ä»·å€¼æ˜¯å¤šå°‘ï¼Ÿ

2.2 åˆ†æä¸€

æˆ‘ä»¬çš„ç›®æ ‡å’Œå˜é‡å’Œ01èƒŒåŒ…æ²¡æœ‰åŒºåˆ«ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯å®šä¹‰ä¸01èƒŒåŒ…é—®é¢˜å‡ ä¹å®Œå…¨ç›¸åŒçš„çŠ¶æ€dp:

```text
dp[i][j]è¡¨ç¤ºå°†å‰iç§ç‰©å“è£…è¿›é™é‡ä¸ºjçš„èƒŒåŒ…å¯ä»¥è·å¾—çš„æœ€å¤§ä»·å€¼, 0<=i<=N, 0<=j<=W
```

åˆå§‹çŠ¶æ€ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œæˆ‘ä»¬å°†dp\[0][0...W]åˆå§‹åŒ–ä¸º0ï¼Œè¡¨ç¤ºå°†å‰0ç§ç‰©å“ï¼ˆå³æ²¡æœ‰ç‰©å“ï¼‰è£…å…¥ä¹¦åŒ…çš„æœ€å¤§ä»·å€¼ä¸º0ã€‚é‚£ä¹ˆå½“ i > 0 æ—¶`dp[i][j]`ä¹Ÿæœ‰ä¸¤ç§æƒ…å†µï¼š

1. ä¸è£…å…¥ç¬¬iç§ç‰©å“ï¼Œå³`dp[iâˆ’1][j]`ï¼ŒåŒ01èƒŒåŒ…ï¼›
2. è£…å…¥ç¬¬iç§ç‰©å“ï¼Œæ­¤æ—¶å’Œ01èƒŒåŒ…ä¸å¤ªä¸€æ ·ï¼Œå› ä¸ºæ¯ç§ç‰©å“æœ‰æ— é™ä¸ªï¼ˆä½†æ³¨æ„ä¹¦åŒ…é™é‡æ˜¯æœ‰é™çš„ï¼‰ï¼Œæ‰€ä»¥æ­¤æ—¶ä¸åº”è¯¥è½¬ç§»åˆ°`dp[iâˆ’1][jâˆ’w[i]]`è€Œåº”è¯¥è½¬ç§»åˆ°`dp[i][jâˆ’w[i]]`ï¼Œå³è£…å…¥ç¬¬iç§å•†å“åè¿˜å¯ä»¥å†ç»§ç»­è£…å…¥ç¬¬ç§å•†å“ã€‚

æ‰€ä»¥çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸º

```text
dp[i][j] = max(dp[iâˆ’1][j], dp[i][jâˆ’w[i]]+v[i]) // j >= w[i]
```

è¿™ä¸ªçŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸01èƒŒåŒ…é—®é¢˜å”¯ä¸€ä¸åŒå°±æ˜¯maxç¬¬äºŒé¡¹ä¸æ˜¯dp[i-1]è€Œæ˜¯dp[i]ã€‚

å’Œ01èƒŒåŒ…é—®é¢˜ç±»ä¼¼ï¼Œä¹Ÿå¯è¿›è¡Œç©ºé—´ä¼˜åŒ–ï¼Œä¼˜åŒ–åä¸åŒç‚¹åœ¨äºè¿™é‡Œçš„ j åªèƒ½**æ­£å‘æšä¸¾**è€Œ01èƒŒåŒ…åªèƒ½é€†å‘æšä¸¾ï¼Œå› ä¸ºè¿™é‡Œçš„maxç¬¬äºŒé¡¹æ˜¯`dp[i]`è€Œ01èƒŒåŒ…æ˜¯`dp[i-1]`ï¼Œå³è¿™é‡Œå°±æ˜¯éœ€è¦è¦†ç›–è€Œ01èƒŒåŒ…éœ€è¦é¿å…è¦†ç›–ã€‚æ‰€ä»¥ä¼ªä»£ç å¦‚ä¸‹ï¼š

```text
// å®Œå…¨èƒŒåŒ…é—®é¢˜æ€è·¯ä¸€ä¼ªä»£ç (ç©ºé—´ä¼˜åŒ–ç‰ˆ)
dp[0,...,W] = 0
for i = 1,...,N
    for j = w[i],...,W // å¿…é¡»æ­£å‘æšä¸¾!!!
        dp[j] = max(dp[j], dp[jâˆ’w[i]]+v[i])
```

ç”±ä¸Šè¿°ä¼ªä»£ç çœ‹å‡ºï¼Œ01èƒŒåŒ…å’Œå®Œå…¨èƒŒåŒ…é—®é¢˜æ­¤è§£æ³•çš„ç©ºé—´ä¼˜åŒ–ç‰ˆè§£æ³•å”¯ä¸€ä¸åŒå°±æ˜¯å‰è€…çš„ j åªèƒ½é€†å‘æšä¸¾è€Œåè€…çš„ j åªèƒ½æ­£å‘æšä¸¾ï¼Œè¿™æ˜¯ç”±äºŒè€…çš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹å†³å®šçš„ã€‚æ­¤è§£æ³•æ—¶é—´å¤æ‚åº¦ä¸ºO(NW), ç©ºé—´å¤æ‚åº¦ä¸ºO(W)ã€‚

---





å½“i=0æ—¶ï¼Œåªæœ‰dp\[0][nums[0]]æ‰ä¸ºtrue,å…¶ä½™å‡ä¸ºfalse

![image-20220203020142319](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220203020142319.png)

```java
  public boolean canPartition(int[] nums) {
//å…¶ä¸­ dp[i][j] è¡¨ç¤ºä»æ•°ç»„çš„ [0,i][0,i] ä¸‹æ ‡èŒƒå›´å†…é€‰å–è‹¥å¹²ä¸ªæ­£æ•´æ•°ï¼ˆå¯ä»¥æ˜¯ 0 ä¸ªï¼‰ï¼Œæ˜¯å¦å­˜åœ¨ä¸€ç§é€‰å–æ–¹æ¡ˆä½¿å¾—è¢«
//é€‰å–çš„æ­£æ•´æ•°çš„å’Œç­‰äº jã€‚
int sum=0,target=0;
int maxnum=0;
for(int i:nums)
{
    sum+=i;
    maxnum = Math.max(i,maxnum);
}
target = sum/2;
if(maxnum>target)
return false;
if(sum%2==1)
return false;
boolean[][]dp=new boolean[nums.length][target+1];
//å¦‚æœä¸é€‰å–ä»»ä½•æ­£æ•´æ•°ï¼Œåˆ™è¢«é€‰å–çš„æ­£æ•´æ•°ç­‰äº 0ã€‚å› æ­¤å¯¹äºæ‰€æœ‰0â‰¤i<nï¼Œéƒ½æœ‰dp[i][0]=trueã€‚å½“ i==0 æ—¶ï¼Œåªæœ‰ä¸€ä¸ªæ­£æ•´æ•°nums[0] å¯ä»¥è¢«é€‰å–ï¼Œå› æ­¤dp[0][nums[0]]=trueã€‚

for(int i = 0;i<nums.length;i++)
dp[i][0]=true;
dp[0][nums[0]]=true;
for(int i = 1;i<nums.length;i++)
{
    for(int j=1;j<=target;j++)
    {
        if(j<nums[i])
        dp[i][j] = dp[i-1][j];
        else
        //å¦‚æœä¸é€‰å–nums[i]ï¼Œåˆ™dp[i][j]=dp[iâˆ’1][j]ï¼›å¦‚æœé€‰å– nums[i]ï¼Œåˆ™dp[i][j]=dp[iâˆ’1][jâˆ’nums[i]]ã€‚

        dp[i][j] = dp[i-1][j-nums[i]]|dp[i-1][j];
    }
}
return dp[nums.length-1][target];
    }
```

## [368. æœ€å¤§æ•´é™¤å­é›†](https://leetcode.cn/problems/largest-divisible-subset/)

éš¾åº¦ä¸­ç­‰487

ç»™ä½ ä¸€ä¸ªç”± **æ— é‡å¤** æ­£æ•´æ•°ç»„æˆçš„é›†åˆ `nums` ï¼Œè¯·ä½ æ‰¾å‡ºå¹¶è¿”å›å…¶ä¸­æœ€å¤§çš„æ•´é™¤å­é›† `answer` ï¼Œå­é›†ä¸­æ¯ä¸€å…ƒç´ å¯¹ `(answer[i], answer[j])` éƒ½åº”å½“æ»¡è¶³ï¼š

- `answer[i] % answer[j] == 0` ï¼Œæˆ–
- `answer[j] % answer[i] == 0`

å¦‚æœå­˜åœ¨å¤šä¸ªæœ‰æ•ˆè§£å­é›†ï¼Œè¿”å›å…¶ä¸­ä»»ä½•ä¸€ä¸ªå‡å¯ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šnums = [1,2,3]
è¾“å‡ºï¼š[1,2]
è§£é‡Šï¼š[1,3] ä¹Ÿä¼šè¢«è§†ä¸ºæ­£ç¡®ç­”æ¡ˆã€‚
```

------

![image-20230322001305402](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230322001305402.png) 

![image-20230322001327619](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230322001327619.png) 

ç„¶åæŸ¥æ‰¾å¤§å°ä¸º2çš„æœ€å¤§æ•´é™¤å­é›†ï¼Œä¾æ¬¡ç±»æ¨

```java
  public List<Integer> largestDivisibleSubset(int[] nums) {
        int len = nums.length;
        Arrays.sort(nums);

        // ç¬¬ 1 æ­¥ï¼šåŠ¨æ€è§„åˆ’æ‰¾å‡ºæœ€å¤§å­é›†çš„ä¸ªæ•°ã€æœ€å¤§å­é›†ä¸­çš„æœ€å¤§æ•´æ•°
        int[] dp = new int[len];
        Arrays.fill(dp, 1);
        int maxSize = 1;
        int maxVal = dp[0];
        for (int i = 1; i < len; i++) {
            for (int j = 0; j < i; j++) {
                // é¢˜ç›®ä¸­è¯´ã€Œæ²¡æœ‰é‡å¤å…ƒç´ ã€å¾ˆé‡è¦
                if (nums[i] % nums[j] == 0) {
                    dp[i] = Math.max(dp[i], dp[j] + 1);
                }
            }

            if (dp[i] > maxSize) {
                maxSize = dp[i];
                maxVal = nums[i];
            }
        }

        // ç¬¬ 2 æ­¥ï¼šå€’æ¨è·å¾—æœ€å¤§å­é›†
        List<Integer> res = new ArrayList<Integer>();
        if (maxSize == 1) {
            res.add(nums[0]);
            return res;
        }
        
        for (int i = len - 1; i >= 0 && maxSize > 0; i--) {
            if (dp[i] == maxSize && maxVal % nums[i] == 0) {
                res.add(nums[i]);
                maxVal = nums[i];
                maxSize--;
            }
        }
        return res;
    }


```



## [343. æ•´æ•°æ‹†åˆ†](https://leetcode-cn.com/problems/integer-break/)

éš¾åº¦ä¸­ç­‰703

ç»™å®šä¸€ä¸ªæ­£æ•´æ•° `n` ï¼Œå°†å…¶æ‹†åˆ†ä¸º `k` ä¸ª **æ­£æ•´æ•°** çš„å’Œï¼ˆ `k >= 2` ï¼‰ï¼Œå¹¶ä½¿è¿™äº›æ•´æ•°çš„ä¹˜ç§¯æœ€å¤§åŒ–ã€‚

è¿”å› *ä½ å¯ä»¥è·å¾—çš„æœ€å¤§ä¹˜ç§¯* ã€‚

----

å°† iæ‹†åˆ†æˆ j å’Œ iâˆ’j çš„å’Œï¼Œä¸”iâˆ’j ä¸å†æ‹†åˆ†æˆå¤šä¸ªæ­£æ•´æ•°ï¼Œæ­¤æ—¶çš„ä¹˜ç§¯æ˜¯ jÃ—(iâˆ’j)ï¼›

å°† iæ‹†åˆ†æˆ j å’Œiâˆ’j çš„å’Œï¼Œä¸”iâˆ’j ç»§ç»­æ‹†åˆ†æˆå¤šä¸ªæ­£æ•´æ•°ï¼Œæ­¤æ—¶çš„ä¹˜ç§¯æ˜¯jÃ—dp[iâˆ’j]ã€‚



```java
   public int integerBreak(int n) {
int[]dp = new int[n+1];
//åˆ›å»ºæ•°ç»„dpï¼Œå…¶ä¸­dp[i] è¡¨ç¤ºå°†æ­£æ•´æ•° i æ‹†åˆ†æˆè‡³å°‘ä¸¤ä¸ªæ­£æ•´æ•°çš„å’Œä¹‹åï¼Œè¿™äº›æ­£æ•´æ•°çš„æœ€å¤§ä¹˜ç§¯ã€‚ç‰¹åˆ«åœ°ï¼Œ0 ä¸æ˜¯æ­£æ•´æ•°ï¼Œ1 æ˜¯æœ€å°çš„æ­£æ•´æ•°ï¼Œ0 å’Œ 1 éƒ½ä¸èƒ½æ‹†åˆ†ï¼Œå› æ­¤dp[0]=dp[1]=0ã€‚


        for (int i = 2; i <= n; i++) {
            int curmax = 0;
            for (int j = 1; j < i; j++) {
                curmax = Math.max( curmax,Math.max(j *(i-j),dp[i-j]*j));
            }
            dp[i] = curmax;
        }
        return dp[n];
    }
```

## [279. å®Œå…¨å¹³æ–¹æ•°](https://leetcode-cn.com/problems/perfect-squares/)

éš¾åº¦ä¸­ç­‰1232

ç»™ä½ ä¸€ä¸ªæ•´æ•° `n` ï¼Œè¿”å› *å’Œä¸º `n` çš„å®Œå…¨å¹³æ–¹æ•°çš„æœ€å°‘æ•°é‡* ã€‚

**å®Œå…¨å¹³æ–¹æ•°** æ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œå…¶å€¼ç­‰äºå¦ä¸€ä¸ªæ•´æ•°çš„å¹³æ–¹ï¼›æ¢å¥è¯è¯´ï¼Œå…¶å€¼ç­‰äºä¸€ä¸ªæ•´æ•°è‡ªä¹˜çš„ç§¯ã€‚ä¾‹å¦‚ï¼Œ`1`ã€`4`ã€`9` å’Œ `16` éƒ½æ˜¯å®Œå…¨å¹³æ–¹æ•°ï¼Œè€Œ `3` å’Œ `11` ä¸æ˜¯ã€‚

----



```java
 public int numSquares(int n) {
if(Math.sqrt(n)==(int)Math.sqrt(n)) return 1;
if(Math.sqrt(n-1)==(int)Math.sqrt(n-1)) return 2;

//13=2+3 14=3+2+1 15 = 3+2+1+1 16 = 4 17 = 4+1 18 = 3+3 19 = 3+3+1 20=
int[]dp = new int[n+1];
for(int i = 0;i <= n;i++)
{
    dp[i] = i;// æœ€åçš„æƒ…å†µå°±æ˜¯æ¯æ¬¡+1
    for(int j = 0;i-j*j>=0;j++)
    {
        dp[i] = Math.min(dp[i],dp[i-j*j]+1);
    }
}
return dp[n];
    }
```



**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šn = 12
è¾“å‡ºï¼š3 
è§£é‡Šï¼š12 = 4 + 4 + 4
```

## [410. åˆ†å‰²æ•°ç»„çš„æœ€å¤§å€¼](https://leetcode-cn.com/problems/split-array-largest-sum/)

éš¾åº¦å›°éš¾620

ç»™å®šä¸€ä¸ªéè´Ÿæ•´æ•°æ•°ç»„ `nums` å’Œä¸€ä¸ªæ•´æ•° `m` ï¼Œä½ éœ€è¦å°†è¿™ä¸ªæ•°ç»„åˆ†æˆ `m` ä¸ªéç©ºçš„è¿ç»­å­æ•°ç»„ã€‚

è®¾è®¡ä¸€ä¸ªç®—æ³•ä½¿å¾—è¿™ `m` ä¸ªå­æ•°ç»„å„è‡ªå’Œçš„æœ€å¤§å€¼æœ€å°ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šnums = [7,2,5,10,8], m = 2
è¾“å‡ºï¼š18
è§£é‡Šï¼š
ä¸€å…±æœ‰å››ç§æ–¹æ³•å°† nums åˆ†å‰²ä¸º 2 ä¸ªå­æ•°ç»„ã€‚ 
å…¶ä¸­æœ€å¥½çš„æ–¹å¼æ˜¯å°†å…¶åˆ†ä¸º [7,2,5] å’Œ [10,8] ã€‚
å› ä¸ºæ­¤æ—¶è¿™ä¸¤ä¸ªå­æ•°ç»„å„è‡ªçš„å’Œçš„æœ€å¤§å€¼ä¸º18ï¼Œåœ¨æ‰€æœ‰æƒ…å†µä¸­æœ€å°ã€‚
```

---

![image-20220216191233396](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220216191233396.png)

![image-20220216191407514](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220216191407514.png)

```java
    public int splitArray(int[] nums, int m) {
int len = nums.length;
int[][]dp = new int[len+1][m+1];
int[]sub = new int[len+1];
for(int i = 0;i <len;i++)
sub[i+1] = sub[i] +nums[i];
for(int i = 0;i <= len;i++)
Arrays.fill(dp[i],Integer.MAX_VALUE);
dp[0][0] = 0;
for(int i = 1;i <=len;i++)
{
    for(int j = 1;j <= Math.min(i,m);j++)
    {
        for(int k = 0;k < i;k++)
        dp[i][j] = Math.min(dp[i][j],Math.max(dp[k][j-1],sub[i]-sub[k]));
    }
}
return dp[len][m];
    }
```

## å­—ç¬¦ä¸²è§£ç 

ä¸€æ¡åŒ…å«å­—æ¯ A-Z çš„æ¶ˆæ¯é€šè¿‡ä»¥ä¸‹æ˜ å°„è¿›è¡Œäº† ç¼–ç  ï¼š

'A' -> "1"
'B' -> "2"
...
'Z' -> "26"
è¦ è§£ç  å·²ç¼–ç çš„æ¶ˆæ¯ï¼Œæ‰€æœ‰æ•°å­—å¿…é¡»åŸºäºä¸Šè¿°æ˜ å°„çš„æ–¹æ³•ï¼Œåå‘æ˜ å°„å›å­—æ¯ï¼ˆå¯èƒ½æœ‰å¤šç§æ–¹æ³•ï¼‰ã€‚ä¾‹å¦‚ï¼Œ"11106" å¯ä»¥æ˜ å°„ä¸ºï¼š

"AAJF" ï¼Œå°†æ¶ˆæ¯åˆ†ç»„ä¸º (1 1 10 6)
"KJF" ï¼Œå°†æ¶ˆæ¯åˆ†ç»„ä¸º (11 10 6)
æ³¨æ„ï¼Œæ¶ˆæ¯ä¸èƒ½åˆ†ç»„ä¸º  (1 11 06) ï¼Œå› ä¸º "06" ä¸èƒ½æ˜ å°„ä¸º "F" ï¼Œè¿™æ˜¯ç”±äº "6" å’Œ "06" åœ¨æ˜ å°„ä¸­å¹¶ä¸ç­‰ä»·ã€‚

ç»™ä½ ä¸€ä¸ªåªå«æ•°å­—çš„ éç©º å­—ç¬¦ä¸² s ï¼Œè¯·è®¡ç®—å¹¶è¿”å› è§£ç  æ–¹æ³•çš„ æ€»æ•° ã€‚



----

![image-20220219021207900](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220219021207900.png)

åŠ¨æ€è§„åˆ’çš„è¾¹ç•Œæ¡ä»¶ä¸ºï¼š

*f*0=1

å³**ç©ºå­—ç¬¦ä¸²å¯ä»¥æœ‰ 1 ç§è§£ç æ–¹æ³•ï¼Œè§£ç å‡ºä¸€ä¸ªç©ºå­—ç¬¦ä¸²**ã€‚

```java
   int tot = 0;
    public int numDecodings(String s)
     {
         if(s == "0") return 0;
int[] dp = new int[s.length()+1];//dp[0]è¡¨ç¤ºç©ºå­—ç¬¦ä¸²ï¼Œæœ‰ä¸€ç§è§£ç æ–¹æ³•
dp[0] = 1;//æ³¨æ„è¿™ä¸ªåˆå§‹åŒ–å¿…ä¸å¯å°‘
for(int i = 1;i <=s.length();i++)
{
    if(s.charAt(i-1) != '0')//i-1æ˜¯ç¬¬iä¸ªå­—ç¬¦ è¡¨ç¤ºè§£æç¬¬iä¸ªå­—ç¬¦
    dp[i] +=dp[i-1];
    if(i > 1&&s.charAt(i-2)!='0' && ((s.charAt(i-2)-'0')*10+s.charAt(i-1)-'0' <=26))//è¡¨ç¤ºè§£æç¬¬iå’Œç¬¬i-1ä¸ªå­—ç¬¦
dp[i]+=dp[i-2];
}
    return dp[s.length()]; 
}
```

## 300[æœ€é•¿é€’å¢å­åºåˆ—](https://leetcode-cn.com/problems/longest-increasing-subsequence/)

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums ï¼Œæ‰¾åˆ°å…¶ä¸­æœ€é•¿ä¸¥æ ¼é€’å¢å­åºåˆ—çš„é•¿åº¦ã€‚

å­åºåˆ—æ˜¯ç”±æ•°ç»„æ´¾ç”Ÿè€Œæ¥çš„åºåˆ—ï¼Œåˆ é™¤ï¼ˆæˆ–ä¸åˆ é™¤ï¼‰æ•°ç»„ä¸­çš„å…ƒç´ è€Œä¸æ”¹å˜å…¶ä½™å…ƒç´ çš„é¡ºåºã€‚ä¾‹å¦‚ï¼Œ[3,6,2,7] æ˜¯æ•°ç»„ [0,3,1,6,2,2,7] çš„å­åºåˆ—ã€‚

```java

    public int lengthOfLIS(int[] nums) {
        int[]dp = new int[nums.length];
        int maxn = 1;
        dp[0]=1;
for(int i = 1;i <nums.length;i++)
{
dp[i] = 1;
    for(int j = 0 ;j < i;j++)
    {
        if(nums[i] >nums[j])
        {
            dp[i] = Math.max(dp[i],dp[j]+1);
            maxn = Math.max(dp[i],maxn);
        }
    }
    
}
return maxn;
    }
```

## ä¸Šå‡å­åºåˆ—çš„åº”ç”¨ï¼šåˆå”±é˜Ÿ

æ—¶éƒ¨åˆ†ä¼ä¸šç¬”è¯•å°†ç¦æ­¢ç¼–ç¨‹é¢˜è·³å‡ºé¡µé¢ï¼Œä¸ºæå‰é€‚åº”ï¼Œç»ƒä¹ æ—¶è¯·ä½¿ç”¨åœ¨çº¿è‡ªæµ‹ï¼Œè€Œéæœ¬åœ°IDEã€‚

## æè¿°

N ä½åŒå­¦ç«™æˆä¸€æ’ï¼ŒéŸ³ä¹è€å¸ˆè¦è¯·æœ€å°‘çš„åŒå­¦å‡ºåˆ—ï¼Œä½¿å¾—å‰©ä¸‹çš„ K ä½åŒå­¦æ’æˆåˆå”±é˜Ÿå½¢ã€‚



é€šä¿—æ¥è¯´ï¼Œèƒ½æ‰¾åˆ°ä¸€ä¸ªåŒå­¦ï¼Œä»–çš„ä¸¤è¾¹çš„åŒå­¦èº«é«˜éƒ½ä¾æ¬¡ä¸¥æ ¼é™ä½çš„é˜Ÿå½¢å°±æ˜¯åˆå”±é˜Ÿå½¢ã€‚

ä¾‹å­ï¼š

123 124 125 123 121 æ˜¯ä¸€ä¸ªåˆå”±é˜Ÿå½¢

123 123 124 122ä¸æ˜¯åˆå”±é˜Ÿå½¢ï¼Œå› ä¸ºå‰ä¸¤ååŒå­¦èº«é«˜ç›¸ç­‰ï¼Œä¸ç¬¦åˆè¦æ±‚

123 122 121 122ä¸æ˜¯åˆå”±é˜Ÿå½¢ï¼Œå› ä¸ºæ‰¾ä¸åˆ°ä¸€ä¸ªåŒå­¦ï¼Œä»–çš„ä¸¤ä¾§åŒå­¦èº«é«˜é€’å‡ã€‚



ä½ çš„ä»»åŠ¡æ˜¯ï¼Œå·²çŸ¥æ‰€æœ‰Nä½åŒå­¦çš„èº«é«˜ï¼Œè®¡ç®—æœ€å°‘éœ€è¦å‡ ä½åŒå­¦å‡ºåˆ—ï¼Œå¯ä»¥ä½¿å¾—å‰©ä¸‹çš„åŒå­¦æ’æˆåˆå”±é˜Ÿå½¢ã€‚

**æ³¨æ„ï¼šä¸å…è®¸æ”¹å˜é˜Ÿåˆ—å…ƒç´ çš„å…ˆåé¡ºåº** **ä¸”** **ä¸è¦æ±‚æœ€é«˜åŒå­¦å·¦å³äººæ•°å¿…é¡»ç›¸ç­‰**



------

æ€è·¯ï¼šæ‰¾åˆ°æ¯ä¸ªå…ƒç´ å·¦è¾¹é€’å¢åºåˆ—å’Œå³è¾¹é€’å‡åºåˆ—ï¼Œç„¶ååŠ èµ·æ¥ï¼Œç”¨é•¿åº¦å‡å»è¿™ä¸ªå€¼

æ¯ä¸€ä¸ªä½ç½®iå·¦ä¾§çš„æœ€é•¿ä¸Šå‡å­åºåˆ—é•¿åº¦numL[i]ï¼šæ¯ä¸€ä¸ªä½ç½®å·¦ä¾§æœ€é•¿å­åºåˆ—é•¿åº¦ç­‰äºå…¶å·¦ä¾§æ¯”å®ƒå°çš„æ‰€æœ‰ä½ç½®çš„æœ€é•¿å­åºåˆ—é•¿åº¦ä¸­çš„æœ€å¤§å€¼+1
å†æ‰¾åˆ°æ¯ä¸€ä¸ªä½ç½®iå³ä¾§çš„æœ€é•¿ä¸‹é™å­åºåˆ—é•¿åº¦numR[i]ï¼šæ¯ä¸€ä¸ªä½ç½®å³ä¾§æœ€é•¿å­åºåˆ—é•¿åº¦ç­‰äºå…¶å³ä¾§æ¯”å®ƒå°çš„æ‰€æœ‰ä½ç½®çš„æœ€é•¿å­åºåˆ—é•¿åº¦ä¸­çš„æœ€å¤§å€¼+1
ç„¶åæ±‚å‡ºæ‰€æœ‰ä½ç½®çš„æœ€é•¿åºåˆ—é•¿åº¦=å·¦ä¾§æœ€é•¿å­åºåˆ—é•¿åº¦+å³ä¾§æœ€é•¿å­åºåˆ—é•¿åº¦-1ï¼ˆå› ä¸ºè¯¥ä½ç½®è¢«ç®—äº†ä¸¤æ¬¡ï¼Œæ‰€ä»¥å‡1ï¼‰

```java
  public static void main(String[] args) {
        Scanner in = new Scanner(System.in);
        // æ³¨æ„ hasNext å’Œ hasNextLine çš„åŒºåˆ«
  int n=in.nextInt();
int[]arr=new int[n];
for(int i=0;i<n;i++)
{
arr[i]=in.nextInt();
}
int[]left=new int[n];
int[]right=new int[n];
for(int i=0;i<arr.length;i++)
{
    left[i]=1;
    for(int j=0;j<i;j++)
    {
        if(arr[i]>arr[j])
        left[i]=Math.max(left[i],left[j]+1);
    }
    //left[i]+=1;
}
for(int i=arr.length-1;i>=0;i--)
{
    right[i]=1;
    for(int j=arr.length-1;j>i;j--)
    {
        if(arr[i]>arr[j])
        right[i]=Math.max(right[i],right[j]+1);
    }
    
}
int max=0;
for(int i=0;i<arr.length;i++)
{
    max=Math.max(max,right[i]+left[i]-1);
    }
    System.out.println(n-max);
}
```



## [673. æœ€é•¿é€’å¢å­åºåˆ—çš„ä¸ªæ•°](https://leetcode-cn.com/problems/number-of-longest-increasing-subsequence/)

éš¾åº¦ä¸­ç­‰551

ç»™å®šä¸€ä¸ªæœªæ’åºçš„æ•´æ•°æ•°ç»„ `nums` ï¼Œ *è¿”å›æœ€é•¿é€’å¢å­åºåˆ—çš„ä¸ªæ•°* ã€‚

**æ³¨æ„** è¿™ä¸ªæ•°åˆ—å¿…é¡»æ˜¯ **ä¸¥æ ¼** é€’å¢çš„ã€‚

 

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: [1,3,5,4,7]
è¾“å‡º: 2
è§£é‡Š: æœ‰ä¸¤ä¸ªæœ€é•¿é€’å¢å­åºåˆ—ï¼Œåˆ†åˆ«æ˜¯ [1, 3, 4, 7] å’Œ[1, 3, 5, 7]ã€‚
```

----

åœ¨è¿™é‡Œç”±äºè¿˜è¦æ±‚ä¸ªæ•°ï¼Œå› æ­¤å†ç”¨ä¸€ä¸ªé¢å¤–çš„æ•°ç»„è¡¨ç¤ºä»¥nums[i]ç»“å°¾çš„æœ€é•¿é€’å¢å­åºåˆ—ä¸ªæ•°ï¼Œè€Œä¸”æ¯æ¬¡é‡åˆ°æ›´é•¿çš„å­åºåˆ—è¦ä¸æ–­æ›´æ–°æ•°ç»„

```java
    public int lengthOfLIS(int[] nums) {//dp[i]æ˜¯é€’å¢å­åºåˆ—çš„é•¿åº¦ï¼Œcnt[i]æ˜¯ä¸ªæ•°
        int[]dp = new int[nums.length];
        int maxn = 1;
        dp[0]=1;
        int number = 0;
        int[]cnt = new int[nums.length];
for(int i = 1;i <nums.length;i++)
{
dp[i] = 1;
cnt[i] = 1;
    for(int j = 0 ;j < i;j++)
    {
        if(nums[i] >nums[j])//i>jä¸”num[i]>nums[j]è¯´æ˜æ˜¯é€’å¢åºåˆ—
        {
            if(dp[i] < dp[j]+1)
            {dp[i] =dp[j]+1;
          
            cnt[i] = cnt[j];
            }
            else if(dp[i] == dp[j]+1)
            {
                 cnt[i] +=cnt[j];
            }
        }
       
    }
    if(dp[i] > maxlen)
    {
        maxlen = dp[i];
        number = cnt[i];
    }
    else if(dp[i] == maxlen) number +=cnt[i];
    
}
return number;
    }
```



## [446. ç­‰å·®æ•°åˆ—åˆ’åˆ† II - å­åºåˆ—](https://leetcode-cn.com/problems/arithmetic-slices-ii-subsequence/)

éš¾åº¦å›°éš¾245

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` ï¼Œè¿”å› `nums` ä¸­æ‰€æœ‰ **ç­‰å·®å­åºåˆ—** çš„æ•°ç›®ã€‚

å¦‚æœä¸€ä¸ªåºåˆ—ä¸­ **è‡³å°‘æœ‰ä¸‰ä¸ªå…ƒç´ ** ï¼Œå¹¶ä¸”ä»»æ„ä¸¤ä¸ªç›¸é‚»å…ƒç´ ä¹‹å·®ç›¸åŒï¼Œåˆ™ç§°è¯¥åºåˆ—ä¸ºç­‰å·®åºåˆ—ã€‚

- ä¾‹å¦‚ï¼Œ`[1, 3, 5, 7, 9]`ã€`[7, 7, 7, 7]` å’Œ `[3, -1, -5, -9]` éƒ½æ˜¯ç­‰å·®åºåˆ—ã€‚
- å†ä¾‹å¦‚ï¼Œ`[1, 1, 2, 5, 7]` ä¸æ˜¯ç­‰å·®åºåˆ—ã€‚

æ•°ç»„ä¸­çš„å­åºåˆ—æ˜¯ä»æ•°ç»„ä¸­åˆ é™¤ä¸€äº›å…ƒç´ ï¼ˆä¹Ÿå¯èƒ½ä¸åˆ é™¤ï¼‰å¾—åˆ°çš„ä¸€ä¸ªåºåˆ—ã€‚

- ä¾‹å¦‚ï¼Œ`[2,5,10]` æ˜¯ `[1,2,1,2,4,1,5,10]` çš„ä¸€ä¸ªå­åºåˆ—ã€‚

é¢˜ç›®æ•°æ®ä¿è¯ç­”æ¡ˆæ˜¯ä¸€ä¸ª **32-bit** æ•´æ•°ã€‚

 è¾“å…¥ï¼šnums = [2,4,6,8,10]
è¾“å‡ºï¼š7
è§£é‡Šï¼šæ‰€æœ‰çš„ç­‰å·®å­åºåˆ—ä¸ºï¼š
[2,4,6]
[4,6,8]
[6,8,10]
[2,4,6,8]
[4,6,8,10]
[2,4,6,8,10]
[2,6,10]

-----

```java
 public int numberOfArithmeticSlices(int[] nums) {
Map<Long, Integer>[]dp = new HashMap[nums.length];
//æ¯ä¸€ä¸ª nums[i] çš„çŠ¶æ€ï¼Œå…¶å®æ˜¯ä¸€å¼ å“ˆå¸Œè¡¨ï¼ˆé”®å€¼å¯¹ï¼‰ï¼Œã€Œé”®ã€ æ˜¯ nums[i] ä¸å®ƒå‰é¢çš„æ¯ä¸€ä¸ªå…ƒç´ çš„ã€Œå·®ã€ï¼Œé‚£ã€Œå€¼ã€æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿã€Œå€¼ã€æ˜¯ä»¥ nums[i] ç»“å°¾ç»„æˆçš„ã€å…¬å·®ä¸ºæŸä¸ªå€¼çš„ é•¿åº¦å¤§äºç­‰äº 2 çš„ç­‰å·®å­åºåˆ—çš„ä¸ªæ•°


int res = 0;
for(int i = 0;i<nums.length;i++)
dp[i] = new HashMap<Long,Integer>();
for(int i = 1;i < nums.length;i++)
for(int j = 0;j < i;j++)
{
    long diff = (long) nums[i] - nums[j];
    if(diff > Integer.MAX_VALUE||diff<Integer.MIN_VALUE)
    continue;//æ³¨æ„ï¼Œè¿™é‡Œå¯èƒ½æœ‰è´Ÿæ•°ï¼Œå› æ­¤å…¬å·®å¯èƒ½å‡ºç°å¤§äº Integer.MAX_VALUEçš„æƒ…å†µï¼Œç”¨longç±»å‹
     // dp[i][diff] += (dp[j][diff] + 1) ï¼ŒJava å†™èµ·æ¥æœ‰ç‚¹éº»çƒ¦ï¼Œè¡¨ç¤º nums[i] å¯ä»¥æ¥åœ¨ä¹‹å‰ã€Œå…¬å·®ç›¸ç­‰ã€çš„ç­‰å·®æ•°åˆ—åé¢å½¢æˆé•¿åº¦æ›´é•¿çš„ç­‰å·®æ•°åˆ—
    dp[i].put(diff,dp[i].getOrDefault(diff,0)+dp[j].getOrDefault(diff,0)+1);
    if(dp[j].containsKey(diff))      // ä¸ä¹‹å‰çš„ç­‰å·®æ•°åˆ—å…¬å·®ç›¸ç­‰çš„æ—¶å€™ï¼Œè¯´æ˜å¯ä»¥æ¥ä¸Šï¼Œæ­¤æ—¶è®¡ç®—ç»“æœ
    {   // ç†è§£ï¼šå¯¹ç»“æœçš„è´¡çŒ®ã€Œæ°å¥½æ˜¯ã€ä¹‹å‰çš„æŸä¸ª j çš„å¯¹åº”çŠ¶æ€å€¼ï¼Œè¿™é‡Œçš„ j ä¸€å®šä¼šåœ¨ä¹‹å‰çš„æŸä¸€ä¸ª i åŠ ä¸Š 1ï¼Œçœ‹ä¸Šé¢æœ‰æ³¨é‡Šçš„é‚£ä¸€è¡Œä»£ç 
res +=dp[j].get(diff);
//ä¹‹å‰çš„çŠ¶æ€å€¼é‡Œæœ‰åŒæ ·çš„ diff çš„æ—¶å€™ï¼Œè¯´æ˜æ‰å¯èƒ½å½¢æˆé•¿åº¦å¤§äºç­‰äº 3 çš„ç­‰å·®æ•°åˆ—ï¼Œæ­¤æ—¶è®°å½•ç»“æœ
    }
}
return res;
    }
```

## åœ†ç¯å›åŸç‚¹é—®é¢˜

åœ†ç¯ä¸Šæœ‰10ä¸ªç‚¹ï¼Œç¼–å·ä¸º0~9ã€‚ä»0ç‚¹å‡ºå‘ï¼Œæ¯æ¬¡å¯ä»¥é€†æ—¶é’ˆå’Œé¡ºæ—¶é’ˆèµ°ä¸€æ­¥ï¼Œé—®èµ°næ­¥å›åˆ°0ç‚¹å…±æœ‰å¤šå°‘ç§èµ°æ³•ã€‚

```
è¾“å…¥: 2
è¾“å‡º: 2
è§£é‡Šï¼šæœ‰2ç§æ–¹æ¡ˆã€‚åˆ†åˆ«æ˜¯0->1->0å’Œ0->9->0
```

----


æœ¬é¢˜è€ƒå¯Ÿçš„æ˜¯åŠ¨æ€è§„åˆ’ã€‚

**èµ°næ­¥åˆ°0çš„æ–¹æ¡ˆæ•°=èµ°n-1æ­¥åˆ°1çš„æ–¹æ¡ˆæ•°+èµ°n-1æ­¥åˆ°9çš„æ–¹æ¡ˆæ•°ã€‚**

å› æ­¤ï¼Œè‹¥è®¾dp\[i][j]ä¸ºä»0ç‚¹å‡ºå‘èµ°iæ­¥åˆ°jç‚¹çš„æ–¹æ¡ˆæ•°ï¼Œåˆ™é€’æ¨å¼ä¸ºï¼š

```java
dp[i][j]= dp[i-1][(j-1+length)%length]+dp[i-1][(j+1+length)%length]
    å…¬å¼ä¹‹æ‰€ä»¥å–ä½™æ˜¯å› ä¸ºj-1æˆ–j+1å¯èƒ½ä¼šè¶…è¿‡åœ†ç¯0~9çš„èŒƒå›´
```

åˆå§‹åŒ–dp\[0][0] = 1 

```java
int[][]dp = new int[n][length];
dp[0][0] = 1;
for(int i = 1;i < n;i++)
{
    for(int j = 0;j < length;j++)
        dp[i][j] = dp[i-1][(j-1+length)%length]+dp[i-1];
}
return dp[n][0];
```

## è¾ƒéš¾ï¼š[é¢è¯•é¢˜ 17.24. æœ€å¤§å­çŸ©é˜µ](https://leetcode-cn.com/problems/max-submatrix-lcci/)

éš¾åº¦å›°éš¾129

ç»™å®šä¸€ä¸ªæ­£æ•´æ•°ã€è´Ÿæ•´æ•°å’Œ 0 ç»„æˆçš„ N Ã— M çŸ©é˜µï¼Œç¼–å†™ä»£ç æ‰¾å‡ºå…ƒç´ æ€»å’Œæœ€å¤§çš„å­çŸ©é˜µã€‚

è¿”å›ä¸€ä¸ªæ•°ç»„ `[r1, c1, r2, c2]`ï¼Œå…¶ä¸­ `r1`, `c1` åˆ†åˆ«ä»£è¡¨å­çŸ©é˜µå·¦ä¸Šè§’çš„è¡Œå·å’Œåˆ—å·ï¼Œ`r2`, `c2` åˆ†åˆ«ä»£è¡¨å³ä¸‹è§’çš„è¡Œå·å’Œåˆ—å·ã€‚è‹¥æœ‰å¤šä¸ªæ»¡è¶³æ¡ä»¶çš„å­çŸ©é˜µï¼Œè¿”å›ä»»æ„ä¸€ä¸ªå‡å¯ã€‚

```
è¾“å…¥ï¼š
[
   [-1,0],
   [0,-1]
]
è¾“å‡ºï¼š[0,1,0,1]
è§£é‡Šï¼šè¾“å…¥ä¸­æ ‡ç²—çš„å…ƒç´ å³ä¸ºè¾“å‡ºæ‰€è¡¨ç¤ºçš„çŸ©é˜µ
```

----

è¯¦ç»†è¿‡ç¨‹å¯ä»¥çœ‹é¢˜è§£

```java
class Solution {
    public int[] getMaxMatrix(int[][] matrix) {
        int[] ans = new int[4];//ä¿å­˜æœ€å¤§å­çŸ©é˜µçš„å·¦ä¸Šè§’å’Œå³ä¸‹è§’çš„è¡Œåˆ—åæ ‡
        int N = matrix.length;
        int M = matrix[0].length;
        int[] b = new int[M];//è®°å½•å½“å‰i~jè¡Œç»„æˆå¤§çŸ©é˜µçš„æ¯ä¸€åˆ—çš„å’Œï¼Œå°†äºŒç»´è½¬åŒ–ä¸ºä¸€ç»´
        int sum = 0;//ç›¸å½“äºdp[i],dp_i
        int maxsum = Integer.MIN_VALUE;//è®°å½•æœ€å¤§å€¼
        int bestr1 = 0;
        int bestc1 = 0;//æš‚æ—¶è®°å½•å·¦ä¸Šè§’ï¼Œç›¸å½“äºbegin

        for(int i = 0;i < N; i++){     //ä»¥iä¸ºä¸Šè¾¹ï¼Œä»ä¸Šè€Œä¸‹æ‰«æ
            for(int t = 0;t < M; t++ ) {
                b[t]=0;    //æ¯æ¬¡æ›´æ¢å­çŸ©å½¢ä¸Šè¾¹ï¼Œå°±è¦æ¸…ç©ºbï¼Œé‡æ–°è®¡ç®—æ¯åˆ—çš„å’Œ
            }
            for(int j = i;j < N; j++){    //å­çŸ©é˜µçš„ä¸‹è¾¹ï¼Œä»iåˆ°N-1ï¼Œä¸æ–­å¢åŠ å­çŸ©é˜µçš„é«˜
                //ä¸€ä¸‹å°±ç›¸å½“äºæ±‚ä¸€æ¬¡æœ€å¤§å­åºåˆ—å’Œ
                sum = 0;//ä»å¤´å¼€å§‹æ±‚dp
                for(int k=0; k < M; k++){
                    b[k] += matrix[j][k];   
//æˆ‘ä»¬åªæ˜¯ä¸æ–­å¢åŠ å…¶é«˜ï¼Œä¹Ÿå°±æ˜¯ä¸‹ç§»çŸ©é˜µä¸‹è¾¹ï¼Œæ‰€æœ‰è¿™ä¸ªçŸ©é˜µæ¯åˆ—çš„å’Œåªéœ€è¦åŠ ä¸Šæ–°åŠ çš„å“ªä¸€è¡Œçš„å…ƒç´ 
//å› ä¸ºæˆ‘ä»¬æ±‚dp[i]çš„æ—¶å€™åªéœ€è¦dp[i-1]å’Œnums[i],æ‰€æœ‰åœ¨æˆ‘ä»¬ä¸æ–­æ›´æ–°bæ•°ç»„æ—¶å°±å¯ä»¥æ±‚å‡ºå½“å‰ä½ç½®çš„dp_i
                    if(sum>0){
                        sum+=b[k];//å³ä¾¿b[k]å°äº0ä¹Ÿæ²¡å…³ç³»ï¼Œä¸‹é¢ä¼šåˆ¤æ–­sumä¸maxsumå“ªä¸ªå¤§ï¼Œå¦‚æœsumåŠ ä¸€ä¸ªè´Ÿæ•°ä¼šæ¯”åŸæ¥çš„æ•°å­—å°ï¼Œè¿™æ ·å°±ä¸ä¼šæ›´æ–°maxnum
                    }
                    else{
                        sum = b[k];
                        bestr1 = i;//è‡ªç«‹é—¨æˆ·ï¼Œæš‚æ—¶ä¿å­˜å…¶å·¦ä¸Šè§’ï¼Œåœ¨è¿™é‡Œæ›´æ–°sum
                        bestc1 = k;
                    }
                    if( sum > maxsum){
                        maxsum = sum;
                        ans[0] = bestr1;//æ›´æ–°ç­”æ¡ˆ
                        ans[1] = bestc1;
                        ans[2] = j;
                        ans[3] = k;
                    }
                }
            }
        }
        return ans;
    }
}
```



## [877. çŸ³å­æ¸¸æˆ](https://leetcode.cn/problems/stone-game/)

éš¾åº¦ä¸­ç­‰443

Alice å’Œ Bob ç”¨å‡ å †çŸ³å­åœ¨åšæ¸¸æˆã€‚ä¸€å…±æœ‰å¶æ•°å †çŸ³å­ï¼Œ**æ’æˆä¸€è¡Œ**ï¼›æ¯å †éƒ½æœ‰ **æ­£** æ•´æ•°é¢—çŸ³å­ï¼Œæ•°ç›®ä¸º `piles[i]` ã€‚

æ¸¸æˆä»¥è°æ‰‹ä¸­çš„çŸ³å­æœ€å¤šæ¥å†³å‡ºèƒœè´Ÿã€‚çŸ³å­çš„ **æ€»æ•°** æ˜¯ **å¥‡æ•°** ï¼Œæ‰€ä»¥æ²¡æœ‰å¹³å±€ã€‚

Alice å’Œ Bob è½®æµè¿›è¡Œï¼Œ**Alice å…ˆå¼€å§‹** ã€‚ æ¯å›åˆï¼Œç©å®¶ä»è¡Œçš„ **å¼€å§‹** æˆ– **ç»“æŸ** å¤„å–èµ°æ•´å †çŸ³å¤´ã€‚ è¿™ç§æƒ…å†µä¸€ç›´æŒç»­åˆ°æ²¡æœ‰æ›´å¤šçš„çŸ³å­å †ä¸ºæ­¢ï¼Œæ­¤æ—¶æ‰‹ä¸­ **çŸ³å­æœ€å¤š** çš„ç©å®¶ **è·èƒœ** ã€‚

å‡è®¾ Alice å’Œ Bob éƒ½å‘æŒ¥å‡ºæœ€ä½³æ°´å¹³ï¼Œå½“ Alice èµ¢å¾—æ¯”èµ›æ—¶è¿”å› `true` ï¼Œå½“ Bob èµ¢å¾—æ¯”èµ›æ—¶è¿”å› `false` ã€‚

 ï¼ˆæ³¨æ„ï¼šå³ä¾¿å˜æˆçŸ³å¤´æ€»æ•°ä¸ä¸€å®šæ˜¯å¥‡æ•°ï¼Œä¸‹é¢çš„è§£æ³•ä¹Ÿæ˜¯å¯ä»¥ç›´æ¥ç”¨çš„ï¼‰

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼špiles = [5,3,4,5]
è¾“å‡ºï¼štrue
è§£é‡Šï¼š
Alice å…ˆå¼€å§‹ï¼Œåªèƒ½æ‹¿å‰ 5 é¢—æˆ–å 5 é¢—çŸ³å­ ã€‚
å‡è®¾ä»–å–äº†å‰ 5 é¢—ï¼Œè¿™ä¸€è¡Œå°±å˜æˆäº† [3,4,5] ã€‚
å¦‚æœ Bob æ‹¿èµ°å‰ 3 é¢—ï¼Œé‚£ä¹ˆå‰©ä¸‹çš„æ˜¯ [4,5]ï¼ŒAlice æ‹¿èµ°å 5 é¢—èµ¢å¾— 10 åˆ†ã€‚
å¦‚æœ Bob æ‹¿èµ°å 5 é¢—ï¼Œé‚£ä¹ˆå‰©ä¸‹çš„æ˜¯ [3,4]ï¼ŒAlice æ‹¿èµ°å 4 é¢—èµ¢å¾— 9 åˆ†ã€‚
è¿™è¡¨æ˜ï¼Œå–å‰ 5 é¢—çŸ³å­å¯¹ Alice æ¥è¯´æ˜¯ä¸€ä¸ªèƒœåˆ©çš„ä¸¾åŠ¨ï¼Œæ‰€ä»¥è¿”å› true ã€‚
```

----------------

![image-20220820001852301](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220820001852301.png)

```java
    public boolean stoneGame(int[] piles) {
int[][]dp =new int[piles.length][piles.length];
for(int i = 0;i <piles.length;i++)
dp[i][i]=piles[i];
        //è¿™ä¸ªiå¿…é¡»ä»piles.length-2å¼€å§‹ï¼Œç„¶åå†å‡å°ï¼Œå¦åˆ™ä¼šé”™
for(int i = piles.length-2;i >=0;i--){
    for(int j = i+1;j < piles.length;j++){
        //piles[i]æ˜¯å–èµ°å·¦ç«¯ piles[j]æ˜¯å–èµ°å³ç«¯
        dp[i][j] = Math.max(piles[i]-dp[i+1][j],piles[j]-dp[i][j-1]);
    }
}
return dp[0][piles.length-1]>0;
    }
```

å¦ä¸€ä¸ªæ€è·¯ï¼š

åšå¼ˆè®º
äº‹å®ä¸Šï¼Œè¿™è¿˜æ˜¯ä¸€é“å¾ˆç»å…¸çš„åšå¼ˆè®ºé—®é¢˜ï¼Œä¹Ÿæ˜¯æœ€ç®€å•çš„ä¸€ç±»åšå¼ˆè®ºé—®é¢˜ã€‚

ä¸ºäº†æ–¹ä¾¿ï¼Œæˆ‘ä»¬ç§°ã€ŒçŸ³å­åºåˆ—ã€ä¸ºçŸ³å­åœ¨åŸæ’åºä¸­çš„ç¼–å·ï¼Œä¸‹æ ‡ä» 11 å¼€å§‹ã€‚

ç”±äºçŸ³å­çš„å †æ•°ä¸ºå¶æ•°ï¼Œä¸”åªèƒ½ä»ä¸¤ç«¯å–çŸ³å­ã€‚å› æ­¤å…ˆæ‰‹åæ‰‹æ‰€èƒ½é€‰æ‹©çš„çŸ³å­åºåˆ—ï¼Œå®Œå…¨å–å†³äºå…ˆæ‰‹æ¯ä¸€æ¬¡å†³å®šã€‚

è¯æ˜å¦‚ä¸‹ï¼š

ç”±äºçŸ³å­çš„å †æ•°ä¸ºå¶æ•°ï¼Œå¯¹äºå…ˆæ‰‹è€Œè¨€ï¼šæ¯ä¸€æ¬¡çš„å†³ç­–å±€é¢ï¼Œéƒ½èƒ½ã€Œè‡ªç”±åœ°ã€é€‰æ‹©å¥‡æ•°è¿˜æ˜¯å¶æ•°çš„åºåˆ—ï¼Œä»è€Œé™åˆ¶åæ‰‹ä¸‹ä¸€æ¬¡ã€Œåªèƒ½ã€å¥‡æ•°è¿˜æ˜¯å¶æ•°çŸ³å­ã€‚

å…·ä½“çš„ï¼Œå¯¹äºæœ¬é¢˜ï¼Œç”±äºçŸ³å­å †æ•°ä¸ºå¶æ•°ï¼Œå› æ­¤å…ˆæ‰‹çš„æœ€å¼€å§‹å±€é¢å¿…ç„¶æ˜¯ [å¥‡æ•°, å¶æ•°][å¥‡æ•°,å¶æ•°]ï¼Œå³å¿…ç„¶æ˜¯ã€Œå¥‡å¶æ€§ä¸åŒçš„å±€é¢ã€ï¼›å½“å…ˆæ‰‹å†³ç­–å®Œä¹‹åï¼Œäº¤åˆ°ç»™åæ‰‹çš„è¦ä¹ˆæ˜¯ [å¥‡æ•°,å¥‡æ•°][å¥‡æ•°,å¥‡æ•°] æˆ–è€… [å¶æ•°,å¶æ•°][å¶æ•°,å¶æ•°]ï¼Œå³å¿…ç„¶æ˜¯ã€Œå¥‡å¶æ€§ç›¸åŒçš„å±€é¢ã€ï¼›åæ‰‹å†³ç­–å®Œåï¼Œåˆæ¢å¤ã€Œå¥‡å¶æ€§ä¸åŒçš„å±€é¢ã€äº¤å›åˆ°å…ˆæ‰‹ ...

ä¸éš¾å½’çº³æ¨ç†ï¼Œè¿™ä¸ªè¾¹ç•Œæ˜¯å¯ä»¥åº”ç”¨åˆ°æ¯ä¸€ä¸ªå›åˆã€‚

å› æ­¤å…ˆæ‰‹åªéœ€è¦åœ¨è¿›è¡Œç¬¬ä¸€æ¬¡æ“ä½œå‰è®¡ç®—åŸåºåˆ—ä¸­ã€Œå¥‡æ•°æ€»å’Œã€å’Œã€Œå¶æ•°æ€»å’Œã€å“ªä¸ªå¤§ï¼Œç„¶åæ¯ä¸€æ¬¡å†³ç­–éƒ½ã€Œé™åˆ¶ã€å¯¹æ–¹åªèƒ½é€‰æ‹©ã€Œæœ€ä¼˜å¥‡å¶æ€§åºåˆ—ã€çš„å¯¹ç«‹é¢å³å¯ã€‚

åŒæ—¶åˆç”±äºæ‰€æœ‰çŸ³å­æ€»å’Œä¸ºå¥‡æ•°ï¼Œå †æ•°ä¸ºå¶æ•°ï¼Œå³æ²¡æœ‰å¹³å±€ï¼Œæ‰€ä»¥å…ˆæ‰‹å¿…èƒœã€‚

## 1230.æŠ›æ·ç¡¬å¸

æœ‰ä¸€äº›ä¸è§„åˆ™çš„ç¡¬å¸ã€‚åœ¨è¿™äº›ç¡¬å¸ä¸­ï¼Œprob[i] è¡¨ç¤ºç¬¬ i æšç¡¬å¸æ­£é¢æœä¸Šçš„æ¦‚ç‡ã€‚

è¯·å¯¹æ¯ä¸€æšç¡¬å¸æŠ›æ· ä¸€æ¬¡ï¼Œç„¶åè¿”å›æ­£é¢æœä¸Šçš„ç¡¬å¸æ•°ç­‰äº target çš„æ¦‚ç‡ã€‚

ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼šprob = [0.4], target = 1
è¾“å‡ºï¼š0.40000
1
2
ç¤ºä¾‹ 2ï¼š

è¾“å…¥ï¼šprob = [0.5,0.5,0.5,0.5,0.5], target = 0

è¾“å‡ºï¼š0.03125

---------



è§£æ³•1ï¼šäºŒç»´dp dp\[i][j]è¡¨ç¤º0~iä¸€å…±jæšç¡¬å¸æœä¸Šçš„æ¦‚ç‡ï¼ŒçŠ¶æ€è½¬ç§»ï¼Œè‹¥ç¬¬ 1  ä¸ªç¡¬å¸åˆ°ç¬¬ i ä¸ªç¡¬å¸æœ‰ j  ä¸ªç¡¬å¸æ­£é¢æœä¸Šæ—¶

ç¬¬ i  ä¸ªç¡¬å¸æ­£é¢æœä¸Šï¼Œåˆ™ç¬¬ 1 ä¸ªåˆ°ç¬¬ i âˆ’ 1  ä¸ªç¡¬å¸ä¸­å¿…é¡»æœ‰ jâˆ’1 ä¸ªç¡¬å¸æ­£é¢æœä¸Šã€‚å³ $prob(i - 1)*f(i - 1, j - 1) $
ç¬¬ i ä¸ªç¡¬å¸åé¢æœä¸Šï¼Œåˆ™ç¬¬ 1  ä¸ªåˆ°ç¬¬ i âˆ’ 1 ä¸ªç¡¬å¸ä¸­å¿…é¡»æœ‰ j ä¸ªç¡¬å¸æ­£é¢æœä¸Šã€‚å³$ [ 1 âˆ’ p r o b ( i âˆ’ 1 ) ]* f ( i âˆ’ 1 , j )$

ä»£ç ï¼š

```java
class Solution {
    public double probabilityOfHeads(double[] prob, int m) {
        int n = prob.length;
        double[][] f = new double[n + 1][m + 1];
        f[0][0] = 1;
        double p = 1;
        for(int i = 1; i <= n; i++){ // è¿ç»­ i ä¸ªç¡¬å¸åé¢æœä¸Šæ—¶Â·
            p *= 1 - prob[i - 1];
            f[i][0] = p;
        }
        for (int i = 1; i <= n; i++) {
            for (int j = 1; j <= m; j++) {       
                f[i][j] = f[i - 1][j - 1] * prob[i - 1] + f[i - 1][j] * (1 - prob[i - 1]);
            }
        }
        return f[n][m];
    }
}

```

## [688. éª‘å£«åœ¨æ£‹ç›˜ä¸Šçš„æ¦‚ç‡](https://leetcode.cn/problems/knight-probability-in-chessboard/)

éš¾åº¦ä¸­ç­‰311

åœ¨ä¸€ä¸ª `n x n` çš„å›½é™…è±¡æ£‹æ£‹ç›˜ä¸Šï¼Œä¸€ä¸ªéª‘å£«ä»å•å…ƒæ ¼ `(row, column)` å¼€å§‹ï¼Œå¹¶å°è¯•è¿›è¡Œ `k` æ¬¡ç§»åŠ¨ã€‚è¡Œå’Œåˆ—æ˜¯ **ä» 0 å¼€å§‹** çš„ï¼Œæ‰€ä»¥å·¦ä¸Šå•å…ƒæ ¼æ˜¯ `(0,0)` ï¼Œå³ä¸‹å•å…ƒæ ¼æ˜¯ `(n - 1, n - 1)` ã€‚

è±¡æ£‹éª‘å£«æœ‰8ç§å¯èƒ½çš„èµ°æ³•ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚æ¯æ¬¡ç§»åŠ¨åœ¨åŸºæœ¬æ–¹å‘ä¸Šæ˜¯ä¸¤ä¸ªå•å…ƒæ ¼ï¼Œç„¶ååœ¨æ­£äº¤æ–¹å‘ä¸Šæ˜¯ä¸€ä¸ªå•å…ƒæ ¼ã€‚

![img](https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2018/10/12/knight.png)

æ¯æ¬¡éª‘å£«è¦ç§»åŠ¨æ—¶ï¼Œå®ƒéƒ½ä¼šéšæœºä»8ç§å¯èƒ½çš„ç§»åŠ¨ä¸­é€‰æ‹©ä¸€ç§(å³ä½¿æ£‹å­ä¼šç¦»å¼€æ£‹ç›˜)ï¼Œç„¶åç§»åŠ¨åˆ°é‚£é‡Œã€‚

éª‘å£«ç»§ç»­ç§»åŠ¨ï¼Œç›´åˆ°å®ƒèµ°äº† `k` æ­¥æˆ–ç¦»å¼€äº†æ£‹ç›˜ã€‚

è¿”å› *éª‘å£«åœ¨æ£‹ç›˜åœæ­¢ç§»åŠ¨åä»ç•™åœ¨æ£‹ç›˜ä¸Šçš„æ¦‚ç‡* ã€‚

----------------------

æ³¨æ„ï¼šè¿™ä¸ªé¢˜å°è¯•äº†ç”¨dfsä¼šè¶…æ—¶ï¼Œåªèƒ½ç”¨åŠ¨æ€è§„åˆ’

![image-20230119130613801](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230119130613801.png)

```java
   public double knightProbability(int n, int k, int row, int column) {
int[][] dirs = {{-2, -1}, {-2, 1}, {2, -1}, {2, 1}, {-1, -2}, {-1, 2}, {1, -2}, {1, 2}};
double[][][]dp=new double[k+1][n][n];
for(int step=0;step<=k;step++){
for(int i = 0;i<n;i++){
    for(int j = 0;j<n;j++){
 if(step==0) dp[step][i][j]=1;
 else{
     for(int []dir:dirs){
     int nx=i+dir[0];
     int ny=j+dir[1];
     if(!(nx<0||ny<0||nx>=n||ny>=n)){
         dp[step][i][j]+=dp[step-1][nx][ny]/8.0;
     }
 }       
 }
    }
}
}

    return dp[k][row][column];
    }
```



## è®°å¿†åŒ–æœç´¢ï¼š[983. æœ€ä½ç¥¨ä»·](https://leetcode.cn/problems/minimum-cost-for-tickets/)

éš¾åº¦ä¸­ç­‰488

åœ¨ä¸€ä¸ªç«è½¦æ—…è¡Œå¾ˆå—æ¬¢è¿çš„å›½åº¦ï¼Œä½ æå‰ä¸€å¹´è®¡åˆ’äº†ä¸€äº›ç«è½¦æ—…è¡Œã€‚åœ¨æ¥ä¸‹æ¥çš„ä¸€å¹´é‡Œï¼Œä½ è¦æ—…è¡Œçš„æ—¥å­å°†ä»¥ä¸€ä¸ªåä¸º `days` çš„æ•°ç»„ç»™å‡ºã€‚æ¯ä¸€é¡¹æ˜¯ä¸€ä¸ªä» `1` åˆ° `365` çš„æ•´æ•°ã€‚

ç«è½¦ç¥¨æœ‰ **ä¸‰ç§ä¸åŒçš„é”€å”®æ–¹å¼** ï¼š

- ä¸€å¼  **ä¸ºæœŸä¸€å¤©** çš„é€šè¡Œè¯å”®ä»·ä¸º `costs[0]` ç¾å…ƒï¼›
- ä¸€å¼  **ä¸ºæœŸä¸ƒå¤©** çš„é€šè¡Œè¯å”®ä»·ä¸º `costs[1]` ç¾å…ƒï¼›
- ä¸€å¼  **ä¸ºæœŸä¸‰åå¤©** çš„é€šè¡Œè¯å”®ä»·ä¸º `costs[2]` ç¾å…ƒã€‚

é€šè¡Œè¯å…è®¸æ•°å¤©æ— é™åˆ¶çš„æ—…è¡Œã€‚ ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬åœ¨ç¬¬ `2` å¤©è·å¾—ä¸€å¼  **ä¸ºæœŸ 7 å¤©** çš„é€šè¡Œè¯ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥è¿ç€æ—…è¡Œ 7 å¤©ï¼šç¬¬ `2` å¤©ã€ç¬¬ `3` å¤©ã€ç¬¬ `4` å¤©ã€ç¬¬ `5` å¤©ã€ç¬¬ `6` å¤©ã€ç¬¬ `7` å¤©å’Œç¬¬ `8` å¤©ã€‚

è¿”å› *ä½ æƒ³è¦å®Œæˆåœ¨ç»™å®šçš„åˆ—è¡¨ `days` ä¸­åˆ—å‡ºçš„æ¯ä¸€å¤©çš„æ—…è¡Œæ‰€éœ€è¦çš„æœ€ä½æ¶ˆè´¹* ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šdays = [1,4,6,7,8,20], costs = [2,7,15]
è¾“å‡ºï¼š11
è§£é‡Šï¼š 
ä¾‹å¦‚ï¼Œè¿™é‡Œæœ‰ä¸€ç§è´­ä¹°é€šè¡Œè¯çš„æ–¹æ³•ï¼Œå¯ä»¥è®©ä½ å®Œæˆä½ çš„æ—…è¡Œè®¡åˆ’ï¼š
åœ¨ç¬¬ 1 å¤©ï¼Œä½ èŠ±äº† costs[0] = $2 ä¹°äº†ä¸€å¼ ä¸ºæœŸ 1 å¤©çš„é€šè¡Œè¯ï¼Œå®ƒå°†åœ¨ç¬¬ 1 å¤©ç”Ÿæ•ˆã€‚
åœ¨ç¬¬ 3 å¤©ï¼Œä½ èŠ±äº† costs[1] = $7 ä¹°äº†ä¸€å¼ ä¸ºæœŸ 7 å¤©çš„é€šè¡Œè¯ï¼Œå®ƒå°†åœ¨ç¬¬ 3, 4, ..., 9 å¤©ç”Ÿæ•ˆã€‚
åœ¨ç¬¬ 20 å¤©ï¼Œä½ èŠ±äº† costs[0] = $2 ä¹°äº†ä¸€å¼ ä¸ºæœŸ 1 å¤©çš„é€šè¡Œè¯ï¼Œå®ƒå°†åœ¨ç¬¬ 20 å¤©ç”Ÿæ•ˆã€‚
ä½ æ€»å…±èŠ±äº† $11ï¼Œå¹¶å®Œæˆäº†ä½ è®¡åˆ’çš„æ¯ä¸€å¤©æ—…è¡Œã€‚
```



--------------------------



![image-20230131100824904](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230131100824904.png)

è¿™é‡Œå¿…é¡»å‡ºè¡ŒæŒ‡çš„æ˜¯è¿™ä¸ªæ—¥å­æ˜¯å¦åœ¨daysä¸­ï¼Œå¦‚æœåœ¨é‚£ä¹ˆä¹…å¿…é¡»å‡ºè¡Œï¼Œå¦‚æœä¸åœ¨å°±æ˜¯ä¸å¿…é¡»å‡ºè¡Œï¼Œè¿™é‡Œå®é™…ä¸Šæ˜¯ä»¥é€’å½’çš„å½¢å¼ï¼Œé€’å½’çš„æœ€åä¸€å±‚å°±æ˜¯æœ€åçš„ä¸€å¤©ï¼Œç”±äºæˆ‘ä»¬æ˜¯å€’ç€è¿›è¡ŒåŠ¨æ€è§„åˆ’çš„ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è®°å¿†åŒ–æœç´¢ï¼Œå‡å°‘ä»£ç çš„ç¼–å†™éš¾åº¦ã€‚æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªé•¿åº¦ä¸º 366 çš„æ•°ç»„å­˜å‚¨æ‰€æœ‰çš„åŠ¨æ€è§„åˆ’ç»“æœï¼Œè¿™æ ·æ‰€æœ‰çš„ dp(i) åªä¼šè¢«è®¡ç®—ä¸€æ¬¡ï¼ˆå’Œæ™®é€šçš„åŠ¨æ€è§„åˆ’ç›¸åŒï¼‰ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ä¼šå¢å¤§ã€‚

```java
  Set<Integer>set=new HashSet<>();
    //æˆ‘ä»¬ç”¨ dp(i) æ¥è¡¨ç¤ºä»ç¬¬i å¤©å¼€å§‹åˆ°ä¸€å¹´çš„ç»“æŸ
    int[]memo=new int[366];

    int[]costs;
    public int mincostTickets(int[] days, int[] costs) {
            Arrays.fill(memo,-1);
for(int d:days)
set.add(d);
this.costs=costs;
return dp(1);
    }
    public int dp(int i){
        if (i > 365) {
            return 0;
        }
        if(memo[i]!=-1) return memo[i];
        //è¡¨ç¤ºæˆé€’å½’çš„å½¢å¼ï¼Œç”¨é€’å½’è§£å†³
        if(set.contains(i)){
memo[i]=Math.min(Math.min(dp(i+1)+costs[0],dp(i+7)+costs[1]),dp(i+30)+costs[2]);
        }else{
            memo[i]=dp(i+1);
        }
        return memo[i];
    }
```





## 96.ä¸åŒçš„äºŒå‰æœç´¢æ ‘

![image-20230312170724335](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230312170724335.png) 

------

dp[3]ï¼Œå°±æ˜¯ å…ƒç´ 1ä¸ºå¤´ç»“ç‚¹æœç´¢æ ‘çš„æ•°é‡ + å…ƒç´ 2ä¸ºå¤´ç»“ç‚¹æœç´¢æ ‘çš„æ•°é‡ + å…ƒç´ 3ä¸ºå¤´ç»“ç‚¹æœç´¢æ ‘çš„æ•°é‡

å…ƒç´ 1ä¸ºå¤´ç»“ç‚¹æœç´¢æ ‘çš„æ•°é‡ = å³å­æ ‘æœ‰2ä¸ªå…ƒç´ çš„æœç´¢æ ‘æ•°é‡ * å·¦å­æ ‘æœ‰0ä¸ªå…ƒç´ çš„æœç´¢æ ‘æ•°é‡

å…ƒç´ 2ä¸ºå¤´ç»“ç‚¹æœç´¢æ ‘çš„æ•°é‡ = å³å­æ ‘æœ‰1ä¸ªå…ƒç´ çš„æœç´¢æ ‘æ•°é‡ * å·¦å­æ ‘æœ‰1ä¸ªå…ƒç´ çš„æœç´¢æ ‘æ•°é‡

å…ƒç´ 3ä¸ºå¤´ç»“ç‚¹æœç´¢æ ‘çš„æ•°é‡ = å³å­æ ‘æœ‰0ä¸ªå…ƒç´ çš„æœç´¢æ ‘æ•°é‡ * å·¦å­æ ‘æœ‰2ä¸ªå…ƒç´ çš„æœç´¢æ ‘æ•°é‡

æœ‰2ä¸ªå…ƒç´ çš„æœç´¢æ ‘æ•°é‡å°±æ˜¯dp[2]ã€‚

æœ‰1ä¸ªå…ƒç´ çš„æœç´¢æ ‘æ•°é‡å°±æ˜¯dp[1]ã€‚

æœ‰0ä¸ªå…ƒç´ çš„æœç´¢æ ‘æ•°é‡å°±æ˜¯dp[0]ã€‚

æ‰€ä»¥dp[3] = dp[2] * dp[0] + dp[1] * dp[1] + dp[0] * dp[2]

1. ç¡®å®šdpæ•°ç»„ï¼ˆdp tableï¼‰ä»¥åŠä¸‹æ ‡çš„å«ä¹‰

**dp[i] ï¼š 1åˆ°iä¸ºèŠ‚ç‚¹ç»„æˆçš„äºŒå‰æœç´¢æ ‘çš„ä¸ªæ•°ä¸ºdp[i]**ã€‚

ä¹Ÿå¯ä»¥ç†è§£æ˜¯iä¸ªä¸åŒå…ƒç´ èŠ‚ç‚¹ç»„æˆçš„äºŒå‰æœç´¢æ ‘çš„ä¸ªæ•°ä¸ºdp[i] ï¼Œéƒ½æ˜¯ä¸€æ ·çš„ã€‚

ä»¥ä¸‹åˆ†æå¦‚æœæƒ³ä¸æ¸…æ¥šï¼Œå°±æ¥å›æƒ³ä¸€ä¸‹dp[i]çš„å®šä¹‰

1. ç¡®å®šé€’æ¨å…¬å¼

åœ¨ä¸Šé¢çš„åˆ†æä¸­ï¼Œå…¶å®å·²ç»çœ‹å‡ºå…¶é€’æ¨å…³ç³»ï¼Œ dp[i] += dp[ä»¥jä¸ºå¤´ç»“ç‚¹å·¦å­æ ‘èŠ‚ç‚¹æ•°é‡] * dp[ä»¥jä¸ºå¤´ç»“ç‚¹å³å­æ ‘èŠ‚ç‚¹æ•°é‡]

jç›¸å½“äºæ˜¯å¤´ç»“ç‚¹çš„å…ƒç´ ï¼Œä»1éå†åˆ°iä¸ºæ­¢ã€‚

æ‰€ä»¥é€’æ¨å…¬å¼ï¼šdp[i] += dp[j - 1] * dp[i - j]; ï¼Œj-1 ä¸ºjä¸ºå¤´ç»“ç‚¹å·¦å­æ ‘èŠ‚ç‚¹æ•°é‡ï¼Œi-j ä¸ºä»¥jä¸ºå¤´ç»“ç‚¹å³å­æ ‘èŠ‚ç‚¹æ•°é‡ï¼ˆj-1å…¶å®å°±æ˜¯0-j-1çš„æ ‘ï¼Œi-jå°±æ˜¯jåˆ°içš„æ ‘ï¼‰

1. dpæ•°ç»„å¦‚ä½•åˆå§‹åŒ– ä»¤dp[0]=1

æ‰€ä»¥ç­”æ¡ˆä¸ºï¼š

```java
  int numTrees(int n) {
        vector<int> dp(n + 1);
        dp[0] = 1;
        for (int i = 1; i <= n; i++) {
            for (int j = 1; j <= i; j++) {
                dp[i] += dp[j - 1] * dp[i - j];
            }
        }
        return dp[n];
    }
```

## çŸ©é˜µçš„æœ€å°è·¯å¾„å’Œ

ç»™å®šä¸€ä¸ª n * m çš„çŸ©é˜µ aï¼Œä»å·¦ä¸Šè§’å¼€å§‹æ¯æ¬¡åªèƒ½å‘å³æˆ–è€…å‘ä¸‹èµ°ï¼Œæœ€ååˆ°è¾¾å³ä¸‹è§’çš„ä½ç½®ï¼Œè·¯å¾„ä¸Šæ‰€æœ‰çš„æ•°å­—ç´¯åŠ èµ·æ¥å°±æ˜¯è·¯å¾„å’Œï¼Œè¾“å‡ºæ‰€æœ‰çš„è·¯å¾„ä¸­æœ€å°çš„è·¯å¾„å’Œã€‚



ä¾‹å¦‚ï¼šå½“è¾“å…¥[[1,3,5,9],[8,1,3,4],[5,0,6,1],[8,8,4,0]]æ—¶ï¼Œå¯¹åº”çš„è¿”å›å€¼ä¸º12ï¼Œ

æ‰€é€‰æ‹©çš„æœ€å°ç´¯åŠ å’Œè·¯å¾„å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![image-20230325131431755](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230325131431755.png)

------

å¦‚æœé‡‡ç”¨dfs+è®°å¿†åŒ–çš„æ–¹æ³•åº”è¯¥è¿™æ ·å†™ï¼šå› ä¸ºä¸æ˜¯å››ä¸ªæ–¹å‘éƒ½å¯ä»¥èµ°ï¼Œåªéœ€è¦ä¸¤ä¸ªæ–¹å‘å³å¯

```java
  int[][]memo;

  public int minPathSum (int[][] matrix) {
â€‹    // write code here
â€‹    memo=new int[matrix.length][matrix[0].length];
â€‹    return dfs(matrix,0,0);
  }
  public int dfs(int[][]matrix,int i,int j)

  {
â€‹    if(i<0||i>=matrix.length||j<0||j>=matrix[0].length)
â€‹    {
â€‹      return Integer.MAX_VALUE;
â€‹    }
â€‹    if(i==matrix.length-1&&j==matrix.length-1) return matrix[i][j];
         if(memo[i][j]!=0) return memo[i][j];
â€‹    int left=dfs(matrix,i+1,j);
â€‹    int down=dfs(matrix,i,j+1);
â€‹    memo[i][j]=Math.min(left, down)+matrix[i][j];

   return memo[i][j];

  }
```

æ ¹æ®ã€Œè§£æ³•ä¸€ä¼˜åŒ–ã€æ–¹æ³•çš„å¯å‘ï¼Œå¯ä»¥æƒ³åˆ°æ­¤é¢˜æœ€ä¼˜è§£ä¸º**åŠ¨æ€è§„åˆ’æ–¹æ³•**ï¼š
åŠ¨æ€è§„åˆ’æ–¹æ³•çš„æ€æƒ³æ˜¯ï¼šå°†åŸé—®é¢˜åˆ†è§£ä¸ºè‹¥å¹²å­é—®é¢˜ï¼Œç§°ä¸ºã€Œ**æœ€ä¼˜å­ç»“æ„**ã€ï¼Œé€šè¿‡æ±‚è§£å­é—®é¢˜å®Œæˆå¯¹æœ€ç»ˆé—®é¢˜çš„æ±‚è§£ã€‚å¯¹äºé‡å¤å‡ºç°çš„å­é—®é¢˜ï¼Œåœ¨ç¬¬ä¸€æ¬¡å‡ºç°æ—¶å¯¹å…¶è¿›è¡Œæ±‚è§£ï¼Œç„¶å**ä¿å­˜å…¶ç»“æœ**ï¼Œä»è€Œåœ¨æ±‚è§£åç»­çš„å­é—®é¢˜æ—¶å¯ä»¥**ç›´æ¥åˆ©ç”¨å…ˆå‰å¾—åˆ°çš„ç»“æœ**ã€‚

é’ˆå¯¹è¿™é“é¢˜ç›®ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆæ€è€ƒæœ€ä¼˜å­ç»“æ„ï¼šé¢˜ç›®è¦æ±‚å¾—åˆ°ä»ã€Œå·¦ä¸Šè§’ã€åˆ°ã€Œå³ä¸‹è§’ã€çš„**æ•´ä¸ªäºŒç»´æ•°ç»„**çš„æœ€å°è·¯å¾„ï¼Œå› æ­¤å…¶å­é—®é¢˜ä¸ºï¼šå¯¹äºäºŒç»´æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ ä½ç½®ï¼Œæ±‚å–**ä»èµ·ç‚¹åˆ°è¯¥ä½ç½®çš„æœ€çŸ­è·¯å¾„**ï¼›å¯¹äºã€Œå³ä¸‹è§’ã€çš„å…ƒç´ ä½ç½®ï¼Œä»èµ·ç‚¹åˆ°è¯¥ä½ç½®çš„æœ€çŸ­è·¯å¾„å³ä¸ºæœ€ç»ˆç­”æ¡ˆã€‚

åœ¨æ±‚è§£å­é—®é¢˜æ—¶ï¼Œéœ€è¦æ„å»ºåŠ¨æ€è½¬ç§»æ–¹ç¨‹ï¼Œå³ï¼šä»ã€Œä¸Šä¸€çŠ¶æ€ã€åˆ°ã€Œä¸‹ä¸€çŠ¶æ€ã€çš„é€’æ¨å¼ã€‚

å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå¯¹äºæ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ [i,j]ï¼Œè¾¾åˆ°è¯¥ä½ç½®å…±æœ‰ä¸¤ç§æ–¹å¼ï¼šå·¦ä¾§å…ƒç´ ([i,j-1])å‘å³ç§»åŠ¨ä¸€æ­¥ï¼Œæˆ–è€…ä¸Šæ–¹å…ƒç´ ([i-1,j])å‘ä¸‹ç§»åŠ¨ä¸€æ­¥ã€‚

å› æ­¤ï¼Œå¯¹äºæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ ï¼Œä»ä¸Šè¿°ä¸¤ç§æ–¹å¼ä¸­é€‰å–è¾ƒçŸ­çš„é‚£ä¸€æ¡è·¯å¾„å³ä¸ºåˆ°è¯¥ç‚¹çš„æœ€çŸ­è·¯å¾„ã€‚å› æ­¤ï¼Œå¯ä»¥å¾—åˆ°æ±‚è§£å­é—®é¢˜æ—¶çš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š

dp[i, j] = min(dp\[i - 1][j], dp\[i][j - 1]) + matrix\[i][j]

åœ¨å®Œæˆæ•´ä¸ªåŠ¨æ€è§„åˆ’ç®—æ³•æ—¶ï¼Œéœ€è¦æ˜ç¡®ç®—æ³•çš„æ¨è¿›æ–¹å‘ï¼Œåœ¨æ­¤é¢˜ä¸­ï¼Œç®—æ³•çš„æ¨è¿›æ–¹å‘ä¸ºï¼šä»å·¦è‡³å³ã€ä»ä¸Šè‡³ä¸‹ï¼Œå› æ­¤åœ¨è¿›è¡ŒåŠ¨æ€è§„åˆ’æ•°ç»„æ•°ç»„dpçš„åˆå§‹åŒ–æ—¶ï¼Œéœ€è¦åˆ†åˆ«åˆå§‹åŒ–æ•°ç»„çš„ã€Œç¬¬ä¸€è¡Œã€ä¸ã€Œç¬¬ä¸€åˆ—ã€ã€‚

```java
 public int minPathSum (int[][] matrix) {
        // write code here
      
        int[][]dp=new int[matrix.length][matrix[0].length];
        dp[0][0]=matrix[0][0];//è®°å¾—åˆå§‹åŒ–å·¦ä¸Šè§’ç¬¬ä¸€ä¸ªå…ƒç´ 
        for(int i=1;i<matrix[0].length;i++)
        dp[0][i]=dp[0][i-1]+matrix[0][i];
    for(int i=1;i<matrix.length;i++)
        dp[i][0]=dp[i-1][0]+matrix[i][0];
for(int i=1;i<matrix.length;i++)
{
    for(int j=1;j<matrix[0].length;j++)
    {
        dp[i][j]=Math.min(dp[i-1][j],dp[i][j-1])+matrix[i][j];
    }
}
return dp[matrix.length-1][matrix[0].length-1];
      //  return dfs(matrix,0,0);
    }
```

## 1039.å¤šè¾¹å½¢å‰–åˆ†ä¸ºä¸‰è§’å½¢çš„æœ€ä½å¾—åˆ†

ä½ æœ‰ä¸€ä¸ªå‡¸çš„ n è¾¹å½¢ï¼Œå…¶æ¯ä¸ªé¡¶ç‚¹éƒ½æœ‰ä¸€ä¸ªæ•´æ•°å€¼ã€‚ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ values ï¼Œå…¶ä¸­ values[i] æ˜¯ç¬¬ i ä¸ªé¡¶ç‚¹çš„å€¼ï¼ˆå³ é¡ºæ—¶é’ˆé¡ºåº ï¼‰ã€‚

å‡è®¾å°†å¤šè¾¹å½¢ å‰–åˆ† ä¸º n - 2 ä¸ªä¸‰è§’å½¢ã€‚å¯¹äºæ¯ä¸ªä¸‰è§’å½¢ï¼Œè¯¥ä¸‰è§’å½¢çš„å€¼æ˜¯é¡¶ç‚¹æ ‡è®°çš„ä¹˜ç§¯ï¼Œä¸‰è§’å‰–åˆ†çš„åˆ†æ•°æ˜¯è¿›è¡Œä¸‰è§’å‰–åˆ†åæ‰€æœ‰ n - 2 ä¸ªä¸‰è§’å½¢çš„å€¼ä¹‹å’Œã€‚

è¿”å› å¤šè¾¹å½¢è¿›è¡Œä¸‰è§’å‰–åˆ†åå¯ä»¥å¾—åˆ°çš„æœ€ä½åˆ† ã€‚

----

![image-20230402212823370](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230402212823370.png)



-----

![image-20230402205745186](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230402205745186.png) 

```java
 int n;
    int[] values;
    Map<Integer, Integer> memo = new HashMap<Integer, Integer>();

    public int minScoreTriangulation(int[] values) {
        this.n = values.length;
        this.values = values;
        return dp(0, n - 1);
    }

    public int dp(int i, int j) {
        if (i + 2 > j) {
            return 0;
        }
        if (i + 2 == j) {
            return values[i] * values[i + 1] * values[j];
        }
        int key = i * n + j;
        if (!memo.containsKey(key)) {
            int minScore = Integer.MAX_VALUE;
            for (int k = i + 1; k < j; k++) {
                minScore = Math.min(minScore, values[i] * values[k] * values[j] + dp(i, k) + dp(k, j));
            }
            memo.put(key, minScore);
        }
        return memo.get(key);
    }


```

ä¹Ÿå¯ä»¥è¿™æ ·å†™ï¼š

 å¾ˆç»å…¸çš„ä¸€é“åŒºé—´DPï¼Œdp\[l][r]è¡¨ç¤ºè¾¹é›†l -> l+1,l+1 -> l+2,......,r-1 -> r,r -> lå›´æˆçš„å¤šè¾¹å½¢ã€‚æ•´ä½“æ€è·¯å…¶å®å°±æ˜¯æšä¸¾ä¸‰è§’å½¢çš„ä¸€æ¡è¾¹l -> rï¼Œæ­¤æ—¶è¿™æ¡è¾¹å¯¹åº”çš„è§’kä¼šè¢«é™åˆ¶åœ¨(l,r)åŒºé—´å†…çš„é¡¶ç‚¹ï¼Œä¸‰è§’å½¢lkrå°±èƒ½å¤ŸæŠŠå¤šè¾¹å½¢åˆ†æˆä¸‰ä¸ªéƒ¨åˆ†ï¼Œå³ä¸‰è§’å½¢lkrå’Œå®ƒçš„å·¦å³ä¸¤ä¾§ã€‚å¯¹äºä¸¤ä¾§ï¼Œåªè¦é¡¶ç‚¹æ•°å¤§äº3å°±å¯ä»¥ç»§ç»­åˆ’åˆ†å‡ºä¸‰è§’å½¢ï¼Œä»è€Œå¾—åˆ°çŠ¶æ€è½¬ç§»æ–¹ç¨‹dp\[l][r] = dp\[l][k] + dp\[k][r] + values[l]\*values[k]*values[r]ã€‚



æ¥ä¸‹æ¥å°±æ˜¯è€å¥—è·¯äº†ï¼Œä»3å¼€å§‹æšä¸¾é•¿åº¦ï¼Œç„¶åæšä¸¾åŒºé—´å·¦ç«¯ç‚¹ï¼Œæœ€åæšä¸¾åˆ†å‰²ç‚¹kã€‚

```java
 public int minScoreTriangulation(int[] values) {
int[][]dp=new int[50][50];
        int n = values.length;
        for(int len = 3; len <= n; len++) {
            for(int left = 0; left + len - 1 < n; left++) {
                int right = left + len - 1;
                dp[left][right] = Integer.MAX_VALUE;
                for(int k = left + 1; k < right; k++) {
                    dp[left][right] = Math.min(dp[left][right], dp[left][k] + dp[k][right] + values[left]*values[k]*values[right]);
                }
            }
        }
        return dp[0][n - 1];
    
    }
```

## [å‰‘æŒ‡ Offer II 091. ç²‰åˆ·æˆ¿å­](https://leetcode.cn/problems/JEj789/)

éš¾åº¦ä¸­ç­‰146

å‡å¦‚æœ‰ä¸€æ’æˆ¿å­ï¼Œå…± `n` ä¸ªï¼Œæ¯ä¸ªæˆ¿å­å¯ä»¥è¢«ç²‰åˆ·æˆçº¢è‰²ã€è“è‰²æˆ–è€…ç»¿è‰²è¿™ä¸‰ç§é¢œè‰²ä¸­çš„ä¸€ç§ï¼Œä½ éœ€è¦ç²‰åˆ·æ‰€æœ‰çš„æˆ¿å­å¹¶ä¸”ä½¿å…¶ç›¸é‚»çš„ä¸¤ä¸ªæˆ¿å­é¢œè‰²ä¸èƒ½ç›¸åŒã€‚

å½“ç„¶ï¼Œå› ä¸ºå¸‚åœºä¸Šä¸åŒé¢œè‰²æ²¹æ¼†çš„ä»·æ ¼ä¸åŒï¼Œæ‰€ä»¥æˆ¿å­ç²‰åˆ·æˆä¸åŒé¢œè‰²çš„èŠ±è´¹æˆæœ¬ä¹Ÿæ˜¯ä¸åŒçš„ã€‚æ¯ä¸ªæˆ¿å­ç²‰åˆ·æˆä¸åŒé¢œè‰²çš„èŠ±è´¹æ˜¯ä»¥ä¸€ä¸ª `n x 3` çš„æ­£æ•´æ•°çŸ©é˜µ `costs` æ¥è¡¨ç¤ºçš„ã€‚

ä¾‹å¦‚ï¼Œ`costs[0][0]` è¡¨ç¤ºç¬¬ 0 å·æˆ¿å­ç²‰åˆ·æˆçº¢è‰²çš„æˆæœ¬èŠ±è´¹ï¼›`costs[1][2]` è¡¨ç¤ºç¬¬ 1 å·æˆ¿å­ç²‰åˆ·æˆç»¿è‰²çš„èŠ±è´¹ï¼Œä»¥æ­¤ç±»æ¨ã€‚

è¯·è®¡ç®—å‡ºç²‰åˆ·å®Œæ‰€æœ‰æˆ¿å­æœ€å°‘çš„èŠ±è´¹æˆæœ¬ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥: costs = [[17,2,17],[16,16,5],[14,3,19]]
è¾“å‡º: 10
è§£é‡Š: å°† 0 å·æˆ¿å­ç²‰åˆ·æˆè“è‰²ï¼Œ1 å·æˆ¿å­ç²‰åˆ·æˆç»¿è‰²ï¼Œ2 å·æˆ¿å­ç²‰åˆ·æˆè“è‰²ã€‚
     æœ€å°‘èŠ±è´¹: 2 + 5 + 3 = 10ã€‚
```

-----

dp[i]è¡¨ç¤ºç¬¬0~iä¸ªåˆ·æˆä¸‰ç§é¢œè‰²ä¹‹ä¸€ä¸”ç›¸é‚»ä¸ç›¸åŒçš„æœ€å°èŠ±è´¹

![image-20230403234444001](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230403234444001.png)

go:

```go
func minCost(costs [][]int) int {

	var dp =make([]int,3)
    dp=costs[0]
	for i :=1;i< len(costs);i++{
		var temp=make([]int,3)
		for j:=0;j<3;j++{
			temp[j]=min(dp[(j+1)%3],dp[(j+2)%3])+costs[i][j]
		}
		dp=temp
	}
	return min(min(dp[0],dp[1]),dp[2])
}
func min(i int,j int) int {
	if(i<j){
		 return i
	}
	return j;
}
```

java:

```java
public int minCost(int[][] costs) {
        int n = costs.length;
        int[] dp = new int[3];
        for (int j = 0; j < 3; j++) {
            dp[j] = costs[0][j];
        }
        for (int i = 1; i < n; i++) {
            int[] dpNew = new int[3];
            for (int j = 0; j < 3; j++) {
                dpNew[j] = Math.min(dp[(j + 1) % 3], dp[(j + 2) % 3]) + costs[i][j];
            }
            dp = dpNew;
        }
        return Math.min(Math.min(dp[0],dp[1]),dp[2]);
    }
```



# [æ•°æ®é‡Œæœ‰{1,2,3,4,5,6,7,8,9}ï¼Œè¯·éšæœºæ‰“ä¹±é¡ºåºï¼Œç”Ÿæˆä¸€ä¸ªæ–°çš„æ•°ç»„ï¼ˆè¯·ä»¥ä»£ç å®ç°ï¼‰

```java
//éšæœºæ‰“ä¹±
public static int[] srand(int[] a) {
int[] b = new int[a.length];
for(int i = 0; i < a.length;i++) {
//éšæœºè·å–ä¸‹æ ‡
int tmp = (int)(Math.random()*(a.length - i)); //éšæœºæ•°:[ 0 ï¼Œa.length - i )
b[i] = a[tmp];
//å°†æ­¤æ—¶a[tmp]çš„ä¸‹æ ‡ç§»åŠ¨åˆ°é åçš„ä½ç½®
int change = a[a.length - i - 1];
a[a.length - i - 1] = a[tmp];
a[tmp] = change;
}
return b;
}
```









# BFSç®—æ³•ï¼ˆå¹¿åº¦ä¼˜å…ˆï¼‰

æœ¬è´¨ä¸Šå°±æ˜¯â¼€å¹…ã€Œå›¾ã€ï¼Œè®©ä½ ä»â¼€ä¸ªèµ·ç‚¹ï¼Œâ¾›åˆ°ç»ˆç‚¹ï¼Œé—®æœ€çŸ­è·¯å¾„ã€‚è¿™å°±æ˜¯ BFS çš„æœ¬è´¨ï¼Œ

```c
// è®¡ç®—ä»èµ·ç‚¹ start åˆ°ç»ˆç‚¹ target çš„æœ€è¿‘è·ç¦»
int BFS(Node start, Node target) {
    Queue<Node>q;//æ ¸å¿ƒæ•°æ®ç»“æ„
    Set<Node>visited;
    q.offer(start);//èµ·ç‚¹åŠ å…¥é˜Ÿåˆ—
    visited.add(start);
    int step = 0;//è®°å½•æ‰©æ•£çš„æ­¥æ•°
    while(q not empty){
int sz = q.size();
/* å°†å½“å‰é˜Ÿåˆ—ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹å‘å››å‘¨æ‰©æ•£ */
for (int i = 0; i < sz; i++) {
Node cur = q.poll();
/* åˆ’é‡ç‚¹ï¼šè¿™â¾¥åˆ¤æ–­æ˜¯å¦åˆ°è¾¾ç»ˆç‚¹ */
    if (cur is target)
return step;
/* å°† cur çš„ç›¸é‚»èŠ‚ç‚¹åŠ â¼Šé˜Ÿåˆ— */
for (Node x : cur.adj())
if (x not in visited) {
q.offer(x);
visited.add(x);
}
}
        /* åˆ’é‡ç‚¹ï¼šæ›´æ–°æ­¥æ•°åœ¨è¿™â¾¥ */
step++;
    }
    
}
```

é˜Ÿåˆ— q å°±ä¸è¯´äº†ï¼ŒBFS çš„æ ¸â¼¼æ•°æ®ç»“æ„ï¼› cur.adj() æ³›æŒ‡ cur ç›¸é‚»çš„èŠ‚
ç‚¹ï¼Œâ½å¦‚è¯´â¼†ç»´æ•°ç»„ä¸­ï¼Œ cur ä¸Šä¸‹å·¦å³å››â¾¯çš„ä½ç½®å°±æ˜¯ç›¸é‚»èŠ‚ç‚¹ï¼› visited çš„ä¸»è¦ä½œâ½¤æ˜¯é˜²â½Œâ¾›å›å¤´è·¯ï¼Œâ¼¤éƒ¨åˆ†æ—¶å€™éƒ½æ˜¯å¿…é¡»çš„ï¼Œä½†æ˜¯åƒâ¼€èˆ¬çš„â¼†å‰æ ‘ç»“æ„ï¼Œæ²¡æœ‰â¼¦èŠ‚ç‚¹åˆ°â½—èŠ‚ç‚¹çš„æŒ‡é’ˆï¼Œä¸ä¼šâ¾›å›å¤´è·¯å°±ä¸éœ€è¦visited ã€‚

## 752æ‰“å¼€è½¬ç›˜é”



![image-20210828001328401](C:\Users\14172\AppData\Roaming\Typora\typora-user-images\image-20210828001328401.png)



-----



```java

    String plusOne(String s, int j) {
char[] ch = s.toCharArray();
if (ch[j] == '9')
ch[j] = '0';
else
ch[j] += 1;
return new String(ch);
}
// å°† s[i] å‘ä¸‹æ‹¨åŠ¨â¼€æ¬¡
String minusOne(String s, int j) {
char[] ch = s.toCharArray();
if (ch[j] == '0')
ch[j] = '9';
else
ch[j] -= 1;
return new String(ch);
}

    public int openLock(String[] deadends, String target) {
        Set<String>sr = new HashSet<>();
        for(String s:deadends) sr.add(s); 
Queue<String>q = new LinkedList<>();
Set<String>visited = new HashSet<>();
q.offer("0000");visited.add("0000");
int step = 0;
while(!q.isEmpty())
{
    int si = q.size();
    for(int i = 0;i < si;i++)
    {
 String str = q.poll();
 if(sr.contains(str))continue;
if(str.equals(target)) return step;
 for(int m = 0;m < 4;m++)
 {
String up = minusOne(str,m);
String down = plusOne(str,m);
if (!visited.contains(up)){
q.offer(up);
visited.add(up);
}
if(!visited.contains(down)){
q.offer(down);
visited.add(down);
}
 }

    }
   step++;
}
return -1;
    }
```

BFS ç®—æ³•è¿˜æœ‰â¼€ç§ç¨å¾®â¾¼çº§â¼€ç‚¹çš„ä¼˜åŒ–æ€è·¯ï¼šåŒå‘ BFSï¼Œå¯ä»¥è¿›â¼€æ­¥æâ¾¼ç®—æ³•çš„æ•ˆç‡ã€‚
ç¯‡å¹…æ‰€é™ï¼Œè¿™â¾¥å°±æâ¼€ä¸‹åŒºåˆ«ï¼šä¼ ç»Ÿçš„ BFS æ¡†æ¶å°±æ˜¯ä»èµ·ç‚¹å¼€å§‹å‘å››å‘¨æ‰©
æ•£ï¼Œé‡åˆ°ç»ˆç‚¹æ—¶åœâ½Œï¼›â½½åŒå‘ BFS åˆ™æ˜¯ä»èµ·ç‚¹å’Œç»ˆç‚¹åŒæ—¶å¼€å§‹æ‰©æ•£ï¼Œå½“ä¸¤
è¾¹æœ‰äº¤é›†çš„æ—¶å€™åœâ½Œã€‚

ä¸è¿‡ï¼ŒåŒå‘ BFS ä¹Ÿæœ‰å±€é™ï¼Œå› ä¸ºä½ å¿…é¡»çŸ¥é“ç»ˆç‚¹åœ¨å“ªâ¾¥ã€‚â½å¦‚æˆ‘ä»¬åˆšæ‰è®¨
è®ºçš„â¼†å‰æ ‘æœ€â¼©â¾¼åº¦çš„é—®é¢˜ï¼Œä½ â¼€å¼€å§‹æ ¹æœ¬å°±ä¸çŸ¥é“ç»ˆç‚¹åœ¨å“ªâ¾¥ï¼Œä¹Ÿå°±â½†æ³•
ä½¿â½¤åŒå‘ BFSï¼›ä½†æ˜¯ç¬¬â¼†ä¸ªå¯†ç é”çš„é—®é¢˜ï¼Œæ˜¯å¯ä»¥ä½¿â½¤åŒå‘ BFS ç®—æ³•æ¥æ
â¾¼æ•ˆç‡çš„ï¼Œä»£ç ç¨åŠ ä¿®æ”¹å³å¯

å¹¿åº¦ï¼šç”¨é˜Ÿåˆ— æ·±åº¦ï¼šç”¨é€’å½’

## [1306. è·³è·ƒæ¸¸æˆ III](https://leetcode-cn.com/problems/jump-game-iii/)

éš¾åº¦ä¸­ç­‰

è¿™é‡Œæœ‰ä¸€ä¸ªéè´Ÿæ•´æ•°æ•°ç»„ `arr`ï¼Œä½ æœ€å¼€å§‹ä½äºè¯¥æ•°ç»„çš„èµ·å§‹ä¸‹æ ‡ `start` å¤„ã€‚å½“ä½ ä½äºä¸‹æ ‡ `i` å¤„æ—¶ï¼Œä½ å¯ä»¥è·³åˆ° `i + arr[i]` æˆ–è€… `i - arr[i]`ã€‚

è¯·ä½ åˆ¤æ–­è‡ªå·±æ˜¯å¦èƒ½å¤Ÿè·³åˆ°å¯¹åº”å…ƒç´ å€¼ä¸º 0 çš„ **ä»»ä¸€** ä¸‹æ ‡å¤„ã€‚

æ³¨æ„ï¼Œä¸ç®¡æ˜¯ä»€ä¹ˆæƒ…å†µä¸‹ï¼Œä½ éƒ½æ— æ³•è·³åˆ°æ•°ç»„ä¹‹å¤–ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šarr = [4,2,3,0,3,1,2], start = 5
è¾“å‡ºï¼štrue
è§£é‡Šï¼š
åˆ°è¾¾å€¼ä¸º 0 çš„ä¸‹æ ‡ 3 æœ‰ä»¥ä¸‹å¯èƒ½æ–¹æ¡ˆï¼š 
ä¸‹æ ‡ 5 -> ä¸‹æ ‡ 4 -> ä¸‹æ ‡ 1 -> ä¸‹æ ‡ 3 
ä¸‹æ ‡ 5 -> ä¸‹æ ‡ 6 -> ä¸‹æ ‡ 4 -> ä¸‹æ ‡ 1 -> ä¸‹æ ‡ 3 
```

-----

```java
 public boolean canReach(int[] arr, int start) {
if(arr.length==1&&arr[0]!=0) return false;
if(arr[start]==0) return true;
Queue<Integer>myque = new LinkedList<>();
boolean[]vis = new boolean[arr.length];
myque.offer(start);
while(!myque.isEmpty())
{
    int index=myque.poll();
    if(!vis[index]&&index+arr[index]<arr.length)
    {
if(arr[index+arr[index]]==0) return true;
myque.offer(index+arr[index]);
    }
    if(!vis[index]&&index-arr[index]>=0)
    {
if(arr[index-arr[index]]==0) return true;
myque.offer(index-arr[index]);
    }
    vis[index]=true;
}
return false;
    }
```

ä¹Ÿå¯ä»¥ç”¨æ·±åº¦ä¼˜å…ˆçš„åŠæ³•ï¼š

```java
   boolean flag;
    boolean[] visited;

    public boolean canReach(int[] arr, int start) {
        int n = arr.length;

        this.flag = false;
        this.visited = new boolean[n];

        dfs(arr, start);

        return flag;
    }

    private void dfs(int[] arr, int start) {
        if (arr[start] == 0) flag = true;

        if (flag) return;

        if (visited[start]) return;

        visited[start] = true;

        if (start - arr[start] >= 0) {
            dfs(arr, start - arr[start]);
        }

        if (start + arr[start] < arr.length) {
            dfs(arr, start + arr[start]);
        }
    }
```

## è·³è·ƒæ¸¸æˆ2

ç»™ä½ ä¸€ä¸ªéè´Ÿæ•´æ•°æ•°ç»„ nums ï¼Œä½ æœ€åˆä½äºæ•°ç»„çš„ç¬¬ä¸€ä¸ªä½ç½®ã€‚

æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ ä»£è¡¨ä½ åœ¨è¯¥ä½ç½®å¯ä»¥è·³è·ƒçš„æœ€å¤§é•¿åº¦ã€‚

ä½ çš„ç›®æ ‡æ˜¯ä½¿ç”¨æœ€å°‘çš„è·³è·ƒæ¬¡æ•°åˆ°è¾¾æ•°ç»„çš„æœ€åä¸€ä¸ªä½ç½®ã€‚

å‡è®¾ä½ æ€»æ˜¯å¯ä»¥åˆ°è¾¾æ•°ç»„çš„æœ€åä¸€ä¸ªä½ç½®ã€‚

----



åœ¨å…·ä½“çš„å®ç°ä¸­ï¼Œæˆ‘ä»¬ç»´æŠ¤å½“å‰èƒ½å¤Ÿåˆ°è¾¾çš„æœ€å¤§ä¸‹æ ‡ä½ç½®ï¼Œè®°ä¸ºè¾¹ç•Œã€‚æˆ‘ä»¬ä»å·¦åˆ°å³éå†æ•°ç»„ï¼Œåˆ°è¾¾è¾¹ç•Œæ—¶ï¼Œæ›´æ–°è¾¹ç•Œå¹¶å°†è·³è·ƒæ¬¡æ•°å¢åŠ  1ã€‚

åœ¨éå†æ•°ç»„æ—¶ï¼Œæˆ‘ä»¬ä¸è®¿é—®æœ€åä¸€ä¸ªå…ƒç´ ï¼Œè¿™æ˜¯å› ä¸ºåœ¨è®¿é—®æœ€åä¸€ä¸ªå…ƒç´ ä¹‹å‰ï¼Œæˆ‘ä»¬çš„è¾¹ç•Œä¸€å®šå¤§äºç­‰äºæœ€åä¸€ä¸ªä½ç½®ï¼Œå¦åˆ™å°±æ— æ³•è·³åˆ°æœ€åä¸€ä¸ªä½ç½®äº†ã€‚å¦‚æœè®¿é—®æœ€åä¸€ä¸ªå…ƒç´ ï¼Œåœ¨è¾¹ç•Œæ­£å¥½ä¸ºæœ€åä¸€ä¸ªä½ç½®çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¼šå¢åŠ ä¸€æ¬¡ã€Œä¸å¿…è¦çš„è·³è·ƒæ¬¡æ•°ã€ï¼Œå› æ­¤æˆ‘ä»¬ä¸å¿…è®¿é—®æœ€åä¸€ä¸ªå…ƒç´ ã€‚



```
public int jump(int[] nums) {
    int length = nums.length;
    int end = 0;
    int maxPosition = 0;
    int steps = 0;
    for (int i = 0; i < length - 1; i++) {
        maxPosition = Math.max(maxPosition, i + nums[i]);
        if (i == end) {
            end = maxPosition;
            steps++;
        }
    }
    return steps;
}
```

## (éš¾ï¼‰çŠ¶æ€å‹ç¼©ï¼š

![image-20220217222248546](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220217222248546.png)

## [é¢è¯•é¢˜ 17.22. å•è¯è½¬æ¢](https://leetcode-cn.com/problems/word-transformer-lcci/)

éš¾åº¦ä¸­ç­‰51

ç»™å®šå­—å…¸ä¸­çš„ä¸¤ä¸ªè¯ï¼Œé•¿åº¦ç›¸ç­‰ã€‚å†™ä¸€ä¸ªæ–¹æ³•ï¼ŒæŠŠä¸€ä¸ªè¯è½¬æ¢æˆå¦ä¸€ä¸ªè¯ï¼Œ ä½†æ˜¯ä¸€æ¬¡åªèƒ½æ”¹å˜ä¸€ä¸ªå­—ç¬¦ã€‚æ¯ä¸€æ­¥å¾—åˆ°çš„æ–°è¯éƒ½å¿…é¡»èƒ½åœ¨å­—å…¸ä¸­æ‰¾åˆ°ã€‚

ç¼–å†™ä¸€ä¸ªç¨‹åºï¼Œè¿”å›ä¸€ä¸ªå¯èƒ½çš„è½¬æ¢åºåˆ—ã€‚å¦‚æœ‰å¤šä¸ªå¯èƒ½çš„è½¬æ¢åºåˆ—ï¼Œä½ å¯ä»¥è¿”å›ä»»ä½•ä¸€ä¸ªã€‚

**ç¤ºä¾‹ 1:**

```
è¾“å…¥:
beginWord = "hit",
endWord = "cog",
wordList = ["hot","dot","dog","lot","log","cog"]

è¾“å‡º:
["hit","hot","dot","lot","log","cog"]
```

-----

```java
  public List<String> findLadders(String beginWord, String endWord, List<String> wordList) {
        //å®šä¹‰BFSçš„é˜Ÿåˆ—
        Queue<String> queue = new LinkedList<String>();
        //anså­˜æ”¾ç­”æ¡ˆ
        List<String> ans = new LinkedList<String>();
        //æ ‡è®°æ˜¯å¦è¢«è®¿é—®è¿‡
        boolean[] visited = new boolean[wordList.size()];
        //å­˜æ”¾æ¯ä¸ªå•è¯çš„å‰é©±ï¼Œæ¯”å¦‚hotçš„å‰é©±å¯ä»¥æ˜¯hit,lotç­‰ï¼›
        HashMap<String,String> map = new HashMap<String,String>();
        //åˆæ­¥åˆ¤æ–­
        if(!wordList.contains(endWord)){
            return ans;
        }
        //å°†ç¬¬ä¸€ä¸ªå•è¯åŠ å…¥é˜Ÿåˆ—
        queue.add(beginWord);
        boolean flag = false;
        //BFSä¸»è¦æ“ä½œ
        while(queue.size() != 0){
            //å…ˆå°†å¤´å–å‡º
            String queueHead = queue.poll();
            //å¦‚æœé˜Ÿåˆ—å¤´å…ƒç´ ç­‰äºendwordï¼Œä»£è¡¨å·²ç»æ‰¾åˆ°ï¼ŒbreakåŒæ—¶è®¾ç½®flag = true;
            if(queueHead.equals(endWord)){
                flag = true;
                break;
            }
            //å¯»æ‰¾å¯èƒ½çš„å…ƒç´ åŠ å…¥é˜Ÿåˆ—ï¼Œå¹¶ä¸”è®¾ç½®å¯¹åº”çš„å‰é©±ã€‚
            for(int i = 0;i < wordList.size();i ++){
                //å¦‚æœæœªè¢«è®¿é—®è¿‡å¹¶ä¸”å¯ä»¥ç›´æ¥è½¬æ¢ï¼Œåˆ™åŠ å…¥é˜Ÿåˆ—ï¼Œcompare()å‡½æ•°ç”¨æ¥åˆ¤æ–­æ˜¯å¦å¯ä»¥è½¬æ¢ã€‚
                if(visited[i] == false && compare(wordList.get(i),queueHead) == true){
                    queue.add(wordList.get(i));
                    visited[i] = true;
                    //å­˜å‚¨å‰é©±
                    map.put(wordList.get(i), queueHead);
                }
            }
        }
        if(flag == false){
            return ans;
        } 

        //éå†ç­”æ¡ˆ
        String key = endWord;
        while(map.get(key) != beginWord){
            ans.add(key);
            key = map.get(key);
        }
        ans.add(key);
        ans.add(map.get(key));
        Collections.reverse(ans);
        return ans;
    }
    public static boolean compare(String word1,String word2){
        int diff = 0;
        for(int i = 0;i < word1.length();i ++){
            if(word1.charAt(i) != word2.charAt(i)){
                diff ++;
                if(diff >= 2){
                    return false;
                }
            }
        }
        return true;
    }
```

## [310. æœ€å°é«˜åº¦æ ‘](https://leetcode.cn/problems/minimum-height-trees/)

éš¾åº¦ä¸­ç­‰686

æ ‘æ˜¯ä¸€ä¸ªæ— å‘å›¾ï¼Œå…¶ä¸­ä»»ä½•ä¸¤ä¸ªé¡¶ç‚¹åªé€šè¿‡ä¸€æ¡è·¯å¾„è¿æ¥ã€‚ æ¢å¥è¯è¯´ï¼Œä¸€ä¸ªä»»ä½•æ²¡æœ‰ç®€å•ç¯è·¯çš„è¿é€šå›¾éƒ½æ˜¯ä¸€æ£µæ ‘ã€‚

ç»™ä½ ä¸€æ£µåŒ…å« `n` ä¸ªèŠ‚ç‚¹çš„æ ‘ï¼Œæ ‡è®°ä¸º `0` åˆ° `n - 1` ã€‚ç»™å®šæ•°å­— `n` å’Œä¸€ä¸ªæœ‰ `n - 1` æ¡æ— å‘è¾¹çš„ `edges` åˆ—è¡¨ï¼ˆæ¯ä¸€ä¸ªè¾¹éƒ½æ˜¯ä¸€å¯¹æ ‡ç­¾ï¼‰ï¼Œå…¶ä¸­ `edges[i] = [ai, bi]` è¡¨ç¤ºæ ‘ä¸­èŠ‚ç‚¹ `ai` å’Œ `bi` ä¹‹é—´å­˜åœ¨ä¸€æ¡æ— å‘è¾¹ã€‚

å¯é€‰æ‹©æ ‘ä¸­ä»»ä½•ä¸€ä¸ªèŠ‚ç‚¹ä½œä¸ºæ ¹ã€‚å½“é€‰æ‹©èŠ‚ç‚¹ `x` ä½œä¸ºæ ¹èŠ‚ç‚¹æ—¶ï¼Œè®¾ç»“æœæ ‘çš„é«˜åº¦ä¸º `h` ã€‚åœ¨æ‰€æœ‰å¯èƒ½çš„æ ‘ä¸­ï¼Œå…·æœ‰æœ€å°é«˜åº¦çš„æ ‘ï¼ˆå³ï¼Œ`min(h)`ï¼‰è¢«ç§°ä¸º **æœ€å°é«˜åº¦æ ‘** ã€‚

è¯·ä½ æ‰¾åˆ°æ‰€æœ‰çš„ **æœ€å°é«˜åº¦æ ‘** å¹¶æŒ‰ **ä»»æ„é¡ºåº** è¿”å›å®ƒä»¬çš„æ ¹èŠ‚ç‚¹æ ‡ç­¾åˆ—è¡¨ã€‚

æ ‘çš„ **é«˜åº¦** æ˜¯æŒ‡æ ¹èŠ‚ç‚¹å’Œå¶å­èŠ‚ç‚¹ä¹‹é—´æœ€é•¿å‘ä¸‹è·¯å¾„ä¸Šè¾¹çš„æ•°é‡ã€‚

![image-20220823230243896](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220823230243896.png)

------------------

é¦–å…ˆï¼Œæˆ‘ä»¬çœ‹äº†æ ·ä¾‹ï¼Œå‘ç°è¿™ä¸ªæ ‘å¹¶ä¸æ˜¯äºŒå‰æ ‘ï¼Œæ˜¯å¤šå‰æ ‘ã€‚
ç„¶åï¼Œæˆ‘ä»¬å¯èƒ½æƒ³åˆ°çš„è§£æ³•æ˜¯ï¼šæ ¹æ®é¢˜ç›®çš„æ„æ€ï¼Œå°±æŒ¨ä¸ªèŠ‚ç‚¹éå†bfsï¼Œç»Ÿè®¡ä¸‹æ¯ä¸ªèŠ‚ç‚¹çš„é«˜åº¦ï¼Œç„¶åç”¨mapå­˜å‚¨èµ·æ¥ï¼Œåé¢æŸ¥è¯¢è¿™ä¸ªé«˜åº¦çš„é›†åˆé‡Œæœ€å°çš„å°±å¯ä»¥äº†ã€‚
ä½†æ˜¯è¿™æ ·ä¼šè¶…æ—¶çš„ã€‚
äºæ˜¯æˆ‘ä»¬çœ‹å›¾ï¼ˆé¢˜ç›®ä»‹ç»é‡Œé¢çš„å›¾ï¼‰åˆ†æä¸€ä¸‹ï¼Œå‘ç°ï¼Œè¶Šæ˜¯é é‡Œé¢çš„èŠ‚ç‚¹è¶Šæœ‰å¯èƒ½æ˜¯æœ€å°é«˜åº¦æ ‘ã€‚
æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·æƒ³ï¼Œæˆ‘ä»¬å¯ä»¥å€’ç€æ¥ã€‚
æˆ‘ä»¬ä»è¾¹ç¼˜å¼€å§‹ï¼Œå…ˆæ‰¾åˆ°æ‰€æœ‰å‡ºåº¦ä¸º1çš„èŠ‚ç‚¹ï¼Œç„¶åæŠŠæ‰€æœ‰å‡ºåº¦ä¸º1çš„èŠ‚ç‚¹è¿›é˜Ÿåˆ—ï¼Œç„¶åä¸æ–­åœ°bfsï¼Œæœ€åæ‰¾åˆ°çš„å°±æ˜¯ä¸¤è¾¹åŒæ—¶å‘ä¸­é—´é è¿‘çš„èŠ‚ç‚¹ï¼Œé‚£ä¹ˆè¿™ä¸ªä¸­é—´èŠ‚ç‚¹å°±ç›¸å½“äºæŠŠæ•´ä¸ªè·ç¦»äºŒåˆ†äº†ï¼Œé‚£ä¹ˆå®ƒå½“ç„¶å°±æ˜¯åˆ°ä¸¤è¾¹è·ç¦»æœ€å°çš„ç‚¹å•¦ï¼Œä¹Ÿå°±æ˜¯åˆ°å…¶ä»–å¶å­èŠ‚ç‚¹æœ€è¿‘çš„èŠ‚ç‚¹äº†ã€‚
ç„¶åï¼Œå°±å¯ä»¥å†™ä»£ç äº†ã€‚



```java

    public List<Integer> findMinHeightTrees(int n, int[][] edges) {
        List<Integer> res = new ArrayList<>();
        /*å¦‚æœåªæœ‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œé‚£ä¹ˆä»–å°±æ˜¯æœ€å°é«˜åº¦æ ‘*/
        if (n == 1) {
            res.add(0);
            return res;
        }
        /*å»ºç«‹å„ä¸ªèŠ‚ç‚¹çš„å‡ºåº¦è¡¨*/
        int[] degree = new int[n];
        /*å»ºç«‹å›¾å…³ç³»ï¼Œåœ¨æ¯ä¸ªèŠ‚ç‚¹çš„listä¸­å­˜å‚¨ç›¸è¿èŠ‚ç‚¹*/
        List<List<Integer>> map = new ArrayList<>();
        for (int i = 0; i < n; i++) {
            map.add(new ArrayList<>());
        }
        for (int[] edge : edges) {
            degree[edge[0]]++;
            degree[edge[1]]++;/*å‡ºåº¦++*/
            map.get(edge[0]).add(edge[1]);/*æ·»åŠ ç›¸é‚»èŠ‚ç‚¹*/
            map.get(edge[1]).add(edge[0]);
        }
        /*å»ºç«‹é˜Ÿåˆ—*/
        Queue<Integer> queue = new LinkedList<>();
        /*æŠŠæ‰€æœ‰å‡ºåº¦ä¸º1çš„èŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯å¶å­èŠ‚ç‚¹å…¥é˜Ÿ*/
        for (int i = 0; i < n; i++) {
            if (degree[i] == 1) queue.offer(i);
        }
        /*å¾ªç¯æ¡ä»¶å½“ç„¶æ˜¯ç»å…¸çš„ä¸ç©ºåˆ¤æ–­*/
        while (!queue.isEmpty()) {
            res = new ArrayList<>();/*è¿™ä¸ªåœ°æ–¹æ³¨æ„ï¼Œæˆ‘ä»¬æ¯å±‚å¾ªç¯éƒ½è¦newä¸€ä¸ªæ–°çš„ç»“æœé›†åˆï¼Œ
            è¿™æ ·æœ€åä¿å­˜çš„å°±æ˜¯æœ€ç»ˆçš„æœ€å°é«˜åº¦æ ‘äº†*/
            int size = queue.size();/*è¿™æ˜¯æ¯ä¸€å±‚çš„èŠ‚ç‚¹çš„æ•°é‡*/
            for (int i = 0; i < size; i++) {
                int cur = queue.poll();
                res.add(cur);/*æŠŠå½“å‰èŠ‚ç‚¹åŠ å…¥ç»“æœé›†ï¼Œä¸è¦æœ‰ç–‘é—®ï¼Œä¸ºä»€ä¹ˆå½“å‰åªæ˜¯å¶å­èŠ‚ç‚¹ä¸ºä»€ä¹ˆè¦åŠ å…¥ç»“æœé›†å‘¢?
                å› ä¸ºæˆ‘ä»¬æ¯æ¬¡å¾ªç¯éƒ½ä¼šæ–°å»ºä¸€ä¸ªlistï¼Œæ‰€ä»¥æœ€åä¿å­˜çš„å°±æ˜¯æœ€åä¸€ä¸ªçŠ¶æ€ä¸‹çš„å¶å­èŠ‚ç‚¹ï¼Œ
                è¿™ä¹Ÿæ˜¯å¾ˆå¤šé¢˜è§£é‡Œé¢æ‰€è¯´çš„å‰ªæ‰å¶å­èŠ‚ç‚¹çš„éƒ¨åˆ†ï¼Œä½ å¯ä»¥æƒ³è±¡ä¸€ä¸‹å›¾ï¼Œæ¯å±‚éå†å®Œï¼Œ
                éƒ½ä¼šæŠŠè¯¥å±‚ï¼ˆä¹Ÿå°±æ˜¯å¶å­èŠ‚ç‚¹å±‚ï¼‰è¿™ä¸€å±‚ä»é˜Ÿåˆ—ä¸­ç§»é™¤æ‰ï¼Œ
                ä¸å°±ç›¸å½“äºæŠŠåŸæ¥çš„å›¾ç»™å‰ªæ‰ä¸€åœˆå¶å­èŠ‚ç‚¹ï¼Œå½¢æˆä¸€ä¸ªç¼©å°çš„æ–°çš„å›¾å—*/
                List<Integer> neighbors = map.get(cur);
                /*è¿™é‡Œå°±æ˜¯ç»å…¸çš„bfsäº†ï¼ŒæŠŠå½“å‰èŠ‚ç‚¹çš„ç›¸é‚»æ¥ç‚¹éƒ½æ‹¿å‡ºæ¥ï¼Œ
                * æŠŠå®ƒä»¬çš„å‡ºåº¦éƒ½å‡1ï¼Œå› ä¸ºå½“å‰èŠ‚ç‚¹å·²ç»ä¸å­˜åœ¨äº†ï¼Œæ‰€ä»¥ï¼Œ
                * å®ƒçš„ç›¸é‚»èŠ‚ç‚¹ä»¬å°±æœ‰å¯èƒ½å˜æˆå¶å­èŠ‚ç‚¹*/
                for (int neighbor : neighbors) {
                    degree[neighbor]--;
                    if (degree[neighbor] == 1) {
                        /*å¦‚æœæ˜¯å¶å­èŠ‚ç‚¹æˆ‘ä»¬å°±å…¥é˜Ÿ*/
                        queue.offer(neighbor);
                    }
                }
            }
        }
        return res;/*è¿”å›æœ€åä¸€æ¬¡ä¿å­˜çš„list*/
    }

```

## [1162. åœ°å›¾åˆ†æ](https://leetcode.cn/problems/as-far-from-land-as-possible/)

éš¾åº¦ä¸­ç­‰313

ä½ ç°åœ¨æ‰‹é‡Œæœ‰ä¸€ä»½å¤§å°ä¸º `n x n` çš„ ç½‘æ ¼ `grid`ï¼Œä¸Šé¢çš„æ¯ä¸ª å•å…ƒæ ¼ éƒ½ç”¨ `0` å’Œ `1` æ ‡è®°å¥½äº†ã€‚å…¶ä¸­ `0` ä»£è¡¨æµ·æ´‹ï¼Œ`1` ä»£è¡¨é™†åœ°ã€‚

è¯·ä½ æ‰¾å‡ºä¸€ä¸ªæµ·æ´‹å•å…ƒæ ¼ï¼Œè¿™ä¸ªæµ·æ´‹å•å…ƒæ ¼åˆ°ç¦»å®ƒæœ€è¿‘çš„é™†åœ°å•å…ƒæ ¼çš„è·ç¦»æ˜¯æœ€å¤§çš„ï¼Œå¹¶è¿”å›è¯¥è·ç¦»ã€‚å¦‚æœç½‘æ ¼ä¸Šåªæœ‰é™†åœ°æˆ–è€…æµ·æ´‹ï¼Œè¯·è¿”å› `-1`ã€‚

æˆ‘ä»¬è¿™é‡Œè¯´çš„è·ç¦»æ˜¯ã€Œæ›¼å“ˆé¡¿è·ç¦»ã€ï¼ˆ Manhattan Distanceï¼‰ï¼š`(x0, y0)` å’Œ `(x1, y1)` è¿™ä¸¤ä¸ªå•å…ƒæ ¼ä¹‹é—´çš„è·ç¦»æ˜¯ `|x0 - x1| + |y0 - y1|` ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

**![img](https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2019/08/17/1336_ex1.jpeg)**

```
è¾“å…¥ï¼šgrid = [[1,0,1],[0,0,0],[1,0,1]]
è¾“å‡ºï¼š2
è§£é‡Šï¼š 
æµ·æ´‹å•å…ƒæ ¼ (1, 1) å’Œæ‰€æœ‰é™†åœ°å•å…ƒæ ¼ä¹‹é—´çš„è·ç¦»éƒ½è¾¾åˆ°æœ€å¤§ï¼Œæœ€å¤§è·ç¦»ä¸º 2ã€‚
```

---------------------------

æ–¹æ³•1ï¼šbfs(æ™®é€šçš„bfsä¼šè¶…æ—¶ï¼Œä»£ç å¦‚ä¸‹ï¼š)

```java
   static int[] dx = {-1, 0, 1, 0};
    static int[] dy = {0, 1, 0, -1};
    int n;
    int[][] grid;

    public int maxDistance(int[][] grid) {
        this.n = grid.length;
        this.grid = grid;
        int ans = -1;
        for (int i = 0; i < n; ++i) {
            for (int j = 0; j < n; ++j) {
                if (grid[i][j] == 0) {
                    ans = Math.max(ans, findNearestLand(i, j));
                }
            }
        }
        return ans;
    }

    public int findNearestLand(int x, int y) {
        boolean[][] vis = new boolean[n][n];
        Queue<int[]> queue = new LinkedList<int[]>();
        queue.offer(new int[]{x, y, 0});
        vis[x][y] = true;
        //è¿™é‡Œå¯¹æ¯ä¸€ä¸ªç‚¹éƒ½è¿›è¡Œäº†bfs æœ‰å¾ˆå¤šé‡å¤çš„
        while (!queue.isEmpty()) {
            int[] f = queue.poll();
            for (int i = 0; i < 4; ++i) {
                int nx = f[0] + dx[i], ny = f[1] + dy[i];
                if (!(nx >= 0 && nx < n && ny >= 0 && ny < n)) {
                    continue;
                }
                if (!vis[nx][ny]) {
                    queue.offer(new int[]{nx, ny, f[2] + 1});
                    vis[nx][ny] = true;
                    if (grid[nx][ny] == 1) {
                        return f[2] + 1;
                    }
                }
            }
        }
        return -1;
    }


```

æ–¹æ³•äºŒï¼šå¤šæºæœ€çŸ­è·¯

![image-20230116152007709](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230116152007709.png)

![image-20230116152024847](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230116152024847.png)

ä»£ç ï¼š

```java
  public int maxDistance(int[][] grid) {
           final int INF = 1000000;
        int[] dx = {-1, 0, 1, 0};
        int[] dy = {0, 1, 0, -1};
        int n = grid.length;
        int[][] d = new int[n][n];
        PriorityQueue<int[]> queue = new PriorityQueue<int[]>((o1,o2)->o1[0]-o2[0]);

        for (int i = 0; i < n; ++i) {
            for (int j = 0; j < n; ++j) {
                //æºç‚¹æ˜¯é™†åœ° é™†åœ°ç‚¹é›†åˆ°æŸä¸ªæµ·æ´‹çš„æœ€è¿‘è·ç¦» ä¸èƒ½æ˜¯æµ·æ´‹ç‚¹é›†åˆ°æŸä¸ªé™†åœ°çš„æœ€è¿‘è·ç¦»ï¼Œå› ä¸ºè¿™ç§æ–¹æ³•æ— æ³•æ‰¾åˆ°æœ€è¿‘è·ç¦»æœ€å¤§çš„é‚£ä¸ªæµ·æ´‹ å› ä¸ºæµ·æ´‹ç‚¹é›†ä¸æŸä¸ªé™†åœ°çš„æœ€è¿‘è·ç¦»åªä¼šå»æ‰¾è¿™ä¸ªæµ·æ´‹ç‚¹é›†ä¸­é‚£ä¸ªç¦»è¿™ä¸ªé™†åœ°æœ€è¿‘çš„ç‚¹ 
                d[i][j] = INF;
            }
        }

        for (int i = 0; i < n; ++i) {
            for (int j = 0; j < n; ++j) {
                if (grid[i][j] == 1) {
                    d[i][j] = 0;
                    queue.offer(new int[]{0, i, j});
                }
            }
        }

        while (!queue.isEmpty()) {
         int[]temp=queue.poll();
         for(int i = 0;i<4;i++){
             int nx=temp[1]+dx[i],ny=temp[2]+dy[i];
             if(nx<0||ny<0||nx>=grid.length||ny>=grid.length) continue;//å¦‚æœå››å‘¨æœ‰å¢™ï¼Œåˆ™continue
             int dis=temp[0];
             //è¿™ç§æƒ…å†µè¯´æ˜é‡åˆ°äº†æµ·æ´‹ï¼Œå› ä¸ºd[i][j]å¦‚æœ[i,j]æ˜¯é™†åœ°çš„è¯ä¸º0
             if(dis+1<d[nx][ny]){
                 d[nx][ny]=dis+1;//åˆ™é™†åœ°ç‚¹é›†åˆ°[nx,ny]è¿™ä¸ªæµ·æ´‹ç‚¹çš„æœ€è¿‘è·ç¦»å‘ç”Ÿä¿®æ”¹
                 queue.offer(new int[]{dis+1,nx,ny});//è¿™ä¸ªæµ·æ´‹ç‚¹æ”¾å…¥é˜Ÿåˆ—ä¸­å»,ç„¶åä¼šç»§ç»­æŸ¥æ‰¾å®ƒå››å‘¨çš„ç‚¹ï¼Œä½¿ç”¨ä¼˜å…ˆçº§é˜Ÿåˆ—æ‰ä¼šä¼˜å…ˆåˆ¤æ–­è·ç¦»é™†åœ°ç‚¹é›†æœ€è¿‘çš„ç‚¹
             }
         }
        }

        int ans = -1;
        for (int i = 0; i < n; ++i) {
            for (int j = 0; j < n; ++j) {
                if (grid[i][j] == 0) {
                    ans = Math.max(ans, d[i][j]);
                }
            }
        }

        return ans == INF ? -1 : ans;

    }

```

æ³•ä¸‰ï¼šåŠ¨æ€è§„åˆ’
æ€è·¯

ã€‚æˆ‘ä»¬çŸ¥é“å¯¹äºæ¯ä¸ªæµ·æ´‹åŒºåŸŸ (x,y)ï¼Œç¦»å®ƒæœ€è¿‘çš„é™†åœ°åŒºåŸŸåˆ°å®ƒçš„è·¯å¾„è¦ä¹ˆä»ä¸Šæ–¹æˆ–è€…å·¦æ–¹æ¥ï¼Œè¦ä¹ˆä»å³æ–¹æˆ–è€…ä¸‹æ–¹æ¥ã€‚è€ƒè™‘åšä¸¤æ¬¡åŠ¨æ€è§„åˆ’ï¼Œç¬¬ä¸€æ¬¡ä»å·¦ä¸Šåˆ°å³ä¸‹ï¼Œç¬¬äºŒæ¬¡ä»å³ä¸‹åˆ°å·¦ä¸Šï¼Œè®° f(x,y) ä¸º (x,y) è·ç¦»æœ€è¿‘çš„é™†åœ°åŒºåŸŸçš„æ›¼å“ˆé¡¿è·ç¦»ï¼Œæˆ‘ä»¬åˆå§‹åŒ–çš„æ—¶å€™æŠŠé™†åœ°çš„ f å€¼å…¨éƒ¨é¢„ç½®ä¸º 0ï¼Œæµ·æ´‹çš„ f å…¨éƒ¨é¢„ç½®ä¸º INFï¼Œåšå®Œä¸¤ä¸ªé˜¶æ®µçš„åŠ¨æ€è§„åˆ’åï¼Œæˆ‘ä»¬åœ¨æ‰€æœ‰çš„ä¸ä¸ºé›¶çš„ f\[i][j] ä¸­æ¯”ä¸€ä¸ªæœ€å¤§å€¼å³å¯ï¼Œå¦‚æœæœ€ç»ˆæ¯”è¾ƒå‡ºçš„æœ€å¤§å€¼ä¸º INFï¼Œå°±è¿”å› -1ã€‚è¿™é‡Œä»ç„¶æºç‚¹é›†æ˜¯é™†åœ°ï¼Œf\[x][y]æ˜¯æºç‚¹åˆ°x yç‚¹çš„æœ€è¿‘è·ç¦»

ä»£ç ï¼š

```java
  public int maxDistance(int[][] grid) {
        final int INF = 1000000;
        int n = grid.length;
        int[][] f = new int[n][n];
        for (int i = 0; i < n; ++i) {
            for (int j = 0; j < n; ++j) {
                f[i][j] = grid[i][j] == 1 ? 0 : INF;
            }
        }

        for (int i = 0; i < n; ++i) {
            for (int j = 0; j < n; ++j) {
                if (grid[i][j] == 1) {
                    continue;
                }
                if (i - 1 >= 0) {
                    f[i][j] = Math.min(f[i][j], f[i - 1][j] + 1);
                }
                if (j - 1 >= 0) {
                    f[i][j] = Math.min(f[i][j], f[i][j - 1] + 1);
                }
            }
        }

        for (int i = n - 1; i >= 0; --i) {
            for (int j = n - 1; j >= 0; --j) {
                if (grid[i][j] == 1) {
                    continue;
                }
                if (i + 1 < n) {
                    f[i][j] = Math.min(f[i][j], f[i + 1][j] + 1);
                }
                if (j + 1 < n) {
                    f[i][j] = Math.min(f[i][j], f[i][j + 1] + 1);
                }
            }
        }

        int ans = -1;
        for (int i = 0; i < n; ++i) {
            for (int j = 0; j < n; ++j) {
                if (grid[i][j] == 0) {
                    ans = Math.max(ans, f[i][j]);
                }
            }
        }

        if (ans == INF) {
            return -1;
        } else {
            return ans;
        }


```

## [é¢è¯•é¢˜ 04.01. èŠ‚ç‚¹é—´é€šè·¯](https://leetcode.cn/problems/route-between-nodes-lcci/)

éš¾åº¦ä¸­ç­‰75

èŠ‚ç‚¹é—´é€šè·¯ã€‚ç»™å®šæœ‰å‘å›¾ï¼Œè®¾è®¡ä¸€ä¸ªç®—æ³•ï¼Œæ‰¾å‡ºä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´æ˜¯å¦å­˜åœ¨ä¸€æ¡è·¯å¾„ã€‚

**ç¤ºä¾‹1:**

```
 è¾“å…¥ï¼šn = 3, graph = [[0, 1], [0, 2], [1, 2], [1, 2]], start = 0, target = 2
 è¾“å‡ºï¼štrue
```

**ç¤ºä¾‹2:**

```
 è¾“å…¥ï¼šn = 5, graph = [[0, 1], [0, 2], [0, 4], [0, 4], [0, 1], [1, 3], [1, 4], [1, 3], [2, 3], [3, 4]], start = 0, target = 4
 è¾“å‡º true
```

**æç¤ºï¼š**

1. èŠ‚ç‚¹æ•°é‡nåœ¨[0, 1e5]èŒƒå›´å†…ã€‚
2. èŠ‚ç‚¹ç¼–å·å¤§äºç­‰äº 0 å°äº nã€‚
3. å›¾ä¸­å¯èƒ½å­˜åœ¨è‡ªç¯å’Œå¹³è¡Œè¾¹ã€‚

-------------------------





è¿™é‡Œé‡‡ç”¨ä¸€ä¸ªmapè¡¨ç¤ºæ¯ä¸ªç»“ç‚¹å¯ä»¥åˆ°è¾¾å“ªäº›ç»“ç‚¹ï¼Œç„¶åå†bfsçš„æ–¹æ³•ï¼Œåˆæ³¨æ„é¢˜ç›®ä¸­è¯´äº†æ˜¯æœ‰å‘å›¾ï¼Œå› æ­¤æ˜¯å•æ–¹å‘çš„

```java
  public boolean findWhetherExistsPath(int n, int[][] graph, int start, int target) {

Map<Integer,List<Integer>>map=new HashMap<>();
for(int[]g:graph){
    if(map.containsKey(g[0])){
        //æ³¨æ„é¢˜ç›®ä¸­è¯´äº†æ˜¯æœ‰å‘å›¾
        List<Integer>temp=map.get(g[0]);
        temp.add(g[1]);
        map.put(g[0],temp);
    }else{
         List<Integer>temp=new ArrayList<>();
        temp.add(g[1]);
        map.put(g[0],temp);
    }
}
boolean[]vis=new boolean[100000];
Queue<Integer>queue=new LinkedList<>();
queue.add(start);
while(!queue.isEmpty()){
    int poll=queue.poll();
    List<Integer>get=map.get(poll);
    if(get==null) continue;
    for(int i = 0;i<get.size();i++){
        if(get.get(i)==target) return true;
        if(vis[get.get(i)]) continue;
        vis[get.get(i)]=true;
        queue.add(get.get(i));
    }
}
return false;
    }
```

## [1091. äºŒè¿›åˆ¶çŸ©é˜µä¸­çš„æœ€çŸ­è·¯å¾„](https://leetcode.cn/problems/shortest-path-in-binary-matrix/)

éš¾åº¦ä¸­ç­‰245

ç»™ä½ ä¸€ä¸ª `n x n` çš„äºŒè¿›åˆ¶çŸ©é˜µ `grid` ä¸­ï¼Œè¿”å›çŸ©é˜µä¸­æœ€çŸ­ **ç•…é€šè·¯å¾„** çš„é•¿åº¦ã€‚å¦‚æœä¸å­˜åœ¨è¿™æ ·çš„è·¯å¾„ï¼Œè¿”å› `-1` ã€‚

äºŒè¿›åˆ¶çŸ©é˜µä¸­çš„ ç•…é€šè·¯å¾„ æ˜¯ä¸€æ¡ä» **å·¦ä¸Šè§’** å•å…ƒæ ¼ï¼ˆå³ï¼Œ`(0, 0)`ï¼‰åˆ° å³ä¸‹è§’ å•å…ƒæ ¼ï¼ˆå³ï¼Œ`(n - 1, n - 1)`ï¼‰çš„è·¯å¾„ï¼Œè¯¥è·¯å¾„åŒæ—¶æ»¡è¶³ä¸‹è¿°è¦æ±‚ï¼š

- è·¯å¾„é€”ç»çš„æ‰€æœ‰å•å…ƒæ ¼éƒ½çš„å€¼éƒ½æ˜¯ `0` ã€‚
- è·¯å¾„ä¸­æ‰€æœ‰ç›¸é‚»çš„å•å…ƒæ ¼åº”å½“åœ¨ **8 ä¸ªæ–¹å‘ä¹‹ä¸€** ä¸Šè¿é€šï¼ˆå³ï¼Œç›¸é‚»ä¸¤å•å…ƒä¹‹é—´å½¼æ­¤ä¸åŒä¸”å…±äº«ä¸€æ¡è¾¹æˆ–è€…ä¸€ä¸ªè§’ï¼‰ã€‚

**ç•…é€šè·¯å¾„çš„é•¿åº¦** æ˜¯è¯¥è·¯å¾„é€”ç»çš„å•å…ƒæ ¼æ€»æ•°ã€‚

 ![image-20230130162731634](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230130162731634.png)

------

å› ä¸ºé¢˜ç›®æ˜¯æœ€çŸ­è·¯å¾„ï¼Œç”¨bfsæ›´åˆé€‚ï¼ˆç”¨dfså°è¯•äº†ä¹‹åç»“æœå¹¶ä¸ä¸€å®šæ˜¯æœ€çŸ­çš„ï¼‰

```java
 boolean[][]vis;

    public int shortestPathBinaryMatrix(int[][] grid) {
        int[][]turn=new int[][]{{1,1},{1,-1},{-1,1},{-1,-1},{1,0},{0,1},{-1,0},{0,-1}};
if(grid[0][0]!=0||grid[grid.length-1][grid.length-1]!=0) return -1;
if(grid.length==1) return 1;
vis=new boolean[grid.length][grid[0].length];


Deque<int[]>queue=new LinkedList<>();
queue.offer(new int[]{0,0});
int step=1;
while(!queue.isEmpty()){
    int size=queue.size();
for(int i = 0;i<size;i++){
int[]temp=queue.poll();
//visåªæ”¾åœ¨è¿™é‡Œä¿®æ”¹è¶…æ—¶äº†,ä¹Ÿå¯ä»¥ä¸¤ä¸ªåœ°æ–¹éƒ½ä¿®æ”¹vis
vis[temp[0]][temp[1]]=true;
//
  for(int[]turnOne:turn){
      int x=temp[0],y=temp[1];
      
 if(x+turnOne[0]>=0&&x+turnOne[0]<grid.length&&y+turnOne[1]>=0&&y+turnOne[1]<grid.length&&grid[x+turnOne[0]][y+turnOne[1]]==0&&!vis[x+turnOne[0]][y+turnOne[1]])
 {
     if(x+turnOne[0]==grid.length-1&&y+turnOne[1]==grid.length-1) return step+1;
     //visåªæœ‰æ”¾åœ¨è¿™ä¸ªä½ç½®æ‰ä¸ä¼šè¶…æ—¶ï¼Œå¦‚æœåœ¨æœ€å‰é¢çš„åœ°æ–¹ä¿®æ”¹visç»“æœè¶…æ—¶äº†
vis[x+turnOne[0]][y+turnOne[1]]=true;
queue.offer(new int[]{x+turnOne[0],y+turnOne[1]});


 }
  }
}
//æ³¨æ„step+1çš„ä½ç½®
step++;
}
return -1;
    }
```

## [399. é™¤æ³•æ±‚å€¼](https://leetcode.cn/problems/evaluate-division/)

éš¾åº¦ä¸­ç­‰894

ç»™ä½ ä¸€ä¸ªå˜é‡å¯¹æ•°ç»„ `equations` å’Œä¸€ä¸ªå®æ•°å€¼æ•°ç»„ `values` ä½œä¸ºå·²çŸ¥æ¡ä»¶ï¼Œå…¶ä¸­ `equations[i] = [Ai, Bi]` å’Œ `values[i]` å…±åŒè¡¨ç¤ºç­‰å¼ `Ai / Bi = values[i]` ã€‚æ¯ä¸ª `Ai` æˆ– `Bi` æ˜¯ä¸€ä¸ªè¡¨ç¤ºå•ä¸ªå˜é‡çš„å­—ç¬¦ä¸²ã€‚

å¦æœ‰ä¸€äº›ä»¥æ•°ç»„ `queries` è¡¨ç¤ºçš„é—®é¢˜ï¼Œå…¶ä¸­ `queries[j] = [Cj, Dj]` è¡¨ç¤ºç¬¬ `j` ä¸ªé—®é¢˜ï¼Œè¯·ä½ æ ¹æ®å·²çŸ¥æ¡ä»¶æ‰¾å‡º `Cj / Dj = ?` çš„ç»“æœä½œä¸ºç­”æ¡ˆã€‚

è¿”å› **æ‰€æœ‰é—®é¢˜çš„ç­”æ¡ˆ** ã€‚å¦‚æœå­˜åœ¨æŸä¸ªæ— æ³•ç¡®å®šçš„ç­”æ¡ˆï¼Œåˆ™ç”¨ `-1.0` æ›¿ä»£è¿™ä¸ªç­”æ¡ˆã€‚å¦‚æœé—®é¢˜ä¸­å‡ºç°äº†ç»™å®šçš„å·²çŸ¥æ¡ä»¶ä¸­æ²¡æœ‰å‡ºç°çš„å­—ç¬¦ä¸²ï¼Œä¹Ÿéœ€è¦ç”¨ `-1.0` æ›¿ä»£è¿™ä¸ªç­”æ¡ˆã€‚

**æ³¨æ„ï¼š**è¾“å…¥æ€»æ˜¯æœ‰æ•ˆçš„ã€‚ä½ å¯ä»¥å‡è®¾é™¤æ³•è¿ç®—ä¸­ä¸ä¼šå‡ºç°é™¤æ•°ä¸º 0 çš„æƒ…å†µï¼Œä¸”ä¸å­˜åœ¨ä»»ä½•çŸ›ç›¾çš„ç»“æœã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šequations = [["a","b"],["b","c"]], values = [2.0,3.0], queries = [["a","c"],["b","a"],["a","e"],["a","a"],["x","x"]]
è¾“å‡ºï¼š[6.00000,0.50000,-1.00000,1.00000,-1.00000]
è§£é‡Šï¼š
æ¡ä»¶ï¼ša / b = 2.0, b / c = 3.0
é—®é¢˜ï¼ša / c = ?, b / a = ?, a / e = ?, a / a = ?, x / x = ?
ç»“æœï¼š[6.0, 0.5, -1.0, 1.0, -1.0 ]
```

---------------------

æˆ‘ä»¬å¯ä»¥å°†æ•´ä¸ªé—®é¢˜å»ºæ¨¡æˆä¸€å¼ å›¾ï¼šç»™å®šå›¾ä¸­çš„ä¸€äº›ç‚¹ï¼ˆå˜é‡ï¼‰ï¼Œä»¥åŠæŸäº›è¾¹çš„æƒå€¼ï¼ˆä¸¤ä¸ªå˜é‡çš„æ¯”å€¼ï¼‰ï¼Œè¯•å¯¹ä»»æ„ä¸¤ç‚¹ï¼ˆä¸¤ä¸ªå˜é‡ï¼‰æ±‚å‡ºå…¶è·¯å¾„é•¿ï¼ˆä¸¤ä¸ªå˜é‡çš„æ¯”å€¼ï¼‰ã€‚

å› æ­¤ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦éå† equations æ•°ç»„ï¼Œæ‰¾å‡ºå…¶ä¸­æ‰€æœ‰ä¸åŒçš„å­—ç¬¦ä¸²ï¼Œå¹¶é€šè¿‡å“ˆå¸Œè¡¨å°†æ¯ä¸ªä¸åŒçš„å­—ç¬¦ä¸²æ˜ å°„æˆæ•´æ•°ã€‚

åœ¨æ„å»ºå®Œå›¾ä¹‹åï¼Œå¯¹äºä»»ä½•ä¸€ä¸ªæŸ¥è¯¢ï¼Œå°±å¯ä»¥ä»èµ·ç‚¹å‡ºå‘ï¼Œé€šè¿‡å¹¿åº¦ä¼˜å…ˆæœç´¢çš„æ–¹å¼ï¼Œä¸æ–­æ›´æ–°èµ·ç‚¹ä¸å½“å‰ç‚¹ä¹‹é—´çš„è·¯å¾„é•¿åº¦ï¼Œç›´åˆ°æœç´¢åˆ°ç»ˆç‚¹ä¸ºæ­¢ã€‚



```java
public double[] calcEquation(List<List<String>> equations, double[] values, List<List<String>> queries) {
        int nvars = 0;
        //è¿™æ˜¯å­—ç¬¦å’Œå¯¹åº”çš„ç»“ç‚¹ç¼–å·
        Map<String, Integer> variables = new HashMap<String, Integer>();

        int n = equations.size();
        for (int i = 0; i < n; i++) {
            if (!variables.containsKey(equations.get(i).get(0))) {
                variables.put(equations.get(i).get(0), nvars++);
            }
            //ç»“ç‚¹ç¼–å·ä¸èƒ½é‡å¤
            if (!variables.containsKey(equations.get(i).get(1))) {
                variables.put(equations.get(i).get(1), nvars++);
            }
        }

        // å¯¹äºæ¯ä¸ªç‚¹ï¼Œå­˜å‚¨å…¶ç›´æ¥è¿æ¥åˆ°çš„æ‰€æœ‰ç‚¹åŠå¯¹åº”çš„æƒå€¼ï¼Œè¿™æ˜¯ä¸€ä¸ªlistæ•°ç»„ï¼Œæ•°ç»„ä¸­çš„æ¯ä¸ªå€¼éƒ½æ˜¯ä¸€ä¸ªlistï¼Œæ•°ç»„ä¸­çš„ç´¢å¼•å¯¹åº”çš„å°±æ˜¯ç»“ç‚¹ç¼–å·
        List<Pair>[] edges = new List[nvars];
        for (int i = 0; i < nvars; i++) {
            edges[i] = new ArrayList<Pair>();
        }
        for (int i = 0; i < n; i++) {
            int va = variables.get(equations.get(i).get(0)), vb = variables.get(equations.get(i).get(1));
            //è¡¨ç¤ºvaä¸vbè¿æ¥äº†ä¸€æ¡ï¼Œä»vaåˆ°vbå¦‚æœva/vb>1é‚£ä¹ˆç»“ç‚¹è·¯å¾„å°±ä¸ºva/vb,å¦åˆ™ä¸ºvb/vaï¼Œè¿™é‡Œvalue[i]å°±æ˜¯ä¸€ä¸ªç‚¹åˆ°å¦ä¸€ä¸ªç‚¹çš„è·ç¦»ï¼Œæ³¨æ„ä¸åŒæ–¹å‘è·ç¦»ä¸åŒ
            edges[va].add(new Pair(vb, values[i]));
            edges[vb].add(new Pair(va, 1.0 / values[i]));
        }

        int queriesCount = queries.size();
        double[] ret = new double[queriesCount];
        for (int i = 0; i < queriesCount; i++) {
            List<String> query = queries.get(i);
            double result = -1.0;
            if (variables.containsKey(query.get(0)) && variables.containsKey(query.get(1))) {
                int ia = variables.get(query.get(0)), ib = variables.get(query.get(1));
                if (ia == ib) {
                    result = 1.0;
                } else {
                    Queue<Integer> points = new LinkedList<Integer>();
                    points.offer(ia);
                    double[] ratios = new double[nvars];
                    Arrays.fill(ratios, -1.0);
                    ratios[ia] = 1.0;
                    

                    while (!points.isEmpty() && ratios[ib] < 0) {
                        int x = points.poll();
                        for (Pair pair : edges[x]) {
                            int y = pair.index;
                            double val = pair.value;
                            if (ratios[y] < 0) {
                                ratios[y] = ratios[x] * val;
                                points.offer(y);
                            }
                        }
                    }
                    result = ratios[ib];
                }
            }
            ret[i] = result;
        }
        return ret;
    }
}

class Pair {//indeç¼–å· valueæ˜¯è·ç¦»
    int index;
    double value;

    Pair(int index, double value) {
        this.index = index;
        this.value = value;
    }
}
```

æ–¹æ³•äºŒï¼š
Floyd ç®—æ³•
å¯¹äºæŸ¥è¯¢æ•°é‡å¾ˆå¤šçš„æƒ…å½¢ï¼Œå¦‚æœä¸ºæ¯æ¬¡æŸ¥è¯¢éƒ½ç‹¬ç«‹æœç´¢ä¸€æ¬¡ï¼Œåˆ™æ•ˆç‡ä¼šå˜ä½ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬ä¸å¦¨å¯¹å›¾å…ˆåšä¸€å®šçš„é¢„å¤„ç†ï¼Œéšåå°±å¯ä»¥åœ¨è¾ƒçŸ­çš„æ—¶é—´å†…å›ç­”æ¯ä¸ªæŸ¥è¯¢ã€‚

åœ¨æœ¬é¢˜ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Floyd ç®—æ³•ï¼Œé¢„å…ˆè®¡ç®—å‡ºä»»æ„ä¸¤ç‚¹ä¹‹é—´çš„è·ç¦»ã€‚

```java
 public double[] calcEquation(List<List<String>> equations, double[] values, List<List<String>> queries) {
        int nvars = 0;
        Map<String, Integer> variables = new HashMap<String, Integer>();

        int n = equations.size();
        for (int i = 0; i < n; i++) {
            if (!variables.containsKey(equations.get(i).get(0))) {
                variables.put(equations.get(i).get(0), nvars++);
            }
            if (!variables.containsKey(equations.get(i).get(1))) {
                variables.put(equations.get(i).get(1), nvars++);
            }
        }
        double[][] graph = new double[nvars][nvars];
        for (int i = 0; i < nvars; i++) {
            Arrays.fill(graph[i], -1.0);
        }
        for (int i = 0; i < n; i++) {
            int va = variables.get(equations.get(i).get(0)), vb = variables.get(equations.get(i).get(1));
            graph[va][vb] = values[i];
            graph[vb][va] = 1.0 / values[i];
        }

        for (int k = 0; k < nvars; k++) {
            for (int i = 0; i < nvars; i++) {
                for (int j = 0; j < nvars; j++) {
                    if (graph[i][k] > 0 && graph[k][j] > 0) {
                        graph[i][j] = graph[i][k] * graph[k][j];
                    }
                }
            }
        }

        int queriesCount = queries.size();
        double[] ret = new double[queriesCount];
        for (int i = 0; i < queriesCount; i++) {
            List<String> query = queries.get(i);
            double result = -1.0;
            if (variables.containsKey(query.get(0)) && variables.containsKey(query.get(1))) {
                int ia = variables.get(query.get(0)), ib = variables.get(query.get(1));
                if (graph[ia][ib] > 0) {
                    result = graph[ia][ib];
                }
            }
            ret[i] = result;
        }
        return ret;
    }


```



# dfs/å›æº¯

```
å›æº¯æœç´¢æ˜¯æ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰çš„ä¸€ç§
å¯¹äºæŸä¸€ä¸ªæœç´¢æ ‘æ¥è¯´ï¼ˆæœç´¢æ ‘æ˜¯èµ·è®°å½•è·¯å¾„å’ŒçŠ¶æ€åˆ¤æ–­çš„ä½œç”¨ï¼‰ï¼Œå›æº¯å’ŒDFSï¼Œå…¶ä¸»è¦çš„åŒºåˆ«æ˜¯ï¼Œå›æº¯æ³•åœ¨æ±‚è§£è¿‡ç¨‹ä¸­ä¸ä¿ç•™å®Œæ•´çš„æ ‘ç»“æ„ï¼Œè€Œæ·±åº¦ä¼˜å…ˆæœç´¢åˆ™è®°ä¸‹å®Œæ•´çš„æœç´¢æ ‘ã€‚
```

**å›æº¯ = dfs + å‰ªæï¼Œ**

## [130. è¢«å›´ç»•çš„åŒºåŸŸ](https://leetcode-cn.com/problems/surrounded-regions/)

éš¾åº¦ä¸­ç­‰717

ç»™ä½ ä¸€ä¸ª `m x n` çš„çŸ©é˜µ `board` ï¼Œç”±è‹¥å¹²å­—ç¬¦ `'X'` å’Œ `'O'` ï¼Œæ‰¾åˆ°æ‰€æœ‰è¢« `'X'` å›´ç»•çš„åŒºåŸŸï¼Œå¹¶å°†è¿™äº›åŒºåŸŸé‡Œæ‰€æœ‰çš„ `'O'` ç”¨ `'X'` å¡«å……ã€‚

![image-20220201221324721](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220201221324721.png)

è¾“å…¥ï¼šboard = [["X","X","X","X"],["X","O","O","X"],["X","X","O","X"],["X","O","X","X"]]
è¾“å‡ºï¼š[["X","X","X","X"],["X","X","X","X"],["X","X","X","X"],["X","O","X","X"]]

--------------

![image-20220201221420497](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220201221420497.png)

```java
 public void solve(char[][] board) {
for(int i = 0;i< board.length;i++)
{
    dfs(board,i,0);
    dfs(board,i,board[0].length-1);
}

for(int i = 0;i<board[0].length;i++)
{
    dfs(board,0,i);
    dfs(board,board.length-1,i);   
}
for(int i = 0;i < board.length;i++)
{
    for(int j = 0;j < board[0].length;j++)
    if(board[i][j]=='A')
    board[i][j]='O';
    else
    board[i][j]='X';
}
    }
    public void dfs(char[][]board,int i,int j)
    {
        if(i<0||i>=board.length||j<0||j>=board[0].length||board[i][j]!='O')
        return;
        board[i][j]='A';
        dfs(board,i+1,j);
        dfs(board,i,j+1);
        dfs(board,i-1,j);
        dfs(board,i,j-1);
    }

```



## å²›å±¿é¢ç§¯

ç»™ä½ ä¸€ä¸ªå¤§å°ä¸º m x n çš„äºŒè¿›åˆ¶çŸ©é˜µ grid ã€‚

å²›å±¿ æ˜¯ç”±ä¸€äº›ç›¸é‚»çš„ 1 (ä»£è¡¨åœŸåœ°) æ„æˆçš„ç»„åˆï¼Œè¿™é‡Œçš„ã€Œç›¸é‚»ã€è¦æ±‚ä¸¤ä¸ª 1 å¿…é¡»åœ¨ æ°´å¹³æˆ–è€…ç«–ç›´çš„å››ä¸ªæ–¹å‘ä¸Š ç›¸é‚»ã€‚ä½ å¯ä»¥å‡è®¾ grid çš„å››ä¸ªè¾¹ç¼˜éƒ½è¢« 0ï¼ˆä»£è¡¨æ°´ï¼‰åŒ…å›´ç€ã€‚

å²›å±¿çš„é¢ç§¯æ˜¯å²›ä¸Šå€¼ä¸º 1 çš„å•å…ƒæ ¼çš„æ•°ç›®ã€‚

è®¡ç®—å¹¶è¿”å› grid ä¸­æœ€å¤§çš„å²›å±¿é¢ç§¯ã€‚å¦‚æœæ²¡æœ‰å²›å±¿ï¼Œåˆ™è¿”å›é¢ç§¯ä¸º 0 ã€‚

![image-20220126231139775](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220126231139775.png)



æ³¨æ„ï¼šè¿™é‡Œæ˜¯è¦å¾—åˆ°dfséå†åˆ°çš„æ ¼å­æ€»æ•°ï¼Œå› æ­¤éœ€è¦å¾—åˆ°è¿”å›å€¼ï¼Œä¸å²›å±¿æ•°é‡æœ‰å·®åˆ«ï¼Œå²›å±¿æ•°é‡åªéœ€è¦æŠŠæ‰€æœ‰ä¸€å †çš„1é›†åˆèµ·æ¥å†å¾—åˆ°æ€»æ•°å°±è¡Œï¼Œä¸”è¿™é‡Œéœ€è¦éå†æ‰€æœ‰çš„å²›å±¿ï¼Œå¾—åˆ°æ¯ä¸ªå²›å±¿çš„é¢ç§¯ï¼Œè®¡ç®—å‡ºæœ€å¤§çš„é‚£ä¸ª

```java
    public int maxAreaOfIsland(int[][] grid) {
   int tot = 0;
for(int i=0;i < grid.length;i++)
{
for(int j =0;j < grid[0].length;j++)
{
 
// if(grid[i][j] == 1 )
    tot = Math.max(dfs(grid,i,j),tot);
}

}
return tot;

    }
    public int dfs(int[][]grid,int i,int j)
    {
        if(i <0||j < 0|| i==grid.length||j==grid[0].length||grid[i][j] == 0) return 0;
     
           // grid[i][j]=0;

int area = 1;
int[]d = new int[]{0,0,1,-1};
int[]z = new int[]{1,-1,0,0};
 grid[i][j] = 0;//å¯¹äºæ˜¯1çš„æ ¼å­è®¾ç½®ä¸º0é˜²æ­¢é‡å¤
  for(int row = 0;row < 4;row++)
  {
          area += dfs(grid,i+d[row],j+z[row]);//è¿™é‡Œçš„æ€»é¢ç§¯æ˜¯æ‰€æœ‰çš„æ ¼å­ä¸ªæ•°ï¼Œå‘å››é¢å…«æ–¹å…¨éƒ¨éå†ï¼Œå¾—åˆ°ä»ä¸€ä¸ªæ ¼å­å‡ºå‘çš„å…¨éƒ¨æ ¼å­
      
  }
  return area;


    }
```



å²›å±¿æ•°é‡ï¼š

```java
    public int numIslands(char[][] grid) {
               if (grid == null || grid.length == 0) {
            return 0;
        }
int row = grid.length;
int col = grid[0].length;

int total = 0;
for(int i = 0;i < row;i++)
{
    for(int j = 0;j < col;j++)
    {
        if(grid[i][j] == '1' )
      {
          total++;
          dfs(i,j,grid);
      }  
    }
}
return total;
    }
    public void dfs(int row,int cal,char[][]grid)
    {
if(row >=0 && cal >= 0 && row <=grid.length-1 && cal <= grid[0].length -1 && grid[row][cal]=='1')
{
  grid[row][cal] ='0';
    dfs(row+1,cal,grid);
    dfs(row-1,cal,grid);
    dfs(row,cal-1,grid);
    dfs(row,cal+1,grid);
}
else
return;
    }
```

## å°é—­å²›å±¿æ•°é‡

#### 

éš¾åº¦ä¸­ç­‰166

äºŒç»´çŸ©é˜µ `grid` ç”± `0` ï¼ˆåœŸåœ°ï¼‰å’Œ `1` ï¼ˆæ°´ï¼‰ç»„æˆã€‚å²›æ˜¯ç”±æœ€å¤§çš„4ä¸ªæ–¹å‘è¿é€šçš„ `0` ç»„æˆçš„ç¾¤ï¼Œå°é—­å²›æ˜¯ä¸€ä¸ª `å®Œå…¨` ç”±1åŒ…å›´ï¼ˆå·¦ã€ä¸Šã€å³ã€ä¸‹ï¼‰çš„å²›ã€‚

è¯·è¿”å› *å°é—­å²›å±¿* çš„æ•°ç›®ã€‚

 ![image-20221117180844344](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20221117180844344.png)

----

dfsè¿”å›ç»“æœä¸ºï¼šæ˜¯å¦ä¸ºå°é—­å²›å±¿ï¼Œä¸¤ä¸ªç»ˆæ­¢æ¡ä»¶

å¦‚æœèƒ½å¤Ÿè§¦åŠè¾¹ç•Œå¤–ï¼Œè¯´æ˜ä¸æ˜¯å°é—­å²›å±¿ï¼Œreturn false
å¦‚æœg\[i][j]ä¸ºæ°´åŸŸï¼Œè¯´æ˜è¢«é˜»æ‹¦äº†ï¼Œreturn true



```java
    int row,col;
    int[][]array;
    public int closedIsland(int[][] grid) {
row = grid.length;col = grid[0].length;
array = grid;
int ans = 0;
for(int i = 0;i <row;i++){
    for(int j = 0;j < col;j++){
if(array[i][j]==0 && dfs(i,j))
    ans++;
    }
}
return ans;
    }
boolean dfs(int i,int j){
 
    if(i <0||i>=row||j<0||j>=col) return false;
       if(array[i][j] == 1) return true;
    array[i][j] = 1;
    //è¿™é‡Œæ³¨æ„ï¼Œå¦‚æœå†™æˆ&&ä¼šå‡ºé”™ï¼Œå¿…é¡»æ˜¯&ï¼Œå…¶ä¸­&&å¦‚æœå‰é¢çš„æ¡ä»¶ä¸æ»¡è¶³åˆ™ç›´æ¥ä¸ä¼šè®¡ç®—åé¢çš„æ¡ä»¶ï¼Œè€Œ&æ˜¯æ‰€æœ‰æ¡ä»¶éƒ½ä¼šè®¡ç®—ï¼Œè¿™é‡Œå¦‚æœä½¿ç”¨&&ä¼šå½±å“ä¿®æ”¹Array[i][j]=1çš„æƒ…å†µ
    return dfs(i+1,j)&dfs(i,j+1)&dfs(i-1,j)&dfs(i,j-1);
}
ä¹Ÿå¯ä»¥è¿™æ ·å†™ï¼š
    boolean b1 = dfs(i + 1, j);
        boolean b2 = dfs(i - 1, j);
        boolean b3 = dfs(i, j + 1);
        boolean b4 = dfs(i, j - 1);

        return b1 && b2 && b3 && b4;
```



## [547. çœä»½æ•°é‡](https://leetcode-cn.com/problems/number-of-provinces/)

éš¾åº¦ä¸­ç­‰707

æœ‰ `n` ä¸ªåŸå¸‚ï¼Œå…¶ä¸­ä¸€äº›å½¼æ­¤ç›¸è¿ï¼Œå¦ä¸€äº›æ²¡æœ‰ç›¸è¿ã€‚å¦‚æœåŸå¸‚ `a` ä¸åŸå¸‚ `b` ç›´æ¥ç›¸è¿ï¼Œä¸”åŸå¸‚ `b` ä¸åŸå¸‚ `c` ç›´æ¥ç›¸è¿ï¼Œé‚£ä¹ˆåŸå¸‚ `a` ä¸åŸå¸‚ `c` é—´æ¥ç›¸è¿ã€‚

**çœä»½** æ˜¯ä¸€ç»„ç›´æ¥æˆ–é—´æ¥ç›¸è¿çš„åŸå¸‚ï¼Œç»„å†…ä¸å«å…¶ä»–æ²¡æœ‰ç›¸è¿çš„åŸå¸‚ã€‚

ç»™ä½ ä¸€ä¸ª `n x n` çš„çŸ©é˜µ `isConnected` ï¼Œå…¶ä¸­ `isConnected[i][j] = 1` è¡¨ç¤ºç¬¬ `i` ä¸ªåŸå¸‚å’Œç¬¬ `j` ä¸ªåŸå¸‚ç›´æ¥ç›¸è¿ï¼Œè€Œ `isConnected[i][j] = 0` è¡¨ç¤ºäºŒè€…ä¸ç›´æ¥ç›¸è¿ã€‚

è¿”å›çŸ©é˜µä¸­ **çœä»½** çš„æ•°é‡ã€‚

 [[1,0,0,1],[0,1,1,0],[0,1,1,1],[1,0,1,1]]

è¾“å‡º1

----

```java
   //æ·±åº¦ä¼˜å…ˆæœç´¢çš„æ€è·¯æ˜¯å¾ˆç›´è§‚çš„ã€‚éå†æ‰€æœ‰åŸå¸‚ï¼Œå¯¹äºæ¯ä¸ªåŸå¸‚ï¼Œå¦‚æœè¯¥åŸå¸‚å°šæœªè¢«è®¿é—®è¿‡ï¼Œåˆ™ä»è¯¥åŸå¸‚å¼€å§‹æ·±åº¦ä¼˜å…ˆæœç´¢ï¼Œé€šè¿‡çŸ©é˜µisConnected å¾—åˆ°ä¸è¯¥åŸå¸‚ç›´æ¥ç›¸è¿çš„åŸå¸‚æœ‰å“ªäº›ï¼Œè¿™äº›åŸå¸‚å’Œè¯¥åŸå¸‚å±äºåŒä¸€ä¸ªè¿é€šåˆ†é‡ï¼Œç„¶åå¯¹è¿™äº›åŸå¸‚ç»§ç»­æ·±åº¦ä¼˜å…ˆæœç´¢ï¼Œç›´åˆ°åŒä¸€ä¸ªè¿é€šåˆ†é‡çš„æ‰€æœ‰åŸå¸‚éƒ½è¢«è®¿é—®åˆ°ï¼Œå³å¯å¾—åˆ°ä¸€ä¸ªçœä»½ã€‚éå†å®Œå…¨éƒ¨åŸå¸‚ä»¥åï¼Œå³å¯å¾—åˆ°è¿é€šåˆ†é‡çš„æ€»æ•°ï¼Œå³çœä»½çš„æ€»æ•°ã€‚


int tot=0;
    public int findCircleNum(int[][] isConnected) {
        boolean[]vis=new boolean[isConnected.length];
for(int i=0;i<isConnected.length;i++)
{
    if(!vis[i])
    {
        dfs(isConnected,vis,i);
        tot++;
    }
}

return tot;
        
    }
    public void dfs(int[][]isConnected,boolean[]vis,int row)
    {
       
        for(int i=0;i<isConnected.length;i++)
        {
            if(isConnected[i][row]==1&& !vis[i])
            {
                vis[i]=true;
                dfs(isConnected,vis,i);
            }
        }

return;
    }
```

## æ‹“æ‰‘æ’åº/å¾ªç¯ä¾èµ–ï¼šè¯¾ç¨‹è¡¨

ä½ è¿™ä¸ªå­¦æœŸå¿…é¡»é€‰ä¿® numCourses é—¨è¯¾ç¨‹ï¼Œè®°ä¸º 0 åˆ° numCourses - 1 ã€‚

åœ¨é€‰ä¿®æŸäº›è¯¾ç¨‹ä¹‹å‰éœ€è¦ä¸€äº›å…ˆä¿®è¯¾ç¨‹ã€‚ å…ˆä¿®è¯¾ç¨‹æŒ‰æ•°ç»„ prerequisites ç»™å‡ºï¼Œå…¶ä¸­ prerequisites[i] = [ai, bi] ï¼Œè¡¨ç¤ºå¦‚æœè¦å­¦ä¹ è¯¾ç¨‹ ai åˆ™ å¿…é¡» å…ˆå­¦ä¹ è¯¾ç¨‹  bi ã€‚

ä¾‹å¦‚ï¼Œå…ˆä¿®è¯¾ç¨‹å¯¹ [0, 1] è¡¨ç¤ºï¼šæƒ³è¦å­¦ä¹ è¯¾ç¨‹ 0 ï¼Œä½ éœ€è¦å…ˆå®Œæˆè¯¾ç¨‹ 1 ã€‚
è¯·ä½ åˆ¤æ–­æ˜¯å¦å¯èƒ½å®Œæˆæ‰€æœ‰è¯¾ç¨‹çš„å­¦ä¹ ï¼Ÿå¦‚æœå¯ä»¥ï¼Œè¿”å› true ï¼›å¦åˆ™ï¼Œè¿”å› false ã€‚

 

ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼šnumCourses = 2, prerequisites = [[1,0]]
è¾“å‡ºï¼štrue
è§£é‡Šï¼šæ€»å…±æœ‰ 2 é—¨è¯¾ç¨‹ã€‚å­¦ä¹ è¯¾ç¨‹ 1 ä¹‹å‰ï¼Œä½ éœ€è¦å®Œæˆè¯¾ç¨‹ 0 ã€‚è¿™æ˜¯å¯èƒ½çš„ã€‚



----



![image-20220212213738920](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220212213738920.png)

åœ¨æ•´ä¸ªæ·±åº¦ä¼˜å…ˆæœç´¢çš„è¿‡ç¨‹ç»“æŸåï¼Œå¦‚æœæˆ‘ä»¬æ²¡æœ‰æ‰¾åˆ°å›¾ä¸­çš„ç¯ï¼Œé‚£ä¹ˆæ ˆä¸­å­˜å‚¨è¿™æ‰€æœ‰çš„ n ä¸ªèŠ‚ç‚¹ï¼Œä»æ ˆé¡¶åˆ°æ ˆåº•çš„é¡ºåºå³ä¸ºä¸€ç§æ‹“æ‰‘æ’åºã€‚ç”±äºæˆ‘ä»¬åªéœ€è¦åˆ¤æ–­æ˜¯å¦å­˜åœ¨ä¸€ç§æ‹“æ‰‘æ’åºï¼Œè€Œæ ˆçš„ä½œç”¨ä»…ä»…æ˜¯å­˜æ”¾æœ€ç»ˆçš„æ‹“æ‰‘æ’åºç»“æœï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥åªè®°å½•æ¯ä¸ªèŠ‚ç‚¹çš„çŠ¶æ€ï¼Œè€Œçœå»å¯¹åº”çš„æ ˆã€‚

åœ¨æ•´ä¸ªæ·±åº¦ä¼˜å…ˆæœç´¢çš„è¿‡ç¨‹ç»“æŸåï¼Œå¦‚æœæˆ‘ä»¬æ²¡æœ‰æ‰¾åˆ°å›¾ä¸­çš„ç¯ï¼Œé‚£ä¹ˆæ ˆä¸­å­˜å‚¨è¿™æ‰€æœ‰çš„ n*n* ä¸ªèŠ‚ç‚¹ï¼Œä»æ ˆé¡¶åˆ°æ ˆåº•çš„é¡ºåºå³ä¸ºä¸€ç§æ‹“æ‰‘æ’åºã€‚

```java
 List<List<Integer>>mylist = new ArrayList<>();
    boolean valid = true;//æ³¨æ„åˆå§‹è®¾ç½®ä¸ºtrue
    public boolean canFinish(int numCourses, int[][] prerequisites) {
for(int i = 0;i<numCourses;i++)
mylist.add(new ArrayList<>());//æ¯ä¸ªç»“ç‚¹å¯¹åº”ä¸€ä¸ªæœç´¢åºåˆ—
int[]vis = new int[numCourses];//æœç´¢çŠ¶æ€
for(int i =0;i<prerequisites.length;i++)
{
    mylist.get(prerequisites[i][0]).add(prerequisites[i][1]);
}
for(int i = 0;i < numCourses;i++)
{
    if(vis[i]==0)
    dfs(vis,i);
}
return valid;
    }
    public void dfs(int[]vis,int coursenum)
    {
        vis[coursenum] = 1;
        for(int i = 0;i < mylist.get(coursenum).size();i++)
        {
            if(vis[mylist.get(coursenum).get(i)]==0 && valid)
            {
                dfs(vis,mylist.get(coursenum).get(i));
                if(!valid)
                return;
            }
            else if(vis[mylist.get(coursenum).get(i)]==1)//è¿™ç§æƒ…å†µæ˜¯ä¸€å…±æœç´¢ä¸­çš„ç‚¹åœ¨å¯»æ‰¾å…¶ä»–ç‚¹æ—¶åˆæ‰¾åˆ°äº†è‡ªå·±ï¼Œå‡ºç°äº†ç¯ï¼Œå³Validç½®ä¸ºFalse
            {
                valid = false;
                return;}
        }
        vis[coursenum] = 2;
    }
```

## [210. è¯¾ç¨‹è¡¨ II](https://leetcode-cn.com/problems/course-schedule-ii/)

éš¾åº¦ä¸­ç­‰574

ç°åœ¨ä½ æ€»å…±æœ‰ `numCourses` é—¨è¯¾éœ€è¦é€‰ï¼Œè®°ä¸º `0` åˆ° `numCourses - 1`ã€‚ç»™ä½ ä¸€ä¸ªæ•°ç»„ `prerequisites` ï¼Œå…¶ä¸­ `prerequisites[i] = [ai, bi]` ï¼Œè¡¨ç¤ºåœ¨é€‰ä¿®è¯¾ç¨‹ `ai` å‰ **å¿…é¡»** å…ˆé€‰ä¿® `bi` ã€‚

- ä¾‹å¦‚ï¼Œæƒ³è¦å­¦ä¹ è¯¾ç¨‹ `0` ï¼Œä½ éœ€è¦å…ˆå®Œæˆè¯¾ç¨‹ `1` ï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªåŒ¹é…æ¥è¡¨ç¤ºï¼š`[0,1]` ã€‚

è¿”å›ä½ ä¸ºäº†å­¦å®Œæ‰€æœ‰è¯¾ç¨‹æ‰€å®‰æ’çš„å­¦ä¹ é¡ºåºã€‚å¯èƒ½ä¼šæœ‰å¤šä¸ªæ­£ç¡®çš„é¡ºåºï¼Œä½ åªè¦è¿”å› **ä»»æ„ä¸€ç§** å°±å¯ä»¥äº†ã€‚å¦‚æœä¸å¯èƒ½å®Œæˆæ‰€æœ‰è¯¾ç¨‹ï¼Œè¿”å› **ä¸€ä¸ªç©ºæ•°ç»„** ã€‚

ä¸ä¸Šé¢çš„é¢˜ç›®å”¯ä¸€åŒºåˆ«æ˜¯ï¼Œè¿™ä¸ªé¢˜ç›®è¦æ±‚è¾“å‡ºé¡ºåºï¼ˆå³ä¸ä»…æ‰¾åˆ°æ˜¯å¦ç¬¦åˆæ¡ä»¶ï¼Œè¿˜è¦è¾“å‡ºç¬¦åˆæ¡ä»¶çš„é¡ºåºï¼‰

---

```java
    boolean valid = true;
     int[]ans;//ç­”æ¡ˆæ•°ç»„
     int[]vis;//ç”¨æ¥è¡¨ç¤ºè®¿é—®çš„çŠ¶æ€ 0 æœªæœç´¢ 1 æœç´¢ä¸­ 2 æœç´¢å®Œ
int tot;
    public int[] findOrder(int numCourses, int[][] prerequisites) {
       ans = new int[numCourses];
       vis = new int[numCourses];
       tot = numCourses-1;//æ€»é‡,ç”¨æ¥å¾—å‡ºæ•°ç»„ä¸‹æ ‡
       List<List<Integer>>mylist = new ArrayList<>();
       for(int i = 0;i <numCourses;i++)
       mylist.add(new ArrayList<>());//æ¯ä¸ªç‚¹éƒ½æ˜¯ä¸€ä¸ªé“¾è¡¨
       for(int i = 0;i <prerequisites.length;i++)
       mylist.get(prerequisites[i][1]).add(prerequisites[i][0]);//[i][1]åœ¨[i][0]çš„å‰é¢
       for(int i = 0;i <numCourses && valid;i++)
       {
           if(vis[i] == 0)
           dfs(i,mylist);
       }
       if(!valid) return new int[]{};
       return ans;

}
public void dfs(int index,List<List<Integer>>mylist )
{
vis[index] = 1;        // å°†èŠ‚ç‚¹æ ‡è®°ä¸ºã€Œæœç´¢ä¸­ã€
for(int i = 0;i <mylist.get(index).size();i++)
{
           // æœç´¢å…¶ç›¸é‚»èŠ‚ç‚¹
        // åªè¦å‘ç°æœ‰ç¯ï¼Œç«‹åˆ»åœæ­¢æœç´¢
    int u = mylist.get(index).get(i);
    if(vis[u] == 0)
   { dfs(u,mylist);
   if(!valid)
   return;}
    else if(vis[u] == 1) {
        valid = false;
        return;
    } 
}
vis[index] = 2;
ans[tot--] = index;
}
    
```



## [329. çŸ©é˜µä¸­çš„æœ€é•¿é€’å¢è·¯å¾„](https://leetcode-cn.com/problems/longest-increasing-path-in-a-matrix/)

éš¾åº¦å›°éš¾594

ç»™å®šä¸€ä¸ª `m x n` æ•´æ•°çŸ©é˜µ `matrix` ï¼Œæ‰¾å‡ºå…¶ä¸­ **æœ€é•¿é€’å¢è·¯å¾„** çš„é•¿åº¦ã€‚

å¯¹äºæ¯ä¸ªå•å…ƒæ ¼ï¼Œä½ å¯ä»¥å¾€ä¸Šï¼Œä¸‹ï¼Œå·¦ï¼Œå³å››ä¸ªæ–¹å‘ç§»åŠ¨ã€‚ ä½  **ä¸èƒ½** åœ¨ **å¯¹è§’çº¿** æ–¹å‘ä¸Šç§»åŠ¨æˆ–ç§»åŠ¨åˆ° **è¾¹ç•Œå¤–**ï¼ˆå³ä¸å…è®¸ç¯ç»•ï¼‰ã€‚

 ![image-20220213182456969](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220213182456969.png)

-------------------

![image-20220213182618979](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220213182618979.png)

æ–¹æ³•ï¼šè®°å¿†åŒ–æœç´¢

```java
 public int longestIncreasingPath(int[][] matrix) {
         if (matrix == null || matrix.length == 0 || matrix[0].length == 0) {
            return 0;
        }
        vis = new boolean[matrix.length][matrix[0].length];
int[][]dp = new int[matrix.length][matrix[0].length];
int row = matrix.length,col = matrix[0].length;
for(int i = 0;i < row ;i++)
{
    for(int j = 0;j < col;j++ )
    {    
      maxlen = Math.max( maxlen,dfs(matrix,i,j,dp));
    }
}
return maxlen;
    }
    public int dfs(int[][]matrix,int i,int j,int[][]dp)
    {
 if(dp[i][j] != 0) return dp[i][j];
        int []row = new int[]{1,-1,0,0};
        int[]col = new int[]{0,0,1,-1};
        dp[i][j]++;
        for(int num = 0;num < 4;num++)
        {
            int ichange = i+row[num],jchange = j + col[num];
if(ichange>=0 && ichange< matrix.length && jchange>=0 && jchange < matrix[0].length && matrix[ichange][jchange]>matrix[i][j])
{
    dp[i][j] = Math.max(dp[i][j],dfs(matrix,ichange,jchange,dp)+1);

}
        }
    return dp[i][j];
    }
```





## å›æº¯æ³•

å…¶æ ¸â¼¼å°±æ˜¯ for å¾ªç¯â¾¥â¾¯çš„é€’å½’ï¼Œåœ¨é€’å½’è°ƒâ½¤ä¹‹å‰ã€Œåšé€‰æ‹©ã€ï¼Œåœ¨é€’å½’è°ƒâ½¤ä¹‹åã€Œæ’¤é”€é€‰æ‹©ã€

ä»£ç â½…â¾¯ï¼Œå›æº¯ç®—æ³•çš„æ¡†æ¶ï¼š
result = []
def backtrack(è·¯å¾„, é€‰æ‹©åˆ—è¡¨):
if æ»¡â¾œç»“æŸæ¡ä»¶:
result.add(è·¯å¾„)
return
for é€‰æ‹© in é€‰æ‹©åˆ—è¡¨:
åšé€‰æ‹©
backtrack(è·¯å¾„, é€‰æ‹©åˆ—è¡¨)
æ’¤é”€é€‰æ‹©

å…¶æ ¸â¼¼å°±æ˜¯ for å¾ªç¯â¾¥â¾¯çš„é€’å½’ï¼Œåœ¨é€’å½’è°ƒâ½¤ä¹‹å‰ã€Œåšé€‰æ‹©ã€ï¼Œåœ¨é€’å½’è°ƒâ½¤ä¹‹åã€Œæ’¤é”€é€‰æ‹©ã€

## å›æº¯ä¹‹å•è¯æœç´¢

[79. å•è¯æœç´¢](https://leetcode-cn.com/problems/word-search/)

ç»™å®šä¸€ä¸ª m x n äºŒç»´å­—ç¬¦ç½‘æ ¼ board å’Œä¸€ä¸ªå­—ç¬¦ä¸²å•è¯ word ã€‚å¦‚æœ word å­˜åœ¨äºç½‘æ ¼ä¸­ï¼Œè¿”å› true ï¼›å¦åˆ™ï¼Œè¿”å› false ã€‚

å•è¯å¿…é¡»æŒ‰ç…§å­—æ¯é¡ºåºï¼Œé€šè¿‡ç›¸é‚»çš„å•å…ƒæ ¼å†…çš„å­—æ¯æ„æˆï¼Œå…¶ä¸­â€œç›¸é‚»â€å•å…ƒæ ¼æ˜¯é‚£äº›æ°´å¹³ç›¸é‚»æˆ–å‚ç›´ç›¸é‚»çš„å•å…ƒæ ¼ã€‚åŒä¸€ä¸ªå•å…ƒæ ¼å†…çš„å­—æ¯ä¸å…è®¸è¢«é‡å¤ä½¿ç”¨ã€‚

 ![image-20220128030623000](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220128030623000.png)

```java
 public boolean exist(char[][] board, String word) {
boolean[][]visited = new boolean[board.length][board[0].length];
for(int i = 0;i < board.length;i++)
{
    for(int j = 0;j < board[0].length;j++)
    {
        boolean flag = dfs(visited,board,i,j,word,0);
        if(flag) return true;
    }

}
return false;

    }
public boolean dfs(boolean[][]visited,char[][]board,int row,int col,String word,int k)
{
    if(board[row][col] != word.charAt(k)) return false;
    if(k == word.length()-1) return true;
    
visited[row][col] = true;

int[]d1 = new int[]{-1,1,0,0};
int[]d2 = new int[]{0,0,1,-1};
boolean res = false;
for(int i =0;i < 4;i++)
{
int newrow = row+d1[i];
int newcol = col+d2[i];

if(newrow<board.length&&newcol<board[0].length&&newrow>=0&&newcol>=0&&!visited[newrow][newcol])
{
boolean flag = dfs(visited,board,newrow,newcol,word,k+1);
if(flag) {
    res = true;
    break;
}
}
   
}
visited[row][col] = false;
return res;
}
```



å¤šå‰æ ‘çš„éå†æ¡†æ¶å°±æ˜¯è¿™æ ·ï¼š
void traverse(TreeNode root) {
for (TreeNode child : root.childern)
// å‰åºéå†éœ€è¦çš„æ“ä½œ
traverse(child);
// ååºéå†éœ€è¦çš„æ“ä½œ
}

##  æ•°ç»„å…¨æ’åˆ—ï¼š

![](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20211205085327074.png)

javaå®ç°çš„ä»£ç ï¼š

```java
   List<List<Integer>> ans = new ArrayList<>();
public List<List<Integer>> permute(int[] nums) {
if(nums== null||nums.length==0)
{
    return ans;
}
List<Integer> str= new ArrayList<>();
int len = nums.length;

 List<Integer> output = new ArrayList<Integer>();
        for (int num : nums) {
            output.add(num);
        }
allsort(len,0,output,ans);

return ans;
    }

    private void allsort(int len, int i, List<Integer> str, List<List<Integer>> ans) {
        if(i == len)
        {
            ans.add(new ArrayList<Integer>(str));
            
        }
        else {
            for (int j = i; j <len ; j++) {
                Collections.swap(str,i,j);
                allsort(len,i+1,str,ans);
                Collections.swap(str,i,j);
            }
        }
    }
```

ä¹Ÿå¯ä»¥è¿™æ ·å†™ï¼š

è¾“â¼Šâ¼€ç»„ä¸é‡å¤çš„æ•°å­—ï¼Œè¿”å›å®ƒä»¬çš„å…¨æ’åˆ—

æ³¨æ„è¿™é‡Œå›æº¯çš„æ—¶å€™éå†ï¼Œæ˜¯ä»0å¼€å§‹éå†çš„

```java
public class Fullqueue {
   public static List<List<Integer>> res = new LinkedList<>();
    /* ä¸»å‡½æ•°ï¼Œè¾“â¼Šâ¼€ç»„ä¸é‡å¤çš„æ•°å­—ï¼Œè¿”å›å®ƒä»¬çš„å…¨æ’åˆ— */
   public static List<List<Integer>> permute(int[] nums) {
LinkedList<Integer> li = new LinkedList<>();
backtrack(nums,li);
return res;
    }
    // è·¯å¾„ï¼šè®°å½•åœ¨ track ä¸­
// é€‰æ‹©åˆ—è¡¨ï¼šnums ä¸­ä¸å­˜åœ¨äº track çš„é‚£äº›å…ƒç´ 
// ç»“æŸæ¡ä»¶ï¼šnums ä¸­çš„å…ƒç´ å…¨éƒ½åœ¨ track ä¸­å‡ºç°
  public static void backtrack(int[] nums, LinkedList<Integer> track) {
        if(nums.length == track.size())
        {
            System.out.println(track);
            res.add(track);
            System.out.println(res);
            return;
        }
        for (int i = 0; i < nums.length; i++) {
            if(track.contains(nums[i]))
            continue;
                track.add(nums[i]);//LinkedList add(E e)å°†æŒ‡å®šå…ƒç´ æ·»åŠ åˆ°æ­¤åˆ—è¡¨çš„ç»“å°¾ã€‚
                backtrack(nums, track);
                track.removeLast();

        }
    }

    public static void main(String[] args) throws InterruptedException {
        permute(new int[]{1,3,2});
      
        System.out.println(res);//ä¸çŸ¥é“ä¸ºä»€ä¹ˆè¿™ä¸ªè¾“å‡ºçš„æ˜¯ç©º
    }
}

```

## [60. æ’åˆ—åºåˆ—/ç¬¬kä¸ªæ’åˆ—](https://leetcode-cn.com/problems/permutation-sequence/)

éš¾åº¦å›°éš¾643

ç»™å‡ºé›†åˆ `[1,2,3,...,n]`ï¼Œå…¶æ‰€æœ‰å…ƒç´ å…±æœ‰ `n!` ç§æ’åˆ—ã€‚

æŒ‰å¤§å°é¡ºåºåˆ—å‡ºæ‰€æœ‰æ’åˆ—æƒ…å†µï¼Œå¹¶ä¸€ä¸€æ ‡è®°ï¼Œå½“ `n = 3` æ—¶, æ‰€æœ‰æ’åˆ—å¦‚ä¸‹ï¼š

1. `"123"`
2. `"132"`
3. `"213"`
4. `"231"`
5. `"312"`
6. `"321"`

ç»™å®š `n` å’Œ `k`ï¼Œè¿”å›ç¬¬ `k` ä¸ªæ’åˆ—ã€‚

----

è¿™é‡Œå¿…é¡»ç”¨å‰ªæçš„åŠæ³•ï¼Œå¦åˆ™ä¼šè¶…æ—¶

![image-20220319235045757](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220319235045757.png)

![image-20220319235704289](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220319235704289.png)

![image-20220319235724799](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220319235724799.png)

![image-20220319235748294](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220319235748294.png)

![image-20220319235809779](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220319235809779.png)

![image-20220319235837906](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220319235837906.png)

![image-20220319235850862](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220319235850862.png)

æ³¨æ„ï¼š0!=1ï¼Œå®ƒè¡¨ç¤ºäº†æ²¡æœ‰æ•°å¯é€‰çš„æ—¶å€™ï¼Œå³è¡¨ç¤ºåˆ°è¾¾å¶å­ç»“ç‚¹äº†ï¼Œæ’åˆ—æ•°åªå‰©ä¸‹ 1 ä¸ªï¼›
é¢˜ç›®ä¸­è¯´ã€Œç»™å®š n çš„èŒƒå›´æ˜¯ [1, 9]ã€ï¼Œå¯ä»¥æŠŠä» 0 åˆ° 9 çš„é˜¶ä¹˜è®¡ç®—å¥½ï¼Œæ”¾åœ¨ä¸€ä¸ªæ•°ç»„é‡Œï¼Œå¯ä»¥æ ¹æ®ç´¢å¼•ç›´æ¥è·å¾—é˜¶ä¹˜å€¼ï¼›





```java
StringBuilder str=new StringBuilder();
int index=0;
 int[] factorial;
  /**
     * è®°å½•æ•°å­—æ˜¯å¦ä½¿ç”¨è¿‡
     */
    private boolean[] used;
    public String getPermutation(int n, int k) {
        factorial = new int[n+1];
        factorial[0]=1;
for(int i = 1;i <= n;i++)
factorial[i] = factorial[i-1] * i;

used = new boolean[n+1];
Arrays.fill(used,false);
backtrack(n,k,0);
return str.toString();
    }
    public void backtrack(int n,int k,int index)
    {
     
        if(index == n)
        {
return;
        }
           int num = factorial[n-1-index];//åœ¨è¿™é‡Œæ¯æ¬¡é€’å½’çš„æ—¶å€™indexçš„å€¼+1ï¼Œå› æ­¤numä¹Ÿæ˜¯è¶Šæ¥è¶Šå°ï¼Œè€Œä¸”è¿™é‡Œæ˜¯å·²ç»é€‰äº†indexä»¥åå‰©ä¸‹çš„æ•°æ’åˆ—çš„æ•°é‡ï¼Œæ¯”å¦‚è¯´4ä¸ªæ•°ï¼Œé€‰äº†1ï¼Œå‰©ä¸‹ä¸‰ä¸ªæ•°æœ‰3!ç§æ–¹æ¡ˆ
     
        for(int i = 1;i<=n;i++)
        {
         if(used[i]) continue;//è¦è®°å¾—ç”¨ä¸€ä¸ªæ•°ç»„æ ‡è®°æ˜¯å¦è®¿é—®è¿‡ï¼Œå› ä¸ºé€’å½’æ—¶æ¯æ¬¡å¾ªç¯éƒ½æ˜¯ä»1å¼€å§‹ï¼Œä¼šç»è¿‡å·²ç»è®¿é—®çš„æ•°å­—
         if(k > num) {
          k -=num;//æ³¨æ„è¿™é‡Œkè¦å‡å»å‰ªå®Œæçš„numï¼Œæ ‡å¿—å‰é¢numä¸ªæ’åˆ—è¦è·³è¿‡
             continue;
         }
         str.append(i);//å¦‚æœk<num,åˆ™æ‰€æ±‚çš„æ’åˆ—åœ¨è¿™ä¸€ä¸ªåˆ†æ”¯ä¸­
         used[i] = true;
         backtrack(n,k,index+1);
                     // æ³¨æ„ 1ï¼šä¸å¯ä»¥å›æº¯ï¼ˆé‡ç½®å˜é‡ï¼‰ï¼Œç®—æ³•è®¾è®¡æ˜¯ã€Œä¸€ä¸‹å­æ¥åˆ°å¶å­ç»“ç‚¹ã€ï¼Œæ²¡æœ‰å›å¤´çš„è¿‡ç¨‹
            // æ³¨æ„ 2ï¼šè¿™é‡Œè¦åŠ  returnï¼Œåé¢çš„æ•°æ²¡æœ‰å¿…è¦éå†å»å°è¯•äº†
            return;
        }
```

## åˆ¤æ–­4ä¸ªæ•°èƒ½å¦å‡‘æˆ24

ç»™å‡º4ä¸ª1-10çš„æ•°å­—ï¼Œé€šè¿‡åŠ å‡ä¹˜é™¤è¿ç®—ï¼Œå¾—åˆ°æ•°å­—ä¸º24å°±ç®—èƒœåˆ©,é™¤æ³•æŒ‡å®æ•°é™¤æ³•è¿ç®—,è¿ç®—ç¬¦ä»…å…è®¸å‡ºç°åœ¨ä¸¤ä¸ªæ•°å­—ä¹‹é—´,æœ¬é¢˜å¯¹æ•°å­—é€‰å–é¡ºåºæ— è¦æ±‚ï¼Œä½†æ¯ä¸ªæ•°å­—ä»…å…è®¸ä½¿ç”¨ä¸€æ¬¡ï¼Œä¸”éœ€è€ƒè™‘æ‹¬å·è¿ç®—

æ­¤é¢˜å…è®¸æ•°å­—é‡å¤ï¼Œå¦‚3 3 4 4ä¸ºåˆæ³•è¾“å…¥ï¼Œæ­¤è¾“å…¥ä¸€å…±æœ‰ä¸¤ä¸ª3ï¼Œä½†æ˜¯æ¯ä¸ªæ•°å­—åªå…è®¸ä½¿ç”¨ä¸€æ¬¡ï¼Œåˆ™è¿ç®—è¿‡ç¨‹ä¸­ä¸¤ä¸ª3éƒ½è¢«é€‰å–å¹¶è¿›è¡Œå¯¹åº”çš„è®¡ç®—æ“ä½œã€‚

### 

è¯»å…¥4ä¸ª[1,10]çš„æ•´æ•°ï¼Œæ•°å­—å…è®¸é‡å¤ï¼Œæµ‹è¯•ç”¨ä¾‹ä¿è¯æ— å¼‚å¸¸æ•°å­—ã€‚

### 

å¯¹äºæ¯ç»„æ¡ˆä¾‹ï¼Œè¾“å‡ºä¸€è¡Œè¡¨ç¤ºèƒ½å¦å¾—åˆ°24ç‚¹ï¼Œèƒ½è¾“å‡ºtrueï¼Œä¸èƒ½è¾“å‡ºfalse

------

è¿™é‡Œå…¶å®ç±»ä¼¼å…¨æ’åˆ—çš„æ€è·¯ï¼ŒåŒæ ·æ˜¯æ¯ä¸ªå…ƒç´ éƒ½éœ€è¦è¿›è¡Œé€‰æ‹©ï¼Œä½†æ˜¯è¿™é‡Œè¿˜å¤šäº†ä¸€ä¸ªè¿ç®—æ“ä½œï¼Œä¸”æ³¨æ„åªèƒ½ç”¨ä¸€æ¬¡ï¼Œåªèƒ½ç”¨ä¸€æ¬¡è¿™é‡Œå¯ä»¥ç”¨ä¸€ä¸ªvisæ•°ç»„æ¥åˆ¤æ–­ï¼Œåˆ©ç”¨ç´¢å¼•æ¥è·å¾—æ˜¯å¦å·²ç»è®¿é—®è¿‡è¯¥å…ƒç´ ï¼ŒåŒæ—¶é™¤æ³•è¦æ³¨æ„èƒ½å¤Ÿæ•´é™¤çš„æ—¶å€™æ‰è¿›è¡Œé™¤æ³•è¿ç®—

```java
 public static void main(String[] args) {
        Scanner in = new Scanner(System.in);
        // æ³¨æ„ hasNext å’Œ hasNextLine çš„åŒºåˆ«
   
       int[]nums=new int[4];
       for(int i=0;i<4;i++)
       nums[i]=in.nextInt();
       boolean[]vis=new boolean[4];
       boolean ans=false;
 if(dfs(vis,nums,0))
    System.out.println(true);
    else System.out.println(false);
    }
    public static boolean dfs(boolean[]vis,int[]nums,int cur)
    {
        boolean four=true;
for(int i=0;i<4;i++)
{
    //åˆ¤æ–­æ˜¯å¦å››ä¸ªæ•°éƒ½è®¿é—®å®Œäº†
    if(!vis[i]){
        four=false;
        break;
    }
}
if(four)
return cur==24;//è¿”å›æ˜¯å¦ä¸º24

for(int i=0;i<nums.length;i++)
{
    if(!vis[i])
    {
        vis[i]=true;//æ ‡è®°è¿™ä¸ªæ•°å­—ä¸ºå·²ç»è®¿é—®
        if(dfs(vis,nums,cur+nums[i])||
        dfs(vis,nums,cur-nums[i])||dfs(vis,nums,cur*nums[i])
    ||nums[i]!=0&&cur%nums[i]==0&& dfs(vis,nums,cur/nums[i]))
    return true;
   vis[i]=false;//å›æº¯
    }
}
return false;//å¦‚æœèµ°å‡ºäº†æ‰€æœ‰çš„ï¼Œè¯´æ˜ä¸å­˜åœ¨24ç‚¹ï¼Œè¿”å›false
    }
```



## å«æœ‰é‡å¤å…ƒç´ çš„å…¨æ’åˆ—

![image-20211218003213867](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20211218003213867.png)

```java
   boolean[] vis;
    List<List<Integer>> theans= new ArrayList<List<Integer>>();
    public List<List<Integer>> permuteUnique(int[] nums) {
    Arrays.sort(nums);
List<List<Integer>> res = new ArrayList<>();
//booleanæ•°ç»„ï¼Œused[i]è¡¨ç¤ºå…ƒç´ nums[i]æ˜¯å¦è¢«è®¿é—®è¿‡
boolean[] used = new boolean[nums.length];
//æ‰§è¡Œå›æº¯ç®—æ³•
backtrack(nums, used, new ArrayList<>()list, res);
return res;
    }

   public void backtrack(int[] nums, boolean[] used, List<Integer> tempList, List<List<Integer>> res) {
//å¦‚æœæ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ éƒ½ä½¿ç”¨å®Œäº†ï¼Œç±»ä¼¼äºåˆ°äº†å¶å­èŠ‚ç‚¹ï¼Œ
//æˆ‘ä»¬ç›´æ¥æŠŠä»æ ¹èŠ‚ç‚¹åˆ°å½“å‰å¶å­èŠ‚ç‚¹è¿™æ¡è·¯å¾„çš„å…ƒç´ åŠ å…¥
//åˆ°é›†åˆresä¸­
if (tempList.size() == nums.length) {
res.add(new ArrayList<>(tempList));
return;
}
//éå†æ•°ç»„ä¸­çš„å…ƒç´ ï¼Œæ³¨æ„æ˜¯ä»0å¼€å§‹éå†çš„
for (int i = 0; i < nums.length; i++) {
//å¦‚æœå·²ç»è¢«ä½¿ç”¨è¿‡ï¼Œåˆ™ç›´æ¥è·³è¿‡
if (used[i])
continue;
//æ³¨æ„ï¼Œè¿™é‡Œè¦å‰ªæ‰é‡å¤çš„ç»„åˆ å¦åˆ™ä¼šæœ‰å¤§é‡çš„é‡å¤æ’åˆ— æ¯”å¦‚1223å’Œ1223ä¸¤ä¸ªç›¸åŒçš„ç»„åˆ
    
//å¦‚æœå½“å‰å…ƒç´ å’Œå‰ä¸€ä¸ªä¸€æ ·ï¼Œå¹¶ä¸”å‰ä¸€ä¸ªæ²¡æœ‰è¢«ä½¿ç”¨è¿‡ï¼Œæˆ‘ä»¬ä¹Ÿè·³è¿‡
if (i > 0 && nums[i - 1] == nums[i] && !used[i - 1])
continue;
//å¦åˆ™æˆ‘ä»¬å°±ä½¿ç”¨å½“å‰å…ƒç´ ï¼ŒæŠŠä»–æ ‡è®°ä¸ºå·²ä½¿ç”¨
used[i] = true;
//æŠŠå½“å‰å…ƒç´ nums[i]æ·»åŠ åˆ°tempListä¸­
tempList.add(nums[i]);
//é€’å½’ï¼Œç±»ä¼¼äºnå‰æ ‘çš„éå†ï¼Œç»§ç»­å¾€ä¸‹èµ°
backtrack(nums, used, tempList, res);
//é€’å½’å®Œä¹‹åä¼šå¾€å›èµ°ï¼Œå¾€å›èµ°çš„æ—¶å€™è¦æ’¤é”€é€‰æ‹©
used[i] = false;
tempList.remove(tempList.size() - 1);
}
}
```

## æŒ‰ç…§è¿›ç«™é¡ºåºå‡ºç«™çš„å…¨æ’åˆ—ï¼šç«è½¦è¿›ç«™



ç»™å®šä¸€ä¸ªæ­£æ•´æ•°Nä»£è¡¨ç«è½¦æ•°é‡ï¼Œ0<N<10ï¼Œæ¥ä¸‹æ¥è¾“å…¥ç«è½¦å…¥ç«™çš„åºåˆ—ï¼Œä¸€å…±Nè¾†ç«è½¦ï¼Œæ¯è¾†ç«è½¦ä»¥æ•°å­—1-9ç¼–å·ï¼Œç«è½¦ç«™åªæœ‰ä¸€ä¸ªæ–¹å‘è¿›å‡ºï¼ŒåŒæ—¶åœé åœ¨ç«è½¦ç«™çš„åˆ—è½¦ä¸­ï¼Œåªæœ‰åè¿›ç«™çš„å‡ºç«™äº†ï¼Œå…ˆè¿›ç«™çš„æ‰èƒ½å‡ºç«™ã€‚

è¦æ±‚è¾“å‡ºæ‰€æœ‰ç«è½¦å‡ºç«™çš„æ–¹æ¡ˆï¼Œä»¥å­—å…¸åºæ’åºè¾“å‡ºã€‚

æ•°æ®èŒƒå›´ï¼š1â‰¤*n*â‰¤10 

ç¬¬ä¸€è¡Œè¾“å…¥ä¸€ä¸ªæ­£æ•´æ•°Nï¼ˆ0 < N <= 10ï¼‰ï¼Œç¬¬äºŒè¡ŒåŒ…æ‹¬Nä¸ªæ­£æ•´æ•°ï¼ŒèŒƒå›´ä¸º1åˆ°10ã€‚



è¾“å‡ºä»¥å­—å…¸åºä»å°åˆ°å¤§æ’åºçš„ç«è½¦å‡ºç«™åºåˆ—å·ï¼Œæ¯ä¸ªç¼–å·ä»¥ç©ºæ ¼éš”å¼€ï¼Œæ¯ä¸ªè¾“å‡ºåºåˆ—æ¢è¡Œï¼Œå…·ä½“è§sampleã€‚



-------

```java
  static List<String>ans=new ArrayList<>();
    public static void main(String[] args) {
        Scanner in = new Scanner(System.in);
        // æ³¨æ„ hasNext å’Œ hasNextLine çš„åŒºåˆ«
       int n=in.nextInt();
       int[]arr=new int[n];
       for(int i=0;i<n;i++)
       arr[i]=in.nextInt();
     Stack<Integer>st=new Stack<>();
       dfs(arr,0,"",st,0);
    Collections.sort(ans);
    for(String s:ans)
    {
    
        System.out.println(s);
         
    }
    }
   public static void dfs(int[]arr, int begin, String cur, Stack<Integer> st,int len)
    {
        if(len==arr.length)
            ans.add(cur.toString());
    if(!st.isEmpty())
    {
        int temp=st.pop();
     //   cur.append(String.valueOf(temp)).append(" ");
     //æ³¨æ„è¿™é‡Œä¸èƒ½ä¿®æ”¹cur,å› ä¸ºåé¢çš„åˆ¤æ–­è¿˜ä¼šç”¨åˆ°curå˜é‡ï¼Œå› æ­¤åªèƒ½åœ¨å‚æ•°é‡Œé¢ä¿®æ”¹
        dfs(arr,begin,cur+temp+" ",st,len+1);
        st.push(temp);
    }
    if(begin<arr.length)
    {
        st.push(arr[begin]);
        dfs(arr,begin+1,cur,st,len);
        st.pop();
    }
    }
    
```



## å›æº¯ä¹‹å¯»æ‰¾ä¸€ä¸ªæ•°ç»„çš„æ‰€æœ‰å­é›†

ä¸€ä¸ªæ•°ç»„çš„æ‰€æœ‰å­é›†ï¼Œnä¸ªå…ƒç´ æœ‰2çš„næ¬¡æ–¹ä¸ªå­é›†

![image-20220126202232146](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220126202232146.png)

![image-20220126202304018](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220126202304018.png)

```java
class Solution {
    List<Integer> t = new ArrayList<Integer>();
    List<List<Integer>> ans = new ArrayList<List<Integer>>();

    public List<List<Integer>> subsets(int[] nums) {
        dfs(0, nums);
        return ans;
    }

    public void dfs(int cur, int[] nums) {
        if (cur == nums.length) {
            ans.add(new ArrayList<Integer>(t));
            return;
        }
        t.add(nums[cur]);
        dfs(cur + 1, nums);
        t.remove(t.size() - 1);
        dfs(cur + 1, nums);
    }
}


```



## å›æº¯ä¹‹æ‰¾åˆ°æ‰€æœ‰é€’å¢å­åºåˆ— 491

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` ï¼Œæ‰¾å‡ºå¹¶è¿”å›æ‰€æœ‰è¯¥æ•°ç»„ä¸­ä¸åŒçš„é€’å¢å­åºåˆ—ï¼Œé€’å¢å­åºåˆ—ä¸­ **è‡³å°‘æœ‰ä¸¤ä¸ªå…ƒç´ ** ã€‚ä½ å¯ä»¥æŒ‰ **ä»»æ„é¡ºåº** è¿”å›ç­”æ¡ˆã€‚

è¾“å…¥ï¼šnums = [4,6,7,7]
è¾“å‡ºï¼š[[4,6],[4,6,7],[4,6,7,7],[4,7],[4,7,7],[6,7],[6,7,7],[7,7]]

-----

```java
List<List<Integer>> ans = new ArrayList<List<Integer>>();
List<Integer> temp = new ArrayList<Integer>();
public void dfs(int cur, int[] nums) {
    if (cur == nums.length) {
        // åˆ¤æ–­æ˜¯å¦åˆæ³•ï¼Œå¦‚æœåˆæ³•åˆ¤æ–­æ˜¯å¦é‡å¤ï¼Œå°†æ»¡è¶³æ¡ä»¶çš„åŠ å…¥ç­”æ¡ˆ
        if (isValid() && notVisited()) {
            ans.add(new ArrayList<Integer>(temp));
        }
        return;
    }
    // å¦‚æœé€‰æ‹©å½“å‰å…ƒç´ 
    temp.add(nums[cur]);
    dfs(cur + 1, nums);
    temp.remove(temp.size() - 1);
    // å¦‚æœä¸é€‰æ‹©å½“å‰å…ƒç´ 
    dfs(cur + 1, nums);
}
```

è¿™æ˜¯ä¸€ä¸ªé€’å½’æšä¸¾å­åºåˆ—çš„é€šç”¨æ¨¡æ¿ï¼Œå³ç”¨ä¸€ä¸ªä¸´æ—¶æ•°ç»„ temp æ¥ä¿å­˜å½“å‰é€‰å‡ºçš„å­åºåˆ—ï¼Œä½¿ç”¨ cur æ¥è¡¨ç¤ºå½“å‰ä½ç½®çš„ä¸‹æ ‡ï¼Œåœ¨ dfs(cur, nums) å¼€å§‹ä¹‹å‰ï¼Œ\[0,curâˆ’1] è¿™ä¸ªåŒºé—´å†…çš„æ‰€æœ‰å…ƒç´ éƒ½å·²ç»è¢«è€ƒè™‘è¿‡ï¼Œè€Œ \[cur,n] è¿™ä¸ªåŒºé—´å†…çš„å…ƒç´ è¿˜æœªè¢«è€ƒè™‘ã€‚åœ¨æ‰§è¡Œ dfs(cur, nums) æ—¶ï¼Œæˆ‘ä»¬è€ƒè™‘ cur è¿™ä¸ªä½ç½®é€‰æˆ–è€…ä¸é€‰ï¼Œå¦‚æœé€‰æ‹©å½“å‰å…ƒç´ ï¼Œé‚£ä¹ˆæŠŠå½“å‰å…ƒç´ åŠ å…¥åˆ° temp ä¸­ï¼Œç„¶åé€’å½’ä¸‹ä¸€ä¸ªä½ç½®ï¼Œåœ¨é€’å½’ç»“æŸåï¼Œåº”å½“æŠŠtemp çš„æœ€åä¸€ä¸ªå…ƒç´ åˆ é™¤è¿›è¡Œå›æº¯ï¼›å¦‚æœä¸é€‰å½“å‰çš„å…ƒç´ ï¼Œç›´æ¥é€’å½’ä¸‹ä¸€ä¸ªä½ç½®ã€‚

![image-20220209131721041](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220209131721041.png)

å®Œæ•´ä»£ç ï¼š

```java
  List<List<Integer>>  ans = new ArrayList<>();
    List<Integer>temp = new ArrayList<>();

    public List<List<Integer>> findSubsequences(int[] nums) {
dfs(nums,0,Integer.MIN_VALUE);
return ans;
    }
    public void dfs(int[]nums,int cur,int last)
    {
        if(cur == nums.length)
        {
            if(temp.size()>=2)
            ans.add(new ArrayList<>(temp));
            return;
        }

        if(nums[cur]>=last)
        {
            temp.add(nums[cur]);
            dfs(nums,cur+1,nums[cur]);
            temp.remove(temp.size()-1);
        }
        // å¦‚æœä¸é€‰æ‹©å½“å‰å…ƒç´ 
        if(nums[cur]!=last)//å…³é”®æ˜¯è¿™ä¸ªï¼Œæ—¢è¦é˜²æ­¢å‡ºç°é‡å¤ï¼Œåˆè¦åšåˆ°ä¸é€‰æ‹©nums[cur]è¿›è¡Œä¸‹ä¸€è½®é€‰æ‹©
        dfs(nums,cur+1,last);
    }
```





## å›æº¯ä¹‹å…«çš‡åé—®é¢˜ï¼š



åœ¨æ£‹ç›˜ä¸Šæ”¾ç½®8ä¸ªçš‡åï¼Œä½¿å¾—å®ƒä»¬äº’ä¸æ”»å‡»ï¼Œæ­¤æ—¶æ¯ä¸ªçš‡åçš„æ”»å‡»èŒƒå›´ä¸ºåŒè¡ŒåŒåˆ—å’ŒåŒå¯¹è§’çº¿ï¼Œè¦æ±‚æ‰¾å‡ºæ‰€æœ‰è§£

æœ€ç®€å•çš„æ€è·¯æ˜¯æŠŠé—®é¢˜è½¬åŒ–ä¸ºâ€œä»64ä¸ªæ ¼å­ä¸­é€‰ä¸€ä¸ªå­é›†â€ï¼Œä½¿å¾—â€œå­é›†ä¸­æ°å¥½æœ‰8ä¸ªæ ¼å­ï¼Œä¸”ä»»æ„ä¸¤ä¸ªé€‰å‡ºçš„æ ¼å­éƒ½ä¸åœ¨åŒä¸€è¡Œã€åŒä¸€åˆ—æˆ–åŒä¸€ä¸ªå¯¹è§’çº¿ä¸Šâ€ã€‚è¿™æ­£æ˜¯å­é›†æšä¸¾é—®é¢˜ã€‚ç„¶è€Œï¼Œ64ä¸ªæ ¼å­çš„å­é›†æœ‰264ä¸ªï¼Œå¤ªå¤§äº†ï¼Œè¿™å¹¶ä¸æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„æ¨¡å‹ã€‚
ç¬¬äºŒä¸ªæ€è·¯æ˜¯æŠŠé—®é¢˜è½¬åŒ–ä¸ºâ€œä»64ä¸ªæ ¼å­ä¸­é€‰8ä¸ªæ ¼å­â€ï¼Œè¿™æ˜¯ç»„åˆç”Ÿæˆé—®é¢˜ã€‚æ ¹æ®ç»„åˆæ•°å­¦ï¼Œæœ‰![image-20210730145359444](C:\Users\14172\AppData\Roaming\Typora\typora-user-images\image-20210730145359444.png)ç§æ–¹æ¡ˆï¼Œæ¯”ç¬¬ä¸€ç§æ–¹æ¡ˆä¼˜ç§€ï¼Œä½†ä»ç„¶ä¸å¤Ÿå¥½ã€‚
ç»è¿‡æ€è€ƒï¼Œä¸éš¾å‘ç°ä»¥ä¸‹äº‹å®ï¼šæ°å¥½æ¯è¡Œæ¯åˆ—å„æ”¾ç½®ä¸€ä¸ªçš‡åã€‚å¦‚æœç”¨C[x]è¡¨ç¤ºç¬¬xè¡Œçš‡åçš„åˆ—ç¼–å·ï¼Œåˆ™é—®é¢˜å˜æˆäº†å…¨æ’åˆ—ç”Ÿæˆé—®é¢˜ã€‚è€Œ0ï½7çš„æ’åˆ—ä¸€å…±åªæœ‰8!=40320ä¸ªï¼Œæšä¸¾é‡ä¸ä¼šè¶…è¿‡å®ƒã€‚



![image-20210730144315485](C:\Users\14172\AppData\Roaming\Typora\typora-user-images\image-20210730144315485.png)

å›¾7-5ä¸­ç»™å‡ºäº†å››çš‡åé—®é¢˜çš„å®Œæ•´è§£ç­”æ ‘ã€‚å®ƒåªæœ‰17ä¸ªç»“ç‚¹ï¼Œæ¯”4!=24å°ã€‚ä¸ºä»€ä¹ˆä¼šè¿™æ ·å‘¢ï¼Ÿè¿™æ˜¯å› ä¸ºæœ‰äº›ç»“ç‚¹æ— æ³•ç»§ç»­æ‰©å±•ã€‚ä¾‹å¦‚ï¼Œåœ¨(0,2,*,*)ä¸­ï¼Œç¬¬2è¡Œæ— è®ºå°†çš‡åæ”¾åˆ°å“ªé‡Œï¼Œéƒ½ä¼šå’Œç¬¬0è¡Œå’Œç¬¬1è¡Œä¸­å·²æ”¾å¥½çš„çš‡åå‘ç”Ÿå†²çªï¼Œå…¶ä»–è¿˜æœªæ”¾ç½®çš„çš‡åæ›´æ˜¯å¦‚æ­¤ã€‚

**åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œé€’å½’å‡½æ•°å°†ä¸å†é€’å½’è°ƒç”¨å®ƒè‡ªèº«ï¼Œè€Œæ˜¯è¿”å›ä¸Šä¸€å±‚è°ƒç”¨ï¼Œè¿™ç§ç°è±¡ç§°ä¸ºå›æº¯ï¼ˆbacktrackingï¼‰ã€‚**

æç¤º7-10ï¼šå½“æŠŠé—®é¢˜åˆ†æˆè‹¥å¹²æ­¥éª¤å¹¶é€’å½’æ±‚è§£æ—¶ï¼Œå¦‚æœå½“å‰æ­¥éª¤æ²¡æœ‰åˆæ³•é€‰æ‹©ï¼Œåˆ™å‡½æ•°å°†è¿”å›ä¸Šä¸€çº§é€’å½’è°ƒç”¨ï¼Œè¿™ç§ç°è±¡ç§°ä¸ºå›æº¯ã€‚æ­£æ˜¯å› ä¸ºè¿™ä¸ªåŸå› ï¼Œé€’å½’æšä¸¾ç®—æ³•å¸¸è¢«ç§°ä¸ºå›æº¯æ³•ï¼Œåº”ç”¨ååˆ†æ™®éã€‚

ä¸‹é¢çš„ç¨‹åºç®€æ´åœ°æ±‚è§£äº†å…«çš‡åé—®é¢˜ã€‚åœ¨ä¸»ç¨‹åºä¸­è¯»å…¥nï¼Œå¹¶ä¸ºtotæ¸…é›¶ï¼Œç„¶åè°ƒç”¨search(0)ï¼Œå³å¯å¾—åˆ°è§£çš„ä¸ªæ•°totã€‚



æ³¨æ„ï¼šæ—¢ç„¶æ˜¯é€è¡Œæ”¾ç½®çš„ï¼Œåˆ™çš‡åè‚¯å®šä¸ä¼šæ¨ªå‘æ”»å‡»ï¼Œå› æ­¤åªéœ€æ£€æŸ¥æ˜¯å¦çºµå‘å’Œæ–œå‘æ”»å‡»å³å¯ã€‚æ¡ä»¶â€œcur-C[cur] == j-C[j] || cur+C[cur] == j+C[j]â€ç”¨æ¥åˆ¤æ–­çš‡å(cur,C[cur])å’Œ(j,C[j])æ˜¯å¦åœ¨åŒä¸€æ¡å¯¹è§’çº¿ä¸Šã€‚å…¶åŸç†å¯ä»¥ç”¨å›¾æ¥è¯´æ˜ã€‚

![image-20210730152120304](C:\Users\14172\AppData\Roaming\Typora\typora-user-images\image-20210730152120304.png)

ç¨‹åºæ•ˆç‡å¯ä»¥ç»§ç»­æé«˜ï¼šåˆ©ç”¨äºŒç»´æ•°ç»„vis\[2][ ]ç›´æ¥åˆ¤æ–­å½“å‰å°è¯•çš„çš‡åæ‰€åœ¨çš„åˆ—å’Œä¸¤ä¸ªå¯¹è§’çº¿æ˜¯å¦å·²æœ‰å…¶ä»–çš‡åã€‚æ³¨æ„åˆ°ä¸»å¯¹è§’çº¿æ ‡è¯†y-xå¯èƒ½ä¸ºè´Ÿï¼Œå­˜å–æ—¶è¦åŠ ä¸Šnã€‚

```c
void search(int cur) {
if(cur == n) tot++;
else for(int i = 0; i < n; i++) {
if(!vis[0][i] && !vis[1][cur+i] && !vis[2][cur-i+n]) {
//åˆ©ç”¨äºŒç»´æ•°ç»„ç›´æ¥åˆ¤æ–­
C[cur] = i; //å¦‚æœä¸ç”¨æ‰“å°è§£ï¼Œæ•´ä¸ªCæ•°ç»„éƒ½å¯ä»¥çœç•¥
vis[0][i] = vis[1][cur+i] = vis[2][cur-i+n] = 1; //ä¿®æ”¹å…¨å±€å˜é‡
search(cur+1);
vis[0][i] = vis[1][cur+i] = vis[2][cur-i+n] = 0; //åˆ‡è®°ï¼ä¸€å®šè¦æ”¹å›æ¥
}
}
```

**ä¸€èˆ¬åœ°ï¼Œå¦‚æœåœ¨å›æº¯æ³•ä¸­ä¿®æ”¹äº†è¾…åŠ©çš„å…¨å±€å˜é‡ï¼Œåˆ™ä¸€å®šè¦åŠ**
**æ—¶æŠŠå®ƒä»¬æ¢å¤åŸçŠ¶ï¼ˆé™¤éæ•…æ„ä¿ç•™æ‰€åšä¿®æ”¹ï¼‰**

å¦ä¸€ç§å†™æ³•ï¼šï¼ˆjavaç‰ˆæœ¬ï¼‰

```c++
 List<List<String>> res = new ArrayList<>();

    /* è¾“å…¥æ£‹ç›˜çš„è¾¹é•¿nï¼Œè¿”å›æ‰€æœ‰åˆæ³•çš„æ”¾ç½® */
    public List<List<String>> solveNQueens(int n) {
  char[][] board = new char[n][n];
        for (char[] c : board) {
            Arrays.fill(c, '.');
        }
           backtrack(board, 0);
        return res;
    }
      public void backtrack(char[][] board, int row) {
        // æ¯ä¸€è¡Œéƒ½æˆåŠŸæ”¾ç½®äº†çš‡åï¼Œè®°å½•ç»“æœ
        if (row == board.length) {
            res.add(charToList(board));  
            return;
        }
    int n = board[row].length;
        // åœ¨å½“å‰è¡Œçš„æ¯ä¸€åˆ—éƒ½å¯èƒ½æ”¾ç½®çš‡å
        for (int col = 0; col < n; col++) {
            // æ’é™¤å¯ä»¥ç›¸äº’æ”»å‡»çš„æ ¼å­
            if (!isValid(board, row, col)) {
                continue;
            }
            // åšé€‰æ‹©
            board[row][col] = 'Q';
            // è¿›å…¥ä¸‹ä¸€è¡Œæ”¾çš‡å
            backtrack(board, row + 1);
            // æ’¤é”€é€‰æ‹©
            board[row][col] = '.';
        }
      }
  /* åˆ¤æ–­æ˜¯å¦å¯ä»¥åœ¨ board[row][col] æ”¾ç½®çš‡å */
    public boolean isValid(char[][] board, int row, int col) {
        int n = board.length;
        // æ£€æŸ¥åˆ—æ˜¯å¦æœ‰çš‡åå†²çª
        for (int i = 0; i < n; i++) {
            if (board[i][col] == 'Q') {
                return false;
            }
        }

        // æ£€æŸ¥å³ä¸Šæ–¹æ˜¯å¦æœ‰çš‡åå†²çª
        for (int i = row - 1, j = col + 1; i >=0 && j < n; i--, j++) {
            if (board[i][j] == 'Q') {
                return false;
            }
        }

        // æ£€æŸ¥å·¦ä¸Šæ–¹æ˜¯å¦æœ‰çš‡åå†²çª
        for (int i = row - 1, j = col - 1; i >= 0 && j >= 0; i--, j--) {
            if (board[i][j] == 'Q') {
                return false;
            }
        }
        return true;
    }
    public List charToList(char[][] board) {
        List<String> list = new ArrayList<>();

        for (char[] c : board) {
            list.add(String.copyValueOf(c));
        }//è¿™ç§å†™æ³•æ¯”ä¸¤ä¸ªForå¾ªç¯è¦å¿«å¾ˆå¤š
        return list;
    }
```

public static *String* *copyValueOf*(char[] data): è¿”å›æŒ‡å®šæ•°ç»„ä¸­è¡¨ç¤ºè¯¥å­—ç¬¦åºåˆ—çš„å­—ç¬¦ä¸²ã€‚ 

å›æº¯ç®—æ³•å°±æ˜¯ä¸ªå¤šå‰æ ‘çš„éå†é—®é¢˜ï¼Œå…³é”®å°±æ˜¯åœ¨å‰åºéå†å’Œååºéå†çš„ä½ç½®
åšâ¼€äº›æ“ä½œï¼Œç®—æ³•æ¡†æ¶å¦‚ä¸‹ï¼š
def backtrack(...):
for é€‰æ‹© in é€‰æ‹©åˆ—è¡¨:
åšé€‰æ‹©
backtrack(...)
æ’¤é”€é€‰æ‹©

å†™ backtrack å‡½æ•°æ—¶ï¼Œéœ€è¦ç»´æŠ¤â¾›è¿‡çš„ã€Œè·¯å¾„ã€å’Œå½“å‰å¯ä»¥åšçš„ã€Œé€‰æ‹©åˆ—
è¡¨ã€ï¼Œå½“è§¦å‘ã€Œç»“æŸæ¡ä»¶ã€æ—¶ï¼Œå°†ã€Œè·¯å¾„ã€è®°â¼Šç»“æœé›†ã€‚

![image-20211213204802151](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20211213204802151.png)

}

}

return true;}

##  40.ç»„åˆæ€»å’ŒIIå’Œä¸ºkçš„æ‰€æœ‰ç»„åˆ

ç»™å®šä¸€ä¸ªæ•°ç»„ candidates å’Œä¸€ä¸ªç›®æ ‡æ•° target ï¼Œæ‰¾å‡º candidates ä¸­æ‰€æœ‰å¯ä»¥ä½¿æ•°å­—å’Œä¸º target çš„ç»„åˆã€‚

candidates ä¸­çš„æ¯ä¸ªæ•°å­—åœ¨æ¯ä¸ªç»„åˆä¸­åªèƒ½ä½¿ç”¨ä¸€æ¬¡ã€‚

è¯´æ˜ï¼š æ‰€æœ‰æ•°å­—ï¼ˆåŒ…æ‹¬ç›®æ ‡æ•°ï¼‰éƒ½æ˜¯æ­£æ•´æ•°ã€‚è§£é›†ä¸èƒ½åŒ…å«é‡å¤çš„ç»„åˆã€‚

- ç¤ºä¾‹ 1:
- è¾“å…¥: candidates = [10,1,2,7,6,1,5], target = 8,
- æ‰€æ±‚è§£é›†ä¸º:

```text
[
  [1, 7],
  [1, 2, 5],
  [2, 6],
  [1, 1, 6]
]
```

--------

æ³¨æ„è¿™é‡Œé¢˜ç›®ä¸­è¯´äº†æ¯ä¸ªæ•°å­—åªèƒ½ç”¨ä¸€æ¬¡ï¼Œå› æ­¤åªéœ€è¦åˆ¤æ–­è¿™ä¸ªæ•°å­—è·Ÿå‰ä¸€ä¸ªæ˜¯å¦ç›¸ç­‰å°±è¡Œï¼Œä¸éœ€è¦åˆ¤æ–­æ˜¯å¦å·²ç»ä½¿ç”¨è¿‡

é€’å½’é€»è¾‘ï¼š

```java
  private  void backtrack(
        List<Integer>temp,int[]candidates,int target,int start)
        {
          if(target == 0)
          {
              result.add(new ArrayList<>(temp));
          }
          for(int i = start;i < candidates.length;i++)
          {
              if(candidates[i] > target) continue;//è¿™ä¸ªåˆ¤æ–­ä¸€å®šè¦åŠ ï¼Œä¸ç„¶ä¼šè¶…æ—¶
              if(i > start && candidates[i] == candidates[i-1])
              continue;
              temp.add(candidates[i]);
              backtrack(temp,candidates,target-candidates[i],i+1);
              temp.remove(temp.size()-1);
          }

        }
```





## ç´ æ•°ç¯ï¼ˆPrime Ring Problem, UVa 524ï¼‰ 

æ ·ä¾‹è¾“å…¥ï¼š
6
æ ·ä¾‹è¾“å‡ºï¼š
1 4 3 2 5 6
1 6 5 2 3 4



```c
void dfs(int cur){
if(cur == n && isp[A[0]+A[n-1]]){ //é€’å½’è¾¹ç•Œã€‚åˆ«å¿˜äº†æµ‹è¯•ç¬¬ä¸€ä¸ªæ•°å’Œæœ€åä¸€ä¸ªæ•°
for(int i = 0; i < n; i++) printf("%d ", A[i]); //æ‰“å°æ–¹æ¡ˆ
printf("\n");
}
else for(int i = 2; i <= n; i++) //å°è¯•æ”¾ç½®æ¯ä¸ªæ•°i
if(!vis[i] && isp[i+A[cur-1]]){ //å¦‚æœiæ²¡æœ‰ç”¨è¿‡ï¼Œå¹¶ä¸”ä¸å‰ä¸€ä¸ªæ•°ä¹‹å’Œä¸ºç´ æ•°
A[cur] = i;
vis[i] = 1; //è®¾ç½®ä½¿ç”¨æ ‡å¿—
dfs(cur+1);
vis[i] = 0; //æ¸…é™¤æ ‡å¿—
}
}
```

å›æº¯æ³•æ¯”ç”Ÿæˆ-æµ‹è¯•æ³•å¿«äº†å¾ˆå¤šï¼Œå³ä½¿n=18é€Ÿåº¦ä¹Ÿä¸é”™ã€‚å°†ä¸Šé¢çš„å‡½æ•°åè®¾ä¸ºdfså¹¶ä¸æ˜¯å·§åˆâ€”â€”ä»è§£ç­”æ ‘çš„è§’åº¦è®²ï¼Œå›æº¯æ³•æ­£æ˜¯æŒ‰ç…§æ·±åº¦ä¼˜å…ˆçš„é¡ºåºåœ¨éå†è§£ç­”æ ‘ã€‚åœ¨åé¢çš„å†…å®¹ä¸­ï¼Œè¿˜å°†å­¦ä¹ æ›´å¤šéå†è§£ç­”æ ‘çš„æ–¹æ³•ã€‚

## [å‰‘æŒ‡ Offer II 085. ç”ŸæˆåŒ¹é…çš„æ‹¬å·](https://leetcode-cn.com/problems/IDBivT/)

![image-20211210153326059](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20211210153326059.png)





ä»£ç ï¼š

```java
   List<String> ansstr = new ArrayList<>();
    public List<String> generateParenthesis(int n) {
  List<String> ansstr = new ArrayList<>();
        StringBuilder sb = new StringBuilder("(");


        backtrack(sb,n-1,n,ansstr);
        return ansstr;
    }

    private void backtrack(StringBuilder sb, int leftcount,int rightcount, List<String> ansstr) {
        if(leftcount == 0 && rightcount == 0)
            ansstr.add(sb.toString());
        if(leftcount >0)
        {
           sb.append("(");
               backtrack(sb,leftcount-1,rightcount,ansstr);
sb.deleteCharAt(sb.length()-1);
        }
        if(leftcount <rightcount)
        {
            sb.append(")");
            backtrack(sb,leftcount,rightcount-1,ansstr);
            sb.deleteCharAt(sb.length()-1);
        }
        }
```



## [17. ç”µè¯å·ç çš„å­—æ¯ç»„åˆ](https://leetcode-cn.com/problems/letter-combinations-of-a-phone-number/)

![image-20211214110722798](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20211214110722798.png)



å›æº¯æ³•ï¼š

```java
public List<String> letterCombinations(String digits) {
   List<String> combinations = new ArrayList<String>();
        if (digits.length() == 0) {
            return combinations;
        }
        Map<Character, String> phoneMap = new HashMap<Character, String>() {{
            put('2', "abc");
            put('3', "def");
            put('4', "ghi");
            put('5', "jkl");
            put('6', "mno");
            put('7', "pqrs");
            put('8', "tuv");
            put('9', "wxyz");
        }};

backtrack(combinations,phoneMap,digits,0,new StringBuilder());
return combinations;
    }

    private void backtrack(List<String> combinations, Map<Character, String> phoneMap, String digits,int index, StringBuilder stringBuilder) {
   if(index == digits.length())
   {
       combinations.add(stringBuilder.toString());
   }
   else {
       char arr = digits.charAt(index);//ç¬¬indexä½ç½®ä¸Šçš„æ•°å­—
       String letters = phoneMap.get(arr);//è¿™ä¸ªæ•°å­—å¯¹åº”çš„å­—æ¯
       for (int i = 0; i < letters.length(); i++) {
           stringBuilder.append(letters.charAt(i));//è·å¾—è¿™ä¸ªå­—ç¬¦ä¸²ç¬¬iä½ç½®çš„å­—æ¯
           backtrack(combinations,phoneMap,digits,index+1,stringBuilder);//é€’å½’
           stringBuilder.deleteCharAt(stringBuilder.length()-1);//ç§»é™¤æœ€åä¸€ä¸ªå­—æ¯
       }

   }
       


```



## ç«æŸ´æ‹¼æ­£æ–¹å½¢

![image-20211224011531282](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20211224011531282.png)





```java

public boolean makesquare(int[] matchsticks) {

int total = 0;
  for(int i:matchsticks)

{
 total += i;
}
if(total% 4 != 0) {
//å¦‚æœæ‰€æœ‰ç«æŸ´çš„é•¿åº¦ä¸æ˜¯4çš„å€æ•°ï¼Œç›´æ¥è¿”å›false
  return false;
    }
   int[]size = new int[4];

   Arrays.sort(matchsticks);
    return backtrack(matchsticks,matchsticks.length-1,total>>2,size);

  }

   private boolean backtrack(int[] matchsticks, int index, int total, int[] size) {
    if(index== -1) {
//å¦‚æœç«æŸ´éƒ½è®¿é—®å®Œäº†ï¼Œå¹¶ä¸”sizeçš„4ä¸ªè¾¹çš„é•¿åº¦éƒ½ç›¸ç­‰ï¼Œè¯´æ˜æ˜¯æ­£æ–¹å½¢ï¼Œç›´æ¥è¿”å›trueï¼Œ
//å¦åˆ™è¿”å›false
      if (size[1] == size[0] && size[1] == size[2] && size[2] == size[3])

       return true;
    return false;
  }
 for (int i = 0; i < size.length; i++) {
 if(size[i]+matchsticks[index] > total)
  continue;
  size[i] += matchsticks[index];
 if( backtrack(matchsticks,index-1,total,size))
 return true;
 size[i] -=matchsticks[index];
}
 return false;

  }


```

![image-20211224011813902](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20211224011813902.png)

-----

æ³¨æ„ï¼Œä¹Ÿå¯ä»¥ç”¨ä¸‹é¢çš„æ–¹æ³•ï¼Œä¸”ä¸‹é¢çš„æ–¹æ³•æ›´å¥½ç†è§£ï¼š

```java
boolean[]used;
    public boolean makesquare(int[] matchsticks) {
int[]nums = matchsticks;
        int sum=0;
        int k = 4;
       used=new boolean[nums.length];
        Arrays.sort(nums);
        for(int i=0;i<nums.length;i++)
        {
            sum+=nums[i];
        }
        if(sum%k!=0)
            return false;
        int target=sum/k;
        if(nums[nums.length-1]>target)
            return false;
        return dfs(nums,nums.length-1,target,k,0);
    }
public boolean dfs(int[]nums,int index,int sum,int k,int cursum)
    {
        if(k==1) return true;
      
        if(sum == cursum)
        {
          return  dfs(nums, nums.length-1,sum,k-1,0);//ä»ç„¶è¦ä»num.length-1å¼€å§‹é€’å½’ï¼Œå› ä¸ºå¹¶ä¸æ˜¯ç”¨è¿‡çš„å…ƒç´ éƒ½é›†ä¸­åˆ°æœ€åå‡ ä¸ªäº†ï¼Œä¹Ÿæœ‰å¯èƒ½æœ€å‰é¢çš„ä¸æœ€åé¢çš„è¿›è¡Œç»„åˆ
        }
        for(int i = index;i>=0;i--)
        {
              if(used[i]) continue;//å¦‚æœç”¨è¿‡è¿™ä¸ªå…ƒç´ å°±è·³è¿‡ï¼Œä¸é€‰è¿™ä¸ª
            if(cursum+nums[i]>sum)
            continue;
         
            used[i] = true;
            if(dfs(nums,i-1, sum ,k, cursum +nums[i]))
            return true;
            used[i] = false;
        
        }
        return false;
      
    }
```



## [698. åˆ’åˆ†ä¸ºkä¸ªç›¸ç­‰çš„å­é›†](https://leetcode-cn.com/problems/partition-to-k-equal-sum-subsets/)

éš¾åº¦ä¸­ç­‰497

ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` å’Œä¸€ä¸ªæ­£æ•´æ•° `k`ï¼Œæ‰¾å‡ºæ˜¯å¦æœ‰å¯èƒ½æŠŠè¿™ä¸ªæ•°ç»„åˆ†æˆ `k` ä¸ªéç©ºå­é›†ï¼Œå…¶æ€»å’Œéƒ½ç›¸ç­‰ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼š nums = [4, 3, 2, 3, 5, 2, 1], k = 4
è¾“å‡ºï¼š True
è¯´æ˜ï¼š æœ‰å¯èƒ½å°†å…¶åˆ†æˆ 4 ä¸ªå­é›†ï¼ˆ5ï¼‰ï¼Œï¼ˆ1,4ï¼‰ï¼Œï¼ˆ2,3ï¼‰ï¼Œï¼ˆ2,3ï¼‰ç­‰äºæ€»å’Œã€‚
```

---

è¿™ä¸ªé¢˜è·Ÿç«æŸ´é¢˜åŸºæœ¬æ˜¯å®Œå…¨ä¸€æ ·çš„ï¼Œä»£ç éƒ½ä¸ç”¨æ”¹

```java
public boolean canPartitionKSubsets(int[] nums, int k) {
        int sum=0;
       used=new boolean[nums.length];
        Arrays.sort(nums);
        for(int i=0;i<nums.length;i++)
        {
            sum+=nums[i];
        }
        if(sum%k!=0)
            return false;
        int target=sum/k;
        if(nums[nums.length-1]>target)
            return false;
        return dfs(nums,nums.length-1,target,k,0);
    }
public boolean dfs(int[]nums,int index,int sum,int k,int cursum)
    {
        if(k==1) return true;
      
        if(sum == cursum)
        {
          return  dfs(nums, nums.length-1,sum,k-1,0);//ä»ç„¶è¦ä»num.length-1å¼€å§‹é€’å½’ï¼Œå› ä¸ºå¹¶ä¸æ˜¯ç”¨è¿‡çš„å…ƒç´ éƒ½é›†ä¸­åˆ°æœ€åå‡ ä¸ªäº†ï¼Œä¹Ÿæœ‰å¯èƒ½æœ€å‰é¢çš„ä¸æœ€åé¢çš„è¿›è¡Œç»„åˆ
        }
        for(int i = index;i>=0;i--)
        {
              if(used[i]) continue;//å¦‚æœç”¨è¿‡è¿™ä¸ªå…ƒç´ å°±è·³è¿‡ï¼Œä¸é€‰è¿™ä¸ª
            if(cursum+nums[i]>sum)
            continue;
         
            used[i] = true;
            if(dfs(nums,i-1, sum ,k, cursum +nums[i]))
            return true;
            used[i] = false;
        
        }
        return false;
      
    }
```



## å­—ç¬¦çš„å…¨éƒ¨æ’åˆ—æ•°

![image-20211224015553477](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20211224015553477.png)

![image-20211224015734538](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20211224015734538.png)

å‰é¢ä»‹ç»çš„å‡ ä¸ªç»„åˆçš„å›æº¯ç®—æ³•ï¼Œ å› ä¸ºç»“æœä¸èƒ½æœ‰é‡å¤çš„ï¼ˆ æ¯”å¦‚[ 1 ï¼Œ 3 ] å’Œ[ 3 ï¼Œ 1 ] è¢«è®¤ä¸º
æ˜¯é‡å¤çš„ç»“æœï¼‰ ï¼Œ æ‰€ä»¥æ¯æ¬¡é€‰æ‹©çš„æ—¶å€™éƒ½åªèƒ½ä»å‰å¾€åé€‰ã€‚ä½†è¿™é¢˜ä¸­å­é›†[ A ï¼Œ B ] å’Œ[ B ï¼Œ
A ] è¢«è®¤ä¸ºæ˜¯ä¸¤ç§ä¸åŒçš„ç»“æœï¼Œ æ‰€ä»¥æ¯æ¬¡éƒ½è¦ä»å¤´å¼€å§‹é€‰æ‹©ï¼Œ å› ä¸ºæ¯ä¸ªå­—ç¬¦åªèƒ½è¢«ä½¿ç”¨ä¸€
æ¬¡ï¼Œ æ‰€ä»¥å¦‚æœä½¿ç”¨ä¹‹åä¸‹æ¬¡å°±ä¸èƒ½å†ä½¿ç”¨äº†ï¼Œ è¿™é‡Œå¯ä»¥ä½¿ç”¨ä¸€ä¸ªæ•°ç»„v i s i t æ¥æ ‡è®°æœ‰æ²¡æœ‰
è¢«ä½¿ç”¨ã€‚
ä½†è¿™é‡Œæœ‰ä¸ªéš¾ç‚¹å°±æ˜¯æ€ä¹ˆè¿‡æ»¤æ‰ä¸Šé¢å›¾ä¸­ç°è‰²çš„éƒ¨åˆ†ï¼ˆ ä¹Ÿå°±æ˜¯é‡å¤çš„éƒ¨åˆ†ï¼‰ ã€‚ä¸¾ä¸ªä¾‹
å­ï¼Œ æ¯”å¦‚A B B C D ï¼Œ å¦‚æœæˆ‘ä»¬é€‰æ‹©äº†ç¬¬1 ä¸ªB ï¼Œ é‚£ä¹ˆå‰©ä½™çš„å­—ç¬¦å°±å˜æˆäº†A B C D ï¼Œ è¿™ä¸ªæ—¶
å€™æˆ‘ä»¬å†é€‰æ‹©ç¬¬2 ä¸ªB æ˜¯å¯ä»¥çš„ã€‚ä½†å¦‚æœæˆ‘ä»¬æ²¡é€‰æ‹©ç¬¬1 ä¸ªB ï¼Œ ç›´æ¥é€‰æ‹©ç¬¬2 ä¸ªB ï¼Œ é‚£ä¹ˆå‰©
ä½™çš„å­—ç¬¦å°±æ˜¯A B C D ï¼Œ å’Œä¸Šé¢é‡å¤äº†ã€‚æ‰€ä»¥ä»£ç å¤§è‡´æ˜¯è¿™æ ·çš„
 if (i - 1 >= 0 && chars[i] == chars[i - 1] && !used[i - 1])
continue;

![image-20211224015848797](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20211224015848797.png)

## [842. å°†æ•°ç»„æ‹†åˆ†æˆæ–æ³¢é‚£å¥‘åºåˆ—](https://leetcode-cn.com/problems/split-array-into-fibonacci-sequence/)

éš¾åº¦ä¸­ç­‰

ç»™å®šä¸€ä¸ªæ•°å­—å­—ç¬¦ä¸² `num`ï¼Œæ¯”å¦‚ `"123456579"`ï¼Œæˆ‘ä»¬å¯ä»¥å°†å®ƒåˆ†æˆã€Œæ–æ³¢é‚£å¥‘å¼ã€çš„åºåˆ— `[123, 456, 579]`ã€‚

å½¢å¼ä¸Šï¼Œ**æ–æ³¢é‚£å¥‘å¼** åºåˆ—æ˜¯ä¸€ä¸ªéè´Ÿæ•´æ•°åˆ—è¡¨ `f`ï¼Œä¸”æ»¡è¶³ï¼š

- `0 <= f[i] < 231` ï¼Œï¼ˆä¹Ÿå°±æ˜¯è¯´ï¼Œæ¯ä¸ªæ•´æ•°éƒ½ç¬¦åˆ **32 ä½** æœ‰ç¬¦å·æ•´æ•°ç±»å‹ï¼‰
- `f.length >= 3`
- å¯¹äºæ‰€æœ‰çš„`0 <= i < f.length - 2`ï¼Œéƒ½æœ‰ `f[i] + f[i + 1] = f[i + 2]`

å¦å¤–ï¼Œè¯·æ³¨æ„ï¼Œå°†å­—ç¬¦ä¸²æ‹†åˆ†æˆå°å—æ—¶ï¼Œæ¯ä¸ªå—çš„æ•°å­—ä¸€å®šä¸è¦ä»¥é›¶å¼€å¤´ï¼Œé™¤éè¿™ä¸ªå—æ˜¯æ•°å­— `0` æœ¬èº«ã€‚

è¿”å›ä» `num` æ‹†åˆ†å‡ºæ¥çš„ä»»æ„ä¸€ç»„æ–æ³¢é‚£å¥‘å¼çš„åºåˆ—å—ï¼Œå¦‚æœä¸èƒ½æ‹†åˆ†åˆ™è¿”å› `[]`ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šnum = "1101111"
è¾“å‡ºï¼š[11,0,11,11]
è§£é‡Šï¼šè¾“å‡º[110,1,111]ä¹Ÿå¯ä»¥ã€‚(110+1=111)
```

----

ç”¨å›æº¯æ³•ï¼Œæ¯ä¸ªå­—ç¬¦éƒ½è¿›è¡Œè¯•éªŒ

```java
 List<Integer>ans = new ArrayList<>();

  public List<Integer> splitIntoFibonacci(String num) {
    dfs(ans,num.length(),0,0,0,num);
     return ans;
  }
  public boolean dfs(List<Integer>ans,int len,int index,int sum,int prev,String num)
  {
   if(index == len)
    {
      return ans.size()>=3;
    }
   long curlong = 0;

   for(int i = index;i <len;i++)

   {

      if(i >index && num.charAt(index)=='0') break;//æ¯ä¸ªå—çš„æ•°å­—ä¸€å®šä¸è¦ä»¥é›¶å¼€å¤´ï¼Œé™¤éè¿™ä¸ªå—æ˜¯æ•°å­— 0 æœ¬èº«ã€‚

curlong= curlong*10+num.charAt(i) - '0';

if(curlong >Integer.MAX_VALUE)//åˆ¤æ–­å€¼æ˜¯å¦æº¢å‡º
break; 
int cur = (int)curlong;
if(ans.size()>=2)//ç»“æœé›†ä¸­å…ƒç´ ä¸ªæ•°æ˜¯å¦è¾¾åˆ°è¦æ±‚

{
if(cur > sum)

break;

else if(cur<sum)
continue;
}
 ans.add(cur);

 //æ³¨ï¼šsum=æ­¤æ—¶çš„æ•°+ä¸Šä¸€ä¸ªæ•°å­—ï¼Œè€Œä¸æ˜¯ä¹‹å‰çš„æ‰€æœ‰æ•°å­—

if(dfs(ans,len,i+1,prev+cur,cur,num))

return true;

else

ans.remove(ans.size()-1);    

    }

  return false;

  }
```

## ç»„åˆæ€»æ•°

æ³¨æ„ä¸‹é¢è¿™ä¸ªé¢˜ä¸­æ•°å­—ä¸å¯ä»¥é‡å¤ä½¿ç”¨

![image-20211224134952304](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20211224134952304.png)





è§£ç­”ï¼š

```java
 public List<List<Integer>> combinationSum2(int[] candidates, int target) {
   List<List<Integer>> result = new ArrayList<>();
   Arrays.sort(candidates);//è®°å¾—è¦å…ˆæ’åº
            backtrack(result, new ArrayList<>(), candidates, target,0);
            return result;
        }
        private static void backtrack(List<List<Integer>> result,
        List<Integer>temp,int[]candidates,int target,int start)
        {
            if(target == 0)
            {
                result.add(new ArrayList<>(temp));//å°¤å…¶æ³¨æ„è¿™é‡Œè¦è®°å¾—newä¸€ä¸ªæ•°ç»„ï¼Œå¦åˆ™åˆ é™¤çš„å…¨æ˜¯ç©ºæ•°ç»„
                return;
            }
            for(int i = start;i < candidates.length;i++)
            {
                  //å¦‚æœå½“å‰èŠ‚ç‚¹å¤§äºtargetæˆ‘ä»¬å°±ä¸è¦é€‰äº†
                if(target < candidates[i])
                continue;
                if(i > start && candidates[i] ==candidates[i-1])//å¦‚æœä¸åŠ è¿™ä¸ªåˆ¤æ–­çš„è¯ä¼šå‡ºç°ç›¸åŒçš„ç»„åˆæ•°ï¼Œç­”æ¡ˆä¸å¯¹
                continue;
               
                temp.add(candidates[i]);
 
                backtrack(result,temp, candidates, target - candidates[i],i+1);
                    //å›åˆ°å½“å‰èŠ‚ç‚¹çš„æ—¶å€™æˆ‘ä»¬æŠŠå½“å‰èŠ‚ç‚¹ç»™ç§»é™¤,
     // ç„¶åé€šè¿‡å¾ªç¯èµ°åŒä¸€å±‚çš„å…¶ä»–èŠ‚ç‚¹ã€‚
       //ä¸¾ä¸ªä¾‹å­ï¼Œæ¯”å¦‚ä¸Šé¢å›¾ä¸­ï¼Œæœ€å¼€å§‹çš„æ—¶å€™
       // æˆ‘ä»¬å…ˆé€‰æ‹©2ï¼Œç„¶åæ²¿ç€è¿™ä¸ªåˆ†æ”¯èµ°ä¸‹å»ï¼Œ
       //å½“å›åˆ°å½“å‰åˆ†æ”¯çš„æ—¶å€™æˆ‘ä»¬æŠŠ2ç»™ç§»é™¤ï¼Œç„¶å
        // é€‰æ‹©åŒä¸€å±‚çš„ä¸‹ä¸€ä¸ª3ï¼Œæ²¿ç€è¿™ä¸ªèŠ‚ç‚¹
    //åˆ†æ”¯èµ°ä¸‹å»â€¦â€¦
                temp.remove(temp.size()-1);//æ³¨æ„è¿™é‡Œç›¸å½“äºè¿›è¡Œäº†å›æº¯
            }
        }
```

ç»„åˆæ•°å­—2ï¼š



![image-20211224135421252](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20211224135421252.png)

![image-20211224135608431](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20211224135608431.png)



è¿™ä¸ªé¢˜ä¸­æ¯ä¸ªæ•°å­—å¯ä»¥é‡å¤ä½¿ç”¨ï¼Œè¿™ä¸ä¸Šé¢é¢˜ç›®çš„åŒºåˆ«åœ¨äºï¼šä¸éœ€è¦è¿›è¡Œ if(i > start && candidates[i] ==candidates[i-1])è¿™ä¸ªåˆ¤æ–­ï¼Œä¸”é€’å½’æ—¶  backtrack(result,temp, candidates, target - candidates[i],i+1);ä¸å†æ˜¯i+1è€Œæ˜¯i(è¿™æ ·ä¸‹æ¬¡çš„æ—¶å€™å¯ä»¥å†æ¬¡æŠŠiåŠ å…¥åˆ°æ•°ç»„ä¸­)

ä¸ºä»€ä¹ˆè¦åŠ ä¸€ä¸ªå˜é‡start,ç”¨æ¥ä»è¿™ä¸ªä½ç½®è¿›è¡Œè®¿é—®ï¼šå¦‚æœä¸åŠ startè€Œæ˜¯ç”¨  for (int i = 0; i < candidates.length; i++) ä¼šå‡ºç°[2,3,3],[3,2,3],[3,3,2]

å‡ºç°äº†é‡å¤çš„æ•°æ®ï¼Œ[2,3,3],[3,2,3],[3,3,2]å…¶å®åº”è¯¥åªç®—ä¸€ä¸ªã€‚åœ¨ä¸Šé¢çš„å›¾ä¸­æˆ‘ä»¬åˆ†æè¿‡ï¼Œå¦‚æœé€‰æ‹©äº†åé¢çš„æ•°å­—å°±ä¸èƒ½å†é€‰æ‹©å‰é¢çš„äº†ï¼Œå› ä¸ºè¿™æ ·ä¼šå‡ºç°é‡å¤ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥æ·»åŠ ä¸€ä¸ªå˜é‡startè¡¨ç¤ºè®¿é—®çš„æ•°ç»„ä¸­å…ƒç´ çš„ä½ç½®ï¼Œæˆ‘ä»¬åªèƒ½è®¿é—®startå’Œstartåé¢çš„æ•°å­—

## [77. ç»„åˆ](https://leetcode-cn.com/problems/combinations/)

éš¾åº¦ä¸­ç­‰890

ç»™å®šä¸¤ä¸ªæ•´æ•° `n` å’Œ `k`ï¼Œè¿”å›èŒƒå›´ `[1, n]` ä¸­æ‰€æœ‰å¯èƒ½çš„ `k` ä¸ªæ•°çš„ç»„åˆã€‚

ä½ å¯ä»¥æŒ‰ **ä»»ä½•é¡ºåº** è¿”å›ç­”æ¡ˆã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šn = 4, k = 2
è¾“å‡ºï¼š
[
  [2,4],
  [3,4],
  [2,3],
  [1,2],
  [1,3],
  [1,4],
]
```

-----

```java
 List<List<Integer>>ans = new ArrayList<>();
    public List<List<Integer>> combine(int n, int k) {
        
backtrack(n,k,1,new ArrayList<>());

return ans;
    }
    public void backtrack(int n,int k,int indexnow,List<Integer>temp)
    {
         if (temp.size() + (n - indexnow + 1) < k) {
            return;//åˆ©ç”¨è¿™ä¸ªæ¡ä»¶æ¥åˆ¤é‡
        }
        if(temp.size() == k)
        {
           
            if(!ans.contains(temp))
            ans.add(new ArrayList<>(temp));
            return;
        }
  
                temp.add(indexnow);//é€‰æ‹©å½“å‰ä½ç½®
                backtrack(n,k,indexnow+1,temp);
                temp.remove(temp.size()-1);
             backtrack(n,k,indexnow+1,temp);//ä¸é€‰æ‹©å½“å‰ä½ç½®
        
    }

```

## 78.å­é›†

ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ nums ï¼Œæ•°ç»„ä¸­çš„å…ƒç´  äº’ä¸ç›¸åŒ ã€‚è¿”å›è¯¥æ•°ç»„æ‰€æœ‰å¯èƒ½çš„å­é›†ï¼ˆå¹‚é›†ï¼‰ã€‚

è§£é›† ä¸èƒ½ åŒ…å«é‡å¤çš„å­é›†ã€‚ä½ å¯ä»¥æŒ‰ ä»»æ„é¡ºåº è¿”å›è§£é›†ã€‚

 

ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼šnums = [1,2,3]
è¾“å‡ºï¼š[[],[1],[2],[1,2],[3],[1,3],[2,3],[1,2,3]]
ç¤ºä¾‹ 2ï¼š

è¾“å…¥ï¼šnums = [0]
è¾“å‡ºï¼š[[],[0]]



----

![image-20230408223636453](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230408223636453.png) 

```java
List<Integer> t = new ArrayList<Integer>();
    List<List<Integer>> ans = new ArrayList<List<Integer>>();

    public List<List<Integer>> subsets(int[] nums) {

        for (int i = 0; i < (1<<nums.length); i++) {
            t.clear();
            for (int j = 0; j < nums.length; j++) {
                if((i&(1<<j))!=0)
                    t.add(nums[j]);
            }//è¿™é‡Œä¸€å®šè¦æ”¹æˆnew ArrayList,ä¸èƒ½ç›´æ¥add(t)
            ans.add(new ArrayList<Integer>(t));
        }
      return ans;
    }
```



## [93. å¤åŸ IP åœ°å€](https://leetcode-cn.com/problems/restore-ip-addresses/)

éš¾åº¦ä¸­ç­‰

**æœ‰æ•ˆ IP åœ°å€** æ­£å¥½ç”±å››ä¸ªæ•´æ•°ï¼ˆæ¯ä¸ªæ•´æ•°ä½äº `0` åˆ° `255` ä¹‹é—´ç»„æˆï¼Œä¸”ä¸èƒ½å«æœ‰å‰å¯¼ `0`ï¼‰ï¼Œæ•´æ•°ä¹‹é—´ç”¨ `'.'` åˆ†éš”ã€‚

- ä¾‹å¦‚ï¼š"0.1.2.201" å’Œ "192.168.1.1" æ˜¯ **æœ‰æ•ˆ** IP åœ°å€ï¼Œä½†æ˜¯ "0.011.255.245"ã€"192.168.1.312" å’Œ "192.168@1.1" æ˜¯ **æ— æ•ˆ** IP åœ°å€ã€‚

ç»™å®šä¸€ä¸ªåªåŒ…å«æ•°å­—çš„å­—ç¬¦ä¸² `s` ï¼Œç”¨ä»¥è¡¨ç¤ºä¸€ä¸ª IP åœ°å€ï¼Œè¿”å›æ‰€æœ‰å¯èƒ½çš„**æœ‰æ•ˆ IP åœ°å€**ï¼Œè¿™äº›åœ°å€å¯ä»¥é€šè¿‡åœ¨ `s` ä¸­æ’å…¥ `'.'` æ¥å½¢æˆã€‚ä½ ä¸èƒ½é‡æ–°æ’åºæˆ–åˆ é™¤ `s` ä¸­çš„ä»»ä½•æ•°å­—ã€‚ä½ å¯ä»¥æŒ‰ **ä»»ä½•** é¡ºåºè¿”å›ç­”æ¡ˆã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šs = "25525511135"
è¾“å‡ºï¼š["255.255.11.135","255.255.111.35"]
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šs = "0000"
è¾“å‡ºï¼š["0.0.0.0"]
```

```java
   List<String>str = new LinkedList<>();
     int[]segement =new int[4];//å­˜æ”¾å››ä¸ªipåœ°å€ï¼Œæ¯ä¸ªipå¯¹åº”æ¯ä¸€ä¸ªæ•°ç»„å…ƒç´ 
    public List<String> restoreIpAddresses(String s) {
segement =new int[4];
dfs(s,0,0);
return str;
    }
    public void dfs(String s,int segmentid,int start)
    //segmentidå¯¹åº”çš„æ˜¯ä¸Šé¢Segementæ•°ç»„ä¸­çš„ä¸‹æ ‡ï¼ŒStartå¯¹åº”çš„æ˜¯å­—ç¬¦ä¸²sä¸­çš„ä¸‹æ ‡ï¼Œs.charat(start)è¡¨æ˜ç´¢å¼•ä¸ºStartçš„å­—ç¬¦
    {
        //     // å¦‚æœæ‰¾åˆ°äº† 4 æ®µ IP åœ°å€å¹¶ä¸”éå†å®Œäº†å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆå°±æ˜¯ä¸€ç§ç­”æ¡ˆ
if(segmentid==4)
{
    if(start==s.length()){
    StringBuilder temp=new StringBuilder();
    
for(int i = 0;i<4;i++)
{
    temp.append(segement[i]);
    if(i!=3)
    temp.append(".");
}
str.add(temp.toString());
}
return;
}
 // å¦‚æœè¿˜æ²¡æœ‰æ‰¾åˆ° 4 æ®µ IP åœ°å€å°±å·²ç»éå†å®Œäº†å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆæå‰å›æº¯
if(start==s.length())
return;
if(s.charAt(start)=='0')
{
    segement[segmentid]=0;
    dfs(s,segmentid+1,start+1);
}
int addr=0;
for(int i = start;i<s.length();i++)
{
addr = addr*10+s.charAt(i)-'0';
if(addr>0&&addr<=255)
{
segement[segmentid]=addr;
dfs(s,segmentid+1,i+1);
}
else
break;//å¦‚æœæ²¡æœ‰è¿™ä¸ªelse breakç­”æ¡ˆæ˜¯é”™çš„
}
    }
```



## [115. ä¸åŒçš„å­åºåˆ—](https://leetcode-cn.com/problems/distinct-subsequences/)

éš¾åº¦å›°éš¾

ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² `s` å’Œä¸€ä¸ªå­—ç¬¦ä¸² `t` ï¼Œè®¡ç®—åœ¨ `s` çš„å­åºåˆ—ä¸­ `t` å‡ºç°çš„ä¸ªæ•°ã€‚

å­—ç¬¦ä¸²çš„ä¸€ä¸ª **å­åºåˆ—** æ˜¯æŒ‡ï¼Œé€šè¿‡åˆ é™¤ä¸€äº›ï¼ˆä¹Ÿå¯ä»¥ä¸åˆ é™¤ï¼‰å­—ç¬¦ä¸”ä¸å¹²æ‰°å‰©ä½™å­—ç¬¦ç›¸å¯¹ä½ç½®æ‰€ç»„æˆçš„æ–°å­—ç¬¦ä¸²ã€‚ï¼ˆä¾‹å¦‚ï¼Œ`"ACE"` æ˜¯ `"ABCDE"` çš„ä¸€ä¸ªå­åºåˆ—ï¼Œè€Œ `"AEC"` ä¸æ˜¯ï¼‰

é¢˜ç›®æ•°æ®ä¿è¯ç­”æ¡ˆç¬¦åˆ 32 ä½å¸¦ç¬¦å·æ•´æ•°èŒƒå›´ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šs = "rabbbit", t = "rabbit"
è¾“å‡ºï¼š3
è§£é‡Šï¼š
å¦‚ä¸‹å›¾æ‰€ç¤º, æœ‰ 3 ç§å¯ä»¥ä» s ä¸­å¾—åˆ° "rabbit" çš„æ–¹æ¡ˆã€‚
rabbbit
rabbbit
rabbbit
```

æŠ“ä½ â€œé€‰â€ï¼Œs è¦ç…§ç€ t æ¥æŒ‘é€‰ï¼Œé€å­—ç¬¦è€ƒå¯Ÿé€‰æˆ–ä¸é€‰ï¼Œåˆ†åˆ«æ¥åˆ°ä»€ä¹ˆçŠ¶æ€ï¼Ÿ

ä¸¾ä¾‹ï¼Œs ä¸ºbabgbagï¼Œt ä¸ºbagï¼Œæœ«å°¾å­—ç¬¦ç›¸åŒï¼Œäºæ˜¯ s æœ‰ä¸¤ç§é€‰æ‹©ï¼š

ç”¨s[s.length-1]å»åŒ¹é…æ‰t[t.length-1]ï¼Œé—®é¢˜è§„æ¨¡ç¼©å°ï¼šç»§ç»­è€ƒå¯Ÿbabgbaå’Œba
ä¸è¿™ä¹ˆåšï¼Œä½†t[t.length-1]ä»éœ€è¢«åŒ¹é…ï¼Œäºæ˜¯åœ¨babgbaä¸­ç»§ç»­æŒ‘ï¼Œè€ƒå¯Ÿbabgbaå’Œbag

![image-20220205114824432](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220205114824432.png)



## [44. é€šé…ç¬¦åŒ¹é…](https://leetcode-cn.com/problems/wildcard-matching/)



ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² (`s`) å’Œä¸€ä¸ªå­—ç¬¦æ¨¡å¼ (`p`) ï¼Œå®ç°ä¸€ä¸ªæ”¯æŒ `'?'` å’Œ `'*'` çš„é€šé…ç¬¦åŒ¹é…ã€‚

```
'?' å¯ä»¥åŒ¹é…ä»»ä½•å•ä¸ªå­—ç¬¦ã€‚
'*' å¯ä»¥åŒ¹é…ä»»æ„å­—ç¬¦ä¸²ï¼ˆåŒ…æ‹¬ç©ºå­—ç¬¦ä¸²ï¼‰ã€‚
```

-----

![image-20220205120314173](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220205120314173.png)

```java
 public boolean isMatch(String s, String p) {
int len1=s.length(),len2=p.length();
boolean[][]dp=new boolean[len1+1][len2+1];
for(int i =1;i<=len2;i++)
if(p.charAt(i-1)=='*')
dp[0][i]=true;

else break;
dp[0][0]=true;
for(int i=1;i<=len1;i++)
{
    for(int j=1;j<=len2;j++)
    {
        if(p.charAt(j-1)=='*')
        dp[i][j]=dp[i-1][j]||dp[i][j-1];
     else   if(p.charAt(j-1)=='?'||s.charAt(i-1)==p.charAt(j-1))
        dp[i][j] = dp[i-1][j-1];
      
    }
}
return dp[len1][len2];
    }
```

## [494. ç›®æ ‡å’Œ](https://leetcode-cn.com/problems/target-sum/)

éš¾åº¦ä¸­ç­‰1031

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` å’Œä¸€ä¸ªæ•´æ•° `target` ã€‚

å‘æ•°ç»„ä¸­çš„æ¯ä¸ªæ•´æ•°å‰æ·»åŠ  `'+'` æˆ– `'-'` ï¼Œç„¶åä¸²è”èµ·æ‰€æœ‰æ•´æ•°ï¼Œå¯ä»¥æ„é€ ä¸€ä¸ª **è¡¨è¾¾å¼** ï¼š

- ä¾‹å¦‚ï¼Œ`nums = [2, 1]` ï¼Œå¯ä»¥åœ¨ `2` ä¹‹å‰æ·»åŠ  `'+'` ï¼Œåœ¨ `1` ä¹‹å‰æ·»åŠ  `'-'` ï¼Œç„¶åä¸²è”èµ·æ¥å¾—åˆ°è¡¨è¾¾å¼ `"+2-1"` ã€‚

è¿”å›å¯ä»¥é€šè¿‡ä¸Šè¿°æ–¹æ³•æ„é€ çš„ã€è¿ç®—ç»“æœç­‰äº `target` çš„ä¸åŒ **è¡¨è¾¾å¼** çš„æ•°ç›®ã€‚

 **ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šnums = [1,1,1,1,1], target = 3
è¾“å‡ºï¼š5
è§£é‡Šï¼šä¸€å…±æœ‰ 5 ç§æ–¹æ³•è®©æœ€ç»ˆç›®æ ‡å’Œä¸º 3 ã€‚
-1 + 1 + 1 + 1 + 1 = 3
+1 - 1 + 1 + 1 + 1 = 3
+1 + 1 - 1 + 1 + 1 = 3
+1 + 1 + 1 - 1 + 1 = 3
+1 + 1 + 1 + 1 - 1 = 3
```

---

```java
   int total=0;
    public int findTargetSumWays(int[] nums, int target) {
backtrack(nums,target,0,0);
return total;
    }
    public void backtrack(int[]nums,int target,int index,int sum)
    {
         if(index==nums.length){
        if(sum==target)
        {
            total++;
            return;
        }
         }
        else{
        backtrack(nums,target,index+1,sum+nums[index]);
          backtrack(nums,target,index+1,sum-nums[index]);
        }
    }
```

## [386. å­—å…¸åºæ’æ•°](https://leetcode-cn.com/problems/lexicographical-numbers/)

ç»™ä½ ä¸€ä¸ªæ•´æ•° n ï¼ŒæŒ‰å­—å…¸åºè¿”å›èŒƒå›´ [1, n] å†…æ‰€æœ‰æ•´æ•°ã€‚

ä½ å¿…é¡»è®¾è®¡ä¸€ä¸ªæ—¶é—´å¤æ‚åº¦ä¸º O(n) ä¸”ä½¿ç”¨ O(1) é¢å¤–ç©ºé—´çš„ç®—æ³•ã€‚

 

ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼šn = 13
è¾“å‡ºï¼š[1,10,11,12,13,2,3,4,5,6,7,8,9]

----



```java
  public List<Integer> lexicalOrder(int n) {
List<Integer>ans = new ArrayList<>();
dfs(ans,0,1,n);//ç¬¬ä¸€è½®Startæ˜¯1
return ans;
    }
    public void dfs(List<Integer>ans,int base,int start,int n)
    {
        if(base>n) return;
        for(int i =start;i<10;i++)
        {
            int num = i+base;
            if(num<=n)
            {
                ans.add(num);
                dfs(ans,num*10,0,n); //è¿™é‡Œstartæ˜¯0
            } 
        }
    }
```





## [440. å­—å…¸åºçš„ç¬¬Kå°æ•°å­—](https://leetcode-cn.com/problems/k-th-smallest-in-lexicographical-order/)

éš¾åº¦å›°éš¾275

ç»™å®šæ•´æ•° `n` å’Œ `k`ï¼Œè¿”å› `[1, n]` ä¸­å­—å…¸åºç¬¬ `k` å°çš„æ•°å­—ã€‚

 

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: n = 13, k = 2
è¾“å‡º: 10
è§£é‡Š: å­—å…¸åºçš„æ’åˆ—æ˜¯ [1, 10, 11, 12, 13, 2, 3, 4, 5, 6, 7, 8, 9]ï¼Œæ‰€ä»¥ç¬¬äºŒå°çš„æ•°å­—æ˜¯ 10ã€‚
```

----

ç®—æ³•éœ€è¦ç”¨åˆ°é€’å½’ï¼Œå®é™…ä¸Šæ˜¯å¤šå‰æ ‘ï¼ˆå­—å…¸æ ‘ï¼‰é—®é¢˜

![image-20230219224417807](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230219224417807.png)

```java
 public int findKthNumber(int n, int k) {
int cur = 1;//ç¬¬1ä¸ªå­—å…¸åºæœ€å°çš„æ˜¯1
int prefix = 1;//å­—å…¸åºä»1å¼€å§‹
while(cur < k)
{
    int temp = getcount(n,prefix);
    if(temp+cur > k)
    {
prefix *=10;
cur++;
    }
    else
    {
        prefix++;
        cur+=temp;//æ¯”æ–¹è¯´ä»1å‰ç¼€åˆ°äº†2å‰ç¼€
    }
}
return prefix;
    }
   
    public int getcount(int n,int prefix)
    {
        long cur = prefix;
        long next = cur+1;//1çš„ä¸‹ä¸€ä¸ªå‰ç¼€æ˜¯2
        int count = 0;
        while(cur <= n)
        {
count += Math.min(n+1,next) - cur;//ä¸€å¼€å§‹cur =1,next = 2,count = 0+1=1,æ¯”å¦‚n=12 next = 100,åˆ™count+=13-cur = 3
next*=10;
cur*=10;
        }
        return count;
    }
```

ä¹Ÿå¯ä»¥è¿™æ ·å†™ï¼š

```java
 public int findKthNumber(int n, int k) {
        int curr = 1;
        k--;
        while (k > 0) {
            int steps = getSteps(curr, n);
            if (steps <= k) {//ä¸åœ¨curçš„å­æ ‘ä¸­ï¼Œkè¦å‡å»step,cur+1è¡¨ç¤ºå˜ä¸ºå…„å¼ŸèŠ‚ç‚¹
                k -= steps;
                curr++;
            } else {  //kåœ¨curçš„å­æ ‘ä¸­ï¼Œkå‡ä¸€
                curr = curr * 10;
                k--;
            }
        }
        return curr;
    }

    public int getSteps(int curr, long n) {
        int steps = 0;
        long first = curr;
        long last = curr;
        while (first <= n) {
            steps += Math.min(last, n) - first + 1;
            first = first * 10;
            last = last * 10 + 9;
        }
        return steps;
    }


```





## [37. è§£æ•°ç‹¬](https://leetcode-cn.com/problems/sudoku-solver/)

éš¾åº¦å›°éš¾1141

ç¼–å†™ä¸€ä¸ªç¨‹åºï¼Œé€šè¿‡å¡«å……ç©ºæ ¼æ¥è§£å†³æ•°ç‹¬é—®é¢˜ã€‚

æ•°ç‹¬çš„è§£æ³•éœ€ **éµå¾ªå¦‚ä¸‹è§„åˆ™**ï¼š

1. æ•°å­— `1-9` åœ¨æ¯ä¸€è¡Œåªèƒ½å‡ºç°ä¸€æ¬¡ã€‚
2. æ•°å­— `1-9` åœ¨æ¯ä¸€åˆ—åªèƒ½å‡ºç°ä¸€æ¬¡ã€‚
3. æ•°å­— `1-9` åœ¨æ¯ä¸€ä¸ªä»¥ç²—å®çº¿åˆ†éš”çš„ `3x3` å®«å†…åªèƒ½å‡ºç°ä¸€æ¬¡ã€‚ï¼ˆè¯·å‚è€ƒç¤ºä¾‹å›¾ï¼‰

æ•°ç‹¬éƒ¨åˆ†ç©ºæ ¼å†…å·²å¡«å…¥äº†æ•°å­—ï¼Œç©ºç™½æ ¼ç”¨ `'.'` è¡¨ç¤ºã€‚

board.length == 9
board[i].length == 9
board[i][j] æ˜¯ä¸€ä½æ•°å­—æˆ–è€… '.'
é¢˜ç›®æ•°æ® ä¿è¯ è¾“å…¥æ•°ç‹¬ä»…æœ‰ä¸€ä¸ªè§£



------------

æˆ‘ä»¬å¯ä»¥è€ƒè™‘æŒ‰ç…§ã€Œè¡Œä¼˜å…ˆã€çš„é¡ºåºä¾æ¬¡æšä¸¾æ¯ä¸€ä¸ªç©ºç™½æ ¼ä¸­å¡«çš„æ•°å­—ï¼Œé€šè¿‡é€’å½’ + å›æº¯çš„æ–¹æ³•æšä¸¾æ‰€æœ‰å¯èƒ½çš„å¡«æ³•ã€‚å½“é€’å½’åˆ°æœ€åä¸€ä¸ªç©ºç™½æ ¼åï¼Œå¦‚æœä»ç„¶æ²¡æœ‰å†²çªï¼Œè¯´æ˜æˆ‘ä»¬æ‰¾åˆ°äº†ç­”æ¡ˆï¼›åœ¨é€’å½’çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœå½“å‰çš„ç©ºç™½æ ¼ä¸èƒ½å¡«ä¸‹ä»»ä½•ä¸€ä¸ªæ•°å­—ï¼Œé‚£ä¹ˆå°±è¿›è¡Œå›æº¯ã€‚

ç”±äºæ¯ä¸ªæ•°å­—åœ¨åŒä¸€è¡Œã€åŒä¸€åˆ—ã€åŒä¸€ä¸ªä¹å®«æ ¼ä¸­åªä¼šå‡ºç°ä¸€æ¬¡ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ä½¿ç”¨line[i]ï¼Œcolumn[j]ï¼Œblock\[x][y] åˆ†åˆ«è¡¨ç¤ºç¬¬ i è¡Œï¼Œç¬¬ j åˆ—ï¼Œç¬¬ (x,y) ä¸ªä¹å®«æ ¼ä¸­å¡«å†™æ•°å­—çš„æƒ…å†µã€‚åœ¨ä¸‹é¢ç»™å‡ºçš„ä¸‰ç§æ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬å°†ä¼šä»‹ç»ä¸¤ç§ä¸åŒçš„è¡¨ç¤ºå¡«å†™æ•°å­—æƒ…å†µçš„æ–¹æ³•ã€‚

ä¹å®«æ ¼çš„èŒƒå›´ä¸º 0â‰¤xâ‰¤2 ä»¥åŠ0â‰¤yâ‰¤2ã€‚
å…·ä½“åœ°ï¼Œç¬¬ i è¡Œç¬¬ j åˆ—çš„æ ¼å­ä½äºç¬¬i/3, j/3  ä¸ªä¹å®«æ ¼ä¸­ï¼Œå…¶ä¸­

æœ€å®¹æ˜“æƒ³åˆ°çš„æ–¹æ³•æ˜¯ç”¨ä¸€ä¸ªæ•°ç»„è®°å½•æ¯ä¸ªæ•°å­—æ˜¯å¦å‡ºç°ã€‚ç”±äºæˆ‘ä»¬å¯ä»¥å¡«å†™çš„æ•°å­—èŒƒå›´ä¸º [1, 9][1,9]ï¼Œè€Œæ•°ç»„çš„ä¸‹æ ‡ä» 00 å¼€å§‹ï¼Œå› æ­¤åœ¨å­˜å‚¨æ—¶ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªé•¿åº¦ä¸º 99 çš„å¸ƒå°”ç±»å‹çš„æ•°ç»„ï¼Œå…¶ä¸­ ii ä¸ªå…ƒç´ çš„å€¼ä¸º \text{True}Trueï¼Œå½“ä¸”ä»…å½“æ•°å­— i+1i+1 å‡ºç°è¿‡ã€‚ä¾‹å¦‚æˆ‘ä»¬ç”¨ \textit{line}[2][3] = \text{True}line[2][3]=True è¡¨ç¤ºæ•°å­— 44 åœ¨ç¬¬ 22 è¡Œå·²ç»å‡ºç°è¿‡ï¼Œé‚£ä¹ˆå½“æˆ‘ä»¬åœ¨éå†åˆ°ç¬¬ 22 è¡Œçš„ç©ºç™½æ ¼æ—¶ï¼Œå°±ä¸èƒ½å¡«å…¥æ•°å­— 44ã€‚

ç®—æ³•

æˆ‘ä»¬é¦–å…ˆå¯¹æ•´ä¸ªæ•°ç‹¬æ•°ç»„è¿›è¡Œéå†ï¼Œå½“æˆ‘ä»¬éå†åˆ°ç¬¬ ii è¡Œç¬¬ jj åˆ—çš„ä½ç½®ï¼š

å¦‚æœè¯¥ä½ç½®æ˜¯ä¸€ä¸ªç©ºç™½æ ¼ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°†å…¶åŠ å…¥ä¸€ä¸ªç”¨æ¥å­˜å‚¨ç©ºç™½æ ¼ä½ç½®çš„åˆ—è¡¨ä¸­ï¼Œæ–¹ä¾¿åç»­çš„é€’å½’æ“ä½œï¼›

å¦‚æœè¯¥ä½ç½®æ˜¯ä¸€ä¸ªæ•°å­— xxï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦å°†line\[i][xâˆ’1]ï¼Œcolumn\[j][xâˆ’1] ä»¥åŠblock\[âŒŠi/3âŒ‹]\[âŒŠj/3âŒ‹][xâˆ’1] å‡ç½®ä¸º Trueã€‚

å½“æˆ‘ä»¬ç»“æŸäº†éå†è¿‡ç¨‹ä¹‹åï¼Œå°±å¯ä»¥å¼€å§‹é€’å½’æšä¸¾ã€‚å½“é€’å½’åˆ°ç¬¬ iè¡Œç¬¬ j åˆ—çš„ä½ç½®æ—¶ï¼Œæˆ‘ä»¬æšä¸¾å¡«å…¥çš„æ•°å­— xã€‚æ ¹æ®é¢˜ç›®çš„è¦æ±‚ï¼Œæ•°å­— xx ä¸èƒ½å’Œå½“å‰è¡Œã€åˆ—ã€ä¹å®«æ ¼ä¸­å·²ç»å¡«å…¥çš„æ•°å­—ç›¸åŒï¼Œå› æ­¤ line\[i][xâˆ’1]ï¼Œcolumn\[j][xâˆ’1] ä»¥åŠ block\[âŒŠi/3âŒ‹]\[âŒŠj/3âŒ‹][xâˆ’1] å¿…é¡»å‡ä¸ºFalseã€‚

å½“æˆ‘ä»¬å¡«å…¥äº†æ•°å­— x ä¹‹åï¼Œæˆ‘ä»¬è¦å°†ä¸Šè¿°çš„ä¸‰ä¸ªå€¼éƒ½ç½®ä¸ºTrueï¼Œå¹¶ä¸”ç»§ç»­å¯¹ä¸‹ä¸€ä¸ªç©ºç™½æ ¼ä½ç½®è¿›è¡Œé€’å½’ã€‚åœ¨å›æº¯åˆ°å½“å‰é€’å½’å±‚æ—¶ï¼Œæˆ‘ä»¬è¿˜è¦å°†ä¸Šè¿°çš„ä¸‰ä¸ªå€¼é‡æ–°ç½®ä¸º Falseã€‚

```java
boolean[][]lines;
boolean[][]rows;
boolean[][][]newbools;
boolean valid;
List<int[]>mylist = new ArrayList<>();
    public void solveSudoku(char[][] board) {
lines = new boolean[board.length][9];
rows = new boolean[9][9];

newbools = new boolean[3][3][9];
for(int i = 0;i < board.length;i++)
{
    for(int j = 0;j < board[0].length;j++)
    {
        if(board[i][j] == '.')
        {
            mylist.add(new int[]{i,j});
          
        }
        else
        {
            int number = board[i][j]-'0'-1;
            lines[i][number] = true;
            rows[j][number] = true;
            newbools[i/3][j/3][number] = true;
        }
    }
}
dfs(board,0);
    }
    public void dfs(char[][]board,int tot)
    {
        if(tot == mylist.size()) {//å¦‚æœæ‰€æœ‰ä¸º'.'çš„ç‚¹éƒ½å¡«å®Œäº†ï¼Œè¿”å›true
            valid = true;
return;
        }
        int[]space = mylist.get(tot);//ç›®å‰è¦å¡«çš„æ ¼å­
        int row = space[0],col = space[1];
        for(int i = 0;i <9&&!valid;i++)
        {
if(!lines[row][i] && !rows[col][i]  && !newbools[row/3][col/3][i])
{
    lines[row][i] =rows[col][i]=newbools[row/3][col/3][i]=true;
    board[row][col] =(char)( i+'0'+1);
    dfs(board,tot+1);
      lines[row][i] =rows[col][i]=newbools[row/3][col/3][i]=false;
}
        }
    }
```

## [é¢è¯•é¢˜ 08.02. è¿·è·¯çš„æœºå™¨äºº](https://leetcode.cn/problems/robot-in-a-grid-lcci/)(ä»å·¦ä¸Šè§’åˆ°å³ä¸‹è§’çš„è·¯å¾„)

éš¾åº¦ä¸­ç­‰103

è®¾æƒ³æœ‰ä¸ªæœºå™¨äººååœ¨ä¸€ä¸ªç½‘æ ¼çš„å·¦ä¸Šè§’ï¼Œç½‘æ ¼ r è¡Œ c åˆ—ã€‚æœºå™¨äººåªèƒ½å‘ä¸‹æˆ–å‘å³ç§»åŠ¨ï¼Œä½†ä¸èƒ½èµ°åˆ°ä¸€äº›è¢«ç¦æ­¢çš„ç½‘æ ¼ï¼ˆæœ‰éšœç¢ç‰©ï¼‰ã€‚è®¾è®¡ä¸€ç§ç®—æ³•ï¼Œå¯»æ‰¾æœºå™¨äººä»å·¦ä¸Šè§’ç§»åŠ¨åˆ°å³ä¸‹è§’çš„è·¯å¾„ã€‚

è¾“å…¥:
[
  [0,0,0],
  [0,1,0],
  [0,0,0]
]
è¾“å‡º: [[0,0],[0,1],[0,2],[1,2],[2,2]]
è§£é‡Š: 
è¾“å…¥ä¸­æ ‡ç²—çš„ä½ç½®å³ä¸ºè¾“å‡ºè¡¨ç¤ºçš„è·¯å¾„ï¼Œå³
0è¡Œ0åˆ—ï¼ˆå·¦ä¸Šè§’ï¼‰ -> 0è¡Œ1åˆ— -> 0è¡Œ2åˆ— -> 1è¡Œ2åˆ— -> 2è¡Œ2åˆ—ï¼ˆå³ä¸‹è§’ï¼‰





-------------------

æ€è·¯ï¼šè¿™é‡Œä¸ºäº†æé«˜æ•ˆç‡ï¼Œéœ€è¦ç”¨ä¸€ä¸ªçŠ¶æ€æ¥åˆ¤æ–­æ˜¯å¦èµ°è¿‡è¿™ä¸ªæ ¼å­ï¼Œè¿™é‡Œå¯ä»¥ç›´æ¥ç”¨ç»™å®šçš„æ•°ç»„ï¼Œç”¨çŠ¶æ€2è¡¨ç¤ºå·²ç»èµ°è¿‡ï¼Œå› ä¸ºæ˜¯é€’å½’ï¼Œå¯ä»¥é€†å‘æ€ç»´ï¼Œä»ç»ˆç‚¹å¼€å§‹èµ°åˆ°èµ·ç‚¹ï¼Œè¿™æ ·ç­”æ¡ˆåˆ—è¡¨å°±å·²ç»æ˜¯ä»èµ·ç‚¹å¼€å§‹çš„äº†ï¼Œç„¶åæ³¨æ„è¾¹ç•Œæ¡ä»¶ï¼Œæ¯”å¦‚æ•°ç»„\[i][j]è¿™ç§åœ°æ–¹æ˜¯è¦ä¸èƒ½è¶Šç•Œçš„

```java
       static List<List<Integer>> result = new ArrayList<>();

  public List<List<Integer>> pathWithObstacles(int[][] obstacleGrid) {
        result.clear();
        if (obstacleGrid[0][0] == 1) return result;
dfs(obstacleGrid,obstacleGrid.length-1,obstacleGrid[0].length-1);

return result;
    }
    public boolean dfs(int[][] obstacleGrid, int i, int j){
       if (i==0 && j==0) {
            add(i, j);
            return true;
        }

        if (obstacleGrid[i][j] > 0) return false;
        obstacleGrid[i][j] = 2;
        if (i>0 && dfs(obstacleGrid, i-1, j)) {
            //å¦‚æœä»è¿™ä¸ªiç‚¹çš„å·¦è¾¹çš„è·¯å¾„æœ€ç»ˆå¯ä»¥åˆ°è¾¾èµ·å§‹ç‚¹ï¼Œè®°å¾—æŠŠ(i,j)è¿™ä¸ªç‚¹åŠ å…¥é˜Ÿåˆ—ä¸­å»ï¼Œç”±äºdfsåˆ¤æ–­ä¸ºtrueæ—¶å·²ç»æ˜¯åˆ°äº†èµ·å§‹ç‚¹äº†ï¼Œæ‰€ä»¥è¿™é‡ŒåŠ å…¥é˜Ÿåˆ—çš„åæ ‡ç‚¹éƒ½æ˜¯è·¯å¾„ä¸Šçš„ç‚¹
            add(i, j);
            return true;
        }
        if (j>0 && dfs(obstacleGrid, i, j-1)) {
            add(i, j);
            return true;
        }
        //ä¸å–æ¶ˆæ ‡è®°

        return false;
    }
      public void add(int i,int j){
         List<Integer> list = new ArrayList<>();
        list.add(i);
        list.add(j);
        result.add(list);


    }
```

## [797. æ‰€æœ‰å¯èƒ½çš„è·¯å¾„](https://leetcode.cn/problems/all-paths-from-source-to-target/)

éš¾åº¦ä¸­ç­‰337

ç»™ä½ ä¸€ä¸ªæœ‰ `n` ä¸ªèŠ‚ç‚¹çš„ **æœ‰å‘æ— ç¯å›¾ï¼ˆDAGï¼‰**ï¼Œè¯·ä½ æ‰¾å‡ºæ‰€æœ‰ä»èŠ‚ç‚¹ `0` åˆ°èŠ‚ç‚¹ `n-1` çš„è·¯å¾„å¹¶è¾“å‡ºï¼ˆ**ä¸è¦æ±‚æŒ‰ç‰¹å®šé¡ºåº**ï¼‰

 `graph[i]` æ˜¯ä¸€ä¸ªä»èŠ‚ç‚¹ `i` å¯ä»¥è®¿é—®çš„æ‰€æœ‰èŠ‚ç‚¹çš„åˆ—è¡¨ï¼ˆå³ä»èŠ‚ç‚¹ `i` åˆ°èŠ‚ç‚¹ `graph[i][j]`å­˜åœ¨ä¸€æ¡æœ‰å‘è¾¹ï¼‰ã€‚

-------------------

![image-20220921135427846](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220921135427846.png)

```java
 List<List<Integer>> ans = new ArrayList<List<Integer>>();
    Deque<Integer> stack = new ArrayDeque<Integer>();
    public List<List<Integer>> allPathsSourceTarget(int[][] graph) {
        stack.push(0);
        dfs(graph, 0, graph.length - 1);
        return ans;
    }

    public void dfs(int[][] graph, int x, int n) {
      if(x==n){
          ans.add(new ArrayList<>(stack));
      }
      for(int i:graph[x]){
          //å› ä¸ºæ˜¯æœ‰å‘å›¾ï¼Œä¸ä¼šå‡ºç°é‡å¤çš„æƒ…å†µï¼Œè¿™é‡Œiæ˜¯xå¯ä»¥åˆ°è¾¾çš„ç»“ç‚¹ï¼Œé‡‡ç”¨æ·±åº¦ä¼˜å…ˆéå†çš„æ–¹æ³•ï¼Œéå†æ¯ä¸€ä¸ªç»“ç‚¹å¯ä»¥åˆ°è¾¾çš„ç»“ç‚¹
          //æ³¨æ„è¿™é‡Œè¦ç”¨offerlast,æ’å…¥æŒ‡å®šå…ƒç´ åˆ°åŒç«¯é˜Ÿåˆ—çš„æœ«å°¾å¤„
stack.offerLast(i);
dfs(graph,i,n);
stack.pollLast();
      }
```

## [529. æ‰«é›·æ¸¸æˆ](https://leetcode.cn/problems/minesweeper/)

éš¾åº¦ä¸­ç­‰315

è®©æˆ‘ä»¬ä¸€èµ·æ¥ç©æ‰«é›·æ¸¸æˆï¼

ç»™ä½ ä¸€ä¸ªå¤§å°ä¸º `m x n` äºŒç»´å­—ç¬¦çŸ©é˜µ `board` ï¼Œè¡¨ç¤ºæ‰«é›·æ¸¸æˆçš„ç›˜é¢ï¼Œå…¶ä¸­ï¼š

- `'M'` ä»£è¡¨ä¸€ä¸ª **æœªæŒ–å‡ºçš„** åœ°é›·ï¼Œ
- `'E'` ä»£è¡¨ä¸€ä¸ª **æœªæŒ–å‡ºçš„** ç©ºæ–¹å—ï¼Œ
- `'B'` ä»£è¡¨æ²¡æœ‰ç›¸é‚»ï¼ˆä¸Šï¼Œä¸‹ï¼Œå·¦ï¼Œå³ï¼Œå’Œæ‰€æœ‰4ä¸ªå¯¹è§’çº¿ï¼‰åœ°é›·çš„ **å·²æŒ–å‡ºçš„** ç©ºç™½æ–¹å—ï¼Œ
- **æ•°å­—**ï¼ˆ`'1'` åˆ° `'8'`ï¼‰è¡¨ç¤ºæœ‰å¤šå°‘åœ°é›·ä¸è¿™å— **å·²æŒ–å‡ºçš„** æ–¹å—ç›¸é‚»ï¼Œ
- `'X'` åˆ™è¡¨ç¤ºä¸€ä¸ª **å·²æŒ–å‡ºçš„** åœ°é›·ã€‚

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `click` ï¼Œå…¶ä¸­ `click = [clickr, clickc]` è¡¨ç¤ºåœ¨æ‰€æœ‰ **æœªæŒ–å‡ºçš„** æ–¹å—ï¼ˆ`'M'` æˆ–è€… `'E'`ï¼‰ä¸­çš„ä¸‹ä¸€ä¸ªç‚¹å‡»ä½ç½®ï¼ˆ`clickr` æ˜¯è¡Œä¸‹æ ‡ï¼Œ`clickc` æ˜¯åˆ—ä¸‹æ ‡ï¼‰ã€‚

æ ¹æ®ä»¥ä¸‹è§„åˆ™ï¼Œè¿”å›ç›¸åº”ä½ç½®è¢«ç‚¹å‡»åå¯¹åº”çš„ç›˜é¢ï¼š

1. å¦‚æœä¸€ä¸ªåœ°é›·ï¼ˆ`'M'`ï¼‰è¢«æŒ–å‡ºï¼Œæ¸¸æˆå°±ç»“æŸäº†- æŠŠå®ƒæ”¹ä¸º `'X'` ã€‚
2. å¦‚æœä¸€ä¸ª **æ²¡æœ‰ç›¸é‚»åœ°é›·** çš„ç©ºæ–¹å—ï¼ˆ`'E'`ï¼‰è¢«æŒ–å‡ºï¼Œä¿®æ”¹å®ƒä¸ºï¼ˆ`'B'`ï¼‰ï¼Œå¹¶ä¸”æ‰€æœ‰å’Œå…¶ç›¸é‚»çš„ **æœªæŒ–å‡º** æ–¹å—éƒ½åº”è¯¥è¢«é€’å½’åœ°æ­éœ²ã€‚
3. å¦‚æœä¸€ä¸ª **è‡³å°‘ä¸ä¸€ä¸ªåœ°é›·ç›¸é‚»** çš„ç©ºæ–¹å—ï¼ˆ`'E'`ï¼‰è¢«æŒ–å‡ºï¼Œä¿®æ”¹å®ƒä¸ºæ•°å­—ï¼ˆ`'1'` åˆ° `'8'` ï¼‰ï¼Œè¡¨ç¤ºç›¸é‚»åœ°é›·çš„æ•°é‡ã€‚
4. å¦‚æœåœ¨æ­¤æ¬¡ç‚¹å‡»ä¸­ï¼Œè‹¥æ— æ›´å¤šæ–¹å—å¯è¢«æ­éœ²ï¼Œåˆ™è¿”å›ç›˜é¢ã€‚

![image-20221003190320927](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20221003190320927.png)

------------------



```java
 public char[][] updateBoard(char[][] board, int[] click) {

    if(board[click[0]][click[1]]=='M') {
           board[click[0]][click[1]] = 'X';
       }
       else{
           dfs(board,click[0],click[1]);
       }
       return board;

    }
    public void dfs(char[][]board,int x,int y){
       int cnt = 0;
       int[]arr1 = new int[]{0,1,-1,0,1,-1,1,-1};
       int[]arr2 = new int[]{1,0,0,-1,1,-1,-1,1};
        for (int i = 0; i < 8; i++) {
            int newX = x+arr1[i];
            int newY = y+arr2[i];
            if(newX<0||newY<0||newX>=board.length||newY>=board[0].length){
                continue;
            }
            else if (board[newX][newY]=='M')
                cnt++;
        }
        if(cnt>0){
            //è¿™æ˜¯ç”¨æ¥ä¿®æ”¹é™„ä»¶åœ°é›·çš„æ•°é‡
            board[x][y] = (char)(cnt+'0');
        }
        else{
            //ä»£è¡¨è¿™ä¸ªæ ¼å­é™„è¿‘æ²¡æœ‰ä»»ä½•ä¸€ä¸ªåœ°é›·ï¼Œæ”¹ä¸ºBï¼Œç„¶åè¿›è¡Œé€’å½’
            board[x][y]='B';
            for (int i = 0; i < 8; i++) {
                int newX = x+arr1[i];
                int newY = y+arr2[i];
                if(newX<0||newY<0||newX>=board.length||newY>=board[0].length||board[newX][newY] != 'E'){
                    continue;
                }
                else{
                    dfs(board,newX,newY);
                }
            }

        }

    }
```

## [1020. é£åœ°çš„æ•°é‡](https://leetcode.cn/problems/number-of-enclaves/)

éš¾åº¦ä¸­ç­‰191

ç»™ä½ ä¸€ä¸ªå¤§å°ä¸º `m x n` çš„äºŒè¿›åˆ¶çŸ©é˜µ `grid` ï¼Œå…¶ä¸­ `0` è¡¨ç¤ºä¸€ä¸ªæµ·æ´‹å•å…ƒæ ¼ã€`1` è¡¨ç¤ºä¸€ä¸ªé™†åœ°å•å…ƒæ ¼ã€‚

ä¸€æ¬¡ **ç§»åŠ¨** æ˜¯æŒ‡ä»ä¸€ä¸ªé™†åœ°å•å…ƒæ ¼èµ°åˆ°å¦ä¸€ä¸ªç›¸é‚»ï¼ˆ**ä¸Šã€ä¸‹ã€å·¦ã€å³**ï¼‰çš„é™†åœ°å•å…ƒæ ¼æˆ–è·¨è¿‡ `grid` çš„è¾¹ç•Œã€‚

è¿”å›ç½‘æ ¼ä¸­ **æ— æ³•** åœ¨ä»»æ„æ¬¡æ•°çš„ç§»åŠ¨ä¸­ç¦»å¼€ç½‘æ ¼è¾¹ç•Œçš„é™†åœ°å•å…ƒæ ¼çš„æ•°é‡ã€‚

 ![image-20221216223225810](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20221216223225810.png)

--------------------

è§£é¢˜æ€è·¯ï¼šä»å››ä¸ªè¾¹ç•Œå¼€å§‹éå†ï¼Œä»å¤–å¾€é‡Œè¿›è¡Œæ·±åº¦ä¼˜å…ˆï¼Œå¦‚æœæ ¼å­ä¸º1é‚£ä¹ˆå°†è®¿é—®æ ‡è®°è®¾ç½®ä¸ºTrue,æœ€ååˆ¤æ–­æ‰€æœ‰æœªè®¿é—®çš„ä¸”æ ¼å­ä¸º1çš„æ•°é‡ï¼Œä¹Ÿå¯ä»¥å»æ‰visæ•°ç»„ï¼Œç›´æ¥å°†è®¿é—®è¿‡çš„æ ¼å­è®¾ç½®ä¸º0ï¼Œæœ€ååˆ¤æ–­ä¸º1çš„æ ¼å­æ•°é‡

```java
 boolean[][]vis ;
    int[][] dirs = {{-1, 0}, {1, 0}, {0, -1}, {0, 1}};
    public int numEnclaves(int[][] grid) {
   vis = new boolean[grid.length][grid[0].length];
   for (int i = 0; i < grid.length; i++){
      dfs(grid,i,0);
      dfs(grid,i,grid[0].length-1);
        }
        for (int i = 0; i < grid[0].length; i++) {
            dfs(grid,0,i);
            dfs(grid, grid.length-1,i );
        }
int sum=0;
        for (int i = 0; i < grid.length; i++) {
            for (int j = 0; j < grid[0].length; j++) {
                if(!vis[i][j]&&grid[i][j]==1)
                {
                    sum++;
                }
            }
        }
        return sum;

    }
     public void dfs(int[][] grid, int row, int col) {
        if(row<0||col<0||row==grid.length||col==grid[0].length||grid[row][col]==0||vis[row][col]){
            return;
        }
        vis[row][col]=true;
         //ä¹Ÿå¯ä»¥å†™æˆ  grid[row][col]=0;
        for(int[]dir:dirs){
            dfs(grid,row+dir[0],col+dir[1]);
        }
    }

```

## [1110. åˆ ç‚¹æˆæ—](https://leetcode.cn/problems/delete-nodes-and-return-forest/)

éš¾åº¦ä¸­ç­‰199

ç»™å‡ºäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ `root`ï¼Œæ ‘ä¸Šæ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ä¸€ä¸ªä¸åŒçš„å€¼ã€‚

å¦‚æœèŠ‚ç‚¹å€¼åœ¨ `to_delete` ä¸­å‡ºç°ï¼Œæˆ‘ä»¬å°±æŠŠè¯¥èŠ‚ç‚¹ä»æ ‘ä¸Šåˆ å»ï¼Œæœ€åå¾—åˆ°ä¸€ä¸ªæ£®æ—ï¼ˆä¸€äº›ä¸ç›¸äº¤çš„æ ‘æ„æˆçš„é›†åˆï¼‰ã€‚

è¿”å›æ£®æ—ä¸­çš„æ¯æ£µæ ‘ã€‚ä½ å¯ä»¥æŒ‰ä»»æ„é¡ºåºç»„ç»‡ç­”æ¡ˆã€‚

 

**ç¤ºä¾‹ 1ï¼š**

**![img](https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2019/07/05/screen-shot-2019-07-01-at-53836-pm.png)**

```
è¾“å…¥ï¼šroot = [1,2,3,4,5,6,7], to_delete = [3,5]
è¾“å‡ºï¼š[[1,2,null,4],[6],[7]]
```

------------------



æ€è·¯ï¼šæ ¹æ®çˆ¶äº²ä¸å­©å­å…³ç³»è¿›è¡Œé€’å½’ï¼Œå‚æ•°è¦åŒ…æ‹¬å½“å‰ç»“ç‚¹å’Œå®ƒçš„çˆ¶èŠ‚ç‚¹ï¼Œæ ¹èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ä¸ºnull

```java
    List<TreeNode>ans=new ArrayList<>();
     Set<Integer>set=new HashSet<>();
    public List<TreeNode> delNodes(TreeNode root, int[] to_delete) {
       if(root==null) return ans;
        for(int i:to_delete)
        set.add(i);
        dfs(root,null);
return ans;
    }
    public TreeNode dfs(TreeNode root,TreeNode parent){
        if(root==null) return null;
       TreeNode left=root.left;
       TreeNode right=root.right;
       if(set.contains(root.val)) root=null;
       else{
           if(parent==null) ans.add(root);
          
       }
        TreeNode newleft=dfs(left,root);
           TreeNode newright=dfs(right,root);
           //å¦‚æœRootä¸ä¸ºnull,æŠŠå·¦å³ä¸¤è¾¹è¿æ¥èµ·æ¥ ï¼Œå¦‚æœrootä¸ºnull,å› ä¸ºå‰é¢ä¸€æ­¥ä¸­åˆ¤æ–­äº†æ˜¯å¦parentä¸ºnull æ­¤æ—¶leftå’ŒRightä¹Ÿå·²ç»åŠ è¿›å»äº†
           if(root!=null) root.left=newleft;
           if(root!=null) root.right=newright;
       return root;
        
    }
```



## é€’å½’ï¼šæ‹¬å·çš„åˆ†æ•°



ç»™å®šä¸€ä¸ªå¹³è¡¡æ‹¬å·å­—ç¬¦ä¸² `S`ï¼ŒæŒ‰ä¸‹è¿°è§„åˆ™è®¡ç®—è¯¥å­—ç¬¦ä¸²çš„åˆ†æ•°ï¼š

- `()` å¾— 1 åˆ†ã€‚
- `AB` å¾— `A + B` åˆ†ï¼Œå…¶ä¸­ A å’Œ B æ˜¯å¹³è¡¡æ‹¬å·å­—ç¬¦ä¸²ã€‚
- `(A)` å¾— `2 * A` åˆ†ï¼Œå…¶ä¸­ A æ˜¯å¹³è¡¡æ‹¬å·å­—ç¬¦ä¸²ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼š "()"
è¾“å‡ºï¼š 1
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼š "(())"
è¾“å‡ºï¼š 2
```

------------------------

è§£ç­”ï¼šä¸€å…±å°±ä¸¤ç§å½¢å¼ï¼Œä¸€ç§æ˜¯A+Bä¸€ç§æ˜¯ï¼ˆA)

å› æ­¤é€’å½’çš„æ—¶å€™ä¹Ÿéœ€è¦æŒ‰ç…§è¿™ä¸¤ç§æƒ…å†µè¿›è¡Œåˆ¤æ–­ï¼Œè¿™é‡Œå¯ä»¥é‡‡ç”¨è®¡æ•°çš„æ–¹å¼ï¼Œç”¨ä¸€ä¸ªåˆ†æ•°ä»£è¡¨å½“å‰é‡åˆ°(è¿˜æ˜¯)ï¼Œé‡åˆ°(åˆ†æ•°+1ï¼Œå¦åˆ™åˆ†æ•°-1ï¼Œå¦‚æœåˆ†æ•°ä¸º0é€€å‡ºå¾ªç¯ï¼Œç„¶ååˆ¤æ–­æ˜¯å¦å·²ç»èµ°å®Œäº†å­—ç¬¦ä¸²ï¼Œå¦‚æœå·²ç»èµ°å®Œäº†ï¼Œè¯´æ˜æ˜¯(A) çš„å½¢å¼ï¼Œå¦åˆ™æ˜¯A+Bçš„å½¢å¼

```java
 public int scoreOfParentheses(String s) {
      if(s.length()==2){
            return 1;
        }
        int score = 0,len = 0;
        for (int i = 0; i < s.length(); i++)
        {
            score +=s.charAt(i)=='('?1:-1;
            if(score==0){
                len = i+1;
                break;
            }
        }
        if(len == s.length()){
            return 2*scoreOfParentheses(s.substring(1,s.length()-1));
        }
        else{
            return scoreOfParentheses(s.substring(0,len))+scoreOfParentheses(s.substring(len,s.length()));
        }
    }
```

## [1020. é£åœ°çš„æ•°é‡](https://leetcode.cn/problems/number-of-enclaves/)

éš¾åº¦ä¸­ç­‰195

ç»™ä½ ä¸€ä¸ªå¤§å°ä¸º `m x n` çš„äºŒè¿›åˆ¶çŸ©é˜µ `grid` ï¼Œå…¶ä¸­ `0` è¡¨ç¤ºä¸€ä¸ªæµ·æ´‹å•å…ƒæ ¼ã€`1` è¡¨ç¤ºä¸€ä¸ªé™†åœ°å•å…ƒæ ¼ã€‚

ä¸€æ¬¡ **ç§»åŠ¨** æ˜¯æŒ‡ä»ä¸€ä¸ªé™†åœ°å•å…ƒæ ¼èµ°åˆ°å¦ä¸€ä¸ªç›¸é‚»ï¼ˆ**ä¸Šã€ä¸‹ã€å·¦ã€å³**ï¼‰çš„é™†åœ°å•å…ƒæ ¼æˆ–è·¨è¿‡ `grid` çš„è¾¹ç•Œã€‚

è¿”å›ç½‘æ ¼ä¸­ **æ— æ³•** åœ¨ä»»æ„æ¬¡æ•°çš„ç§»åŠ¨ä¸­ç¦»å¼€ç½‘æ ¼è¾¹ç•Œçš„é™†åœ°å•å…ƒæ ¼çš„æ•°é‡ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

![image-20230325204953658](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230325204953658.png)

```
è¾“å…¥ï¼šgrid = [[0,0,0,0],[1,0,1,0],[0,1,1,0],[0,0,0,0]]
è¾“å‡ºï¼š3
è§£é‡Šï¼šæœ‰ä¸‰ä¸ª 1 è¢« 0 åŒ…å›´ã€‚ä¸€ä¸ª 1 æ²¡æœ‰è¢«åŒ…å›´ï¼Œå› ä¸ºå®ƒåœ¨è¾¹ç•Œä¸Šã€‚
```

-------------------



```java
//æ•´ä½“æ€è·¯ï¼šä»å››ä¸ªè¾¹å¼€å§‹å‘å†…dfsï¼ˆå¦‚æœé‡åˆ°äº†1 é‚£ä¹ˆå°±å¯¹è¿™ä¸ªæ ¼å­å¾€å››å‘¨è¿›è¡Œdfsï¼‰,è®©æ‰€æœ‰éå†åˆ°çš„éƒ½å˜æˆ0ï¼Œæœ€ååˆ¤æ–­1çš„ä¸ªæ•°
    int[][] dirs = {{-1, 0}, {1, 0}, {0, -1}, {0, 1}};
    public int numEnclaves(int[][] grid) {
   for (int i = 0; i < grid.length; i++){
      dfs(grid,i,0);
      dfs(grid,i,grid[0].length-1);
        }
        for (int i = 0; i < grid[0].length; i++) {
            dfs(grid,0,i);
            dfs(grid, grid.length-1,i );
        }
int sum=0;
        for (int i = 0; i < grid.length; i++) {
            for (int j = 0; j < grid[0].length; j++) {
                if(grid[i][j]==1)
                {
                    sum++;
                }
            }
        }
        return sum;

    }
     public void dfs(int[][] grid, int row, int col) {
        if(row<0||col<0||row==grid.length||col==grid[0].length||grid[row][col]==0){
            return;
        }
        grid[row][col]=0;
        for(int[]dir:dirs){
            dfs(grid,row+dir[0],col+dir[1]);
        }
    }
```

## ç”¨é€’å½’å‡å°‘é—®é¢˜è§„æ¨¡ï¼š[779. ç¬¬Kä¸ªè¯­æ³•ç¬¦å·](https://leetcode.cn/problems/k-th-symbol-in-grammar/)

éš¾åº¦ä¸­ç­‰282

æˆ‘ä»¬æ„å»ºäº†ä¸€ä¸ªåŒ…å« `n` è¡Œ( **ç´¢å¼•ä» 1 å¼€å§‹** )çš„è¡¨ã€‚é¦–å…ˆåœ¨ç¬¬ä¸€è¡Œæˆ‘ä»¬å†™ä¸Šä¸€ä¸ª `0`ã€‚æ¥ä¸‹æ¥çš„æ¯ä¸€è¡Œï¼Œå°†å‰ä¸€è¡Œä¸­çš„`0`æ›¿æ¢ä¸º`01`ï¼Œ`1`æ›¿æ¢ä¸º`10`ã€‚

- ä¾‹å¦‚ï¼Œå¯¹äº `n = 3` ï¼Œç¬¬ `1` è¡Œæ˜¯ `0` ï¼Œç¬¬ `2` è¡Œæ˜¯ `01` ï¼Œç¬¬3è¡Œæ˜¯ `0110` ã€‚

ç»™å®šè¡Œæ•° `n` å’Œåºæ•° `k`ï¼Œè¿”å›ç¬¬ `n` è¡Œä¸­ç¬¬ `k` ä¸ªå­—ç¬¦ã€‚ï¼ˆ `k` **ä»ç´¢å¼• 1 å¼€å§‹**ï¼‰


**ç¤ºä¾‹ 1:**

```
è¾“å…¥: n = 1, k = 1
è¾“å‡º: 0
è§£é‡Š: ç¬¬ä¸€è¡Œï¼š0
```

**ç¤ºä¾‹ 2:**

```
è¾“å…¥: n = 2, k = 1
è¾“å‡º: 0
è§£é‡Š: 
ç¬¬ä¸€è¡Œ: 0 
ç¬¬äºŒè¡Œ: 01
```

---------------------



å…ˆæ‰¾è§„å¾‹ï¼š

![image-20230119111330290](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230119111330290.png)

```java
   public int kthGrammar(int n, int k) {
        //n=1 ä¸€ä¸ªå…ƒç´  n=2 äºŒä¸ªå…ƒç´  n=3 å››ä¸ªå…ƒç´  n=4å…«ä¸ªå…ƒç´ 
if(k==1) return 0;
if(k>(1<<(n-2))){
    //1<<(n-1)æ˜¯æ€»å…±çš„å…ƒç´ ä¸ªæ•° 1<<(n-2)æ˜¯æ€»å…±å…ƒç´ ä¸ªæ•°çš„ä¸€åŠ
    //å¦‚æœkåœ¨å³åŠéƒ¨åˆ†ï¼Œåˆ™è½¬åŒ–ä¸ºæ±‚å‰åŠéƒ¨åˆ†çš„ç¿»è½¬ï¼ˆæ³¨æ„ï¼Œå¦‚æœkåœ¨å³åŠéƒ¨åˆ†ï¼Œåˆ™ç­”æ¡ˆä¸ºk-n/2çš„ä½ç½®å¤„çš„ç¿»è½¬ï¼Œåˆå› ä¸ºå‰åŠéƒ¨åˆ†æ¯ä¸€è¡Œéƒ½ä¸ä¸Šä¸€è¡Œç›¸åŒï¼Œæ‰€ä»¥å¯ä»¥n-1,ç¿»è½¬è¿™é‡Œå¯ä»¥ç”¨å¼‚æˆ– 0å¼‚æˆ–1ä¸º1  1å¼‚æˆ–1ä¸º0ï¼Œå®ç°äº†ç¿»è½¬çš„æ•ˆæœï¼‰
    return 1^kthGrammar(n-1,k-(1<<(n-2)));
}
//å¦‚æœåœ¨å‰åŠéƒ¨åˆ† ç›´æ¥é€’å½’
return kthGrammar(n-1,k);
    }
```

## æ£‹ç›˜æ ¼æœ‰å¤šå°‘ç§èµ°æ³•

n*mçš„æ£‹ç›˜æ ¼å­ï¼ˆnä¸ºæ¨ªå‘çš„æ ¼å­æ•°ï¼Œmä¸ºç«–å‘çš„æ ¼å­æ•°ï¼‰ä»æ£‹ç›˜å·¦ä¸Šè§’å‡ºå‘æ²¿ç€è¾¹ç¼˜çº¿ä»å·¦ä¸Šè§’èµ°åˆ°å³ä¸‹è§’ï¼Œæ€»å…±æœ‰å¤šå°‘ç§èµ°æ³•ï¼Œè¦æ±‚ä¸èƒ½èµ°å›å¤´è·¯ï¼Œå³ï¼šåªèƒ½å¾€å³å’Œå¾€ä¸‹èµ°ï¼Œä¸èƒ½å¾€å·¦å’Œå¾€ä¸Šèµ°ã€‚

-------

![image-20230202130753458](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230202130753458.png)

![image-20230202130817289](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230202130817289.png)

```java
  public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        int m = scanner.nextInt();
        int n = scanner.nextInt();
        System.out.println(run(m, n));
    }
    private static int run(int m, int n) {
        if ((m >= 1 && n == 1) || (m == 1 && n >= 1)) {
            return m+n;
        }
        return run(m - 1, n) + run(m, n - 1);
    }

```

## [301. åˆ é™¤æ— æ•ˆçš„æ‹¬å·](https://leetcode.cn/problems/remove-invalid-parentheses/)

éš¾åº¦å›°éš¾813

ç»™ä½ ä¸€ä¸ªç”±è‹¥å¹²æ‹¬å·å’Œå­—æ¯ç»„æˆçš„å­—ç¬¦ä¸² `s` ï¼Œåˆ é™¤æœ€å°æ•°é‡çš„æ— æ•ˆæ‹¬å·ï¼Œä½¿å¾—è¾“å…¥çš„å­—ç¬¦ä¸²æœ‰æ•ˆã€‚

è¿”å›æ‰€æœ‰å¯èƒ½çš„ç»“æœã€‚ç­”æ¡ˆå¯ä»¥æŒ‰ **ä»»æ„é¡ºåº** è¿”å›ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šs = "()())()"
è¾“å‡ºï¼š["(())()","()()()"]
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šs = "(a)())()"
è¾“å‡ºï¼š["(a())()","(a)()()"]
```

--------------------

![image-20230207145314077](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230207145314077.png)

![image-20230207144824063](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230207144824063.png)

```java
 private List<String> res = new ArrayList<String>();
     Set<String>set=new HashSet<>();
    public List<String> removeInvalidParentheses(String s) {
        int lremove = 0;
        int rremove = 0;
for(int i =0;i<s.length();i++)
{
    if(s.charAt(i)=='(')
    lremove++;
    else if(s.charAt(i)==')'){
if(lremove>0) lremove--;
else rremove++;
    }
}
help(s,0,lremove,rremove);
for(String temp:set)
res.add(temp);
return res;
    }
    public void help(String s,int start,int lremove,int rremove)
    {
       if(lremove==0&&rremove==0)
       {
           if(valid(s))
           set.add(s);
       } 
       for(int i = start;i<s.length();i++)
       {
           //æ³¨æ„è¿™ä¸€æ­¥ï¼Œå¦‚æœæ²¡æœ‰è¿™ä¸€æ­¥çš„è¯ä¼šæœ‰é‡å¤çš„ç»“æœï¼Œå¦‚æœåŠ ä¸Šè¿™ä¸€æ­¥ï¼Œå¯ä»¥ä¸ç”¨setï¼Œä¸”è¿™ä¸€æ­¥ä¼šä½¿æ‰§è¡Œé€Ÿåº¦å¿«å¾ˆå¤š
           //if(i!=start&&s.charAt(i)==s.charAt(i-1)) continue;
           if(lremove>0&&s.charAt(i)=='(')
           {
               //å°è¯•å»æ‰å·¦æ‹¬å·ï¼Œé€’å½’ æ³¨æ„æ‹¼æ¥çš„æ—¶å€™ç¬¬äºŒä¸ªå¼€å¤´æ˜¯i+1
              help(s.substring(0,i)+s.substring(i+1,s.length()),i,lremove-1,rremove);
           }
           if(rremove>0&&s.charAt(i)==')')
           {
                help(s.substring(0,i)+s.substring(i+1,s.length()),i,lremove,rremove-1);
           }
       }
    }
    public boolean valid(String s)
    {
        Stack<Character>stack=new Stack<>();

        int cnt=0;
    for(int i =0;i<s.length();i++)
{
    if(i==0&&s.charAt(i)==')') return false;
    if(s.charAt(i)=='(') stack.push(s.charAt(i));
    else if(s.charAt(i)==')'){
        if(stack.isEmpty()) return false;
        stack.pop();
    }
    }
    return stack.isEmpty();

}
åˆ¤æ–­æ‹¬å·çš„æœ‰æ•ˆæ€§å¯ä»¥è¿™æ ·å†™ï¼š
    
    private boolean isValid(String str) {
        int cnt = 0;
        for (int i = 0; i < str.length(); i++) {
            if (str.charAt(i) == '(') {
                cnt++;
            } else if (str.charAt(i) == ')') {
                cnt--;
                if (cnt < 0) {
                    return false;
                }
            }
        }

        return cnt == 0;
    }
```

## 430.æ‰å¹³åŒ–åŒå‘é“¾è¡¨

ä½ ä¼šå¾—åˆ°ä¸€ä¸ªåŒé“¾è¡¨ï¼Œå…¶ä¸­åŒ…å«çš„èŠ‚ç‚¹æœ‰ä¸€ä¸ªä¸‹ä¸€ä¸ªæŒ‡é’ˆã€ä¸€ä¸ªå‰ä¸€ä¸ªæŒ‡é’ˆå’Œä¸€ä¸ªé¢å¤–çš„ å­æŒ‡é’ˆ ã€‚è¿™ä¸ªå­æŒ‡é’ˆå¯èƒ½æŒ‡å‘ä¸€ä¸ªå•ç‹¬çš„åŒå‘é“¾è¡¨ï¼Œä¹ŸåŒ…å«è¿™äº›ç‰¹æ®Šçš„èŠ‚ç‚¹ã€‚è¿™äº›å­åˆ—è¡¨å¯ä»¥æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªè‡ªå·±çš„å­åˆ—è¡¨ï¼Œä»¥æ­¤ç±»æ¨ï¼Œä»¥ç”Ÿæˆå¦‚ä¸‹é¢çš„ç¤ºä¾‹æ‰€ç¤ºçš„ å¤šå±‚æ•°æ®ç»“æ„ ã€‚

ç»™å®šé“¾è¡¨çš„å¤´èŠ‚ç‚¹ head ï¼Œå°†é“¾è¡¨ æ‰å¹³åŒ– ï¼Œä»¥ä¾¿æ‰€æœ‰èŠ‚ç‚¹éƒ½å‡ºç°åœ¨å•å±‚åŒé“¾è¡¨ä¸­ã€‚è®© curr æ˜¯ä¸€ä¸ªå¸¦æœ‰å­åˆ—è¡¨çš„èŠ‚ç‚¹ã€‚å­åˆ—è¡¨ä¸­çš„èŠ‚ç‚¹åº”è¯¥å‡ºç°åœ¨æ‰å¹³åŒ–åˆ—è¡¨ä¸­çš„ curr ä¹‹å å’Œ curr.next ä¹‹å‰ ã€‚

è¿”å› æ‰å¹³åˆ—è¡¨çš„ head ã€‚åˆ—è¡¨ä¸­çš„èŠ‚ç‚¹å¿…é¡»å°†å…¶ æ‰€æœ‰ å­æŒ‡é’ˆè®¾ç½®ä¸º null ã€‚

![image-20230216141810134](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230216141810134.png) 

------

è¿™é‡Œè¿˜è¦æ³¨æ„å› ä¸ºæ˜¯åŒå‘é“¾è¡¨ï¼Œæ‰€ä»¥nextå’ŒprevæŒ‡é’ˆéƒ½è¦è®¾ç½®

```java
 public Node flatten(Node head) {
        dfs(head);
        return head;
    }
    public Node dfs(Node head)
    {
        if(head==null) return null;
        Node ans=head;
        Node last=null;
        while(ans!=null)
        {
Node next=ans.next;

if(ans.child==null)
{
    //å¦‚æœæ²¡æœ‰å­èŠ‚ç‚¹ï¼Œé‚£ä¹ˆlastç›´æ¥è®¾ç½®ä¸ºå½“å‰ç»“ç‚¹å³å¯
last=ans;
}else{
    Node childLast=dfs(ans.child);
    ans.next=ans.child;
    ans.child.prev=ans;

     childLast.next=next;
if(next!=null)
   {
        next.prev=childLast;
       
   }
   //lastè¦è®¾ç½®ä¸ºå­èŠ‚ç‚¹çš„æœ€åä¸€ä¸ªï¼Œå› ä¸ºnextå¯èƒ½ä¸ºç©º
last=childLast;
//è¿™é‡Œè®°å¾—å¤„ç†å®Œchildè¦ç½®ç©º
ans.child=null;
}
ans=next;
        }
 return last;      
    }
```

## å°†çœŸåˆ†æ•°åŒ–ä¸ºåŸƒåŠåˆ†æ•°

åŸƒåŠåˆ†æ•°ï¼šåˆ†å­ä¸º1çš„æ•°



![image-20230313093948846](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230313093948846.png)

å› ä¸ºa*p+r=b ä¹Ÿå¯ä»¥å†™æˆï¼š

![image-20230313100038644](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230313100038644.png)

uæœ€åå¯ä»¥è¿™æ ·å†™ï¼š(æœ‰ä¸€ä¸ªç”¨ä¾‹ä¸€ç›´é€šä¸è¿‡ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆ)

```java
  public  static void dfs(int a,int b,StringBuilder sb)
          {
              if(a==1||b%a==0) {
                  sb.append(1).append("/").append(b/a);
                  return;
              }
              else{
                  int remain=b%a;//ä½™æ•°
                  int div=b/a;//å•†
                  sb.append(1).append("/").append(div+1).append("+");
                  dfs(a-remain,b*(div+1),sb);
              }
          }
```

yeå¯ä»¥ç”¨è¿™ç§ç±»ä¼¼è´ªå¿ƒçš„æ–¹æ³•,æ¯æ¬¡éƒ½æ‰¾èƒ½å‡å»çš„æœ€å¤§çš„åˆ†æ•°çš„åˆ†æ¯ï¼Œç„¶åå‡å»è¿™ä¸ªåˆ†æ•°ï¼Œå†ç»§ç»­å¤„ç†ï¼š

```java
  String[] split = in.nextLine().split("/");
            long a = Long.parseLong(split[0]);
            long b = Long.parseLong(split[1]);
            StringBuilder res = new StringBuilder(); //å­˜ç»“æœçš„

            while (true){
                //å…ˆæ‰¾åˆ°ä¸€ä¸ªèƒ½å‡å»çš„æœ€å¤§åŸƒåŠåˆ†æ•°çš„åˆ†æ¯ ï¼Œç»“æœæ˜¯ 1/ c æ¯”å¦‚è¯´ 8/11,å°±æ˜¯å‡å»1/2,é‚£ä¹ˆa=8*2-11,b=b*c
                long c =  b / a + 1;
                // a/bå‡å» 1/c ä¹‹åçš„åˆ†å­åˆ†æ¯å¦‚ä¸‹
                a = a * c - b;
                b = b * c;

                res.append(1).append('/').append(c).append('+');

                if (a == 1 || b % a == 0){
                    res.append(1).append('/').append(b/a);
                    break;
                }
            }
            System.out.println(res.toString());
```

## æ•°ç»„åˆ†ç»„(æ±‚ä¸€ä¸ªæ•°ç»„ä¸­æ˜¯å¦èƒ½æ‰¾å‡ºä¸€äº›æ•°å’Œä¸ºx)

![image-20230317230723970](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230317230723970.png)

-------

æ±‚å‡º5çš„å€æ•°çš„å’Œï¼Œå†æ±‚å‡º3çš„å€æ•°çš„å’Œï¼Œå†é€’å½’è®¡ç®—å‰©ä½™çš„æ•°èƒ½å¦å‡‘æˆsum/2-sum5

```java

        Scanner in = new Scanner(System.in);
        while(in.hasNext()){
            LinkedList<Integer> list = new LinkedList<>();
            int n = in.nextInt();
            int sum5 = 0;
            int sum3 = 0;
            int sum = 0;
            for (int i = 0; i < n; i++){
                int cur = in.nextInt();
                if (cur % 5 == 0){
                    sum5 += cur;
                }else if (cur % 3 == 0){
                    sum3 += cur;
                }else{
                    list.add(cur);
                }
                sum += cur;
            }
            //targetå¯ä»¥æ˜¯sum/2-sum5ä¹Ÿå¯ä»¥æ˜¯sum/2-sum3
            int target = sum/2 - sum5;
            if (sum % 2 != 0) System.out.println("false");
            else System.out.println(helper(list, target));
        }
    }
    private static boolean helper(LinkedList<Integer> list, int target){
        return helper(0, list, target);
    }
    private static boolean helper(int l, LinkedList<Integer> list, int target){
        if (l == list.size()) return target == 0;
        return helper(l + 1, list, target - list.get(l)) || helper(l + 1, list, target);
    }
å…¶ä¸­é€’å½’ä¹Ÿå¯ä»¥è¿™æ ·å†™ï¼š
    .....
      else System.out.println(backtrack(list, target,0));
        }
    }
    private static boolean backtrack(List<Integer> nums, int target, int start) {
   if(start==nums.size()) return target==0;
    if(backtrack(nums, target - nums.get(start), start + 1)) {
        return true;
    }
    return backtrack(nums, target, start + 1);
}
   
```

## è®°å¿†åŒ–ï¼š[å‰‘æŒ‡ Offer II 112. æœ€é•¿é€’å¢è·¯å¾„](https://leetcode.cn/problems/fpTFWP/)

#### 

éš¾åº¦å›°éš¾37

ç»™å®šä¸€ä¸ª `m x n` æ•´æ•°çŸ©é˜µ `matrix` ï¼Œæ‰¾å‡ºå…¶ä¸­ **æœ€é•¿é€’å¢è·¯å¾„** çš„é•¿åº¦ã€‚

å¯¹äºæ¯ä¸ªå•å…ƒæ ¼ï¼Œä½ å¯ä»¥å¾€ä¸Šï¼Œä¸‹ï¼Œå·¦ï¼Œå³å››ä¸ªæ–¹å‘ç§»åŠ¨ã€‚ **ä¸èƒ½** åœ¨ **å¯¹è§’çº¿** æ–¹å‘ä¸Šç§»åŠ¨æˆ–ç§»åŠ¨åˆ° **è¾¹ç•Œå¤–**ï¼ˆå³ä¸å…è®¸ç¯ç»•ï¼‰ã€‚

![image-20230226215240878](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230226215240878.png)

-----------





![image-20230226214533627](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230226214533627.png) 

```java
  int [][]memo;
    int ans=0;
    public int longestIncreasingPath(int[][] matrix) {
memo=new int[matrix.length][matrix[0].length];
for(int i=0;i<matrix.length;i++)
for(int j=0;j<matrix[0].length;j++)
ans=Math.max(ans,dp(i,j,matrix));
return ans;
    }
    public int dp(int row,int col,int[][]matrix)
    {
        if(memo[row][col]!=0) return memo[row][col];
        ++memo[row][col];//æ³¨æ„æ˜¯åœ¨è¿™é‡Œè¿›è¡ŒåŠ ä¸€æ“ä½œçš„ï¼Œå¦‚æœå®ƒå››ä¸ªæ–¹å‘éƒ½ä¸èƒ½å»¶ç”³ï¼Œé‚£ä¹ˆå€¼å°±æ˜¯1
        int[]lr=new int[]{0,0,1,-1};
        int[]wp=new int[]{1,-1,0,0};
        
        for(int i=0;i<4;i++)
        {
            int newr=row+lr[i];
            int newc=col+wp[i];
            if(newr>=0&&newc>=0&&newr<matrix.length&&newc<matrix[0].length&& matrix[newr][newc]>matrix[row][col])
            //å› ä¸ºè¿™é‡Œå‘å››ä¸ªæ–¹å‘éƒ½å»¶ç”³äº†ï¼Œæ‰€ä»¥éœ€è¦å¾—åˆ°å››ä¸ªæ–¹å‘ä¸Šå“ªä¸ªæ–¹å‘æ˜¯æœ€å¤§çš„
         memo[row][col]=Math.max(memo[row][col],dp(newr,newc,matrix)+1);//æ³¨æ„è¿™é‡Œè¿˜è¦åŠ ä¸€
            
        }
        return memo[row][col];
    }
```



# æ±‰è¯ºå¡”é—®é¢˜

æ±‰è¯ºå¡”é—®é¢˜æ¯”è¾ƒç»å…¸ï¼Œè¿™é‡Œä¿®æ”¹ä¸€ä¸‹æ¸¸æˆè§„åˆ™ï¼šç°åœ¨é™åˆ¶ä¸èƒ½ä»æœ€å·¦ä¾§çš„å¡”ç›´æ¥ç§»åŠ¨åˆ°æœ€å³ä¾§ï¼Œä¹Ÿä¸èƒ½ä»æœ€å³ä¾§ç›´æ¥ç§»åŠ¨åˆ°æœ€å·¦ä¾§ï¼Œè€Œæ˜¯å¿…é¡»ç»è¿‡ä¸­é—´ã€‚æ±‚å½“å¡”æœ‰Nå±‚çš„æ—¶å€™ï¼Œæ‰“å°æœ€ä¼˜ç§»åŠ¨è¿‡ç¨‹å’Œæœ€ä¼˜ç§»åŠ¨æ€»æ­¥æ•°ã€‚ ä¾‹å¦‚ï¼Œå½“å¡”æ•°ä¸ºä¸¤å±‚æ—¶ï¼Œæœ€ä¸Šå±‚çš„å¡”è®°ä¸º1ï¼Œæœ€ä¸‹å±‚çš„å¡”è®°ä¸º2ï¼Œåˆ™æ‰“å°ï¼š 

Move 1 from left to mid
Move 1 from mid to right
Move 2 from left to mid

Move 1 from right to mid
Move 1 from mid to left
Move 2 from mid to right
Move 1 from left to mid
Move 1 from mid to right

ç”¨ä»¥ä¸‹ä¸¤ç§æ–¹æ³•è§£å†³ã€‚ æ–¹æ³•ä¸€ï¼šé€’å½’çš„æ–¹æ³•ï¼› æ–¹æ³•äºŒï¼šéé€’å½’çš„æ–¹æ³•ï¼Œç”¨æ ˆæ¥æ¨¡æ‹Ÿæ±‰è¯ºå¡”çš„ä¸‰ä¸ªå¡”ã€‚ 

ã€éš¾åº¦ã€‘ æ ¡ã€€â˜…â˜…â˜…â˜† 

ã€è§£ç­”ã€‘ æ–¹æ³•ä¸€ï¼šé€’å½’çš„æ–¹æ³•ã€‚ é¦–å…ˆï¼Œå¦‚æœåªå‰©æœ€ä¸Šå±‚çš„å¡”éœ€è¦ç§»åŠ¨ï¼Œåˆ™æœ‰å¦‚ä¸‹å¤„ç†ï¼š

 1.å¦‚æœå¸Œæœ›ä»â€œå·¦â€ç§»åˆ°â€œä¸­â€ï¼Œæ‰“å°â€œMove 1 from left to midâ€ã€‚ 

2.å¦‚æœå¸Œæœ›ä»â€œä¸­â€ç§»åˆ°â€œå·¦â€ï¼Œæ‰“å°â€œMove 1 from mid to leftâ€ã€‚

 3.å¦‚æœå¸Œæœ›ä»â€œä¸­â€ç§»åˆ°â€œå³â€ï¼Œæ‰“å°â€œMove 1 from mid to rightâ€ã€‚ 

4.å¦‚æœå¸Œæœ›ä»â€œå³â€ç§»åˆ°â€œä¸­â€ï¼Œæ‰“å°â€œMove 1 from right to midâ€ã€‚ 

5.å¦‚æœå¸Œæœ›ä»â€œå·¦â€ç§»åˆ°â€œå³â€ï¼Œæ‰“å°â€œMove 1 from left to midâ€å’Œâ€œMove 1 from mid to rightâ€ã€‚ 

6.å¦‚æœå¸Œæœ›ä»â€œå³â€ç§»åˆ°â€œå·¦â€ï¼Œæ‰“å°â€œMove 1 from right to midâ€å’Œâ€œMove 1 from mid to leftâ€ã€‚ ä»¥ä¸Šè¿‡ç¨‹å°±æ˜¯é€’å½’çš„ç»ˆæ­¢æ¡ä»¶ï¼Œä¹Ÿå°±æ˜¯åªå‰©ä¸Šå±‚å¡”æ—¶çš„æ‰“å°è¿‡ç¨‹ã€‚ æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åˆ†æå‰©ä¸‹å¤šå±‚å¡”çš„æƒ…å†µã€‚ å¦‚æœå‰©ä¸‹Nå±‚å¡”ï¼Œä»æœ€ä¸Šåˆ°æœ€ä¸‹ä¾æ¬¡ä¸º1~Nï¼Œåˆ™æœ‰å¦‚ä¸‹åˆ¤æ–­ï¼š 1.å¦‚æœå‰©ä¸‹çš„Nå±‚å¡”éƒ½åœ¨â€œå·¦â€ï¼Œå¸Œæœ›å…¨éƒ¨ç§»åˆ°â€œä¸­â€ï¼Œåˆ™æœ‰ä¸‰ä¸ªæ­¥éª¤ã€‚ 1ï¼‰å°†1~N-1å±‚å¡”å…ˆå…¨éƒ¨ä»â€œå·¦â€ç§»åˆ°â€œå³â€ï¼Œæ˜æ˜¾äº¤ç»™é€’å½’è¿‡ç¨‹ã€‚ 2ï¼‰å°†ç¬¬Nå±‚å¡”ä»â€œå·¦â€ç§»åˆ°â€œä¸­â€ã€‚ 3ï¼‰å†å°†1~N-1å±‚å¡”å…¨éƒ¨ä»â€œå³â€ ç§»åˆ°â€œä¸­â€ï¼Œæ˜æ˜¾äº¤ç»™é€’å½’è¿‡ç¨‹ã€‚ 2.å¦‚æœæŠŠå‰©ä¸‹çš„Nå±‚å¡”ä»â€œä¸­â€ç§»åˆ°â€œå·¦â€ï¼Œä»â€œä¸­â€ç§»åˆ°â€œå³â€ï¼Œä»â€œå³â€ç§»åˆ°â€œä¸­â€ï¼Œè¿‡ç¨‹ä¸æƒ…å†µ1åŒç†ï¼Œä¸€æ ·æ˜¯åˆ†è§£ä¸ºä¸‰æ­¥ï¼Œåœ¨æ­¤ä¸å†è¯¦è¿°ã€‚ 3.å¦‚æœå‰©ä¸‹çš„Nå±‚å¡”éƒ½åœ¨â€œå·¦â€ï¼Œå¸Œæœ›å…¨éƒ¨ç§»åˆ°â€œå³â€ï¼Œåˆ™æœ‰äº”ä¸ªæ­¥éª¤ã€‚ 

1ï¼‰å°†1~N-1å±‚å¡”å…ˆå…¨éƒ¨ä»â€œå·¦â€ç§»åˆ°â€œå³â€ï¼Œæ˜æ˜¾äº¤ç»™é€’å½’è¿‡ç¨‹ã€‚ 

2ï¼‰å°†ç¬¬Nå±‚å¡”ä»â€œå·¦â€ç§»åˆ°â€œä¸­â€ã€‚ 

3ï¼‰å°†1~N-1å±‚å¡”å…¨éƒ¨ä»â€œå³â€ç§»åˆ°â€œå·¦â€ï¼Œæ˜æ˜¾äº¤ç»™é€’å½’è¿‡ç¨‹ã€‚ 

4ï¼‰å°†ç¬¬Nå±‚å¡”ä»â€œä¸­â€ç§»åˆ°â€œå³â€ã€‚ 

5ï¼‰æœ€åå°†1~N-1å±‚å¡”å…¨éƒ¨ä»â€œå·¦â€ç§»åˆ°â€œå³â€ï¼Œæ˜æ˜¾äº¤ç»™é€’å½’è¿‡ç¨‹ã€‚ 

4.å¦‚æœå‰©ä¸‹çš„Nå±‚å¡”éƒ½åœ¨â€œå³â€ï¼Œå¸Œæœ›å…¨éƒ¨ç§»åˆ°â€œå·¦â€ï¼Œè¿‡ç¨‹ä¸æƒ…å†µ3åŒç†ï¼Œä¸€æ ·æ˜¯åˆ†è§£ä¸ºäº”æ­¥ï¼Œåœ¨æ­¤ä¸å†è¯¦è¿°ã€‚ 

```java
    public static int hanoPro(int num,String left,String mid,String right){
    if(num < 1) return 0;
    return process(num,left,mid,right,left,right);
    }
    public static int process(int num,String left,String mid,String right,String from,String to){
    if(num == 1) {
        if (from.equals(mid) || to.equals(mid)) {
            System.out.println("move 1 from" + from + "to " + to);
            return 1;
        }

    else{
            System.out.println("move 1 from" + from + "to mid");
            System.out.println("move 1 from mid" + "to " + to);
            return 2;
        }
    }//é€’å½’ç»“æŸæ¡ä»¶
    if (from.equals(mid) || to.equals(mid))
    {
        String another = (from.equals(left)|| to.equals(left))?right:left;
        int part1 = process(num-1,left,mid,right,from,another);
        int part2 = 1;
        System.out.println("move num" + num+"from" + from + "to" + to);
        int part3 = process( num-1,left,mid,right,another,to);
        return part1+part2+part3;
    }
    else {
        int part1 = process(num-1,left,mid,right,from,to);
        int part2 = 1;
        System.out.println("move num" + num + "from" + from + "to" + mid);
        int part3 = process(num -1 ,left,mid,right,to,from);
        int part4 = 1;
        System.out.println("move num" + num + "from" + mid + "to" + to);
        int part5 = process(num-1,left,mid,right,from,to);
        return part1+part2+part3+part4+part5;
    }
    }
public static void main(String[] args) {
    hanoPro(2,"left","mid","right");
}
```

ä¸‹é¢æ˜¯åŠ›æ‰£ä¸Šé¢çš„ä¸€é“é¢˜ï¼š

## [é¢è¯•é¢˜ 08.06. æ±‰è¯ºå¡”é—®é¢˜](https://leetcode-cn.com/problems/hanota-lcci/)

éš¾åº¦ç®€å•143

åœ¨ç»å…¸æ±‰è¯ºå¡”é—®é¢˜ä¸­ï¼Œæœ‰ 3 æ ¹æŸ±å­åŠ N ä¸ªä¸åŒå¤§å°çš„ç©¿å­”åœ†ç›˜ï¼Œç›˜å­å¯ä»¥æ»‘å…¥ä»»æ„ä¸€æ ¹æŸ±å­ã€‚ä¸€å¼€å§‹ï¼Œæ‰€æœ‰ç›˜å­è‡ªä¸Šè€Œä¸‹æŒ‰å‡åºä¾æ¬¡å¥—åœ¨ç¬¬ä¸€æ ¹æŸ±å­ä¸Š(å³æ¯ä¸€ä¸ªç›˜å­åªèƒ½æ”¾åœ¨æ›´å¤§çš„ç›˜å­ä¸Šé¢)ã€‚ç§»åŠ¨åœ†ç›˜æ—¶å—åˆ°ä»¥ä¸‹é™åˆ¶:
(1) æ¯æ¬¡åªèƒ½ç§»åŠ¨ä¸€ä¸ªç›˜å­;
(2) ç›˜å­åªèƒ½ä»æŸ±å­é¡¶ç«¯æ»‘å‡ºç§»åˆ°ä¸‹ä¸€æ ¹æŸ±å­;
(3) ç›˜å­åªèƒ½å åœ¨æ¯”å®ƒå¤§çš„ç›˜å­ä¸Šã€‚

è¯·ç¼–å†™ç¨‹åºï¼Œç”¨æ ˆå°†æ‰€æœ‰ç›˜å­ä»ç¬¬ä¸€æ ¹æŸ±å­ç§»åˆ°æœ€åä¸€æ ¹æŸ±å­ã€‚

ä½ éœ€è¦åŸåœ°ä¿®æ”¹æ ˆã€‚

**ç¤ºä¾‹1:**

```
 è¾“å…¥ï¼šA = [2, 1, 0], B = [], C = []
 è¾“å‡ºï¼šC = [2, 1, 0]
```

----------

```java
public void hanota(List<Integer> A, List<Integer> B, List<Integer> C) {
    int n = A.size();
    move(n,A,B,C);

    }
void move(int n,List<Integer> A, List<Integer> B, List<Integer> C)
{
    if(n == 1)
    {
        int num = A.get(A.size()-1); //å¦‚æœåªå‰©1ä¸ªï¼ŒAç›´æ¥ç§»åŠ¨åˆ°C
        C.add(num);
        A.remove(A.size()-1);
        return;
    }
    move(n-1,A,C,B);//Aä¸Šçš„n-1æ ¹æŸ±å­é€šè¿‡Cç§»åŠ¨åˆ°B
    C.add(A.get(A.size()-1));//å°†Aä¸Šçš„æœ€åä¸€ä¸ªç§»åŠ¨åˆ°C
    A.remove(A.size()-1);//Aä¸Šçš„æœ€åä¸€ä¸ªæŸ±å­è¢«ç§»åŠ¨èµ°äº†
    move(n-1,B,A,C); //Bä¸Šçš„æŸ±å­é€šè¿‡Aç§»åŠ¨åˆ°C
}
```



# é“¾è¡¨



## é“¾è¡¨åˆ’åˆ†

```java
//ä»¥ä¸€ä¸ªValä¸ºåˆ’åˆ†ç‚¹ï¼Œè®©é“¾è¡¨æ•°ç»„çš„å·¦è¾¹å…¨ä¸ºå°äºvalçš„ç»“ç‚¹ï¼Œå³è¾¹å…¨ä¸ºå¤§äºvalçš„ç»“ç‚¹
public void partition(Node[]arr,int val)
{
    int small = -1;//æ³¨æ„åˆå§‹å€¼
    int index = 0,big = arr.length ;
    while(index != big)
    {
        if(arr[index] < val)
            swap(arr[++small],arr[index++]);
        else if(arr[index] == val) index++;
        else swap(arr[--big],arr[index++]);
    }
}

```

## å°¾æ’å’Œå¤´æ’æ·»åŠ å…ƒç´ 

```java
//æ·»åŠ èŠ‚ç‚¹åˆ°å•å‘é“¾è¡¨
//æ€è·¯ï¼Œå½“ä¸è€ƒè™‘ç¼–å·é¡ºåºæ—¶
//1. æ‰¾åˆ°å½“å‰é“¾è¡¨çš„æœ€åèŠ‚ç‚¹
//2. å°†æœ€åè¿™ä¸ªèŠ‚ç‚¹çš„next æŒ‡å‘æ–°çš„èŠ‚ç‚¹
public void add(HeroNode heroNode) {
//å› ä¸ºhead èŠ‚ç‚¹ä¸èƒ½åŠ¨ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ä¸€ä¸ªè¾…åŠ©éå†temp
HeroNode temp = head;
//éå†é“¾è¡¨ï¼Œæ‰¾åˆ°æœ€å
while(true) {
//æ‰¾åˆ°é“¾è¡¨çš„æœ€å
if(temp.next == null) {//
    break;
}
//å¦‚æœæ²¡æœ‰æ‰¾åˆ°æœ€å, å°†temp åç§»
temp = temp.next;
}
//å½“é€€å‡ºwhile å¾ªç¯æ—¶ï¼Œtemp å°±æŒ‡å‘äº†é“¾è¡¨çš„æœ€å
//å°†æœ€åè¿™ä¸ªèŠ‚ç‚¹çš„next æŒ‡å‘æ–°çš„èŠ‚ç‚¹
temp.next = heroNode;
}
```

å¤´æ’ï¼š

```java
   //ä¸ºå±æ€§èµ‹å€¼
            newnode.data=temp;
            //åˆ¤æ–­å½“å‰é“¾è¡¨æ˜¯å¦ç¬¬ä¸€æ¬¡èµ‹å€¼
            if(header==null){
                header=newnode;
            }else{
                //å°†æ–°èŠ‚ç‚¹è¿æ¥åˆ°é“¾è¡¨çš„å¤´éƒ¨
                newnode.next=header;
                //headeræ°¸è¿œå­˜å‚¨ç¬¬ä¸€ä¸ªèŠ‚ç‚¹çš„åœ°å€
                header=newnode;
            }

```

## åˆ é™¤å…ƒç´ 

```java
//åˆ é™¤èŠ‚ç‚¹
//1. head ä¸èƒ½åŠ¨ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ä¸€ä¸ªtemp è¾…åŠ©èŠ‚ç‚¹æ‰¾åˆ°å¾…åˆ é™¤èŠ‚ç‚¹çš„å‰ä¸€ä¸ªèŠ‚ç‚¹
//2. è¯´æ˜æˆ‘ä»¬åœ¨æ¯”è¾ƒæ—¶ï¼Œæ˜¯temp.next.no å’Œéœ€è¦åˆ é™¤çš„èŠ‚ç‚¹çš„no æ¯”è¾ƒ
public void del(int no) {
HeroNode temp = head;
boolean flag = false; // æ ‡å¿—æ˜¯å¦æ‰¾åˆ°å¾…åˆ é™¤èŠ‚ç‚¹çš„
while(true) {
if(temp.next == null) { //å·²ç»åˆ°é“¾è¡¨çš„æœ€å
break;
}
if(temp.next.no == no) {
//æ‰¾åˆ°çš„å¾…åˆ é™¤èŠ‚ç‚¹çš„å‰ä¸€ä¸ªèŠ‚ç‚¹temp
flag = true;
break;
}
temp = temp.next; //temp åç§»ï¼Œéå†
}
//åˆ¤æ–­flag
if(flag) { //æ‰¾åˆ°
    //å¯ä»¥åˆ é™¤
temp.next = temp.next.next;
}else {
System.out.printf("è¦åˆ é™¤çš„%d èŠ‚ç‚¹ä¸å­˜åœ¨\n", no);
}
}
```

## å°†å•é“¾è¡¨çš„æ¯kä¸ªç»“ç‚¹é€†åº

å¦‚æœæœ€åä¸å¤Ÿkä¸ªç»“ç‚¹ï¼Œåˆ™ä¸è°ƒæ•´

å¦‚1-2-3-4-5-6-7-8-nullï¼Œk=3

è°ƒæ•´åä¸º 3-2-1-6-5-4-7-8-null

å…³é”®æ˜¯è¦æ³¨æ„å°†é€†åºåçš„ç»“ç‚¹ä¸åé¢çš„ç»“ç‚¹è¿æ¥ä¸Š

```java
public void reverseNode(Node head,int k)
{
    if(k < 2) return ;
    Node cur = head;
    Node start = null;
    Node end = null;
    Node next = null;
    Node pre = null;
    int count = 1;
    while(cur != null)
    {
       next = cur.next;
 
        if(count == k)
        {
     start = pre== null?head:pre.next;
        head = pre == null?cur:head;
            resign2(pre,start,cur,next);
            pre = start;
            count = 0;
        }
        
        cur =next;
        count++;
    }
}

public void resign2(Node left,Node start,Node end,Node right){
    Node pre = start;
    Node cur = start.next;
    Node next = null;
    while(cur != null)
    {
        next = cur.next;
        cur.next = pre;
        pre= cur;
        cur = next;
    }
    if(left != null) left.next = end;
    start.next = right;
 
}
```



## åˆ é™¤å€’æ•°ç¬¬kä¸ªèŠ‚ç‚¹

åˆ©ç”¨å“‘èŠ‚ç‚¹æ¥é¿å…å¯¹å¤´ç»“ç‚¹åˆ†æƒ…å†µè®¨è®ºï¼Œä¸”åªéœ€è¦æ‰¾åˆ°è¢«åˆ é™¤èŠ‚ç‚¹çš„ä¸Šä¸€ä¸ªèŠ‚ç‚¹å³å¯ï¼Œä¸ç”¨å•ç‹¬å†æ‰¾åˆ°éœ€è¦è¢«åˆ é™¤çš„èŠ‚ç‚¹

```java
 public ListNode removeNthFromEnd(ListNode head, int n) {
if(head == null)return head;
   ListNode dummy = new ListNode(0, head);
ListNode pre=dummy,next,cur=head;
int co=0;
while(co < n)
{
cur=cur.next;
co++;
}
while(cur!=null)
{
pre= pre.next;
cur=cur.next;
}
pre.next = pre.next.next;
ListNode ans = dummy.next;
return ans;
  }
```

## å•é“¾è¡¨é€‰æ‹©æ’åº

åˆå§‹èŠ‚ç‚¹çš„å€¼å¦‚æœä¸æ­£ç¡®ä¼šå¾—åˆ°é”™è¯¯ç»“æœï¼ï¼ï¼

```java
   public ListNode sortList(ListNode head) {
ListNode pre=  head;
ListNode tail = null;
ListNode curr = head;

ListNode small = head;
ListNode smallpre = null;
if(head == null||head.next == null) return head;

while (curr != null)
{
small = curr;
    smallpre = smallNodePre(curr);
    //small = smallNodePre(curr).next;
  
    if(smallpre != null)
    {
        small = smallpre.next;
        smallpre.next = small.next;
    }
     curr = curr==small?curr.next:curr;
     if(tail == null)
        head = small;
    else tail.next = small;
    tail = small;
}
return head;
    }

     public ListNode smallNodePre(ListNode cur)
    {
         ListNode pre = cur;//æ³¨æ„åˆå§‹å€¼
        ListNode small = cur;
        ListNode smallpre = null;
        ListNode current = cur.next;
        while (current != null)
        {
            if(current.val<small.val)
            {
                smallpre = pre;
                small = current;
            }
            pre = current;
            current = current.next;
        }
        return  smallpre;
    }
```

## å•é“¾è¡¨å½’å¹¶æ’åº

```java
 public ListNode sortList(ListNode head) {
       if(head == null||head.next == null) return head;
         ListNode fast = head.next,slow = head;
while(fast!=null&&fast.next!=null)
{
    fast = fast.next.next;
    slow = slow.next;
}
//åˆ°è¿™é‡Œslowæ˜¯ä¸­é—´èŠ‚ç‚¹ï¼Œä¸€å®šè¦è®°å¾—ä¸­é—´æ–­å¼€
ListNode cur = slow.next;
slow.next = null;//è¿™é‡Œæ–­å¼€
     ListNode left = sortList(head);//ç°åœ¨é€’å½’å¯¹å·¦åŠè¾¹å’Œå³åŠè¾¹åˆ†åˆ«æ’åºï¼Œæ³¨æ„æ˜¯å…ˆé€’å½’ç„¶åå†åˆå¹¶ï¼Œè¿™æ ·æœ€å…ˆåˆå¹¶çš„æ˜¯æœ€å°‘çš„ä¸¤ä¸ªèŠ‚ç‚¹
        ListNode right = sortList(cur);
ListNode dummpy = new ListNode(0);
ListNode temp = dummpy;//å“‘èŠ‚ç‚¹
while(left!= null && right != null)
{
    if(left.val < right.val)
    {
        dummpy.next = left;
        dummpy = left;
        left = left.next;
    }
    else
    {
          dummpy.next = right;
          dummpy = right;
           right = right.next;
    }
  
}
if(left!=null) dummpy.next = left;
if(right != null) dummpy.next = right;
return temp.next;
    

    }
```



## å¦‚ä½•ä»å°¾åˆ°å¤´è¾“å‡ºå•é“¾è¡¨ 

ä»å¤´åˆ°å°¾è¾“å‡ºå•é“¾è¡¨æ¯”è¾ƒç®€å•ï¼Œäºæ˜¯å¾ˆè‡ªç„¶åœ°æƒ³æŠŠé“¾è¡¨ä¸­é“¾æ¥ç»“ç‚¹çš„æŒ‡é’ˆåè½¬è¿‡æ¥ï¼Œæ”¹å˜é“¾è¡¨çš„æ–¹å‘ï¼Œç„¶åå°±å¯ä»¥ä»å°¾åˆ°å¤´è¾“å‡ºäº†ï¼Œä½†è¯¥æ–¹æ³•éœ€è¦é¢å¤–çš„æ“ä½œï¼Œæ˜¯å¦è¿˜æœ‰æ›´å¥½çš„æ–¹æ³•å‘¢ï¼Ÿç­”æ¡ˆæ˜¯è‚¯å®šçš„ã€‚ æ¥ä¸‹æ¥çš„æƒ³æ³•æ˜¯ä»å¤´åˆ°å°¾éå†é“¾è¡¨ï¼Œæ¯ç»è¿‡ä¸€ä¸ªç»“ç‚¹çš„æ—¶å€™ï¼ŒæŠŠè¯¥ç»“ç‚¹æ”¾åˆ°ä¸€ä¸ªæ ˆä¸­ã€‚å½“éå†å®Œæ•´ä¸ªé“¾è¡¨åï¼Œå†ä»æ ˆé¡¶å¼€å§‹è¾“å‡ºç»“ç‚¹çš„å€¼ï¼Œæ­¤æ—¶è¾“å‡ºçš„ç»“ç‚¹çš„é¡ºåºå·²ç»åè½¬è¿‡æ¥äº†ã€‚è¯¥æ–¹æ³•è™½ç„¶æ²¡æœ‰åªéœ€è¦éå†ä¸€éé“¾è¡¨ï¼Œä½†æ˜¯éœ€è¦ç»´æŠ¤ä¸€ä¸ªé¢å¤–çš„æ ˆç©ºé—´ï¼Œå®ç°èµ·æ¥ä¼šæ¯”è¾ƒéº»çƒ¦ã€‚ æ˜¯å¦è¿˜èƒ½æœ‰æ›´é«˜æ•ˆçš„æ–¹æ³•ï¼Ÿäºæ˜¯æˆ‘ä»¬æƒ³åˆ°äº†ç¬¬ä¸‰ç§æ–¹æ³•ï¼Œæ—¢ç„¶æƒ³åˆ°äº†æ ˆæ¥å®ç°è¿™ä¸ªå‡½æ•°ï¼Œè€Œé€’å½’æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªæ ˆç»“æ„ï¼Œäºæ˜¯å¾ˆè‡ªç„¶åœ°åˆæƒ³åˆ°äº†ç”¨é€’å½’æ¥å®ç°ã€‚è¦å®ç°åè¿‡æ¥è¾“å‡ºé“¾è¡¨ï¼Œæ¯è®¿é—®åˆ°ä¸€ä¸ªç»“ç‚¹çš„æ—¶å€™ï¼Œå…ˆé€’å½’è¾“å‡ºå®ƒåé¢çš„ç»“ç‚¹ï¼Œå†è¾“å‡ºè¯¥ç»“ç‚¹è‡ªèº«ï¼Œè¿™æ ·é“¾è¡¨çš„è¾“å‡ºç»“æœå°±åè¿‡æ¥äº†ã€‚ å…·ä½“å®ç°å¦‚ä¸‹ï¼š

```java
void printListRevrsely(Node head)
{
    if(head != null)
    {
        printListRevrsely(head.next);
        system.out.println(head.val);
}
}
```



## ç»™å®šä¸€ä¸ªå•é“¾è¡¨ï¼ŒæŠŠæ‰€æœ‰çš„å¥‡æ•°èŠ‚ç‚¹å’Œå¶æ•°èŠ‚ç‚¹åˆ†åˆ«æ’åœ¨ä¸€èµ·ã€‚

è¯·æ³¨æ„ï¼Œè¿™é‡Œçš„å¥‡æ•°èŠ‚ç‚¹å’Œå¶æ•°èŠ‚ç‚¹æŒ‡çš„æ˜¯èŠ‚ç‚¹ç¼–å·çš„å¥‡å¶æ€§ï¼Œè€Œä¸æ˜¯èŠ‚ç‚¹çš„å€¼çš„å¥‡å¶æ€§ã€‚

è¯·å°è¯•ä½¿ç”¨åŸåœ°ç®—æ³•å®Œæˆã€‚ä½ çš„ç®—æ³•çš„ç©ºé—´å¤æ‚åº¦åº”ä¸º O(1)ï¼Œæ—¶é—´å¤æ‚åº¦åº”ä¸º O(nodes)ï¼Œnodes ä¸ºèŠ‚ç‚¹æ€»æ•°ã€‚

```java
 public ListNode oddEvenList(ListNode head) {
int i = 1;
if(head == null||head.next==null) return  head;
ListNode even = head.next;
ListNode cur = head;
        ListNode temp = even;
while (even != null&&even.next!=null)
{
cur.next = even.next;
cur = cur.next;
even.next=cur.next;
even=even.next;


}
cur.next=temp;

return head;

```



## ä¸ç”¨é¢å¤–å¼€è¾Ÿç©ºé—´çš„é“¾è¡¨åˆå¹¶



```java
       public Node merge(Node head1, Node head2) {
              if (head1 == null || head2 == null) {
                     return head1 != null ? head1 : head2;
              }
              Node head = head1.value < head2.value ? head1 : head2;
              Node cur1 = head == head1 ? head1 : head2;
              Node cur2 = head == head1 ? head2 : head1;
              Node pre = null;
              Node next = null;
              while (cur1 != null && cur2 != null) {
                     if (cur1.value <= cur2.value) {
                            pre = cur1;
                            cur1 = cur1.next;
                     } else {
                            next = cur2.next;
                            pre.next = cur2;
                            cur2.next = cur1;
                            pre = cur2;
                            cur2 = next;
                     }
              }
              pre.next = cur1 == null ? cur2 : cur1;
       }
```

## 2.é€’å½’åˆå¹¶ä¸¤ä¸ªå‡åºé“¾è¡¨ï¼š

é€’å½’æ³•ï¼š

```cpp
   ListNode* mergeTwoLists(ListNode* l1, ListNode* l2) {
if(l1 == nullptr)
return l2;
else if(l2 == nullptr)
return l1;
else if(l1->val < l2->val){
l1->next = mergeTwoLists(l1->next,l2);
return l1;}
else 
{
    l2->next = mergeTwoLists(l1,l2->next);
    return l2;
}
    }
```
è¿­ä»£æ³•:
è®¾ç½®ä¸€ä¸ªå“¨å…µèŠ‚ç‚¹ï¼Œç”¨æ¥è¿”å›æœ€ååˆå¹¶çš„é“¾è¡¨

```cpp
if(list1==null) return list2;
if(list2==null) return list1;
ListNode head = new ListNode(-1);
ListNode p =head;
while(list1!=null && list2 != null)
{
    if(list1.val < list2.val)
    {
        p.next = list1;
        list1 =list1.next;
    }
    else
    {
        p.next = list2;
        list2 = list2.next;
    }
    p = p.next;
}
p.next = list2==null?list1:list2;
return head.next;
```
æ³¨æ„ä½¿ç”¨ä¸‰ç›®è¿ç®—ç¬¦å‡å°ä»£ç é‡ï¼šp->next=l1==nullptr?l2:l1;



## åˆå¹¶kä¸ªå·²æ’åºçš„é“¾è¡¨

æ€è·¯æ˜¯é‡‡ç”¨ä¸€ä¸ªä¼˜å…ˆçº§é˜Ÿåˆ—ï¼Œå…ˆæŠŠé“¾è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ éƒ½æ”¾åˆ°ä¼˜å…ˆçº§é˜Ÿåˆ—ä¸­ï¼Œç„¶åå†ä¸²èµ·æ¥

```java
 PriorityQueue<ListNode> queue = new PriorityQueue<ListNode>((o1,o2)->o1.val-o2.val);
    public ListNode mergeKLists(ListNode[] lists) {
        for(int i=0;i<lists.length;i++)
        if(lists[i]!=null)
        queue.offer(lists[i]);
           ListNode head = new ListNode(0);
        ListNode tail = head;
        while(!queue.isEmpty())
        {
            ListNode st=queue.poll();
            tail.next=st;
            tail=tail.next;
            if(st.next!=null)
            queue.offer(st.next);
        }
        return head.next;
    }
```



## å•é“¾è¡¨åè½¬ï¼ˆåˆ©ç”¨å¤´ç»“ç‚¹ï¼‰

```java
public static void reversetList(HeroNode head) {
//å¦‚æœå½“å‰é“¾è¡¨ä¸ºç©ºï¼Œæˆ–è€…åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œæ— éœ€åè½¬ï¼Œç›´æ¥è¿”å›
if(head.next == null || head.next.next == null) {
return ;
}
//å®šä¹‰ä¸€ä¸ªè¾…åŠ©çš„æŒ‡é’ˆ(å˜é‡)ï¼Œå¸®åŠ©æˆ‘ä»¬éå†åŸæ¥çš„é“¾è¡¨
HeroNode cur = head.next;
HeroNode next = null;// æŒ‡å‘å½“å‰èŠ‚ç‚¹[cur]çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹
HeroNode reverseHead = new HeroNode(0, "", "");
//éå†åŸæ¥çš„é“¾è¡¨ï¼Œæ¯éå†ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå°±å°†å…¶å–å‡ºï¼Œå¹¶æ”¾åœ¨æ–°çš„é“¾è¡¨reverseHead çš„æœ€å‰ç«¯
//åŠ¨è„‘ç­‹
while(cur != null) {
    next = cur.next;//å…ˆæš‚æ—¶ä¿å­˜å½“å‰èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå› ä¸ºåé¢éœ€è¦ä½¿ç”¨
    cur.next = reverseHead.next;//å°†cur çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æŒ‡å‘æ–°çš„é“¾è¡¨çš„æœ€å‰ç«¯
reverseHead.next = cur; //å°†cur è¿æ¥åˆ°æ–°çš„é“¾è¡¨ä¸Š
cur = next;//è®©cur åç§»
}
//å°†head.next æŒ‡å‘reverseHead.next , å®ç°å•é“¾è¡¨çš„åè½¬
head.next = reverseHead.next;
}
```





## è®¾è®¡LRU(æœ€è¿‘æœ€å°‘ä½¿ç”¨)ç¼“å­˜ç»“æ„



è¯¥ç»“æ„åœ¨æ„é€ æ—¶ç¡®å®šå¤§å°ï¼Œå‡è®¾å¤§å°ä¸º k ï¼Œå¹¶æœ‰å¦‚ä¸‹ä¸¤ä¸ªåŠŸèƒ½

\1. set(key, value)ï¼šå°†è®°å½•(key, value)æ’å…¥è¯¥ç»“æ„

\2. get(key)ï¼šè¿”å›keyå¯¹åº”çš„valueå€¼

æç¤º:

1.æŸä¸ªkeyçš„setæˆ–getæ“ä½œä¸€æ—¦å‘ç”Ÿï¼Œè®¤ä¸ºè¿™ä¸ªkeyçš„è®°å½•æˆäº†æœ€å¸¸ä½¿ç”¨çš„ï¼Œç„¶åéƒ½ä¼šåˆ·æ–°ç¼“å­˜ã€‚

2.å½“ç¼“å­˜çš„å¤§å°è¶…è¿‡kæ—¶ï¼Œç§»é™¤æœ€ä¸ç»å¸¸ä½¿ç”¨çš„è®°å½•ã€‚

3.è¾“å…¥ä¸€ä¸ªäºŒç»´æ•°ç»„ä¸kï¼ŒäºŒç»´æ•°ç»„æ¯ä¸€ç»´æœ‰2ä¸ªæˆ–è€…3ä¸ªæ•°å­—ï¼Œç¬¬1ä¸ªæ•°å­—ä¸ºoptï¼Œç¬¬2ï¼Œ3ä¸ªæ•°å­—ä¸ºkeyï¼Œvalue

è‹¥opt=1ï¼Œæ¥ä¸‹æ¥ä¸¤ä¸ªæ•´æ•°key, valueï¼Œè¡¨ç¤ºset(key, value)
è‹¥opt=2ï¼Œæ¥ä¸‹æ¥ä¸€ä¸ªæ•´æ•°keyï¼Œè¡¨ç¤ºget(key)ï¼Œè‹¥keyæœªå‡ºç°è¿‡æˆ–å·²è¢«ç§»é™¤ï¼Œåˆ™è¿”å›-1
å¯¹äºæ¯ä¸ªopt=2ï¼Œè¾“å‡ºä¸€ä¸ªç­”æ¡ˆ

4.ä¸ºäº†æ–¹ä¾¿åŒºåˆ†ç¼“å­˜é‡Œkeyä¸valueï¼Œä¸‹é¢è¯´æ˜çš„ç¼“å­˜é‡Œkeyç”¨""å·åŒ…è£¹

è¦æ±‚ï¼šsetå’Œgetæ“ä½œå¤æ‚åº¦å‡ä¸º O(1)*O*(1)

ç¤ºä¾‹1

è¾“å…¥ï¼š

```
[[1,1,1],[1,2,2],[1,3,2],[2,1],[1,4,4],[2,2]],3
```

å¤åˆ¶

è¿”å›å€¼ï¼š

```
[1,-1]
```

å¤åˆ¶

è¯´æ˜ï¼š

```
[1,1,1]ï¼Œç¬¬ä¸€ä¸ª1è¡¨ç¤ºopt=1ï¼Œè¦set(1,1)ï¼Œå³å°†(1,1)æ’å…¥ç¼“å­˜ï¼Œç¼“å­˜æ˜¯{"1"=1}
[1,2,2]ï¼Œç¬¬ä¸€ä¸ª1è¡¨ç¤ºopt=1ï¼Œè¦set(2,2)ï¼Œå³å°†(2,2)æ’å…¥ç¼“å­˜ï¼Œç¼“å­˜æ˜¯{"1"=1,"2"=2}
[1,3,2]ï¼Œç¬¬ä¸€ä¸ª1è¡¨ç¤ºopt=1ï¼Œè¦set(3,2)ï¼Œå³å°†(3,2)æ’å…¥ç¼“å­˜ï¼Œç¼“å­˜æ˜¯{"1"=1,"2"=2,"3"=2}
[2,1]ï¼Œç¬¬ä¸€ä¸ª2è¡¨ç¤ºopt=2ï¼Œè¦get(1)ï¼Œè¿”å›æ˜¯[1]ï¼Œå› ä¸ºget(1)æ“ä½œï¼Œç¼“å­˜æ›´æ–°ï¼Œç¼“å­˜æ˜¯{"2"=2,"3"=2,"1"=1}
[1,4,4]ï¼Œç¬¬ä¸€ä¸ª1è¡¨ç¤ºopt=1ï¼Œè¦set(4,4)ï¼Œå³å°†(4,4)æ’å…¥ç¼“å­˜ï¼Œä½†æ˜¯ç¼“å­˜å·²ç»è¾¾åˆ°æœ€å¤§å®¹é‡3ï¼Œç§»é™¤æœ€ä¸ç»å¸¸ä½¿ç”¨çš„{"2"=2}ï¼Œæ’å…¥{"4"=4}ï¼Œç¼“å­˜æ˜¯{"3"=2,"1"=1,"4"=4}
[2,2]ï¼Œç¬¬ä¸€ä¸ª2è¡¨ç¤ºopt=2ï¼Œè¦get(2)ï¼ŒæŸ¥æ‰¾ä¸åˆ°ï¼Œè¿”å›æ˜¯[1,-1] 
```

```java

public class Solution {
    private Map<Integer, Node> map = new HashMap<>();
    private Node head = new Node(-1,-1);
    private Node tail = new Node(-1,-1);
    private int k;
    public int[] LRU (int[][] operators, int k) {//f
        this.k = k;
        head.next = tail;
        tail.prev = head;
        int len = (int)Arrays.stream(operators).filter(x -> x[0] == 2).count();
        int[] res = new int[len];
        for(int i = 0, j = 0; i < operators.length; i++) {
            if(operators[i][0] == 1) {
                set(operators[i][1], operators[i][2]);
            } else {
                res[j++] = get(operators[i][1]);
            }
        }
        return res;
    }
 
    private void set(int key, int val) {
        if(get(key) > -1) {
            map.get(k).val = val;
        } else {
            if(map.size() == k) {
                int rk = tail.prev.key;
                tail.prev.prev.next = tail;
                tail.prev = tail.prev.prev;
                map.remove(rk);
            }
            Node node = new Node(key, val);
            map.put(key, node);
            moveToHead(node);
        }
    }
 
    private int get(int key) {
        if(map.containsKey(key)) {
            Node node = map.get(key);
            node.prev.next = node.next;
            node.next.prev = node.prev;
            moveToHead(node);
            return node.val;
        }
        return -1;
    }
 
    private void moveToHead(Node node) {
        node.next = head.next;
        head.next.prev = node;
        head.next = node;
        node.prev = head;
    }
 
    static class Node{
        int key, val;
        Node prev, next;
        public Node(int key, int val) {
            this.key = key;
            this.val = val;
        }
    }
}
```

ç‰ˆæœ¬äºŒï¼šå¸¦å“¨å…µç»“ç‚¹çš„åŒå‘é“¾è¡¨+map

```java
class LRUCache {
class Node{
            //è¿™ä¸ªä»£ç ä¸­tail headéƒ½æ˜¯å“¨å…µç»“ç‚¹ æ— æ•°æ®
        int key;
        int val;
        Node prev;
        Node next;
        Node(){

        }
        Node(int key,int value)
        {
            this.key = key;
            this.val = value;
        }
    }
    int capacity;
    Node head;
    Node tail;

    public LRUCache(int capacity) {
this.capacity = capacity;
head = new Node();
tail = new Node();
head.next = tail;
tail.prev = head;
    }
    private Map<Integer, Node> mymap = new HashMap<>();
    public int get(int key) {
if(mymap.containsKey(key) )
{
    Node node = mymap.get(key);
    node.prev.next = node.next;
    node.next.prev = node.prev;
    moveToHead(node);
    return node.val;
}
return -1;
    }

    public void moveToHead(Node node) {
      node.next=   head.next ;
        head.next.prev = node;
        head.next = node;
        node.prev = head;
    }

    public void put(int key, int value) {
 if(get(key) > -1) {
            mymap.get(key).val = value;
     //ä¹Ÿå¯ä»¥ç›´æ¥å†™ï¼š
     if(get(key) > -1)
{
 map.get(key).value = value;
return;
}
        } else {//å°¤å…¶æ³¨æ„è¿™ä¸ªputæ–¹æ³•çš„else!!!!å› ä¸ºæ²¡æœ‰å†™Elseç»“æœæ£€æŸ¥äº†åŠå°æ—¶ä¹Ÿæ²¡é€šè¿‡ï¼ï¼ï¼ï¼ï¼æ³¨æ„ï¼šputæ–¹æ³•å¹¶ä¸ä¼šè®©å·²æœ‰çš„ç»“ç‚¹æ›´æ–°åˆ°å‰é¢å»!
            if(mymap.size() == capacity) {
                int rk = tail.prev.key;
                tail.prev.prev.next = tail;
                tail.prev = tail.prev.prev;
                mymap.remove(rk);
            }
            Node node = new Node(key, value);
            mymap.put(key, node);
            moveToHead(node);
}
    }
}

```

## LFU

è¯·ä½ ä¸º æœ€ä¸ç»å¸¸ä½¿ç”¨ï¼ˆLFUï¼‰ç¼“å­˜ç®—æ³•è®¾è®¡å¹¶å®ç°æ•°æ®ç»“æ„ã€‚

å®ç° LFUCache ç±»ï¼š

LFUCache(int capacity) - ç”¨æ•°æ®ç»“æ„çš„å®¹é‡ capacity åˆå§‹åŒ–å¯¹è±¡
int get(int key) - å¦‚æœé”® key å­˜åœ¨äºç¼“å­˜ä¸­ï¼Œåˆ™è·å–é”®çš„å€¼ï¼Œå¦åˆ™è¿”å› -1 ã€‚
void put(int key, int value) - å¦‚æœé”® key å·²å­˜åœ¨ï¼Œåˆ™å˜æ›´å…¶å€¼ï¼›å¦‚æœé”®ä¸å­˜åœ¨ï¼Œè¯·æ’å…¥é”®å€¼å¯¹ã€‚å½“ç¼“å­˜è¾¾åˆ°å…¶å®¹é‡ capacity æ—¶ï¼Œåˆ™åº”è¯¥åœ¨æ’å…¥æ–°é¡¹ä¹‹å‰ï¼Œç§»é™¤æœ€ä¸ç»å¸¸ä½¿ç”¨çš„é¡¹ã€‚åœ¨æ­¤é—®é¢˜ä¸­ï¼Œå½“å­˜åœ¨å¹³å±€ï¼ˆå³ä¸¤ä¸ªæˆ–æ›´å¤šä¸ªé”®å…·æœ‰ç›¸åŒä½¿ç”¨é¢‘ç‡ï¼‰æ—¶ï¼Œåº”è¯¥å»é™¤ æœ€è¿‘æœ€ä¹…æœªä½¿ç”¨ çš„é”®ã€‚
ä¸ºäº†ç¡®å®šæœ€ä¸å¸¸ä½¿ç”¨çš„é”®ï¼Œå¯ä»¥ä¸ºç¼“å­˜ä¸­çš„æ¯ä¸ªé”®ç»´æŠ¤ä¸€ä¸ª ä½¿ç”¨è®¡æ•°å™¨ ã€‚ä½¿ç”¨è®¡æ•°æœ€å°çš„é”®æ˜¯æœ€ä¹…æœªä½¿ç”¨çš„é”®ã€‚



----

```java
  // ç¼“å­˜å®¹é‡ï¼Œæ—¶é—´æˆ³
    int capacity, time;
    Map<Integer,Node>map =new HashMap<>();
        TreeSet<Node> S;
    public LFUCache(int capacity) {
       this.capacity = capacity;
        this.time = 0;
        S = new TreeSet<>();
    }
    
    public int get(int key) {
if(capacity == 0) return -1;
if(!map.containsKey(key)) return -1;
Node node = map.get(key);
S.remove(node);
node.cnt +=1;
node.time = ++time;
S.add(node);
return node.value; 
    }
    
    public void put(int key, int value) {
         if (capacity == 0) {
            return;
        }
          if (!map.containsKey(key)) {
            // å¦‚æœåˆ°è¾¾ç¼“å­˜å®¹é‡ä¸Šé™
            if (map.size() == capacity) {
                // ä»å“ˆå¸Œè¡¨å’Œå¹³è¡¡äºŒå‰æ ‘ä¸­åˆ é™¤æœ€è¿‘æœ€å°‘ä½¿ç”¨çš„ç¼“å­˜ è¿™é‡Œtreesetä»å°åˆ°å¤§ï¼Œç¬¬ä¸€ä¸ªæ˜¯æœ€å°çš„,è¿™é‡Œè®°å¾—æ˜¯ä»treesetä¸­å–å¾—æœ€å°çš„ä½¿ç”¨é¢‘ç‡çš„ç»“ç‚¹ï¼Œåˆ é™¤çš„æ—¶å€™éœ€è¦mapå’ŒSetåŒæ—¶æŠŠç»“ç‚¹åˆ é™¤ï¼Œä¸å¯é—æ¼
                map.remove(S.first().key);
                S.remove(S.first());
            }
             // åˆ›å»ºæ–°çš„ç¼“å­˜
            Node cache = new Node(1, ++time, key, value);
            // å°†æ–°ç¼“å­˜æ”¾å…¥å“ˆå¸Œè¡¨å’Œå¹³è¡¡äºŒå‰æ ‘ä¸­
          map.put(key, cache);
            S.add(cache);
            }
            else//å¦‚æœè¿™ä¸ªé”®å·²ç»å­˜åœ¨
            {
Node oldnode = map.get(key);//å–å‡ºå­˜åœ¨çš„ç»“ç‚¹ï¼Œæ›´æ–°æ—¶é—´æˆ³å’Œä½¿ç”¨é¢‘ç‡
S.remove(oldnode);
oldnode.cnt+=1;
oldnode.time = ++time;//timeè¶Šå°æ—¶é—´è¶Šæ—© æ‰€ä»¥é¦–å…ˆè¢«åˆ é™¤
oldnode.value = value;
map.put(key,oldnode);//æ›´æ–°å®ƒçš„å€¼
S.add(oldnode);

            }

    }
    class Node implements  Comparable<Node>
    {
        int cnt,time,key,value;
            Node(int cnt, int time, int key, int value) {
        this.cnt = cnt;
        this.time = time;
        this.key = key;
        this.value = value;
    }

       public int compareTo(Node node)
       {
return this.cnt == node.cnt?this.time - node.time:this.cnt - node.cnt;
       } 
       public boolean equals(Object anObject )
       {
  if (this == anObject) {
            return true;
        }
        if (anObject instanceof Node) {
            Node rhs = (Node) anObject;
            return this.cnt == rhs.cnt && this.time == rhs.time;
        }
        return false;
       }
       public int hashCode() {
        return cnt * 1000000007 + time;
    }
    }
```



## [138. å¤åˆ¶å¸¦éšæœºæŒ‡é’ˆçš„é“¾è¡¨](https://leetcode-cn.com/problems/copy-list-with-random-pointer/)

éš¾åº¦ä¸­ç­‰816

ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸º `n` çš„é“¾è¡¨ï¼Œæ¯ä¸ªèŠ‚ç‚¹åŒ…å«ä¸€ä¸ªé¢å¤–å¢åŠ çš„éšæœºæŒ‡é’ˆ `random` ï¼Œè¯¥æŒ‡é’ˆå¯ä»¥æŒ‡å‘é“¾è¡¨ä¸­çš„ä»»ä½•èŠ‚ç‚¹æˆ–ç©ºèŠ‚ç‚¹ã€‚

æ„é€ è¿™ä¸ªé“¾è¡¨çš„ **[æ·±æ‹·è´](https://baike.baidu.com/item/æ·±æ‹·è´/22785317?fr=aladdin)**ã€‚ æ·±æ‹·è´åº”è¯¥æ­£å¥½ç”± `n` ä¸ª **å…¨æ–°** èŠ‚ç‚¹ç»„æˆï¼Œå…¶ä¸­æ¯ä¸ªæ–°èŠ‚ç‚¹çš„å€¼éƒ½è®¾ä¸ºå…¶å¯¹åº”çš„åŸèŠ‚ç‚¹çš„å€¼ã€‚æ–°èŠ‚ç‚¹çš„ `next` æŒ‡é’ˆå’Œ `random` æŒ‡é’ˆä¹Ÿéƒ½åº”æŒ‡å‘å¤åˆ¶é“¾è¡¨ä¸­çš„æ–°èŠ‚ç‚¹ï¼Œå¹¶ä½¿åŸé“¾è¡¨å’Œå¤åˆ¶é“¾è¡¨ä¸­çš„è¿™äº›æŒ‡é’ˆèƒ½å¤Ÿè¡¨ç¤ºç›¸åŒçš„é“¾è¡¨çŠ¶æ€ã€‚**å¤åˆ¶é“¾è¡¨ä¸­çš„æŒ‡é’ˆéƒ½ä¸åº”æŒ‡å‘åŸé“¾è¡¨ä¸­çš„èŠ‚ç‚¹** ã€‚

ä¾‹å¦‚ï¼Œå¦‚æœåŸé“¾è¡¨ä¸­æœ‰ `X` å’Œ `Y` ä¸¤ä¸ªèŠ‚ç‚¹ï¼Œå…¶ä¸­ `X.random --> Y` ã€‚é‚£ä¹ˆåœ¨å¤åˆ¶é“¾è¡¨ä¸­å¯¹åº”çš„ä¸¤ä¸ªèŠ‚ç‚¹ `x` å’Œ `y` ï¼ŒåŒæ ·æœ‰ `x.random --> y` ã€‚

è¿”å›å¤åˆ¶é“¾è¡¨çš„å¤´èŠ‚ç‚¹ã€‚

-----

æ–¹æ³•ä¸€ï¼š

```java
/*
// Definition for a Node.
class Node {
    int val;
    Node next;
    Node random;

    public Node(int val) {
        this.val = val;
        this.next = null;
        this.random = null;
    }
}
*/

class Solution {
    public Node copyRandomList(Node head) {
    Map<Node,Node>mymap=new HashMap<>();
    Node cur=head;
    while(cur!= null)
    {
        mymap.put(cur,new Node(cur.val));
        cur=cur.next;

    }    
    cur = head;
    while(cur!=null)
    {
        mymap.get(cur).next=mymap.get(cur.next);
        mymap.get(cur).random = mymap.get(cur.random);
    cur=cur.next;
    }
    return mymap.get(head);
    }
```

æ–¹æ³•äºŒï¼šå›æº¯+å“ˆå¸Œè¡¨

```java
    HashMap<Node,Node> map = new HashMap<>();
    public Node copyRandomList(Node head) {
 
if(head==null) return head;
if(map.get(head)==null)
{
      Node newnode = new Node(head.val);
map.put(head,newnode);
newnode.next = copyRandomList(head.next);
newnode.random = copyRandomList(head.random);
}
return map.get(head);
    }
```

## é“¾è¡¨å†…æŒ‡å®šåŒºé—´åè½¬

![image-20230208110050066](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230208110050066.png)



è¾“å…¥ï¼š

```
{1,2,3,4,5},2,4
```

å¤åˆ¶

è¿”å›å€¼ï¼š

```
{1,4,3,2,5}
```

```java
public ListNode reverseBetween (ListNode head, int m, int n) {
        // write code here
        if(m==n) return head;
        ListNode temp=head,pre=null,prem=null,nodem=null,nNext=null;
        int index=1;

        while(temp!=null){

if(index==m-1)
{
//mä½ç½®çš„å‰ä¸€ä¸ªç»“ç‚¹
    prem=temp;
    

}
if(index==n)
{
    //nä½ç½®çš„ä¸‹ä¸€ä¸ªç»“ç‚¹
    nNext=temp.next;
}
index++;

temp=temp.next;
        }
        if(prem==null) temp=head;
        else temp=prem.next;
        ListNode tempNext=temp.next;
    //tempæ˜¯mä½ç½®çš„ç»“ç‚¹ å®ƒçš„nextæŒ‡å‘nä½ç½®çš„ä¸‹ä¸€ä¸ª
temp.next=nNext;
while(tempNext!=nNext)
{
    //theNextæ˜¯ç”¨äºåè½¬ä¹‹åå‘å‰ç§»åŠ¨çš„
    ListNode theNext=tempNext.next;
    tempNext.next=temp;
    temp=tempNext;
    tempNext=theNext;
}
    //æ³¨æ„è¿™é‡Œï¼Œå¦‚æœmä½ç½®ä¸æ˜¯ç¬¬ä¸€ä¸ªç»“ç‚¹ï¼Œé‚£ä¹ˆè¿”å›head
if(prem!=null) {
    prem.next= temp;
    return head;
}
        //reverse(prem,nodem,noden,m-n);
        return temp;
    }
```

## [å‰‘æŒ‡ Offer II 022. é“¾è¡¨ä¸­ç¯çš„å…¥å£èŠ‚ç‚¹](https://leetcode.cn/problems/c32eOV/)

éš¾åº¦ä¸­ç­‰93

ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œè¿”å›é“¾è¡¨å¼€å§‹å…¥ç¯çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚ ä»é“¾è¡¨çš„å¤´èŠ‚ç‚¹å¼€å§‹æ²¿ç€ `next` æŒ‡é’ˆè¿›å…¥ç¯çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ä¸ºç¯çš„å…¥å£èŠ‚ç‚¹ã€‚å¦‚æœé“¾è¡¨æ— ç¯ï¼Œåˆ™è¿”å› `null`ã€‚

ä¸ºäº†è¡¨ç¤ºç»™å®šé“¾è¡¨ä¸­çš„ç¯ï¼Œæˆ‘ä»¬ä½¿ç”¨æ•´æ•° `pos` æ¥è¡¨ç¤ºé“¾è¡¨å°¾è¿æ¥åˆ°é“¾è¡¨ä¸­çš„ä½ç½®ï¼ˆç´¢å¼•ä» 0 å¼€å§‹ï¼‰ã€‚ å¦‚æœ `pos` æ˜¯ `-1`ï¼Œåˆ™åœ¨è¯¥é“¾è¡¨ä¸­æ²¡æœ‰ç¯ã€‚**æ³¨æ„ï¼Œ`pos` ä»…ä»…æ˜¯ç”¨äºæ ‡è¯†ç¯çš„æƒ…å†µï¼Œå¹¶ä¸ä¼šä½œä¸ºå‚æ•°ä¼ é€’åˆ°å‡½æ•°ä¸­ã€‚**

**è¯´æ˜ï¼š**ä¸å…è®¸ä¿®æ”¹ç»™å®šçš„é“¾è¡¨ã€‚



 

**ç¤ºä¾‹ 1ï¼š**

![image-20230214225100801](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230214225100801.png)

```
è¾“å…¥ï¼šhead = [3,2,0,-4], pos = 1
è¾“å‡ºï¼šè¿”å›ç´¢å¼•ä¸º 1 çš„é“¾è¡¨èŠ‚ç‚¹
è§£é‡Šï¼šé“¾è¡¨ä¸­æœ‰ä¸€ä¸ªç¯ï¼Œå…¶å°¾éƒ¨è¿æ¥åˆ°ç¬¬äºŒä¸ªèŠ‚ç‚¹ã€‚
```



-----

![image-20230214225546503](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230214225546503.png) 

![image-20230214225735388](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230214225735388.png)  

```java
 public ListNode detectCycle(ListNode head) {
        if (head == null) {
            return null;
        }
        ListNode slow = head, fast = head;
        while (fast != null) {
            slow = slow.next;
            if (fast.next != null) {
                fast = fast.next.next;
            } else {
                return null;
            }
            if (fast == slow) {
                ListNode ptr = head;
                while (ptr != slow) {
                    ptr = ptr.next;
                    slow = slow.next;
                }
                return ptr;
            }
        }
        return null;


       
    }
```



# é‡ç‚¹ KMPç®—æ³•

æœ‰ä¸€ä¸ªå­—ç¬¦ä¸²s,ä¸‹æ ‡ä»0å¼€å§‹ï¼Œä»¥iå·ä½ç»“å°¾çš„å­ä¸²å°±æ˜¯s[0..i],å®šä¹‰ä¸€ä¸ªint nextæ•°ç»„ï¼Œå…¶ä¸­next[i]å­˜æ”¾ä½¿å‰ç¼€s[0..k]ä¸åç¼€s[i-k..i]ç›¸ç­‰çš„æœ€å¤§kå€¼ï¼Œï¼ˆå‰ç¼€ä¸åç¼€å¯ä»¥éƒ¨åˆ†é‡å ï¼Œä½†ä¸èƒ½æ˜¯iæœ¬èº«ï¼Œè‹¥æ‰¾ä¸åˆ° ç›¸ç­‰çš„å‰åç¼€ï¼Œä»¤next[i] = -1;æ˜¾ç„¶next[i]å°±æ˜¯æ‰€æ±‚æœ€é•¿ç›¸ç­‰å‰åç¼€ä¸­çš„å‰ç¼€æœ€åä¸€ä½çš„ä¸‹æ ‡ï¼Œ

![](C:\Users\14172\OneDrive\å›¾ç‰‡\å±å¹•å¿«ç…§\2020-12-12.png)

## ç»Ÿè®¡åè€…æ˜¯å¦æ˜¯å­ä¸²

ä»£ç ï¼š

```c++
int nextt[maxn];
void getnext(char s[], int len)
{
	int j = -1;
	nextt[0] = -1;
	for (int i = 1; i < len; i++)
	{
		//æ±‚è§£next[1~len-1]
		while (j != -1 && s[i] != s[j + 1])
			j = nextt[j];// jä¸€ç›´å›é€€ ç›´åˆ°jä¸º-1æˆ–s[i]==s[j+1]
		if (s[i] == s[j + 1])
		{
			j++;

		}
		
			nextt[i] = j;
			//å¦‚æœä¸æ»¡è¶³s[i]==s[j+1]åˆ™ç›´æ¥next[i]=j å¦‚æœæ»¡è¶³åˆ™next[i]=j+1;
	}
	
}

bool kmp(char text[], char pattern[])
{
	//åˆ¤æ–­åè€…æ˜¯å¦æ˜¯å‰è€…çš„å­ä¸²
	int m = strlen(text);
	int n = strlen(pattern);
	int j = -1;
	getnext(pattern, n);
	for (int i = 0; i < m; i++)
	{
		while (j != -1 && text[i] != pattern[j + 1])
			j = nextt[j];
		if (text[i] == pattern[j + 1])
			j++;
		if (j == n - 1)
		return true;//å®Œå…¨åŒ¹é…

	}
	return false;//æ‰§è¡Œå®Œå¾ªç¯è¿˜æ²¡åŒ¹é…æˆåŠŸè¯´æ˜patternä¸æ˜¯å­ä¸²
}
int main()
{
	char* m = new char[200];
	char* pat = new char[200];
	cin >> m;
	cin >> pat;
	cout<<kmp(m, pat);
	delete m;
	delete pat;
}
```

## //è®¡ç®—å­ä¸²åœ¨å­—ç¬¦ä¸²ä¸­å‡ºç°æ¬¡æ•°

```c++
int countkmp(char text[], char  pattern[])
{
	int i, j = -1,m = strlen(pattern),n = strlen(text);//æ±‚å­—ç¬¦ä¸²é•¿åº¦
	getnext(pattern, m);
	int ans = 0;//ä¸€å¼€å§‹çš„æ¬¡æ•°æ˜¯0
	nextt[0] = -1;
	for (i = 0; i < n; i++)
	{
		while (j != -1 && text[i] != pattern[j + 1])
			j = nextt[j];//å›é€€
		if (text[i] == pattern[j + 1])
			j++;
		if (j == m - 1)
		{
			//æ­¤æ—¶å·²ç»åˆ¤æ–­å‡ºpaæ˜¯textçš„ä¸€ä¸ªå­ä¸²
			ans++;
			j = nextt[j];//jè¿›è¡Œå›é€€ ç»§ç»­åŒ¹é… next[j]ä»£è¡¨æœ€é•¿ç›¸ç­‰çš„å‰åç¼€ï¼Œè¿™æ ·å¯ä»¥è®©jæœ€å¤§ï¼Œå³å·²ç»åŒ¹é…çš„éƒ¨åˆ†æœ€é•¿
			//è¿™æ ·çœå»ä¸‹ä¸€æ¬¡åŒ¹é…çš„è®¸å¤šæ— æ„ä¹‰çš„æ¯”è¾ƒ
		}
	}
	return ans;//è¿”å›æ¯”è¾ƒæ¬¡æ•°
}
```



# é€’å½’ä¸åˆ†æ²»

æš´åŠ›é€’å½’ï¼š

![image-20211204210420465](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20211204210420465.png)

äºŒåˆ†æŸ¥æ‰¾(é€’å½’æ³•)

é€’å½’æ±‚è§£ å¦‚æœa[m] > xï¼Œé‚£ä¹ˆå…ƒç´ åªå¯èƒ½åœ¨a[l] âˆ¼ a[m âˆ’ 1]ä¸­ï¼›å¦‚æœa[m] < xï¼Œé‚£ä¹ˆå…ƒç´ åªå¯èƒ½åœ¨a[m + 1] âˆ¼ a[r]ä¸­ã€‚ åˆå¹¶ ä¸éœ€è¦åˆå¹¶ã€‚ è¿™ä¸ªç®—æ³•ç§°ä¸ºäºŒåˆ†æŸ¥æ‰¾(binary search) ã€‚

```c++
int bsearch ( int l , int r , int x )
{
if ( l > r ) return -1;
int m = ( l + r ) > > 1;
if ( a [ m ] == x ) return m ;
else if ( a [ m ] > x ) return bsearch (l , m -1 , x );
else return bsearch ( m +1 , r , x );
}
é€’å½’ç¨‹åºä¸€å®šè¦æ³¨æ„è¾¹ç•Œçš„å¤„ç†
```



```c++
//å…ƒç´ ä¸ªæ•°æ›´å¤šæ—¶ï¼Œè½¬åŒ–æˆå…ƒç´ ä¸ªæ•°å°‘çš„æƒ…å†µã€‚ç”±æ•°å­¦å½’çº³æ³•å®¹æ˜“è¯æ˜æ•´ä¸ªç®—æ³•çš„
//æ­£ç¡®æ€§ã€‚è¿™ä¸ªç®—æ³•å¾€å¾€è¢«å†™æˆéé€’å½’çš„å½¢å¼ï¼Œå³ï¼š
int bsearch ( int l , int r , int x )
{
int m ;
while ( l <= r )
{
m = ( l + r ) > > 1;
if ( a [ m ] == x ) return m ;
else if ( a [ m ] > x ) r = mâ€“ 1;
else l = m + 1;
}
}

```

æŠŠè¿™ç§ç®€å•çš„é€’å½’è½¬åŒ–æˆè¿­ä»£çš„å½¢å¼ï¼Œé€šå¸¸æ˜¯ä¸€ä¸ªå¥½ä¸»æ„ã€‚
ä¸‹é¢è¿›è¡Œæ—¶é—´å¤æ‚åº¦åˆ†æã€‚ç”±äºm = n/2ï¼Œé€’å½’æ–¹ç¨‹åŒ–æˆäº†T(n) = T(n/2) + 1ã€‚ç”¨
å’Œåˆšæ‰ç±»ä¼¼çš„æ–¹æ³•æœ‰ï¼š
T(1) = 1
T(2) = T(1) + 1 = 2
T(4) = T(2) + 1 = 3
T(8) = T(4) + 1 = 4
å½’çº³å¾—ï¼šT(2n) = n + 1ï¼Œå³T(n) = log2n + 1ã€‚æ¸è¿›åˆ†æç»™å‡ºï¼šT(n) = O(log n)ã€‚

 ( n & 1) ç­‰æ•ˆäºn%2==1

## å¤©å¹³ï¼ˆNot so Mobile, UVa 839ï¼‰

ã€€ è¾“å…¥ä¸€ä¸ªæ ‘çŠ¶å¤©å¹³ï¼Œæ ¹æ®åŠ›çŸ©ç›¸ç­‰åŸåˆ™åˆ¤æ–­æ˜¯å¦å¹³è¡¡ã€‚æ‰€è°“åŠ›çŸ©ç›¸ç­‰ï¼Œå°±æ˜¯W l D l =W r D r ï¼Œå…¶ä¸­W l å’ŒW r åˆ†åˆ«ä¸ºå·¦å³ä¸¤è¾¹ç ç çš„é‡é‡ï¼ŒDä¸ºè·ç¦»ã€‚
ã€€
æ€è·¯ï¼š
**é‡‡ç”¨é€’å½’ï¼ˆå…ˆåºï¼‰æ–¹å¼è¾“å…¥**ï¼šæ¯ä¸ªå¤©å¹³çš„æ ¼å¼ä¸ºW l ï¼ŒD l ï¼ŒW r ï¼ŒD r ï¼Œå½“W l æˆ–W r ä¸º0æ—¶ï¼Œè¡¨ç¤ºè¯¥â€œç ç â€å®é™…æ˜¯ä¸€ä¸ªå­å¤©å¹³ï¼Œæ¥ä¸‹æ¥ä¼šæè¿°è¿™ä¸ªå­å¤©å¹³ã€‚å½“W l =W r=0æ—¶ï¼Œä¼šå…ˆæè¿°å·¦å­å¤©å¹³ï¼Œç„¶åæ˜¯å³å­å¤©å¹³ã€‚ æ ·ä¾‹ï¼š
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/20210514203654577.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxMzU4NTc0,size_16,color_FFFFFF,t_70)
è¾“å…¥ï¼š

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/20210514203207373.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxMzU4NTc0,size_16,color_FFFFFF,t_70)
è¾“å‡ºâ€œå¹³è¡¡â€
ä»£ç ï¼š

```cpp
#include <iostream>

using namespace std;
bool solve(int& w) {
    int w1, d1, w2, d2;
    bool b1 = true, b2 = true;
    cin >> w1 >> d1 >> w2 >> d2;//b1 b2ç”¨äºåˆ¤æ–­å·¦å­å¤©å¹³å’Œå³å­å¤©å¹³æ˜¯å¦å¹³è¡¡
    if (!w1) b1=solve(w1);
    if (!w2) b2 = solve(w2);
    w = w1 + w2;//wç”¨äºä¿®æ”¹å­å¤©å¹³çš„æ€»é‡é‡
    return b1 && b2 && (w1 * d1 == w2 * d2);

}



int main()
{
    int T, W;
    cin >> T;//å¤©å¹³æ•°é‡
    while (T--) {
        if (solve(W)) cout << "å¹³è¡¡";
        else cout << "ä¸å¹³è¡¡";
    }
}

```

## å°çƒä¸‹è½
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/20210514203742800.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxMzU4NTc0,size_16,color_FFFFFF,t_70)

æœ‰ä¸€æ£µäºŒå‰æ ‘ï¼Œæœ€å¤§æ·±åº¦ä¸ºDï¼Œä¸”æ‰€æœ‰å¶å­çš„æ·±åº¦éƒ½ç›¸åŒã€‚æ‰€æœ‰ç»“ç‚¹ä»ä¸Šåˆ°ä¸‹ä»å·¦åˆ°å³ç¼–å·ä¸º1, 2, 3,â€¦, 2* D-1ã€‚åœ¨ç»“ç‚¹1å¤„æ”¾ä¸€ä¸ªå°çƒï¼Œå®ƒä¼šå¾€ä¸‹è½ã€‚æ¯ä¸ªå†…ç»“ç‚¹ä¸Šéƒ½æœ‰ä¸€ä¸ªå¼€å…³ï¼Œåˆå§‹å…¨éƒ¨å…³é—­ï¼Œå½“æ¯æ¬¡æœ‰å°çƒè½åˆ°ä¸€ä¸ªå¼€å…³ä¸Šæ—¶ï¼ŒçŠ¶æ€éƒ½ä¼šæ”¹å˜ã€‚å½“å°çƒåˆ°è¾¾ä¸€ä¸ªå†…ç»“ç‚¹æ—¶ï¼Œå¦‚æœè¯¥ç»“ç‚¹ä¸Šçš„å¼€å…³å…³é—­ï¼Œåˆ™å¾€å·¦èµ°ï¼Œå¦åˆ™å¾€å³èµ°ï¼Œç›´åˆ°èµ°åˆ°å¶å­ç»“ç‚¹ï¼Œå¦‚å›¾æ‰€ç¤ºã€‚
æ ·ä¾‹è¾“å…¥ï¼š
4 2 
3 4 
10 1
 2 2
  8 128 


æ ·ä¾‹è¾“å‡ºï¼š 
12
 7 
 512
 3

åˆ†æï¼š
å¯¹äºæ¯ä¸€ä¸ªç»“ç‚¹k å…¶å·¦å­èŠ‚ç‚¹ å³å­èŠ‚ç‚¹çš„ç¼–å·åˆ†åˆ«æ˜¯2kå’Œ2k+1

æ¯æ¬¡è½åˆ°ä¸€ä¸ªä½ç½®å¼€å…³çŠ¶æ€å‡å˜åŒ–ï¼Œå°¤å…¶æ³¨æ„ç¬¬ä¸€ä¸ªç»“ç‚¹æ¯æ¬¡éƒ½ä¼šå˜åŒ–
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/20210514233440780.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxMzU4NTc0,size_16,color_FFFFFF,t_70)
4 2ï¼š
ä¸€å…±4å±‚ æœ‰ä¸¤ä¸ªå°çƒæ—¶ï¼Œç¬¬äºŒä¸ªå°çƒæœ€åä¸‹è½çš„ä½ç½®
è¾“å‡º12
ä»£ç ï¼š
```cpp
#define _CRT_SECURE_NO_WARNINGS
#include <iostream>
#include<cstring>



using namespace std;


const int maxd = 20;//æœ€å¤§æ·±åº¦
int m[1 << maxd];//æœ€å¤§ç»“ç‚¹ä¸ªæ•°ä¸º2çš„maxdæ¬¡æ–¹-1


int main()
{
	int d, n;//d æ·±åº¦ nç»“ç‚¹æ€»ä¸ªæ•°
	while (scanf("%d%d", &d, &n) == 2) {
		memset(m, 0,sizeof(m));
		int k;
		for (int i =0;i<n;i++) {
			 k = 1;//æ¯æ¬¡ä»ç»“ç‚¹1å¼€å§‹æ‰è½ï¼Œk=1è¦å†™åœ¨å¤–é¢ï¼Œæ¯æ¬¡è½ä¸€ä¸ªå°çƒç¬¬ä¸€ä¸ªå¼€å…³çŠ¶æ€éƒ½ä¼šæ”¹å˜
	
			for (;;) {
				m[k] = !m[k];//æ³¨æ„è¿™ä¸ªå†™æ³•ï¼Œæ˜¯m[k]ï¼Œä¿®æ”¹ç¬¬kä¸ªå¼€å…³çš„çŠ¶æ€ kä¸ºæ­¤æ—¶ä¸‹è½çš„ä½ç½®
				k = m[k] ? 2 * k : 2 * k + 1;
				if (k > ((1<<d)-1)) break;
			}
		}
		printf("%d\n", k / 2);
	}

}
```



## æ•´æ•°æ‹†åˆ†

![image-20211210024042434](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20211210024042434.png)

 



![image-20211210024242717](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20211210024242717.png)

public int integerBreak(int n) {

int[]dp = new int[n+1];

â€‹    for (int i = 2; i <= n; i++) {

â€‹      int curmax = 0;

â€‹      for (int j = 1; j < i; j++) {

â€‹        curmax = Math.max( curmax,Math.max(j *(i-j),dp[i-j]*j));

â€‹      }

â€‹      dp[i] = curmax;

â€‹    }

â€‹    return dp[n];

  }



## æ•´æ•°åˆ’åˆ†2

é—®é¢˜ï¼šå°†ç»™å®šæ­£æ•´æ•°nè¡¨ç¤ºæˆä¸€ç³»åˆ—æ­£æ•´æ•°ä¹‹å’Œ

n=n1+n2+â€¦+nkï¼Œå…¶ä¸­n1â‰¥n2â‰¥â€¦â‰¥nkâ‰¥1ï¼Œkâ‰¥1ã€‚

æ±‚æ­£æ•´æ•°nçš„ä¸åŒåˆ’åˆ†ä¸ªæ•°p(n)ã€‚ 

```java

public final class IntegerPartition
{
	public static int partition(int n, int m){

		if(n<1||m<1) return 0;
		
		if(m==1||n==1) return 1;
		
		if(m>n) return partition(n,n);
		
		if(m==n) return partition(n,m-1)+1;
		
		return partition(n,m-1)+partition(n-m,m);
	}

	public static void main(String[] args){
		int n=2;
		int m=2;
		System.out.println(partition(n,m));
	}
}
```







## [395. è‡³å°‘æœ‰ K ä¸ªé‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²](https://leetcode-cn.com/problems/longest-substring-with-at-least-k-repeating-characters/)

éš¾åº¦ä¸­ç­‰636

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² `s` å’Œä¸€ä¸ªæ•´æ•° `k` ï¼Œè¯·ä½ æ‰¾å‡º `s` ä¸­çš„æœ€é•¿å­ä¸²ï¼Œ è¦æ±‚è¯¥å­ä¸²ä¸­çš„æ¯ä¸€å­—ç¬¦å‡ºç°æ¬¡æ•°éƒ½ä¸å°‘äº `k` ã€‚è¿”å›è¿™ä¸€å­ä¸²çš„é•¿åº¦ã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šs = "aaabb", k = 3
è¾“å‡ºï¼š3
è§£é‡Šï¼šæœ€é•¿å­ä¸²ä¸º "aaa" ï¼Œå…¶ä¸­ 'a' é‡å¤äº† 3 æ¬¡ã€‚
```

----

é‡ç‚¹ï¼šæˆ‘ä»¬åœ¨è°ƒç”¨é€’å½’å‡½æ•°çš„æ—¶å€™ï¼ŒæŠŠé€’å½’å‡½æ•°å½“åšæ™®é€šå‡½æ•°ï¼ˆé»‘ç®±ï¼‰æ¥è°ƒç”¨ï¼Œå³æ˜ç™½è¯¥å‡½æ•°çš„è¾“å…¥è¾“å‡ºæ˜¯ä»€ä¹ˆï¼Œè€Œä¸ç”¨ç®¡æ­¤å‡½æ•°å†…éƒ¨åœ¨åšä»€ä¹ˆã€‚
ä¸‹é¢æ˜¯è¯¦ç»†è®²è§£ã€‚

é€’å½’æœ€åŸºæœ¬çš„æ˜¯è®°ä½é€’å½’å‡½æ•°çš„å«ä¹‰ï¼ˆåŠ¡å¿…ç‰¢è®°å‡½æ•°å®šä¹‰ï¼‰ï¼šæœ¬é¢˜çš„ longestSubstring(s, k) å‡½æ•°è¡¨ç¤ºçš„å°±æ˜¯é¢˜æ„ï¼Œå³æ±‚ä¸€ä¸ªæœ€é•¿çš„å­å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œè¯¥å­å­—ç¬¦ä¸²ä¸­æ¯ä¸ªå­—ç¬¦å‡ºç°çš„æ¬¡æ•°éƒ½æœ€å°‘ä¸º kã€‚å‡½æ•°å…¥å‚ s æ˜¯è¡¨ç¤ºæºå­—ç¬¦ä¸²ï¼›k æ˜¯é™åˆ¶æ¡ä»¶ï¼Œå³å­å­—ç¬¦ä¸²ä¸­æ¯ä¸ªå­—ç¬¦æœ€å°‘å‡ºç°çš„æ¬¡æ•°ï¼›å‡½æ•°è¿”å›ç»“æœæ˜¯æ»¡è¶³é¢˜æ„çš„æœ€é•¿å­å­—ç¬¦ä¸²é•¿åº¦ã€‚

é€’å½’çš„ç»ˆæ­¢æ¡ä»¶ï¼ˆèƒ½ç›´æ¥å†™å‡ºçš„æœ€ç®€å• caseï¼‰ï¼šå¦‚æœå­—ç¬¦ä¸² s çš„é•¿åº¦å°‘äº kï¼Œé‚£ä¹ˆä¸€å®šä¸å­˜åœ¨æ»¡è¶³é¢˜æ„çš„å­å­—ç¬¦ä¸²ï¼Œè¿”å› 0ï¼›

è°ƒç”¨é€’å½’ï¼ˆé‡ç‚¹ï¼‰ï¼šå¦‚æœä¸€ä¸ªå­—ç¬¦ c åœ¨ s ä¸­å‡ºç°çš„æ¬¡æ•°å°‘äº k æ¬¡ï¼Œé‚£ä¹ˆ s ä¸­æ‰€æœ‰çš„åŒ…å« c çš„å­å­—ç¬¦ä¸²éƒ½ä¸èƒ½æ»¡è¶³é¢˜æ„ã€‚æ‰€ä»¥ï¼Œåº”è¯¥åœ¨ s çš„æ‰€æœ‰ä¸åŒ…å« c çš„å­å­—ç¬¦ä¸²ä¸­ç»§ç»­å¯»æ‰¾ç»“æœï¼šæŠŠ s æŒ‰ç…§ c åˆ†å‰²ï¼ˆåˆ†å‰²åæ¯ä¸ªå­ä¸²éƒ½ä¸åŒ…å« cï¼‰ï¼Œå¾—åˆ°å¾ˆå¤šå­å­—ç¬¦ä¸² tï¼›ä¸‹ä¸€æ­¥è¦æ±‚ t ä½œä¸ºæºå­—ç¬¦ä¸²çš„æ—¶å€™ï¼Œå®ƒçš„æœ€é•¿çš„æ»¡è¶³é¢˜æ„çš„å­å­—ç¬¦ä¸²é•¿åº¦ï¼ˆåˆ°ç°åœ¨ä¸ºæ­¢ï¼Œæˆ‘ä»¬æŠŠå¤§é—®é¢˜åˆ†å‰²ä¸ºäº†å°é—®é¢˜(s â†’ t)ï¼‰ã€‚æ­¤æ—¶æˆ‘ä»¬å‘ç°ï¼Œæ°å¥½å·²ç»å®šä¹‰äº†å‡½æ•° longestSubstring(s, k) å°±æ˜¯æ¥è§£å†³è¿™ä¸ªé—®é¢˜çš„ï¼æ‰€ä»¥ç›´æ¥æŠŠ longestSubstring(s, k) å‡½æ•°æ‹¿æ¥ç”¨ï¼Œäºæ˜¯å½¢æˆäº†é€’å½’ã€‚

==æœªè¿›å…¥é€’å½’æ—¶çš„è¿”å›ç»“æœ==ï¼š**å¦‚æœ s ä¸­çš„æ¯ä¸ªå­—ç¬¦å‡ºç°çš„æ¬¡æ•°éƒ½å¤§äº k æ¬¡ï¼Œé‚£ä¹ˆ så°±æ˜¯æˆ‘ä»¬è¦æ±‚çš„å­—ç¬¦ä¸²ï¼Œç›´æ¥è¿”å›è¯¥å­—ç¬¦ä¸²çš„é•¿åº¦**ã€‚

æ€»ä¹‹ï¼Œé€šè¿‡ä¸Šé¢çš„åˆ†æï¼Œæˆ‘ä»¬çœ‹å‡ºäº†ï¼šæˆ‘ä»¬ä¸æ˜¯ä¸ºäº†é€’å½’è€Œé€’å½’ã€‚è€Œæ˜¯å› ä¸ºæˆ‘ä»¬æŠŠå¤§é—®é¢˜æ‹†è§£æˆäº†å°é—®é¢˜ï¼Œæ°å¥½æœ‰å‡½æ•°å¯ä»¥è§£å†³å°é—®é¢˜ï¼Œæ‰€ä»¥ç›´æ¥ç”¨è¿™ä¸ªå‡½æ•°ã€‚ç”±äºè¿™ä¸ªå‡½æ•°æ­£å¥½æ˜¯æœ¬èº«ï¼Œæ‰€ä»¥æˆ‘ä»¬æŠŠæ­¤ç°è±¡å«åšé€’å½’ã€‚å°é—®é¢˜æ˜¯åŸå› ï¼Œé€’å½’æ˜¯ç»“æœã€‚è€Œé€’å½’å‡½æ•°åˆ°åº•æ€ä¹ˆä¸€å±‚å±‚å±•å¼€ä¸ç»ˆæ­¢çš„ï¼Œä¸è¦ç”¨å¤§è„‘å»æƒ³ï¼Œè¿™æ˜¯è®¡ç®—æœºå¹²çš„äº‹ã€‚æˆ‘ä»¬åªç”¨æŠŠé€’å½’å‡½æ•°å½“åšä¸€ä¸ªèƒ½è§£å†³é—®é¢˜çš„é»‘ç®±å°±å¤Ÿäº†ï¼ŒæŠŠæ›´å¤šçš„æ³¨æ„åŠ›æ”¾åœ¨æ‹†è§£å­é—®é¢˜ã€é€’å½’ç»ˆæ­¢æ¡ä»¶ã€é€’å½’å‡½æ•°çš„æ­£ç¡®æ€§ä¸Šæ¥ã€‚



```java
    public int longestSubstring(String s, int k) {
Map<Character,Integer>mymap=new HashMap<>();
for(char a:s.toCharArray())
mymap.put(a,mymap.getOrDefault(a,0)+1);
 int cnt=0;
for (char c : mymap.keySet()) {
if(mymap.get(c)<k)
{
   cnt=0;
    String[]newstr = s.split(String.valueOf(c));
    for(String str:newstr)
    {
        cnt=Math.max(cnt,longestSubstring(str,k));
    }
    return cnt;
}
}

return s.length();
    }
```

## é€’å½’æ³•ï¼š[95. ä¸åŒçš„äºŒå‰æœç´¢æ ‘ II](https://leetcode-cn.com/problems/unique-binary-search-trees-ii/)

éš¾åº¦ä¸­ç­‰

ç»™ä½ ä¸€ä¸ªæ•´æ•° `n` ï¼Œè¯·ä½ ç”Ÿæˆå¹¶è¿”å›æ‰€æœ‰ç”± `n` ä¸ªèŠ‚ç‚¹ç»„æˆä¸”èŠ‚ç‚¹å€¼ä» `1` åˆ° `n` äº’ä¸ç›¸åŒçš„ä¸åŒ **äºŒå‰æœç´¢æ ‘** ã€‚å¯ä»¥æŒ‰ **ä»»æ„é¡ºåº** è¿”å›ç­”æ¡ˆã€‚

 ![image-20220210002804874](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220210002804874.png)

----

![image-20220210002932402](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220210002932402.png)

code

```java
 public List<TreeNode> generateTrees(int n) {
if(n== 0) return new LinkedList<TreeNode>();
return generate(1,n);
    }
    public List<TreeNode> generate(int begin,int end)
    {
          List<TreeNode>ans = new LinkedList<>();
        if(begin>end)
        {
            ans.add(null);
            return ans;

        }
        for(int i=begin;i<=end;i++)
        {
            List<TreeNode>leftnode = generate(begin,i-1);
           List<TreeNode>rightnode = generate(i+1,end);
for(int num=0;num<leftnode.size();num++)
for(int j=0;j<rightnode.size();j++)
{
    TreeNode node = new TreeNode(i);
    node.left = leftnode.get(num);
    node.right = rightnode.get(j);
    ans.add(node);
}
        }
        return ans;
    }
```

# ç‰›é¡¿è¿­ä»£ï¼šæ±‚ç«‹æ–¹æ ¹

![image-20230313231436954](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230313231436954.png) 

![image-20230313225517796](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230313225517796.png)

![image-20230313231305341](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230313231305341.png)  

![image-20230313225626549](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230313225626549.png) 

```java
  Scanner input = new Scanner(System.in);
        while(input.hasNextDouble())
        {
            double num=input.nextDouble();
            double x=1.0;
            //f(x)=xç«‹æ–¹-y
            while(Math.abs(Math.pow(x,3)-num)>1e-3)//æ³¨æ„è¿™é‡Œæ˜¯å–ç»å¯¹å€¼
            {
                x=x-((Math.pow(x,3)-num)/(3*Math.pow(x,2)));
                
            }
            //tipsï¼š å››èˆäº”å…¥ä¿ç•™1ä½å°æ•°ä½çš„åšæ³•å¯ä»¥åˆ©ç”¨Stringçš„é™æ€æ–¹æ³•format(â€œ%.1fâ€, x)ï¼Œå…¶ä¸­%è¡¨ç¤ºå°æ•°ç‚¹å‰çš„ä½æ•°ï¼Œ1è¡¨ç¤ºä¿ç•™å°æ•°ç‚¹å1ä½ï¼Œfè¡¨ç¤ºè½¬æ¢ä½floatå‹
            System.out.println(String.format("%.1f",x));
        }



```



# å¹¶æŸ¥é›†

## [990. ç­‰å¼æ–¹ç¨‹çš„å¯æ»¡è¶³æ€§](https://leetcode.cn/problems/satisfiability-of-equality-equations/)

éš¾åº¦ä¸­ç­‰279

ç»™å®šä¸€ä¸ªç”±è¡¨ç¤ºå˜é‡ä¹‹é—´å…³ç³»çš„å­—ç¬¦ä¸²æ–¹ç¨‹ç»„æˆçš„æ•°ç»„ï¼Œæ¯ä¸ªå­—ç¬¦ä¸²æ–¹ç¨‹ `equations[i]` çš„é•¿åº¦ä¸º `4`ï¼Œå¹¶é‡‡ç”¨ä¸¤ç§ä¸åŒçš„å½¢å¼ä¹‹ä¸€ï¼š`"a==b"` æˆ– `"a!=b"`ã€‚åœ¨è¿™é‡Œï¼Œa å’Œ b æ˜¯å°å†™å­—æ¯ï¼ˆä¸ä¸€å®šä¸åŒï¼‰ï¼Œè¡¨ç¤ºå•å­—æ¯å˜é‡åã€‚

åªæœ‰å½“å¯ä»¥å°†æ•´æ•°åˆ†é…ç»™å˜é‡åï¼Œä»¥ä¾¿æ»¡è¶³æ‰€æœ‰ç»™å®šçš„æ–¹ç¨‹æ—¶æ‰è¿”å› `true`ï¼Œå¦åˆ™è¿”å› `false`ã€‚ 

 



**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼š["a==b","b!=a"]
è¾“å‡ºï¼šfalse
è§£é‡Šï¼šå¦‚æœæˆ‘ä»¬æŒ‡å®šï¼Œa = 1 ä¸” b = 1ï¼Œé‚£ä¹ˆå¯ä»¥æ»¡è¶³ç¬¬ä¸€ä¸ªæ–¹ç¨‹ï¼Œä½†æ— æ³•æ»¡è¶³ç¬¬äºŒä¸ªæ–¹ç¨‹ã€‚æ²¡æœ‰åŠæ³•åˆ†é…å˜é‡åŒæ—¶æ»¡è¶³è¿™ä¸¤ä¸ªæ–¹ç¨‹ã€‚
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼š["b==a","a==b"]
è¾“å‡ºï¼štrue
è§£é‡Šï¼šæˆ‘ä»¬å¯ä»¥æŒ‡å®š a = 1 ä¸” b = 1 ä»¥æ»¡è¶³æ»¡è¶³è¿™ä¸¤ä¸ªæ–¹ç¨‹ã€‚
```

-----------------------------

å¹¶æŸ¥é›†çš„é‡è¦æ€æƒ³åœ¨äºï¼Œ**ç”¨é›†åˆä¸­çš„ä¸€ä¸ªå…ƒç´ ä»£è¡¨é›†åˆ**ã€‚æˆ‘æ›¾çœ‹è¿‡ä¸€ä¸ªæœ‰è¶£çš„æ¯”å–»ï¼ŒæŠŠé›†åˆæ¯”å–»æˆ**å¸®æ´¾**ï¼Œè€Œä»£è¡¨å…ƒç´ åˆ™æ˜¯**å¸®ä¸»**ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬åˆ©ç”¨è¿™ä¸ªæ¯”å–»ï¼Œçœ‹çœ‹å¹¶æŸ¥é›†æ˜¯å¦‚ä½•è¿ä½œçš„ã€‚

![image-20230120155726328](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230120155726328.png)

æœ€å¼€å§‹ï¼Œæ‰€æœ‰å¤§ä¾ å„è‡ªä¸ºæˆ˜ã€‚ä»–ä»¬å„è‡ªçš„å¸®ä¸»è‡ªç„¶å°±æ˜¯è‡ªå·±ã€‚*ï¼ˆå¯¹äºåªæœ‰ä¸€ä¸ªå…ƒç´ çš„é›†åˆï¼Œä»£è¡¨å…ƒç´ è‡ªç„¶æ˜¯å”¯ä¸€çš„é‚£ä¸ªå…ƒç´ ï¼‰*

ç°åœ¨1å·å’Œ3å·æ¯”æ­¦ï¼Œå‡è®¾1å·èµ¢äº†ï¼ˆè¿™é‡Œå…·ä½“è°èµ¢æš‚æ—¶ä¸é‡è¦ï¼‰ï¼Œé‚£ä¹ˆ3å·å°±è®¤1å·ä½œå¸®ä¸»*ï¼ˆåˆå¹¶1å·å’Œ3å·æ‰€åœ¨çš„é›†åˆï¼Œ1å·ä¸ºä»£è¡¨å…ƒç´ ï¼‰*ã€‚

ç°åœ¨2å·æƒ³å’Œ3å·æ¯”æ­¦*ï¼ˆåˆå¹¶3å·å’Œ2å·æ‰€åœ¨çš„é›†åˆï¼‰*ï¼Œä½†3å·è¡¨ç¤ºï¼Œåˆ«è·Ÿæˆ‘æ‰“ï¼Œè®©æˆ‘å¸®ä¸»æ¥æ”¶æ‹¾ä½ *ï¼ˆåˆå¹¶ä»£è¡¨å…ƒç´ ï¼‰*ã€‚ä¸å¦¨è®¾è¿™æ¬¡åˆæ˜¯1å·èµ¢äº†ï¼Œé‚£ä¹ˆ2å·ä¹Ÿè®¤1å·åšå¸®ä¸»ã€‚

ç›¸ä¿¡ä½ å·²ç»è§‰å¯Ÿåˆ°ï¼Œè¿™æ˜¯ä¸€ä¸ª**æ ‘**çŠ¶çš„ç»“æ„ï¼Œè¦å¯»æ‰¾é›†åˆçš„ä»£è¡¨å…ƒç´ ï¼Œåªéœ€è¦ä¸€å±‚ä¸€å±‚å¾€ä¸Šè®¿é—®**çˆ¶èŠ‚ç‚¹**ï¼ˆå›¾ä¸­ç®­å¤´æ‰€æŒ‡çš„åœ†ï¼‰ï¼Œç›´è¾¾æ ‘çš„**æ ¹èŠ‚ç‚¹**ï¼ˆå›¾ä¸­æ©™è‰²çš„åœ†ï¼‰å³å¯ã€‚æ ¹èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹æ˜¯å®ƒè‡ªå·±ã€‚æˆ‘ä»¬å¯ä»¥ç›´æ¥æŠŠå®ƒç”»æˆä¸€æ£µæ ‘

æŸ¥è¯¢

```c
int find(int x)
{
    if(fa[x] == x)
        return x;
    else
        return find(fa[x]);
}
```

æˆ‘ä»¬ç”¨é€’å½’çš„å†™æ³•å®ç°å¯¹ä»£è¡¨å…ƒç´ çš„æŸ¥è¯¢ï¼šä¸€å±‚ä¸€å±‚è®¿é—®çˆ¶èŠ‚ç‚¹ï¼Œç›´è‡³æ ¹èŠ‚ç‚¹ï¼ˆæ ¹èŠ‚ç‚¹çš„æ ‡å¿—å°±æ˜¯çˆ¶èŠ‚ç‚¹æ˜¯æœ¬èº«ï¼‰ã€‚è¦åˆ¤æ–­ä¸¤ä¸ªå…ƒç´ æ˜¯å¦å±äºåŒä¸€ä¸ªé›†åˆï¼Œåªéœ€è¦çœ‹å®ƒä»¬çš„æ ¹èŠ‚ç‚¹æ˜¯å¦ç›¸åŒå³å¯ã€‚è€Œæ ¹èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹æ˜¯å®ƒè‡ªå·±ï¼Œæ‰€ä»¥æ‰¾åˆ°çˆ¶èŠ‚ç‚¹æ˜¯å®ƒè‡ªå·±çš„ç»“ç‚¹å³å¯

**åˆå¹¶**

```c
inline void merge(int i, int j)
{
    fa[find(i)] = find(j);
}
```

åˆå¹¶æ“ä½œä¹Ÿæ˜¯å¾ˆç®€å•çš„ï¼Œå…ˆæ‰¾åˆ°ä¸¤ä¸ªé›†åˆçš„ä»£è¡¨å…ƒç´ ï¼Œç„¶åå°†å‰è€…çš„çˆ¶èŠ‚ç‚¹è®¾ä¸ºåè€…å³å¯ã€‚å½“ç„¶ä¹Ÿå¯ä»¥å°†åè€…çš„çˆ¶èŠ‚ç‚¹è®¾ä¸ºå‰è€…ï¼Œè¿™é‡Œæš‚æ—¶ä¸é‡è¦ã€‚

ä»£ç  :

```java
public boolean equationsPossible(String[] equations) {
//é¦–å…ˆéå†æ‰€æœ‰çš„ç­‰å¼ï¼Œæ„é€ å¹¶æŸ¥é›†ã€‚åŒä¸€ä¸ªç­‰å¼ä¸­çš„ä¸¤ä¸ªå˜é‡å±äºåŒä¸€ä¸ªè¿é€šåˆ†é‡ï¼Œå› æ­¤å°†ä¸¤ä¸ªå˜é‡è¿›è¡Œåˆå¹¶ã€‚

//ç„¶åéå†æ‰€æœ‰çš„ä¸ç­‰å¼ã€‚åŒä¸€ä¸ªä¸ç­‰å¼ä¸­çš„ä¸¤ä¸ªå˜é‡ä¸èƒ½å±äºåŒä¸€ä¸ªè¿é€šåˆ†é‡ï¼Œå› æ­¤å¯¹ä¸¤ä¸ªå˜é‡åˆ†åˆ«æŸ¥æ‰¾å…¶æ‰€åœ¨çš„è¿é€šåˆ†é‡ï¼Œå¦‚æœä¸¤ä¸ªå˜é‡åœ¨åŒä¸€ä¸ªè¿é€šåˆ†é‡ä¸­ï¼Œåˆ™äº§ç”ŸçŸ›ç›¾ï¼Œè¿”å› falseã€‚

  int[] parent = new int[26];
        for (int i = 0; i < 26; i++) {
            parent[i] = i;
        }
        for (String str : equations) {
            if (str.charAt(1) == '=') {
                int index1 = str.charAt(0) - 'a';
                int index2 = str.charAt(3) - 'a';
                union(parent, index1, index2);
            }
        }
        for (String str : equations) {
            if (str.charAt(1) == '!') {
                int index1 = str.charAt(0) - 'a';
                int index2 = str.charAt(3) - 'a';
                if (find(parent, index1) == find(parent, index2)) {
                    return false;
                }
            }
        }
        return true;
    }

    public void union(int[] parent, int index1, int index2) {
        parent[find(parent, index1)] = find(parent, index2);
    }

    public int find(int[] parent, int index) {
       if(parent[index]==index) return index;
       return find(parent,parent[index]);
    }


```

## [684. å†—ä½™è¿æ¥](https://leetcode.cn/problems/redundant-connection/)

éš¾åº¦ä¸­ç­‰532

æ ‘å¯ä»¥çœ‹æˆæ˜¯ä¸€ä¸ªè¿é€šä¸” **æ— ç¯** çš„ **æ— å‘** å›¾ã€‚

ç»™å®šå¾€ä¸€æ£µ `n` ä¸ªèŠ‚ç‚¹ (èŠ‚ç‚¹å€¼ `1ï½n`) çš„æ ‘ä¸­æ·»åŠ ä¸€æ¡è¾¹åçš„å›¾ã€‚æ·»åŠ çš„è¾¹çš„ä¸¤ä¸ªé¡¶ç‚¹åŒ…å«åœ¨ `1` åˆ° `n` ä¸­é—´ï¼Œä¸”è¿™æ¡é™„åŠ çš„è¾¹ä¸å±äºæ ‘ä¸­å·²å­˜åœ¨çš„è¾¹ã€‚å›¾çš„ä¿¡æ¯è®°å½•äºé•¿åº¦ä¸º `n` çš„äºŒç»´æ•°ç»„ `edges` ï¼Œ`edges[i] = [ai, bi]` è¡¨ç¤ºå›¾ä¸­åœ¨ `ai` å’Œ `bi` ä¹‹é—´å­˜åœ¨ä¸€æ¡è¾¹ã€‚

è¯·æ‰¾å‡ºä¸€æ¡å¯ä»¥åˆ å»çš„è¾¹ï¼Œåˆ é™¤åå¯ä½¿å¾—å‰©ä½™éƒ¨åˆ†æ˜¯ä¸€ä¸ªæœ‰ç€ `n` ä¸ªèŠ‚ç‚¹çš„æ ‘ã€‚å¦‚æœæœ‰å¤šä¸ªç­”æ¡ˆï¼Œåˆ™è¿”å›æ•°ç»„ `edges` ä¸­æœ€åå‡ºç°çš„è¾¹ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

![img](https://pic.leetcode-cn.com/1626676174-hOEVUL-image.png)

```
è¾“å…¥: edges = [[1,2], [1,3], [2,3]]
è¾“å‡º: [2,3]
```



-------



æ€è·¯ï¼šé¦–å…ˆä¸€å¼€å§‹æ‰€æœ‰çš„ç»“ç‚¹éƒ½æ˜¯ä¸€ä¸ªè¿é€šé‡ï¼Œç„¶åå¼€å§‹éå†æ‰€æœ‰çš„è¾¹ï¼Œå¦‚æœä¸¤ä¸ªè¿é€šé‡ä¹‹é—´æ˜¯ä¸è¿é€šçš„ï¼Œé‚£ä¹ˆå®ƒä»¬å¯ä»¥åŠ ä¸Šè¿™æ¡è¾¹ï¼Œä¹Ÿä¸ä¼šæˆç¯ï¼Œå¦‚æœå·²ç»è¿é€šäº†ï¼Œåˆ™è¿”å›è¿™æ¡è¾¹ï¼Œä¸”è¿™æ ·è¿”å›çš„ä¸€å®šæ˜¯æœ€åå‡ºç°çš„(é¢˜ç›®è¯´äº†åªè¦å»æ‰ä¸€æ¡è¾¹)

å¦‚æœä¸¤ä¸ªé¡¶ç‚¹å±äºä¸åŒçš„è¿é€šåˆ†é‡ï¼Œåˆ™è¯´æ˜åœ¨éå†åˆ°å½“å‰çš„è¾¹ä¹‹å‰ï¼Œè¿™ä¸¤ä¸ªé¡¶ç‚¹ä¹‹é—´ä¸è¿é€šï¼Œå› æ­¤å½“å‰çš„è¾¹ä¸ä¼šå¯¼è‡´ç¯å‡ºç°ï¼Œåˆå¹¶è¿™ä¸¤ä¸ªé¡¶ç‚¹çš„è¿é€šåˆ†é‡ã€‚

å¦‚æœä¸¤ä¸ªé¡¶ç‚¹å±äºç›¸åŒçš„è¿é€šåˆ†é‡ï¼Œåˆ™è¯´æ˜åœ¨éå†åˆ°å½“å‰çš„è¾¹ä¹‹å‰ï¼Œè¿™ä¸¤ä¸ªé¡¶ç‚¹ä¹‹é—´å·²ç»è¿é€šï¼Œå› æ­¤å½“å‰çš„è¾¹å¯¼è‡´ç¯å‡ºç°ï¼Œä¸ºé™„åŠ çš„è¾¹ï¼Œå°†å½“å‰çš„è¾¹ä½œä¸ºç­”æ¡ˆè¿”å›ã€‚



```java
public int[] findRedundantConnection(int[][] edges) {
int n=edges.length+1;
int[]parent=new int[n+1];
for(int i=1;i<n;i++)
parent[i]=i;

for(int i=0;i<n;i++){
    int[]e=edges[i];
    if(find(parent,e[0])!=find(parent,e[1])){
        union(parent,e[0],e[1]);
    }else{
        return e;
    }
}
return null;
    }
public int find(int[]parent,int index)
    {
        if(parent[index]==index) return index;
        return find(parent,parent[index]);
    }
    public void union(int[]parent,int index1,int index2)
    {
        parent[find(parent,index1)]=find(parent,index2);
    }
```

## [1584. è¿æ¥æ‰€æœ‰ç‚¹çš„æœ€å°è´¹ç”¨](https://leetcode.cn/problems/min-cost-to-connect-all-points/)

éš¾åº¦ä¸­ç­‰260

ç»™ä½ ä¸€ä¸ª`points` æ•°ç»„ï¼Œè¡¨ç¤º 2D å¹³é¢ä¸Šçš„ä¸€äº›ç‚¹ï¼Œå…¶ä¸­ `points[i] = [xi, yi]` ã€‚

è¿æ¥ç‚¹ `[xi, yi]` å’Œç‚¹ `[xj, yj]` çš„è´¹ç”¨ä¸ºå®ƒä»¬ä¹‹é—´çš„ **æ›¼å“ˆé¡¿è·ç¦»** ï¼š`|xi - xj| + |yi - yj|` ï¼Œå…¶ä¸­ `|val|` è¡¨ç¤º `val` çš„ç»å¯¹å€¼ã€‚

è¯·ä½ è¿”å›å°†æ‰€æœ‰ç‚¹è¿æ¥çš„æœ€å°æ€»è´¹ç”¨ã€‚åªæœ‰ä»»æ„ä¸¤ç‚¹ä¹‹é—´ **æœ‰ä¸”ä»…æœ‰** ä¸€æ¡ç®€å•è·¯å¾„æ—¶ï¼Œæ‰è®¤ä¸ºæ‰€æœ‰ç‚¹éƒ½å·²è¿æ¥ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

![image-20230131131308858](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230131131308858.png)

--------



èƒ½å¤Ÿæ»¡è¶³ä»»æ„ä¸¤ç‚¹ä¹‹é—´æœ‰ä¸”ä»…æœ‰ä¸€æ¡ç®€å•è·¯å¾„åªæœ‰æ ‘ï¼Œä¸”è¿™æ£µæ ‘åŒ…å« 
n ä¸ªèŠ‚ç‚¹ã€‚æˆ‘ä»¬ç§°è¿™æ£µæ ‘ä¸ºç»™å®šçš„å›¾çš„ç”Ÿæˆæ ‘ï¼Œå…¶ä¸­æ€»æƒå€¼æœ€å°çš„ç”Ÿæˆæ ‘ï¼Œæˆ‘ä»¬ç§°å…¶ä¸ºæœ€å°ç”Ÿæˆæ ‘ã€‚

æœ€å°ç”Ÿæˆæ ‘æœ‰ä¸€ä¸ªéå¸¸ç»å…¸çš„è§£æ³•ï¼šKruskal
![image-20230131131458510](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230131131458510.png)

åœ¨å®é™…ä»£ç ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆå°†è¿™å¼ å®Œå…¨å›¾ä¸­çš„è¾¹å…¨éƒ¨æå–åˆ°è¾¹é›†æ•°ç»„ä¸­ï¼Œç„¶åå¯¹æ‰€æœ‰è¾¹è¿›è¡Œæ’åºï¼Œä»å°åˆ°å¤§è¿›è¡Œæšä¸¾ï¼Œæ¯æ¬¡è´ªå¿ƒé€‰è¾¹åŠ å…¥ç­”æ¡ˆã€‚ä½¿ç”¨å¹¶æŸ¥é›†ç»´æŠ¤è¿é€šæ€§ï¼Œè‹¥å½“å‰è¾¹ä¸¤ç«¯ä¸è¿é€šå³å¯é€‰æ‹©è¿™æ¡è¾¹ã€‚



```java
public int minCostConnectPoints(int[][] points) {
 int n = points.length;
        DisjointSetUnion dsu = new DisjointSetUnion(n);
        List<Edge> edges = new ArrayList<Edge>();
        for (int i = 0; i < n; i++) {
            for (int j = i + 1; j < n; j++) {
                edges.add(new Edge(dist(points, i, j), i, j));
            }
        }
        Collections.sort(edges, new Comparator<Edge>() {
            public int compare(Edge edge1, Edge edge2) {
                return edge1.len - edge2.len;
            }
        });
         int ret = 0, num = 1;
        for (Edge edge : edges) {
            //x =1 y=2æ—¶å°±æ˜¯è¡¨ç¤ºç¬¬ä¸€ä¸ªç‚¹å’Œç¬¬äºŒä¸ªç‚¹ä¹‹é—´çš„è¾¹ï¼Œè¾¹å·²ç»æ’å¥½åºäº†
            int len = edge.len, x = edge.x, y = edge.y;
            if (dsu.unionSet(x, y)) {
                ret += len;
                num++;
                if (num == n) {
                    break;
                }
            }
        }
        return ret;
    }
    //è¿™é‡Œ xy æ˜¯è¡¨ç¤ºç´¢å¼•ï¼Œå³ç¬¬å‡ ä¸ª
    public int dist(int[][] points, int x, int y) {
        return Math.abs(points[x][0] - points[y][0]) + Math.abs(points[x][1] - points[y][1]);
    }
    class Edge{
          int len, x, y;

    public Edge(int len, int x, int y) {
        this.len = len;
        this.x = x;
        this.y = y;
    }
    }
    
class DisjointSetUnion {
    int[] f;

    int n;

    public DisjointSetUnion(int n) {
        this.n = n;
        this.f = new int[n];
        for (int i = 0; i < n; i++) {
            this.f[i] = i;
        }
    }

    public int find(int x) {
        return f[x] == x ? x : (f[x] = find(f[x]));
    }

    public boolean unionSet(int x, int y) {
        //è¿™é‡Œå…ˆåˆ¤æ–­ä¸¤è€…æ˜¯ä¸æ˜¯åœ¨ä¸€ä¸ªè¿é€šåˆ†é‡ä¸­ï¼Œå¦‚æœåœ¨çš„è¯è¿”å›false å¦åˆ™å°†äºŒè€…è¿›è¡Œè¿é€š
        int fx = find(x), fy = find(y);
        if (fx == fy) {
            return false;
        }
//è¿™é‡Œä¸‹é¢è¿™ä¸¤ç§å†™æ³•éƒ½æ˜¯å¯¹çš„
    //    f[fy] = fx;
      f[fx]=fy;
        return true;
    }
}
```

## [é¢è¯•é¢˜ 17.07. å©´å„¿åå­—](https://leetcode.cn/problems/baby-names-lcci/)

éš¾åº¦ä¸­ç­‰60

æ¯å¹´ï¼Œæ”¿åºœéƒ½ä¼šå…¬å¸ƒä¸€ä¸‡ä¸ªæœ€å¸¸è§çš„å©´å„¿åå­—å’Œå®ƒä»¬å‡ºç°çš„é¢‘ç‡ï¼Œä¹Ÿå°±æ˜¯åŒåå©´å„¿çš„æ•°é‡ã€‚æœ‰äº›åå­—æœ‰å¤šç§æ‹¼æ³•ï¼Œä¾‹å¦‚ï¼ŒJohn å’Œ Jon æœ¬è´¨ä¸Šæ˜¯ç›¸åŒçš„åå­—ï¼Œä½†è¢«å½“æˆäº†ä¸¤ä¸ªåå­—å…¬å¸ƒå‡ºæ¥ã€‚ç»™å®šä¸¤ä¸ªåˆ—è¡¨ï¼Œä¸€ä¸ªæ˜¯åå­—åŠå¯¹åº”çš„é¢‘ç‡ï¼Œå¦ä¸€ä¸ªæ˜¯æœ¬è´¨ç›¸åŒçš„åå­—å¯¹ã€‚è®¾è®¡ä¸€ä¸ªç®—æ³•æ‰“å°å‡ºæ¯ä¸ªçœŸå®åå­—çš„å®é™…é¢‘ç‡ã€‚æ³¨æ„ï¼Œå¦‚æœ John å’Œ Jon æ˜¯ç›¸åŒçš„ï¼Œå¹¶ä¸” Jon å’Œ Johnny ç›¸åŒï¼Œåˆ™ John ä¸ Johnny ä¹Ÿç›¸åŒï¼Œå³å®ƒä»¬æœ‰ä¼ é€’å’Œå¯¹ç§°æ€§ã€‚

åœ¨ç»“æœåˆ—è¡¨ä¸­ï¼Œé€‰æ‹© **å­—å…¸åºæœ€å°** çš„åå­—ä½œä¸ºçœŸå®åå­—ã€‚

 

**ç¤ºä¾‹ï¼š**

```
è¾“å…¥ï¼šnames = ["John(15)","Jon(12)","Chris(13)","Kris(4)","Christopher(19)"], synonyms = ["(Jon,John)","(John,Johnny)","(Chris,Kris)","(Chris,Christopher)"]
è¾“å‡ºï¼š["John(27)","Chris(36)"]
```



------

è¿™é‡Œæ˜¯æœ‰å…³å­—ç¬¦ä¸²çš„å¹¶æŸ¥é›†ï¼Œè€Œä¸”å‘ç°å‡ºç°åœ¨synonymsä¸­çš„å­—ç¬¦ä¸²å¯èƒ½å¹¶æ²¡æœ‰åœ¨namesä¸­å‡ºç°è¿‡ï¼Œå¯ä»¥ç”¨ä¸€ä¸ªmapæ¥è¡¨ç¤ºç±»ä¼¼father,åªæœ‰çˆ¶èŠ‚ç‚¹ä¸ä¼šå‡ºç°åœ¨è¿™ä¸ªunionmapä¸­

```java
 public String[] trulyMostPopular(String[] names, String[] synonyms) {
   Map<String, Integer> map = new HashMap<>();
        Map<String, String> unionMap = new HashMap<>();     //å¹¶æŸ¥é›†ï¼Œ key(å­å­™)->value(ç¥–å®—)
        for (String name : names) {     //ç»Ÿè®¡é¢‘ç‡
            int idx1 = name.indexOf('(');
            int idx2 = name.indexOf(')');
            int frequency = Integer.valueOf(name.substring(idx1 + 1, idx2));
            map.put(name.substring(0, idx1), frequency);
        }

for(String pair:synonyms){
      int idx = pair.indexOf(',');
            String name1 = pair.substring(1, idx);
            String name2 = pair.substring(idx + 1, pair.length() - 1);

while(unionMap.containsKey(name1)){
    name1=unionMap.get(name1);
}
while(unionMap.containsKey(name2)){
    name2=unionMap.get(name2);
}
if(!name1.equals(name2)){
     int frequency = map.getOrDefault(name1, 0) + map.getOrDefault(name2, 0);    //å‡ºç°æ¬¡æ•°æ˜¯ä¸¤è€…ä¹‹å’Œ
                String trulyName = name1.compareTo(name2) < 0 ? name1 : name2;//è¿™æ˜¯å­—å…¸åºæ›´å°çš„åå­—
                String nickName = name1.compareTo(name2) < 0 ? name2 : name1;
                unionMap.put(nickName, trulyName);      //å­—å…¸åºæœ€å°çš„ä¸ä¼šä½œä¸ºé”®ï¼Œå› æ­¤å¯ä»¥åœ¨whileå¾ªç¯ä¸­æ‰¾åˆ°æœ€ä¸Šå±‚çˆ¶èŠ‚ç‚¹
                map.remove(nickName);       //æ›´æ–°ä¸€ä¸‹æ•°æ®
                map.put(trulyName, frequency);//mapä¸­æ”¾çš„æ˜¯å­—å…¸åºå°çš„ï¼ŒæŠŠå­—å…¸åºå¤§çš„é‚£ä¸ªå­—ç¬¦ä¸²ç»™åˆ äº†


}
}
 String[] res = new String[map.size()];
        int index = 0;
        for (String name : map.keySet()) {
            StringBuilder sb = new StringBuilder(name);
            sb.append('(');
            sb.append(map.get(name));
            sb.append(')');
            res[index++] = sb.toString();
        }
        return res;



    }
```

## æœ€å°‘éœ€è¦å»ºè®¾çš„é“è·¯æ•°é‡

æŸçœè°ƒæŸ¥åŸé•‡äº¤é€šçŠ¶å†µï¼Œå¾—åˆ°ç°æœ‰åŸé•‡é“è·¯ç»Ÿè®¡è¡¨ï¼Œè¡¨ä¸­åˆ—å‡ºäº†æ¯æ¡é“è·¯ç›´æ¥è¿é€šçš„åŸé•‡ã€‚çœæ”¿åºœâ€œç•…é€šå·¥ç¨‹â€çš„ç›®æ ‡æ˜¯ä½¿å…¨çœä»»ä½•ä¸¤ä¸ªåŸé•‡é—´éƒ½å¯ä»¥å®ç°äº¤é€šï¼ˆä½†ä¸ä¸€å®šæœ‰ç›´æ¥çš„é“è·¯ç›¸è¿ï¼Œåªè¦äº’ç›¸é—´æ¥é€šè¿‡é“è·¯å¯è¾¾å³å¯ï¼‰ã€‚é—®æœ€å°‘è¿˜éœ€è¦å»ºè®¾å¤šå°‘æ¡é“è·¯ï¼Ÿ



**è¾“å…¥æè¿°:**

```
æµ‹è¯•è¾“å…¥åŒ…å«è‹¥å¹²æµ‹è¯•ç”¨ä¾‹ã€‚æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹çš„ç¬¬1è¡Œç»™å‡ºä¸¤ä¸ªæ­£æ•´æ•°ï¼Œåˆ†åˆ«æ˜¯åŸé•‡æ•°ç›®N ( < 1000 )å’Œé“è·¯æ•°ç›®Mï¼›éšåçš„Mè¡Œå¯¹åº”Mæ¡é“è·¯ï¼Œæ¯è¡Œç»™å‡ºä¸€å¯¹æ­£æ•´æ•°ï¼Œåˆ†åˆ«æ˜¯è¯¥æ¡é“è·¯ç›´æ¥è¿é€šçš„ä¸¤ä¸ªåŸé•‡çš„ç¼–å·ã€‚ä¸ºç®€å•èµ·è§ï¼ŒåŸé•‡ä»1åˆ°Nç¼–å·ã€‚ 
       æ³¨æ„:ä¸¤ä¸ªåŸå¸‚ä¹‹é—´å¯ä»¥æœ‰å¤šæ¡é“è·¯ç›¸é€š,ä¹Ÿå°±æ˜¯è¯´
       3 3 1 2 1 2 2 1 
       è¿™ç§è¾“å…¥ä¹Ÿæ˜¯åˆæ³•çš„
       å½“Nä¸º0æ—¶ï¼Œè¾“å…¥ç»“æŸï¼Œè¯¥ç”¨ä¾‹ä¸è¢«å¤„ç†ã€‚
```

-------

è¿™é‡Œç”¨å¹¶æŸ¥é›†å°†æ‰€æœ‰è¿é€šçš„åŸå¸‚ä¸²èµ·æ¥ï¼Œæœ€ååˆ¤æ–­æœ‰å¤šå°‘ä¸ªç‚¹æ˜¯ä¸åœ¨è¿™ä¸ªè¿é€šçš„åŸå¸‚é‡Œé¢

```java
int p[1222];
int i;
int find(int x)
{
    if(x!=p[x])
        p[x]=find(p[x]);
    return p[x];
}
int hebing(int x,int y)
{
    return p[x]=y;
}
int main()
{
    int n,m,x,y,x1,y1;
    while(~scanf("%d%d",&n,&m)&&n)
    {
        for(i=1;i<=1222;i++)
            p[i]=i;
        for(i=1;i<=m;i++)
        {
            scanf("%d%d",&x,&y);
            x1=find(x);
            y1=find(y);
            if(x1!=y1)
                hebing(x1,y1);
        }
        int ans=0;
        for(i=1;i<=n;i++)
        {
            if(p[i]==i)
                ans++;
        }
        printf("%d\n",ans-1);
    }
    return 0;
}
```



## ä¿¡å·è¦†ç›–



äºŒç»´å¹³é¢ä¸Šæœ‰n*ä¸ªåŸºç«™ï¼Œç¬¬i*ä¸ªåŸºç«™çš„åæ ‡ä¸º(x**i*,*y**i*)ã€‚

æ‰€æœ‰çš„åŸºç«™éƒ½æœ‰ä¸€ä¸ªå…±åŒçš„ä¿¡å·å¼ºåº¦w*(*w*â‰¥0)ï¼Œä¸¤ä¸ªåŸºç«™å¯ä»¥ç›´æ¥é€šä¿¡å½“ä¸”ä»…å½“ä»–ä»¬ä¹‹é—´çš„è·ç¦»ä¸è¶…è¿‡*w*ã€‚

åŸºç«™ä¹‹é—´çš„é€šä¿¡ä¹Ÿå¯ä»¥é‡‡ç”¨é—´æ¥é€šä¿¡ï¼šå½“åŸºç«™A,*B*ä¹‹é—´å¯ä»¥é€šä¿¡ï¼ŒåŸºç«™B*,*C*ä¹‹é—´ä¹Ÿå¯ä»¥é€šä¿¡çš„æ—¶å€™ï¼Œæˆ‘ä»¬è®¤ä¸ºåŸºç«™*A*,*C*ä¹‹é—´ä¹Ÿå¯ä»¥é€šä¿¡ã€‚

ç°åœ¨æˆ‘æƒ³çŸ¥é“ï¼Œä¿¡å·å¼ºåº¦w*è‡³å°‘æ˜¯å¤šå¤§ï¼Œæ‰èƒ½ä½¿å¾—è‡³å°‘æœ‰k*ä¸ªåŸºç«™å¯ä»¥äº’ç›¸é€šä¿¡ã€‚

ä¸ºäº†é¿å…ç²¾åº¦é—®é¢˜ï¼Œä½ åªéœ€è¦è¾“å‡ºæœ€å°çš„åˆæ³•ä¿¡å·å¼ºåº¦w*çš„å¹³æ–¹å³å¯ã€‚

### ![image-20230420214943589](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230420214943589.png) 

--------

é‡‡ç”¨å¹¶æŸ¥é›†çš„æ€æƒ³ï¼Œæ±‚å‡ºæ‰€æœ‰åŸºç«™ä¹‹é—´çš„è·ç¦»ï¼Œå†ä»å°åˆ°å¤§éå†ï¼Œå¦‚æœä¸æ˜¯è¿é€šçš„å°±è¿›è¡Œåˆå¹¶

```java
public class Main {
    static class Vector{
        int u,v;
        int dis;
  public  Vector(int u,int v,int dis){
      this.u=u;
      this.v=v;
      this.dis=dis;
  }
    }
       static int maxn=2020;
    static int[]x=new int[maxn],y=new int[maxn];
 
    static int n,k;
    static int[]f=new int[maxn],sz=new int[maxn];
    public static int find(int x){
        return x==f[x]?f[x]:find(f[x]);
    }
    public static int dis(int i,int j){
        int xx=x[i]-x[j];
        int yy=y[i]-y[j];
        return xx*xx+yy*yy;
    }

    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        n=scanner.nextInt();
        k=scanner.nextInt();
        for(int i=1;i<=n;i++){
            f[i]=i;
            sz[i]=1;
        }
        for(int i=1;i<=n;i++){
            x[i]=scanner.nextInt();
            y[i]=scanner.nextInt();
        }
        List<Vector>list=new ArrayList<>();
        for (int i = 1; i <= n; i++) {
            for (int j = i+1; j <=n; j++) {
                Vector v=new Vector(i,j,dis(i,j));
list.add(v);
            }
        }
        Collections.sort(list,(o1,o2)->o1.dis-o2.dis);
    if(k==1){
        System.out.println("0");
        return;
    }
    for(Vector v:list){
        int p=find(v.v),q=find(v.u);
        if(p!=q){
            f[p]=q;
            sz[q]+=sz[p];
            if(sz[q]>=k){
                //æ³¨æ„è¿™é‡Œï¼Œå› ä¸ºè·ç¦»æ˜¯å…¬ç”¨çš„ï¼Œåªè¦è¾“å‡ºæœ€å¤§çš„è·ç¦»å°±å¯ä»¥äº†
                System.out.println(v.dis);
                return;
            }
        }
    }
    }
}
```





# è·¯å¾„é—®é¢˜ç®—æ³•

vector<int>pre[max]:preæ•°ç»„çš„æ•°æ®ç±»å‹æ˜¯vectorï¼Œè¿™æ ·å¯¹äºæ¯ä¸ªç»“ç‚¹væ¥è¯´pre[v]å°±æ˜¯ä¸€ä¸ªå˜é•¿æ•°ç»„ï¼Œä¹Ÿå¯è®¾ç½®ä¸ºset<int> pre[max];è¿™æ ·ä½¿ç”¨pre[v].count(i)ä¼šæ¯”è¾ƒæ–¹ä¾¿



## æœ€çŸ­è·¯å¾„
å›¾Gé‡‡ç”¨é‚»æ¥è¡¨å­˜å‚¨ï¼Œè®¾è®¡ç®—æ³•æ±‚ä¸å¸¦æƒæ— å‘è¿é€šå›¾Gä»é¡¶ç‚¹uåˆ°é¡¶ç‚¹vçš„ä¸€æ¡æœ€çŸ­è·¯å¾„
ç”±äºæ˜¯ä¸å¸¦æƒçš„å›¾ï¼Œé‡‡ç”¨å¹¿åº¦ä¼˜å…ˆï¼Œå¯¹äºæ¯ä¸€ä¸ªç»“ç‚¹ï¼Œéƒ½éœ€è¦å°†å’Œå®ƒè”é€šçš„æ‰€æœ‰ç»“ç‚¹è®¿é—®ï¼Œæ¯”è¾ƒæ˜¯å¦ç­‰äºv
```cpp
//å›¾Gé‡‡ç”¨é‚»æ¥è¡¨å­˜å‚¨ï¼Œè®¾è®¡ç®—æ³•æ±‚ä¸å¸¦æƒæ— å‘è¿é€šå›¾Gä»é¡¶ç‚¹uåˆ°é¡¶ç‚¹vçš„ä¸€æ¡æœ€çŸ­è·¯å¾„
//ç”±äºæ˜¯ä¸å¸¦æƒçš„æ— å‘è¿é€šå›¾ï¼Œä¸€æ¡è¾¹çš„é•¿åº¦ä¸º1ï¼Œæ‰€ä»¥uå’Œvçš„æœ€çŸ­è·¯å¾„å³è·ç¦»uåˆ°vçš„è¾¹æ•°æœ€å°‘çš„é¡¶ç‚¹åºåˆ—
//åˆ©ç”¨é˜Ÿåˆ—ç»“æ„è¾“å‡ºæœ€çŸ­è·¯å¾„ï¼ˆé€†è·¯å¾„åºåˆ—ï¼‰
//è®¾è®¡éå¾ªç¯é˜Ÿåˆ—
#define maxn 100
typedef struct anode {
    int adjvex;//è¯¥è¾¹çš„é‚»æ¥ç‚¹ç¼–å·
    struct anode* nexarc;//æŒ‡å‘ä¸‹ä¸€æ¡è¾¹çš„æŒ‡é’ˆ
    int weight;//è¯¥è¾¹çš„ç›¸å…³ä¿¡æ¯ï¼Œæ¯”å¦‚æƒå€¼
}arcnode;//è¾¹ç»“ç‚¹ç±»å‹
typedef struct vnode {
    //InfoTyoe info; é¡¶ç‚¹çš„å…¶ä»–ä¿¡æ¯
    arcnode* firstarc;//æŒ‡å‘ç¬¬ä¸€ä¸ªè¾¹ç»“ç‚¹
}Vnode;//é‚»æ¥è¡¨å¤´ç»“ç‚¹ç±»å‹
typedef struct {
    vnode adjlist[10000];//é‚»æ¥è¡¨å¤´ç»“ç‚¹æ•°ç»„
    int n, e;//å›¾ä¸­é¡¶ç‚¹æ•°nå’Œè¾¹æ•°e
}adjgraph;
typedef struct {
	int data;
	int parent;//å‰ä¸€ä¸ªé¡¶ç‚¹çš„ä½ç½®
}Queue;
//ç”¨frontå’Œrearä¸¤ä¸ªæ•´å‹å˜é‡åˆ†åˆ«ä½œä¸ºé˜Ÿåˆ—çš„å¤´å°¾æŒ‡é’ˆ
void ShortPath(adjgraph* G, int u, int v) {
    int w, h;
    arcnode* p;
    Queue qu[maxn];
    int front = -1,rear=-1;
    int visited[maxn];

    rear++;//rear++è¡¨ç¤ºæœ‰ä¸€ä¸ªç»“ç‚¹è¿›é˜Ÿ
    qu[rear].data = u;
    qu[rear].parent = -1;
 
    for (int i = 0; i < G->n; i++) {
        visited[i] = 0;
    }
      visited[u] = 1;//uç»“ç‚¹å…¥é˜Ÿ æ ‡è®°ä¸ºå·²ç»è®¿é—®è¿‡
    while(front!=rear){//é˜Ÿä¸ç©ºæ—¶å¾ªç¯
        front++;//å‡ºæ­¤æ—¶é˜Ÿçš„é¡¶ç‚¹
        w = qu[front].data;

   
      
        if (w == v) {
            h = front;//é€šè¿‡é˜Ÿåˆ—è¾“å‡ºè·¯å¾„ä¹‹é€†
            cout << "path:";
            while (qu[h].parent != -1)
            {
     
                cout << "->" << qu[h].data;
                h = qu[h].parent;
           
            }
            break;
        }
        p = G->adjlist[w].firstarc;
   while(p!=NULL) {
            if (visited[p->adjvex] == 0)
            {
                visited[p->adjvex] = 1;
                rear++;//å°†æœªè®¿é—®è¿‡çš„ç‚¹åŠ å…¥é‚»æ¥ç‚¹
                qu[rear].data = p->adjvex;
                qu[rear].parent = front;
            }
            p = p->nexarc;

        }
    }
}
```
æ³¨æ„ï¼š
é€šè¿‡
       w = qu[front].data;
         p = G->adjlist[w].firstarc;
         æ¥è¿›è¡Œï¼šå‡ºé˜Ÿä¸€ä¸ªç»“ç‚¹ï¼ˆæ­¤ç»“ç‚¹ä¸ºé˜Ÿåˆ—ä¸­æœ€æ—©å…¥é˜Ÿçš„ç»“ç‚¹ï¼‰ è®¿é—®ä¸è¿™ä¸ªç»“ç‚¹ç›¸é‚»çš„æ‰€æœ‰ç»“ç‚¹
## æœ€è¿œé¡¶ç‚¹

å›¾Gé‡‡ç”¨é‚»æ¥è¡¨å­˜å‚¨ï¼Œè®¾è®¡ç®—æ³•æ±‚ä¸å¸¦æƒæ— å‘è¿é€šå›¾Gä»é¡¶ç‚¹uå‡ºå‘æœ€è¿œçš„ä¸€ä¸ªé¡¶ç‚¹
æ€è·¯ï¼šå³æ±‚è·ç¦»é¡¶ç‚¹uçš„è¾¹æ•°æœ€å¤šçš„é¡¶ç‚¹ï¼Œä»uå‡ºå‘ä¸€å±‚ä¸€å±‚æ‹“å±•ï¼Œæœ€ååˆ°è¾¾çš„ä¸€ä¸ªé¡¶ç‚¹å³ä¸ºè·ç¦»uæœ€è¿œçš„é¡¶ç‚¹
ä¸éœ€è¦æ±‚å‡ºå…·ä½“è·¯å¾„ï¼Œå› æ­¤é‡‡ç”¨æ™®é€šé˜Ÿåˆ—ï¼ˆSTLä¸­çš„queue)

```cpp
#define maxn 100
int Maxdist(adjgraph* G, int v) {
    arcnode* p;
    int visited[maxn];
    for (int i = 0; i < G->n; i++) {
        visited[i] = 0;
    }//ä¹Ÿå¯ä»¥ç”¨memset(visited,0,sizeof(visited))
    queue<int>qu;
    qu.push(v);
    int m;
 
    while (!qu.empty()) {
        m = qu.front();
        qu.pop();
        p = G->adjlist[m].firstarc;//æ‰¾ç¬¬ä¸€ä¸ªé‚»æ¥ç‚¹
        while (p != nullptr) {
            if (visited[p->adjvex] != 0) {
                qu.push(p->adjvex);
                //j = p->adjvex é‚»æ¥ç‚¹ä¸ºé¡¶ç‚¹j
                visited[p->adjvex] = 1;
            }
            p = p->nexarc;
        }
   //æ­¥éª¤ä¸º:å…ˆæ‰¾ç¬¬ä¸€ä¸ªé‚»æ¥ç‚¹ï¼Œå†å°†æ‰€æœ‰æœªè®¿é—®è¿‡çš„é‚»æ¥ç‚¹å…¥é˜Ÿï¼Œä¸”åˆ¤æ–­æ˜¯å¦å·²ç»è®¿é—®è¿‡ï¼Œå¦‚æœæœªè®¿é—®è¿‡åˆ™è¿›é˜Ÿæ”¹é‚»æ¥ç‚¹ï¼Œç„¶åæ‰¾ä¸‹ä¸€ä¸ªé‚»æ¥ç‚¹
        
    }
    return m;
}
```


## ä¹ é¢˜1.ä¸¤ä¸ªåŸå¸‚ä¹‹é—´ç°åœ¨æ±‚ä¸€ç§ä¹˜åæ–¹å¼ï¼Œä½¿å¾—è½¬æœºçš„æ¬¡æ•°æœ€å°‘
è¾“å…¥
5 7 1 5
1 2
1 3
2 3
2 4
3 4
3 5
4 5
è¾“å‡º2
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/bc49af016f9844a890bc5021ab796c59.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxMzU4NTc0,size_16,color_FFFFFF,t_70)

```cpp
//æœ€å°‘è½¬æœºæ¬¡æ•°
#include <stdio.h> 
struct note 
{
int x;//åŸå¸‚ç¼–å· 
int s;//è½¬æœºæ¬¡æ•°
};

int main()
{
struct note que[2501]; 
int e[51][51]={0},visited[51]={0}; 
int head,tail; 
int i,j,n,m,a,b,cur,start,end,flag=0;
cin>>n>>m>>start>>end;//åŸå¸‚ä¸ªæ•° èˆªçº¿æ•° èµ·ç‚¹ ç»ˆç‚¹
for(i = 1;i <= n;i++)
{
for(j = 1;j <= n;j++)
if(i == j) e[i][j] = e[j][i] = 0;
else
e[i][j] = e[j][i] = 1e6;//åˆå§‹åŒ–è·ç¦»

}
for(i = 1;i <=m;i++)
{
	cin>>a>>b;
e[a][b] = e[b][a] = 1;
}
head = 1;
tail = 1;//é˜Ÿåˆ—åˆå§‹åŒ–
que[tail].x = start;
que[tail].s = 0;
visited[start] = 1;
tail++;
while(tail > head)
{
	cur = que[head].x;//å½“å‰é˜Ÿåˆ—ä¸­é¦–å…ƒç´ çš„ç¼–å·
	for(i = 1;i <= n;i++)
	{
		if(visited[i] == 0 && e[cur][i] < 1e6)
		{
			que[tail].x = i;
			que[tail].s  = que[head].s +1;
			tail++;
			visited[i] = 1;//æ ‡è®°è¿›å…¥äº†é˜Ÿåˆ—
		}
		if(que[tail].x == end)
		{
			flag = 1;
			break;
		}

	}
	if(flag)
	 break;
	head++;//æ³¨æ„head++è¦å†™åœ¨åé¢ï¼Œåªæœ‰ä¸€ä¸ªç‚¹æ‹“å±•ç»“æŸåæ‰èƒ½è¿›è¡Œå‡ºé˜Ÿï¼Œä¸€å¼€å§‹è‡ªå·±å†™çš„æ˜¯cur = que[head++].x;
}
cout<<que[tail-1].s;
}


```







# bfç®—æ³•

![](C:\Users\14172\Pictures\æœ€çŸ­è·¯å¾„æ ‘.png)



![](C:\Users\14172\Pictures\===.png)

## æ— å‘å›¾çš„é‚»æ¥è¡¨åˆ›å»º

```c++
#include<iostream>
using  namespace std;

#define MAXVEX  100  /* æœ€å¤§é¡¶ç‚¹æ•°,åº”ç”±ç”¨æˆ·å®šä¹‰ */
typedef  char VertexType;  /* é¡¶ç‚¹ç±»å‹åº”ç”±ç”¨æˆ·å®šä¹‰ */
typedef  int EdgeType;  /* è¾¹ä¸Šçš„æƒå€¼ç±»å‹åº”ç”±ç”¨æˆ·å®šä¹‰ */

typedef  struct EdgeNode /* è¾¹è¡¨ç»“ç‚¹  */
{
     int adjvex; /* é‚»æ¥ç‚¹åŸŸ,å­˜å‚¨è¯¥é¡¶ç‚¹å¯¹åº”çš„ä¸‹æ ‡ */
    EdgeType weight; /* ç”¨äºå­˜å‚¨æƒå€¼,å¯¹äºéç½‘å›¾å¯ä»¥ä¸éœ€è¦ */
     struct EdgeNode *next;  /* é“¾åŸŸ,æŒ‡å‘ä¸‹ä¸€ä¸ªé‚»æ¥ç‚¹ */
} EdgeNode;

typedef  struct VextexNode /* é¡¶ç‚¹è¡¨ç»“ç‚¹ */
{
    VertexType data; /* é¡¶ç‚¹åŸŸ,å­˜å‚¨é¡¶ç‚¹ä¿¡æ¯ */
    EdgeNode *firstedge; /* è¾¹è¡¨å¤´æŒ‡é’ˆ */
} VextexNode, AdjList[MAXVEX];

typedef  struct
{
    AdjList adjList;
     int numNodes, numEdges;  /* å›¾ä¸­å½“å‰é¡¶ç‚¹æ•°å’Œè¾¹æ•° */
} GraphAdjList;


void CreateALGraph(GraphAdjList *Gp)
{
     int i, j, k;
    EdgeNode *pe;
    cout <<  "è¾“å…¥é¡¶ç‚¹æ•°å’Œè¾¹æ•°(ç©ºæ ¼åˆ†éš”ï¼‰:" << endl;
    cin >> Gp->numNodes >> Gp->numEdges;

     for (i =  0 ; i < Gp->numNodes; i++)
    {
        cout <<  "è¾“å…¥é¡¶ç‚¹ä¿¡æ¯ï¼š" << endl;
        cin >> Gp->adjList[i].data;
        Gp->adjList[i].firstedge =  NULL; /* å°†è¾¹è¡¨ç½®ä¸ºç©ºè¡¨ */
    }

     for (k =  0; k <  Gp->numEdges; k++) /* å»ºç«‹è¾¹è¡¨ */
    {
        cout <<  "è¾“å…¥è¾¹(vi,vj)çš„é¡¶ç‚¹åºå·i,jï¼ˆç©ºæ ¼åˆ†éš”ï¼‰:" << endl;
        cin >> i >> j;
        pe = (EdgeNode *)malloc( sizeof(EdgeNode));
        pe->adjvex = j; /* é‚»æ¥åºå·ä¸ºj */
         /* å°†peçš„æŒ‡é’ˆæŒ‡å‘å½“å‰é¡¶ç‚¹ä¸ŠæŒ‡å‘çš„ç»“ç‚¹ */
        pe->next = Gp->adjList[i].firstedge;
        Gp->adjList[i].firstedge = pe; /* å°†å½“å‰é¡¶ç‚¹çš„æŒ‡é’ˆæŒ‡å‘pe */

        pe = (EdgeNode *)malloc( sizeof(EdgeNode));
        pe->adjvex = i;
        pe->next = Gp->adjList[j].firstedge;
        Gp->adjList[j].firstedge = pe;

    }
}

int main( void)
{
    GraphAdjList GL;
    CreateALGraph(&GL);

     return  0;
}
```



## spfaç®—æ³•ï¼ˆbfç®—æ³•ä¼˜åŒ–

ä½¿ç”¨spfaå¯ä»¥åˆ¤æ–­æ˜¯å¦å­˜åœ¨ä»æºç‚¹å¯ä»¥åˆ°è¾¾çš„è´Ÿç¯ï¼Œå®ƒæœŸæœ›çš„æ—¶é—´å¤æ‚åº¦æ˜¯o(ke),kæ˜¯ä¸€ä¸ªå¸¸æ•°ï¼ŒEæ˜¯å›¾çš„è¾¹æ•°ï¼Œè¿™ä¸ªç®—æ³•åœ¨å¤§éƒ¨åˆ†æ•°æ®æ—¶å¼‚å¸¸é«˜æ•ˆï¼Œç»å¸¸ä¼˜äºå †ä¼˜åŒ–çš„djç®—æ³•ã€‚

è¿›å…¥å¾ªç¯ä¹‹å‰æ‰§è¡Œï¼šå°†èµ·å§‹ç‚¹å…¥é˜Ÿï¼Œvis[s]çŠ¶æ€è®¾ç½®ä¸ºtrue(åœ¨é˜Ÿåˆ—ä¸­)ï¼Œnum[s]++ï¼ˆèµ·å§‹ç‚¹çš„è®¿é—®æ¬¡æ•°åŠ ä¸€),d[s]=0;//èµ·å§‹ç‚¹åˆ°è‡ªèº«è·ç¦»ä¸º0

- å¾ªç¯æ¡ä»¶:é˜Ÿåˆ—éç©º
- ä¾æ¬¡æ‰§è¡Œï¼š{å–å‡ºé˜Ÿé¦–é¡¶ç‚¹è®¾ç½®ç¼–å·ä¸ºuï¼Œé˜Ÿåˆ—popä½¿å…¶å‡ºé˜Ÿ,vis[u]çŠ¶æ€è®¾ç½®ä¸ºfalseå³ä¸åœ¨é˜Ÿåˆ—ä¸­}

spfaçš„bfsç‰ˆæœ¬:(ç”¨é˜Ÿåˆ—å®ç°)

ä¹Ÿå¯ç”¨æ ˆå®ç°ï¼ˆDFSç‰ˆæœ¬ï¼‰

```c++
//bfç®—æ³•åŒæ ·è®¾ç½®ä¸€ä¸ªæ•°ç»„d[],å­˜æ”¾ä»æºç‚¹åˆ°å„ä¸ªé¡¶ç‚¹çš„æœ€çŸ­è·ç¦»
//å¦‚æœå›¾ä¸­æœ‰è´Ÿç¯ï¼Œè€Œä¸”ä»æºç‚¹å¯ä»¥åˆ°è¾¾ï¼Œé‚£ä¹ˆä¼šå½±å“æœ€çŸ­è·¯å¾„çš„æ±‚è§£

const int maxn = 1000,inf=100000000;

int mincost=inf,num[maxn];//num[s]è®°å½•é¡¶ç‚¹çš„å…¥é˜Ÿæ¬¡æ•°
int d[maxn];
bool inq[maxn];//åˆ¤æ–­é¡¶ç‚¹æ˜¯å¦åœ¨é˜Ÿä¸­
vector<node>adj[maxn];//å›¾Gçš„é‚»æ¥è¡¨
int n;
bool spfa(int s)//sä¸ºèµ·å§‹ç‚¹
{
	
	memset(inq, false, maxn);
	memset(num, 0, maxn);//åˆå§‹åŒ–æ•°ç»„
	fill(d, d + maxn, inf);
	//æºç‚¹å…¥é˜Ÿéƒ¨åˆ†
	queue<int>qu;
	qu.push(s);
	inq[s] = true;//å…¥é˜Ÿåæ”¹å˜çŠ¶æ€ä¸ºtrue
	num[s]++;//å…¥é˜Ÿæ¬¡æ•°åŠ ä¸€
	d[s] = 0;
	while (!qu.empty())
	{
		int u = qu.front();//å–å‡ºé˜Ÿé¦–é¡¶ç‚¹è®¾ç½®ç¼–å·ä¸ºu
		qu.pop();//å‡ºé˜Ÿ
		inq[u] = false;//è®¾ç½®uä¸ºä¸åœ¨é˜Ÿåˆ—ä¸­
		//éå†uçš„æ‰€æœ‰é‚»æ¥è¾¹
		for (int i = 0; i < adj[u].size(); i++)
		{
			int v = adj[u][v].v;
			int dis = adj[u][v].dis;
			if (d[u] + dis < d[v])
			{
				
				d[v] = d[u]+dis;
				if (inq[v] == false)
				{
					qu.push(v);//vå…¥é˜Ÿ vçš„å…¥é˜Ÿæ¬¡æ•°åŠ ä¸€ çŠ¶æ€ä¸ºåœ¨é˜Ÿåˆ—ä¸­
					num[v]++;
					inq[v] = true;
					if (num[v] >= n) return false;//æœ‰å¯åˆ°è¾¾çš„è´Ÿç¯
				}
			}
		}
	}
	return true;//æ— å¯åˆ°è¾¾çš„è´Ÿç¯

}
```





# å¼—æ´›ä¼Šå¾·ç®—æ³•



```c++
const int maxn = 200,inf=100000000;//æœ€å¤§é¡¶ç‚¹æ•°ä¸ºä¸¤ç™¾ ç”±äºé¡¶ç‚¹æ•°å°‘ å¯ä»¥ç”¨é‚»æ¥çŸ©é˜µæ³•
int mincost=inf,num[maxn];//num[s]è®°å½•é¡¶ç‚¹çš„å…¥é˜Ÿæ¬¡æ•°
int dis[maxn][maxn];//dis[i][j]è¡¨ç¤ºä»iåˆ°jçš„æœ€çŸ­è·ç¦»
int n,m;//nä¸ºé¡¶ç‚¹æ•°ï¼Œmä¸ºè¾¹æ•°

void flod()
{
	for (int k = 0; k < n; k++)
	{
		for (int i = 0; i < n; i++)
			for (int j = 0; j < n; j++)
			{
				if (dis[i][k] != inf && dis[k][j] != inf &&dis[i][k] + dis[k][j] < dis[i][j])
				{
					dis[i][j] = dis[i][k] + dis[k][j];//æ‰¾åˆ°äº†æ›´çŸ­çš„è·¯å¾„ è¿›è¡Œæ›´æ–°
				}
			}
	}
}
int main()
{
	int u, v, w;

	fill(dis[0], dis[0] + maxn * maxn, inf);
	for (int i = 0; i < n; i++)
	{
		dis[i][i] = 0;//é¡¶ç‚¹iåˆ°içš„è·ç¦»ä¸º0
	}
	cin >> n >> m;//è¾“å…¥é¡¶ç‚¹æ•°å’Œè¾¹æ•°
	for (int i = 0; i < m; i++)
	{
		cin >> u >> v >> w;
		dis[u][v] = w;//æœ‰å‘å›¾
	}
	flod();//ç®—æ³•å…¥å£
	for(int i = 0;i < n;i++)
		for (int j = 0; j < n; j++)
		{
			cout << dis[i][j] << " ";
		}
}
```

æ³¨æ„ï¼šä¸èƒ½å°†å¤–å±‚çš„kå¾ªç¯æ”¾åˆ°å†…å±‚

# æ™®åˆ©å§†ç®—æ³•

å¯¹å›¾G(V,E)è®¾ç½®é›†åˆSï¼Œå­˜æ”¾å·²ç»è¢«è®¿é—®çš„é¡¶ç‚¹ç„¶åæ¯æ¬¡ä»é›†åˆV-Sä¸­é€‰æ‹©ä¸é›†åˆSæœ€çŸ­è·ç¦»æœ€å°çš„ä¸€ä¸ªé¡¶ç‚¹ï¼ˆè®°ä¸ºuï¼‰è®¿é—®å¹¶åŠ å…¥é›†åˆSï¼Œç„¶åä»¤é¡¶ç‚¹uä¸ºä¸­ä»‹ç‚¹ä¼˜åŒ–æ‰€æœ‰ä»uèƒ½åˆ°è¾¾çš„é¡¶ç‚¹vä¸é›†åˆsä¹‹é—´çš„æœ€çŸ­è·ç¦»ï¼Œæ‰§è¡Œnæ¬¡è¿™æ ·çš„æ“ä½œï¼Œç›´åˆ°é›†åˆSåŒ…å«æ‰€æœ‰é¡¶ç‚¹ã€‚

- è¿™é‡Œç”Ÿæˆçš„å°±æ˜¯ä»¥v0ä¸ºæ ¹ç»“ç‚¹çš„æœ€å°ç”Ÿæˆæ ‘ã€‚
- è®°å½•viä¸æ¯ä¸ªå·²æ”»å åŸå¸‚çš„æœ€å°è·ç¦»ã€‚
- ä¸ç‹„æ°ç‰¹æ–¯æ‹‰ç®—æ³•çš„d[]åŒºåˆ«ï¼šæ™®åˆ©å§†ä¸­d[]æ˜¯é¡¶ç‚¹åˆ°é›†åˆsçš„æœ€çŸ­è·ç¦»ï¼Œåè€…æ˜¯èµ·ç‚¹såˆ°é¡¶ç‚¹viçš„æœ€çŸ­è·ç¦»ã€‚äºŒè€…åªæœ‰ä¼˜åŒ–d[v]çš„éƒ¨åˆ†ä¸åŒã€‚

é‚»æ¥çŸ©é˜µç‰ˆæœ¬ï¼š

```c++
const int inf = 1000000;
const int maxn = 10000;

int n,G[maxn][maxn];//nä¸ºé¡¶ç‚¹æ•°ç›®
int d[maxn];
bool vis[maxn] = { false };
int prim()//é»˜è®¤0å·ä¸ºåˆå§‹èµ·å§‹ç‚¹ï¼Œå‡½æ•°è¿”å›æœ€å°ç”Ÿæˆæ ‘çš„è¾¹æƒä¹‹å’Œ
{
	fill(d, d + maxn, inf);
	d[0] = 0;//åªæœ‰0å·é¡¶ç‚¹åˆ°é›†åˆSçš„è·ç¦»ä¸º0ï¼Œå…¶ä½™ç‚¹è·ç¦»å‡ä¸ºINF
	int i, j, k,ans=0;//anså­˜æ”¾æœ€å°ç”Ÿæˆæ ‘çš„è¾¹æƒä¹‹å’Œ
	fill(G[0], G[0] + maxn * maxn, inf);
	for (i = 0; i < n; i++)//å¾ªç¯næ¬¡
	{
		int u = -1,min=inf;
		for (j = 0; j < n; j++)
		{
			if (vis[j]==false && d[j] < min)
			{
				u = j;
				min = d[j];//æœªè®¿é—®çš„é¡¶ç‚¹ä¸­åˆ°é›†åˆSçš„è·ç¦»æœ€å°çš„
			}
		}
		if (u == -1) return -1;//å‰©ä¸‹çš„ç‚¹å’Œèµ·å§‹ç‚¹ä¸è¿é€š
		vis[u] = true;
		ans += d[u];//å°†ä¸é›†åˆSè·ç¦»æœ€å°çš„è¾¹åŠ å…¥æœ€å°ç”Ÿæˆæ ‘
		for (int v = 0; v < n; v++)
		{//væœªè®¿é—® u vè¿é€š ä»uåˆ°vçš„è·ç¦»æ¯”ä»våˆ°é›†åˆsè·ç¦»æ›´çŸ­
			if (vis[v] == false && G[u][v] != inf && G[u][v] < d[v])
			{
				d[v] = G[u][v];
				
			}
		}

	}
	return ans;
	
}

int main()
{
	int u, v, w;
	fill(G[0], G[0] + maxn * maxn, inf);
	cin >> n >> m;//é¡¶ç‚¹ä¸ªæ•° è¾¹æ•°
	for (int i = 0; i < m; i++)
	{
		cin >> u >> v >> w;//è¾“å…¥u v è¾¹æƒ
		G[u][v] = G[v][u] = w;//æ— å‘å›¾
	}
	int ans = prim();
	cout << ans;
}
```





# å…‹é²æ–¯å¡å°”ç®—æ³•

!(C:\Users\14172\OneDrive\å›¾ç‰‡\å±å¹•å¿«ç…§\2020-12-02.png)![](C:\Users\14172\OneDrive\å›¾ç‰‡\å±å¹•å¿«ç…§\2020-12-02 (3).png)

```c++
int n,m,G[maxn][maxn];//nä¸ºé¡¶ç‚¹æ•°ç›®
struct edge
{
	int u, v;
	int cost;//è¾¹çš„ä¸¤ä¸ªç«¯ç‚¹å’Œè¾¹æƒ
}e[maxn];//æœ€å¤šæœ‰maxnæ¡è¾¹ å®šä¹‰ç»“æ„ä½“è¡¨ç¤ºä¸€æ¡è¾¹
bool cmp(edge a, edge b)
{
	return a.cost < b.cost;
}
int findfather(int x)
{
	int z = x;//å› ä¸ºxä¼šå‘ç”Ÿå˜åŒ–å…ˆç”¨Zä¿å­˜
	while (x != father[x])
	{
		x = father[x];
	}
	//åˆ°è¿™é‡Œï¼Œxå­˜æ”¾çš„æ˜¯æ ¹ç»“ç‚¹ ä¸‹é¢æŠŠè·¯å¾„ä¸Šæ‰€æœ‰èŠ‚ç‚¹çš„fatherç»“ç‚¹æ”¹ä¸ºx
	while (z != father[z])
	{
		int a = z;//å› ä¸ºZè¦è¢«çˆ¶èŠ‚ç‚¹è¦†ç›– å…ˆæå‰ä¿å­˜
		z = father[z];//å›æº¯çˆ¶äº²ç»“ç‚¹
		father[a] = x;//å°†åŸå…ˆçš„ç»“ç‚¹zçš„çˆ¶èŠ‚ç‚¹æŒ‡å‘æ ¹ç»“ç‚¹
	}
	return x;//è¿”å›æ ¹ç»“ç‚¹
}
//è¯¥ç®—æ³•é€‚åˆé¡¶ç‚¹æ•°å¤šï¼Œè¾¹æ•°è¾ƒå°‘çš„æƒ…å†µï¼Œä¸primæ­£å¥½ç›¸åï¼Œå¦‚æœä¸ºç¨€ç–å›¾ï¼Œåˆ™é€‚åˆå…‹é²æ–¯å¡å°”ç®—æ³•
//å¦‚æœå›¾æœ¬èº«è¿é€šï¼Œåˆ™æ¯ä¸ªé¡¶ç‚¹éƒ½ä¼šæœ‰è¾¹è¿æ¥ï¼Œä¸”ä¸€å¼€å§‹éƒ½æ˜¯ä¸€ä¸ªå•ç‹¬çš„è¿é€šå—ï¼Œå› æ­¤æšä¸¾è¿‡ç¨‹ä¸­ä¸€å®šå¯ä»¥æŠŠæ¯ä¸ªé¡¶ç‚¹éƒ½è®¿é—®åˆ°
//ä¸”åªè¦æ˜¯ç¬¬ä¸€æ¬¡è®¿é—®æŸä¸ªé¡¶ç‚¹ï¼Œå¯¹åº”çš„è¾¹ä¸€å®šä¼šåŠ å…¥æœ€å°ç”Ÿæˆæ ‘ä¸­ï¼Œæ•…å›¾ä¸­çš„é¡¶ç‚¹æœ€åä¸€å®šéƒ½ä¼šåŠ å…¥æœ€å°ç”Ÿæˆæ ‘ä¸­
int kluskar(int n, int m)//nä¸ºé¡¶ç‚¹æ•°ï¼Œmä¸ºå›¾çš„è¾¹æ•°
{
	//è¿”å›æœ€å°ç”Ÿæˆæ ‘çš„è¾¹æƒä¹‹å’Œ
	int ans = 0, num_t = 0;//ansä¸ºæ‰€æ±‚è¾¹æƒä¹‹å’Œ num_tä¸ºå½“å‰ç”Ÿæˆæ ‘çš„è¾¹æ•°
	for (int i = 0; i < n; i++)
		father[i] = i;//å¹¶æŸ¥é›†åˆå§‹åŒ–ï¼Œå‡è®¾é¡¶ç‚¹ç¼–å·ä¸º1~n
	sort(e, e + m, cmp);//æ’åº
	for (int i = 0; i < m; i++)//ä»å°åˆ°å¤§æšä¸¾æ‰€æœ‰è¾¹
	{
		int fav = findfather(e[i].v);
		int fau = findfather(e[i].u);//æŸ¥è¯¢è¯¥è¾¹çš„ä¸¤ä¸ªç«¯ç‚¹æ˜¯å¦åœ¨ä¸€ä¸ªé›†åˆ
		if (fav != fau)
		{
			father[fau] = fav;//å¦‚æœä¸åœ¨ä¸€ä¸ªé›†åˆï¼Œåˆ™åˆå¹¶ï¼ŒæŠŠæµ‹è¯•è¾¹åŠ å…¥æœ€å°ç”Ÿæˆæ ‘ä¸­
			ans += e[i].cost;
			num_t++;
			if (num_t >= n -1)
				break;//å¦‚æœè¾¹æ•°ç­‰äºé¡¶ç‚¹æ•°å‡ä¸€æ—¶é€€å‡ºå¾ªç¯
		}
	}
	if (num_t != n - 1) return -1;//å¦‚æœæ— æ³•è¿é€šæ—¶è¿”å›-1
	return ans;//å¦åˆ™è¿”å›æœ€å°ç”Ÿæˆæ ‘çš„è¾¹æƒ
}

int main()

{
	int u, v, k;
	cin >> n >> m;
	for (int i = 0; i < m; i++)
	{
		cin >> e[i].u >> e[i].v >> e[i].cost;
	}
	cout << kluskar(n, m);
}
```



# æš´åŠ›ç®—æ³•

## æšä¸¾

ç»™ä½ ä¸€ä¸ªæ•°å­—nï¼Œç”¨0~9,10ä¸ªæ•°å­—ç»„æˆä¸¤ä¸ªäº”ä½æ•°ï¼Œä½¿å¾—ä»–ä»¬çš„å•†ä¸ºnï¼ŒæŒ‰é¡ºåºè¾“å‡ºæ‰€æœ‰ç»“æœã€‚

```c++
int use[10] = { 0 };
bool solution(int a, int b)
{
	for (int i = 0; i < 10; i++)
		use[i] = 0;//å¾ˆé‡è¦
	if (b > 98765 || a< 10000) return false;
	while (a)
	{
		use[a % 10] = 1;
		a /= 10;
	}
	while (b)
	{
		use[b % 10] = 1;
		b /= 10;
	}
	int sum = 0;
	for (int i = 0; i < 10; i++)
	{
		sum += use[i];
	}
	if (sum != 10) return false;
	else
		return true;

}
int main()
{
	int n;
	while (cin >> n && n > 0)
	{
		for (int a = 10000; a < 100000; a++)
		{
			if (solution(a, a * n))
				cout << a * n << "/" << a << "=" << n<<endl;
			else
			{
				continue;
			}
		}
	}
}
```



ç»™å®šä¸€ä¸ªkï¼Œæ„é€ ä¸€ä¸ªç­‰å¼ `1/k = 1/x + 1/y` ï¼Œå…¶ä¸­`x>=y`ã€‚

æ—¢ç„¶è¦æ±‚æ‰¾å‡ºæ‰€æœ‰çš„xã€y,æšä¸¾å¯¹è±¡è‡ªç„¶å°±æ˜¯xã€yäº†ã€‚å¯é—®é¢˜åœ¨äº,æšä¸¾çš„èŒƒå›´å¦‚ä½•?ä»1/12=1/156+1/13å¯ä»¥çœ‹å‡º,xå¯ä»¥æ¯”yå¤§å¾ˆå¤šã€‚ç”±äºxâ‰¥y,æœ‰`1/x <= 1/y`ï¼Œå› æ­¤`1/k - 1/y <= 1/y`ï¼Œæ‰€ä»¥`y >= 2k`ï¼Œåªéœ€è¦åœ¨`k~2k`ä¹‹é—´æšä¸¾yï¼Œç”±yè®¡ç®—xå³å¯ã€‚

```c++
int main()
{
	int k;
	while (cin >> k && k < 10000)
	{
		for (int j = k+1; j <= 2 * k; j++)
		{
			if ((j*k) % (j - k) == 0 && j!=k)//å¦‚æœ==0åˆ™è¯´æ˜å­˜åœ¨è¿™æ ·çš„æ•´æ•°x
				cout << "1/" << k << "=1/" << j << "+1/" << (j*k) / (j-k) << endl;
		}
	}
}
```



## æŸ æª¬æ°´æ‰¾é›¶

![image-20210905203221026](C:\Users\14172\AppData\Roaming\Typora\typora-user-images\image-20210905203221026.png)

```java
public static boolean change(int[] bills)
{
    int five = 0,ten = 0;
    for(int bill:bills)
    {
        if(bill == 5)
            five++;
        else if(bill == 10)
        {
            if(five == 0) return false;
            else
            {
                five--;
                ten++;
            }
        }
        else
        {
            if(five > 0 && ten > 0)
            {
                five --;
                ten--;
            }
            else if(five > 3)
                five = five - 3;
            else return false;
        }
      
    }
    return true;
}
```



## ä¸‰è§’å½¢æœ€å¤§å‘¨é•¿



```java
Arrays.sort(a);
for(int i = a.length -1;i>=2;i--)
{
    if(a[i] < a[i-1]+a[i-2]) return a[i]+ a[i-1]+a[i-2];
    
}
return 0;//ä¸èƒ½ç»„æˆä¸‰è§’å½¢
```





# æ£‹ç›˜æ ¼é—®é¢˜ï¼ˆè¿˜æœªæ‡‚ï¼‰UVa1343

![img](https://images2015.cnblogs.com/blog/832036/201511/832036-20151111124216212-1394497486.png)



é¢˜æ„ï¼šã€€ã€€
æœ‰ä¸ªï¼ƒå­—å‹çš„æ£‹ç›˜ï¼Œ2è¡Œ2åˆ—ï¼Œä¸€å…±24ä¸ªæ ¼ã€‚

å¦‚å›¾ï¼šæ¯ä¸ªæ ¼å­æ˜¯1æˆ–2æˆ–3ï¼Œä¸€å…±8ä¸ª1ï¼Œ8ä¸ª2ï¼Œ8ä¸ª3.
æœ‰A~Hä¸€å…±8ç§åˆæ³•æ“ä½œï¼Œæ¯”å¦‚Aä»£è¡¨æŠŠAè¿™ä¸€åˆ—å‘ä¸Šç§»åŠ¨ä¸€ä¸ªï¼Œæœ€ä¸Šé¢çš„æ ¼ä¼šè¡¥åˆ°æœ€ä¸‹é¢ã€‚
æ±‚ï¼šä½¿ä¸­å¿ƒ8ä¸ªæ ¼å­æ•°å­—ä¸€è‡´çš„æœ€å°‘æ­¥éª¤ï¼Œè¦è¾“å‡ºå…·ä½“çš„æ“ä½œæ­¥éª¤åŠæœ€ç»ˆä¸­å¿ƒåŒºåŸŸçš„æ•°å­—ã€‚å¦‚æœæœ‰å¤šä¸ªè§£ï¼Œè¾“å‡ºå­—å…¸åºæœ€å°çš„æ“ä½œæ­¥éª¤ã€‚


åˆ†æï¼š
å¾ˆæ˜æ˜¾çš„ä¸€ä¸ªçŠ¶æ€ç©ºé—´æœç´¢é—®é¢˜ï¼Œä¸è¿‡å¯ä»¥æ³¨æ„åˆ°ï¼Œè™½ç„¶æ¯ä¸€ä¸ªçŠ¶æ€æœ‰å…«ä¸ªå¯èƒ½çš„åç»­çŠ¶æ€ï¼Œéšç€æ“ä½œæ•°nçš„å¢åŠ ï¼Œæ€»çŠ¶æ€æ•° 8^n è¿˜æ˜¯å¤§å¾—å¯æ€•ã€‚æ¯”å¦‚å½“nï¼11æ—¶ï¼Œæ€»çŠ¶æ€ä¸º8^11 = 85äº¿ã€‚å°±ç®—é€šè¿‡è‡ªå·±åˆ›å»ºç‰¹åˆ¶çš„å“ˆå¸Œè¡¨è¿›è¡ŒçŠ¶æ€åˆ¤é‡ï¼Œä¼˜åŒ–æ•ˆæœå¹¶ä¸æ˜æ˜¾ï¼Œå› ä¸ºæœ€è¿‘ä¸€ç›´åœ¨åšçŠ¶æ€ç©ºé—´æœç´¢é—®é¢˜ï¼Œå³ä½¿ç”¨bfsï¼‹å‰ªæï¼‹å“ˆå¸Œè¡¨ï¼Œè¿™äº›ç¨‹åºéƒ½æ— ä¸€ä¾‹å¤–çš„è¶…æ—¶äº†ï¼Œæ‰€ä»¥ç°åœ¨çœ‹åˆ°çŠ¶æ€ç©ºé—´æœç´¢é—®é¢˜ï¼Œå¦‚æœæ²¡æœ‰ç‰¹åˆ«å¥½çš„å‰ªæï¼Œæˆ‘ç»å¯¹ä¸æ•¢ç”¨bfsäº†.....
å›åˆ°è¿™é“é¢˜ï¼Œæ‰€æœ‰å¯ä»¥ç”¨bfs,å›æº¯è§£å†³çš„é—®é¢˜ï¼Œå°¤å…¶æ˜¯è§£ç­”æ ‘çš„ç»“ç‚¹æ•°æ²¡æœ‰æ˜æ˜¾ä¸Šé™çš„é¢˜ï¼Œé€‰æ‹©ç”¨è¿­ä»£åŠ æ·±æœç´¢ç®—æ³•éƒ½ç‰¹åˆ«å¥½ç”¨ï¼ˆåŸå› å¯ä»¥å‚è€ƒæˆ‘ä¸Šä¸€ç¯‡æ–‡ç« ï¼‰ã€‚è¿™é‡ŒIDA*(è¿­ä»£åŠ æ·±A*ç®—æ³•)å…¶å®è¯´ç™½äº†å°±æ˜¯è¿­ä»£åŠ æ·±+å‰ªæ.

A*ç®—æ³•æ˜¯å¯¹äºæ¯ä¸€æ­¥è€ƒè™‘ g(n) + h()å’ŒMAXDçš„å…³ç³»ã€‚
ç¨å¾®è§£é‡Šä¸€ä¸‹ï¼Œg(n)æ˜¯ä»èµ·ç‚¹åˆ°å½“å‰çŠ¶æ€çš„æ€»æ­¥æ•°ï¼ŒMAXDæ˜¯æˆ‘ä»¬æå‰é€šè¿‡è®¡ç®—è¯æ˜å¾—åˆ°çš„æœ€çŸ­è·¯çº¿æ€»æ­¥æ•°çš„ä¸Šé™ï¼Œh()æ˜¯å¯å‘å‡½æ•°ï¼Œæ˜¯æ•´ä¸ªç®—æ³•çš„å…³é”®ï¼Œæˆ‘ä»¬è®¾è®¡çš„h()å¯ä»¥é¢„ä¼°ä»å½“å‰çŠ¶æ€åˆ°ç›®æ ‡çŠ¶æ€è‡³å°‘éœ€è¦çš„æ­¥æ•°ã€‚
è¿™æ ·ï¼Œä¸Šé¢çš„å…³ç³»å¼å°±å¾ˆå¥½ç†è§£äº†ã€‚g(n) + h() > MAXD æ„å‘³ç€å½“å‰å·²ç»èµ°çš„æ­¥æ•°ï¼‹è‡³å°‘è¿˜éœ€è¦çš„æ­¥æ•° > æˆ‘å¯ä»¥èµ°çš„æ­¥æ•°ä¸Šé™ï¼Œè¿™ç§çŠ¶æ€ï¼Œå¿…ç„¶å·²ç»æ²¡æœ‰ç»§ç»­çš„å¿…è¦ï¼Œå›æº¯ã€‚
å¯¹äºè¿™é“é¢˜ï¼Œå¯ä»¥æ³¨æ„åˆ°ï¼Œå¯¹äºæ¯ä¸€æ¬¡æ“ä½œï¼Œæˆ‘ä»¬æœ€å¤šå¯ä»¥è®©ä¸­å¿ƒæ ¼å­å¤šä¸€ä¸ªç›®æ ‡æ•°å­—ï¼Œå¦‚æœå½“å‰ä¸­å¿ƒæ ¼å­å¾…æ•´ç†çš„æ•°å­—ä¸ªæ•°å¤§äºæˆ‘ä»¬è¿˜å¯ä»¥èµ°çš„æ­¥æ•°ï¼Œå›æº¯ã€‚
è¿™æ ·ï¼Œå°±å¾—åˆ°äº†
ã€€ã€€ã€€ã€€if (d + num_unordered() > MAXD) return false;
ã€€ã€€ã€€ã€€è¿™ä¸€æ ¸å¿ƒå‰ªæå…¬å¼ã€‚ å‰©ä¸‹çš„å°±ç®€å•äº†ã€‚
ä»£ç åªæœ‰52è¡Œï¼Œè¿˜æ˜¯å¾ˆç®€æ´çš„ã€‚è€Œä¸”è¿è¡Œé€Ÿåº¦å¾ˆå¿«ã€‚è¿‡30ç»„æ•°æ®åªç”¨äº†126ms.

```c++

 

#include <cstdio>
#include <cstring>
#include <algorithm>
using namespace std;
const int MAXN = 24, LEN = 8;
int board[LEN][LEN - 1] = { {0, 2, 6, 11, 15, 20, 22}, {1, 3, 8, 12, 17, 21, 23},
                        {10, 9, 8, 7, 6, 5, 4}, {19, 18, 17, 16, 15, 14, 13},
                        {23, 21, 17, 12, 8, 3, 1}, {22, 20, 15, 11, 6, 2, 0},
                        {13, 14, 15, 16, 17, 18, 19}, {4, 5, 6, 7, 8, 9, 10} };
int check_order[] = {6, 7, 8, 11, 12, 15, 16, 17}, a[MAXN], maxd;
char order[30];

int unordered() {
    int n1 = 0, n2 = 0, n3 = 0;
    for (int i = 0; i < LEN; i++)
        if (a[check_order[i]] == 1)  n1++;
        else if (a[check_order[i]] == 2) n2++;
        else n3++;
    return LEN - max(max(n1, n2), n3);
}

void rotate(int di) {
    int t = a[board[di][0]];
    for (int i = 1; i < LEN - 1; i++) a[board[di][i - 1]] = a[board[di][i]];
    a[board[di][LEN - 2]] = t;
}

bool dfs(int d) {
    int cnt = unordered();
    if (!cnt) return true;
    if (cnt + d > maxd) return false;
    int temp[MAXN]; memcpy(temp, a, sizeof(a));
    for (int i = 0; i < LEN; i++) {
        rotate(i);
        order[d] = i + 'A';
        if (dfs(d + 1)) return true;
        memcpy(a, temp, sizeof(a));
    }
    return false;
}

int main() {
    freopen("in", "r", stdin);
    while (scanf("%d", &a[0]) && a[0]) {
        for (int i = 1; i < MAXN; i++) scanf("%d", &a[i]);
        if (!unordered()) { printf("No moves needed\n%d\n", a[6]); continue;}
        for (maxd = 1;; maxd++) if (dfs(0)) break;
        for (int i = 0; i < maxd; i++) printf("%c", order[i]);
        printf("\n%d\n", a[6]);
    }
    return 0;
}
```

# æ‹“æ‰‘æ’åº

```c++
vector<int>G[maxn];//é‚»æ¥è¡¨
bool topu()//ä¸€ä¸ªé‡è¦åº”ç”¨ï¼šåˆ¤æ–­ä¸€ä¸ªå›¾æ˜¯å¦æ˜¯æœ‰å‘æ— ç¯å›¾
{
	int num = 0;//è®°å½•åŠ å…¥æ‹“æ‰‘åºåˆ—çš„é¡¶ç‚¹æ•°
	queue<int>q;
	for (int i = 0; i < n; i++)
		if (degree[i] == 0)
			q.push(i);//nä¸ºé¡¶ç‚¹æ•° å°†æ‰€æœ‰å…¥åº¦ä¸º0çš„é¡¶ç‚¹å…¥é˜Ÿ

	while (!q.empty())
	{
		int u = q.front();//å–é˜Ÿé¦–ç»“ç‚¹
		q.pop();
		for (int i = 0; i < G[u].size(); i++)
		{
			int v = G[u][i];
			degree[v]--;//é¡¶ç‚¹vçš„å…¥åº¦å‡ä¸€
			if (degree[v] == 0)
				q.push(v);//vä¸ºuçš„åç»§ç»“ç‚¹
		}

		num++;//åŠ å…¥æ‹“æ‰‘åºåˆ—çš„é¡¶ç‚¹æ•°åŠ ä¸€
	}
	if (num == n)return true;
	else//è¿”å›trueåˆ™ä¸ºæœ‰å‘æ— ç¯å›¾
		return FALSE;

}

```

# 







# æ’åºç®—æ³•

## å¸Œå°”æ’åº æ’å…¥ å½’å¹¶ å¿«é€Ÿ

ä¸€ä¸ªhæœ‰åºæ•°ç»„å³ç”±hä¸ªæœ‰åºå­æ•°ç»„ç»„æˆçš„æ•°ç»„ã€‚

-  å¿«é€Ÿæ’åºï¼šä¸€ç§åŸºäºåˆ†æ²»çš„æ’åºç®—æ³•ï¼Œå°†ä¸€ä¸ªæ•°ç»„åˆ†æˆï¼›ä¸¤ä¸ªå­æ•°ç»„ï¼Œä¸¤ä¸ªå­æ•°ç»„å•ç‹¬æ’åºï¼Œå¿«é€Ÿæ’åºå°†æ•°ç»„æ’åºçš„æ–¹å¼æ˜¯å½“ä¸¤ä¸ªå­æ•°ç»„éƒ½æœ‰åºæ—¶æ•´ä¸ªæ•°ç»„ä¹Ÿå°±è‡ªç„¶æœ‰åºäº†ã€‚
- æˆ‘ä»¬å°±æ˜¯é€šè¿‡é€’å½’åœ°è°ƒç”¨åˆ‡åˆ†æ¥æ’åºçš„ï¼Œ



## å½’å¹¶æ’åº:

```java
 //åŸåœ°å½’å¹¶çš„æŠ½è±¡æ–¹æ³•
	    public static void merge(Comparable a[],int lo,int hi,int mid)
	    {
	    	int i = lo,j = mid+1;
	    	
	    	for(int k = lo;k <= hi;k++)
	    		aux[k] = a[k];//å…ˆå°†æ‰€æœ‰å…ƒç´ å¤åˆ¶åˆ°auxä¸­ å†å½’å¹¶å›aä¸­
	    	for(int k = lo;k <= hi;k++)
	    	{
	    		if(i > mid)a[k] = aux[j++];
	    		else if(j >hi) a[k] = aux[i++];
	    		else if(less(aux[j],aux[i])) a[k] = aux[j++];
	    		else a[k] = aux[i++];
	    	}//è¿›è¡Œäº†å››ä¸ªæ¡ä»¶åˆ¤æ–­ å³:å·¦åŠè¾¹ç”¨å°½ï¼Œå³åŠè¾¹ç”¨å°½ï¼Œå³åŠè¾¹çš„å½“å‰å…ƒç´ å°äºå·¦åŠè¾¹çš„å½“å‰å…ƒç´ 
	    	//åˆ™å–å³åŠè¾¹çš„å½“å‰å…ƒç´  å·¦åŠè¾¹..å°äºå³åŠè¾¹ï¼Œåˆ™å–å·¦å½“å‰å…ƒç´ 
	    }
	    private static Comparable[]aux;//è¾…åŠ©æ•°ç»„
	    public static void sort(Comparable []a)
	    {
	    	aux = new Comparable[a.length];
	    	sort(a,0,a.length-1);
	    	
	    }
	    private static void sort(Comparable[]a,int lo,int hi)
	    {
	    	if(hi <= lo) return;
	    	int mid = lo+(hi - lo)/2;
	    	sort(a,lo,mid);
	    	sort(a,mid+1,hi);
	    	merge(a,lo,hi,mid);
	    }

```

## å½’å¹¶åº”ç”¨ï¼š[493. ç¿»è½¬å¯¹](https://leetcode-cn.com/problems/reverse-pairs/)

éš¾åº¦å›°éš¾331

ç»™å®šä¸€ä¸ªæ•°ç»„ `nums` ï¼Œå¦‚æœ `i < j` ä¸” `nums[i] > 2*nums[j]` æˆ‘ä»¬å°±å°† `(i, j)` ç§°ä½œä¸€ä¸ª***é‡è¦ç¿»è½¬å¯¹\***ã€‚

ä½ éœ€è¦è¿”å›ç»™å®šæ•°ç»„ä¸­çš„é‡è¦ç¿»è½¬å¯¹çš„æ•°é‡ã€‚

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: [1,3,2,3,1]
è¾“å‡º: 2
```

----



```java
public int reversePairs(int[] nums) {
     if(nums.length==0||nums.length==1) return 0;
     return mergesort(nums,0,nums.length-1);

    }
    public int mergesort(int[]nums,int begin,int end)
    {
        if(begin==end) return 0;
        int ret=0;
        int mid = (end+begin)/2;
        int n1 = mergesort(nums,begin,mid);
        int n2 = mergesort(nums,mid+1,end);
        int i = begin,j = mid+1;
        ret +=n1+n2;
        while(i <=mid)
        {
while( j<=end &&(long)nums[i]>2 * (long) nums[j])//æ’åºä¹‹å‰å…ˆè®¡ç®—ç¿»è½¬å¯¹
j++;
ret +=j-mid-1;
i++;
        }
        int[]sort = new int[end-begin+1];
             int p1 = begin, p2 = mid + 1;
             int index=0;
        while(p1<=mid || p2<=end )
        {
            if(p1>mid)
            {
                sort[index++] = nums[p2];
                p2++;
            }
            else if(p2 > end)
            {
sort[index++] = nums[p1];
                p1++;
            }
          else { if(nums[p1]<nums[p2])
            {
                sort[index++] = nums[p1];
                p1++;
            }
            else
           {
                sort[index++] = nums[p2];
                p2++;
           }
          }
        }
              for (int k = 0; k < sort.length; k++) {
                nums[begin + k] = sort[k];
            }
        return ret;
    }
```

## [å‰‘æŒ‡ Offer 51. æ•°ç»„ä¸­çš„é€†åºå¯¹](https://leetcode-cn.com/problems/shu-zu-zhong-de-ni-xu-dui-lcof/)

éš¾åº¦å›°éš¾620

åœ¨æ•°ç»„ä¸­çš„ä¸¤ä¸ªæ•°å­—ï¼Œå¦‚æœå‰é¢ä¸€ä¸ªæ•°å­—å¤§äºåé¢çš„æ•°å­—ï¼Œåˆ™è¿™ä¸¤ä¸ªæ•°å­—ç»„æˆä¸€ä¸ªé€†åºå¯¹ã€‚è¾“å…¥ä¸€ä¸ªæ•°ç»„ï¼Œæ±‚å‡ºè¿™ä¸ªæ•°ç»„ä¸­çš„é€†åºå¯¹çš„æ€»æ•°ã€‚

 

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: [7,5,6,4]
è¾“å‡º: 5
```

----



```java
 public int reversePairs(int[] nums) {
if(nums.length < 2) return 0;
int[]temp = new int[nums.length];
int[]copy = new int[nums.length];
System.arraycopy(nums,0,copy,0,nums.length);

return merge(copy,temp,0,nums.length-1);
    }
      private int merge(int[] nums, int[] temp,int left, int right ) {//è¿™ç§æ–¹æ³•åªéœ€è¦é€’å½’ä¸€ä¸ªå‡½æ•°
        if (left == right) {
            return 0;
        }
int ans = 0;
        int mid = left + (right - left) / 2;
        int leftPairs = merge(nums,temp, left, mid );
        int rightPairs = merge(nums,  temp,mid + 1, right);

        if (nums[mid] <= nums[mid + 1]) {//å¦‚æœå·¦è¾¹æœ€å¤§çš„å°äºç­‰äºå³è¾¹æœ€å°çš„è¯´æ˜å·¦è¾¹åˆ°å³è¾¹å·²ç»æ’å¥½äº†
            return leftPairs + rightPairs;
        }
        ans+=leftPairs+rightPairs;
           int i = left;
            int j = mid + 1;
            while (i <= mid) {
                while (j <= right && (long) nums[i] >  (long) nums[j]) {//å¦åˆ™çš„è¯è¯´æ˜æ²¡æ’å¥½ï¼Œæ¯”å¦‚å‡ºç°1ï¼Œ5ï¼Œ6 å’Œ2ï¼Œ4ï¼Œ6çš„æƒ…å†µï¼Œéœ€è¦è¿›è¡Œå½’å¹¶ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ä¼šäº§ç”Ÿn
                    j++;
                }
            ans+= j - mid - 1;
                i++;
            }
int[]sort = new int[right-left+1];
          //åœ¨è¿™é‡Œæ’åºæ²¡æœ‰é€’å½’ï¼Œè€Œæ˜¯åˆ›å»ºäº†ä¸€å…±æ–°æ•°ç»„ï¼ŒæŠŠåŸæ•°ç»„ä¸­çš„å…ƒç´ æŒ‰é¡ºåºæ”¾åˆ°sorted,å…¶ä¸­left~midå’Œmid+1~rightæ˜¯æ’å¥½åºçš„éƒ¨åˆ†,ä¹‹åæ³¨æ„å°†æ–°æ•°ç»„ä¸­çš„å…ƒç´ æ”¾å›åŸæ•°ç»„
       int[] sorted = new int[right - left + 1];
            int p1 = left, p2 = mid + 1;
            int p = 0;
            while (p1 <= mid || p2 <= right) {
                if (p1 > mid) {
                    sorted[p++] = nums[p2++];
                } else if (p2 > right) {
                    sorted[p++] = nums[p1++];
                } else {
                    if (nums[p1] < nums[p2]) {
                        sorted[p++] = nums[p1++];
                    } else {
                        sorted[p++] = nums[p2++];
                    }
                }
            }
            for (int k = 0; k < sorted.length; k++) {
                nums[left + k] = sorted[k];
            }
            return ans;
       
    }
```

## æ¡¶æ’åº

å¼•å…¥ï¼š

å‡è®¾ç­ä¸Šåªæœ‰5 ä¸ªåŒå­¦ï¼Œè¿™5 ä¸ªåŒå­¦åˆ†åˆ«è€ƒäº†5 åˆ†ã€3 åˆ†ã€
5 åˆ†ã€2 åˆ†å’Œ8 åˆ†ï¼Œç°åœ¨æƒ³ä»å°åˆ°å¤§è¿›è¡Œæ’åºï¼Œ
é¦–å…ˆæˆ‘ä»¬éœ€è¦ç”³è¯·ä¸€ä¸ªå¤§å°ä¸º11 çš„æ•°ç»„int a[11]ã€‚OKï¼Œç°åœ¨ä½ å·²ç»æœ‰äº†11 ä¸ªå˜é‡ï¼Œç¼–å·ä»a[0]-a[10]ã€‚åˆšå¼€å§‹çš„æ—¶å€™ï¼Œæˆ‘ä»¬å°†a[0]~a[10]éƒ½åˆå§‹åŒ–ä¸º0ï¼Œè¡¨ç¤ºè¿™äº›åˆ†æ•°è¿˜éƒ½æ²¡æœ‰äºº
å¾—è¿‡ã€‚ä¾‹å¦‚a[0]ç­‰äº0 å°±è¡¨ç¤ºç›®å‰è¿˜æ²¡æœ‰äººå¾—è¿‡0 åˆ†ï¼ŒåŒç†a[1]ç­‰äº0 å°±è¡¨ç¤ºç›®å‰è¿˜æ²¡æœ‰äººå¾—è¿‡1 åˆ†â€¦â€¦a[10]ç­‰äº0å°±è¡¨ç¤ºç›®å‰è¿˜æ²¡æœ‰äººå¾—è¿‡10 åˆ†
ä¸‹é¢å¼€å§‹å¤„ç†æ¯ä¸€ä¸ªäººçš„åˆ†æ•°ï¼Œç¬¬ä¸€ä¸ªäººçš„åˆ†æ•°æ˜¯5 åˆ†ï¼Œæˆ‘ä»¬å°±å°†ç›¸å¯¹åº”çš„a[5]çš„å€¼åœ¨åŸæ¥çš„åŸºç¡€å¢åŠ 1ï¼Œå³å°†a[5]çš„å€¼ä»0 æ”¹ä¸º1ï¼Œè¡¨ç¤º5åˆ†å‡ºç°è¿‡äº†ä¸€æ¬¡ï¼Œï¼Œa[0]~a[10]ä¸­çš„æ•°å€¼å…¶å®å°±æ˜¯0 åˆ†åˆ°10 åˆ†æ¯ä¸ªåˆ†æ•°å‡ºç°çš„æ¬¡æ•°ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åªéœ€è¦å°†å‡ºç°è¿‡çš„åˆ†æ•°æ‰“å°å‡ºæ¥å°±å¯ä»¥äº†ï¼Œå‡ºç°å‡ æ¬¡å°±æ‰“å°å‡ æ¬¡ï¼Œå…·ä½“å¦‚ä¸‹ã€‚

```cpp
#include <stdio.h>
int main()
{
int a[11],i,j,t;
for(i=0;i<=10;i++)
a[i]=0; //åˆå§‹åŒ–ä¸º0
for(i=1;i<=5;i++) //å¾ªç¯è¯»å…¥5ä¸ªæ•°
{
scanf("%d",&t); //æŠŠæ¯ä¸€ä¸ªæ•°è¯»åˆ°å˜é‡tä¸­
a[t]++; //è¿›è¡Œè®¡æ•°
}
for(i=0;i<=10;i++) //ä¾æ¬¡åˆ¤æ–­a[0]~a[10]
for(j=1;j<=a[i];j++) //å‡ºç°äº†å‡ æ¬¡å°±æ‰“å°å‡ æ¬¡
printf("%d ",i);
getchar();getchar();
//è¿™é‡Œçš„getchar();ç”¨æ¥æš‚åœç¨‹åºï¼Œä»¥ä¾¿æŸ¥çœ‹ç¨‹åºè¾“å‡ºçš„å†…å®¹
//ä¹Ÿå¯ä»¥ç”¨system("pause");ç­‰æ¥ä»£æ›¿
return 0;
}

```
åªéœ€è¦å°†for(i=0;i<=10;i++)æ”¹ä¸ºfor(i=10;i>=0;i--)å°±å¯ä»¥å®ç°ä»å¤§åˆ°å°æ’åºã€‚
è¿™ä¸ªç®—æ³•å°±å¥½æ¯”æœ‰11 ä¸ªæ¡¶ï¼Œç¼–å·ä»0~10ã€‚æ¯å‡ºç°ä¸€ä¸ªæ•°ï¼Œå°±åœ¨å¯¹åº”ç¼–å·çš„æ¡¶ä¸­æ”¾ä¸€ä¸ªå°æ——å­ï¼Œæœ€ååªè¦æ•°æ•°æ¯ä¸ªæ¡¶ä¸­æœ‰å‡ ä¸ªå°æ——å­å°±OK äº†ã€‚
å¦‚æœéœ€è¦å¯¹æ•°æ®èŒƒå›´åœ¨0~1000 ä¹‹é—´çš„æ•´æ•°è¿›è¡Œæ’åºï¼Œæˆ‘ä»¬éœ€è¦**1001 ä¸ªæ¡¶**ï¼Œï¼ˆä¸æ˜¯1000ä¸ªï¼‰æ¥è¡¨ç¤º0~1000ä¹‹é—´æ¯ä¸€ä¸ªæ•°å‡ºç°çš„æ¬¡æ•°ï¼Œè¿™ä¸€ç‚¹ä¸€å®šè¦æ³¨æ„ã€‚å¦å¤–ï¼Œæ­¤å¤„çš„æ¯ä¸€ä¸ªæ¡¶çš„ä½œç”¨å…¶å®å°±æ˜¯â€œæ ‡è®°â€æ¯ä¸ªæ•°å‡ºç°çš„æ¬¡æ•°ã€‚

æœ€ç»ˆæ¡¶æ’åºçš„æ—¶é—´å¤æ‚åº¦ä¸ºO(m+n)ã€‚è¿˜æœ‰ä¸€ç‚¹ï¼Œåœ¨è¡¨ç¤ºæ—¶é—´å¤æ‚åº¦çš„æ—¶å€™ï¼Œn å’Œmé€šå¸¸ç”¨å¤§å†™å­—æ¯å³O(M+N)ã€‚

ç¨åŠ æ”¹åŠ¨ï¼šç”¨æ¡¶æ’åºå»é‡

```cpp
#include <stdio.h>
int main()
{
int a[1001],n,i,t;
for(i=1;i<=1000;i++)
a[i]=0; //åˆå§‹åŒ–
scanf("%d",&n); //è¯»å…¥n
for(i=1;i<=n;i++) //å¾ªç¯è¯»å…¥nä¸ªå›¾ä¹¦çš„ISBNå·
{
scanf("%d",&t); //æŠŠæ¯ä¸€ä¸ªISBNå·è¯»åˆ°å˜é‡tä¸­
a[t]=1; //æ ‡è®°å‡ºç°è¿‡çš„ISBNå·
}
for(i=1;i<=1000;i++) //ä¾æ¬¡åˆ¤æ–­1~1000è¿™ä¸ª1000ä¸ªæ¡¶
{
if(a[i]==1)//å¦‚æœè¿™ä¸ªISBNå·å‡ºç°è¿‡åˆ™æ‰“å°å‡ºæ¥
printf("%d ",i);
}
getchar();getchar();
return 0;
}
```

æ³•2

å‡è®¾æœ‰nä¸ªå…ƒç´ mä¸ªæ¡¶ï¼Œå¦‚æœå…ƒç´ å€¼æ˜¯å¹³å‡åˆ†å¸ƒçš„ï¼Œåˆ™æ¯ä¸ªæ¡¶é‡Œé¢å¹³å‡æœ‰n/mä¸ªå…ƒç´ ï¼Œå¦‚æœå¯¹æ¯ä¸ªæ¡¶ä¸­çš„å…ƒç´ è¿›è¡Œå¿«é€Ÿæ’åºé‚£ä¹ˆæ¡¶æ’åºçš„æ—¶é—´å¤æ‚åº¦=o(n+log2n-nlog2m) å½“mæ¥è¿‘næ—¶æ¡¶æ’åºçš„æ—¶é—´å¤æ‚åº¦æ¥è¿‘o(n)
ä¸€ç§æ›´æœ‰æ•ˆçš„æ–¹æ³•æ˜¯æ±‚å‡ºaä¸­çš„æœ€å¤§å…ƒç´ maxå’Œæœ€å°å…ƒç´ min,è®¾ç½®æ¡¶ä¸ªæ•°num = (max-min+1)/10+1;ç„¶åå¯¹aæ•°ç»„ä»å¤´åˆ°å°¾æ‰«æä¸€éï¼ŒæŠŠa[i]æ”¾å…¥å¯¹åº”çš„æ¡¶B[K\](K=(a[i]-min+1)/10)å†å¯¹è¿™äº›æ¡¶è¿›è¡Œæ’åºï¼Œæœ€åä¾æ¬¡è¾“å‡ºæ¯ä¸ªæ¡¶é‡Œçš„å…ƒç´ 

```cpp
#define bsize 10 // æ¯ä¸ªæ¡¶çš„å¤§å°
typedef {
int data[bsize];//æ¡¶ä¸­æ”¾çš„å…ƒç´ 
int count;// æ¡¶ä¸­å…ƒç´ ä¸ªæ•°
}BuckType;

void BuckSort(int a[], int n)
{
int min = a[0], max = a[0];
for(int i = 0;i < n; i++)
{
if(a[i] > max)
max = a[i];
if(a[i] < min)
min = a[i]; 
}
num = (max - min +1)/10;//æ¡¶ä¸ªæ•°
BuckType* pb=(BuckType*) malloc(sizof(BuckType)*num);
memset(0, pb, sizof(BuckType) *num);
for(int i = 0;i < n; i++)
{
k = (a[i] -min +1)/bsize;//å°†açš„æ‰€æœ‰å…ƒç´ åˆ†é…åˆ°å¯¹åº”æ¡¶ä¸­
(pb+k) ->data[(pb+k)->count] = a[i];//kæ˜¯æ¡¶ç¼–å·
(pb+k)->count++;
}
int t = 0;
for(int i = 0;i < num ;i++)
{
QickSort((pb+i)->data,0,(pb+i)->count - 1);//å•ä¸ªæ¡¶å¿«é€Ÿæ’åº
for(int j = 0;j <(pb+i)->count; j++)
a[t++] = (pb+i)->data[j];

}
free(pb);//é‡Šæ”¾å†…å­˜

}
```
ä¸Šé¢çš„ç®—æ³•æ˜¯åŸºäºè¾“å…¥çš„nä¸ªå…ƒç´ å¹³å‡åˆ†å¸ƒçš„å‡è®¾ï¼Œå¦åˆ™å¦‚æœæ‰€æœ‰å…ƒç´ éƒ½è½åœ¨ä¸€ä¸ªæ¡¶ä¸­å°±é€€åŒ–æˆä¸€èˆ¬çš„æ’åºäº†ï¼Œä¸”é€‚åˆå…ƒç´ é›†å¹¶ä¸å¤§çš„æƒ…å†µ


## å‡ºç‰Œæ¸¸æˆ
å°†ä¸€å‰¯æ‰‘å…‹ç‰Œå¹³å‡åˆ†æˆä¸¤ä»½ï¼Œæ¯äººæ‹¿ä¸€ä»½ã€‚å°å“¼å…ˆæ‹¿å‡ºæ‰‹ä¸­çš„
ç¬¬ä¸€å¼ æ‰‘å…‹ç‰Œæ”¾åœ¨æ¡Œä¸Šï¼Œç„¶åå°å“ˆä¹Ÿæ‹¿å‡ºæ‰‹ä¸­çš„ç¬¬ä¸€å¼ æ‰‘å…‹ç‰Œï¼Œå¹¶æ”¾åœ¨å°å“¼åˆšæ‰“å‡ºçš„æ‰‘å…‹ç‰Œçš„ä¸Šé¢ï¼Œå°±åƒè¿™æ ·ä¸¤äººäº¤æ›¿å‡ºç‰Œã€‚å‡ºç‰Œæ—¶ï¼Œå¦‚æœæŸäººæ‰“å‡ºçš„ç‰Œä¸æ¡Œä¸ŠæŸå¼ ç‰Œçš„ç‰Œé¢ç›¸åŒï¼Œå³å¯å°†ä¸¤å¼ ç›¸åŒçš„ç‰ŒåŠå…¶ä¸­é—´æ‰€å¤¹çš„ç‰Œå…¨éƒ¨å–èµ°ï¼Œå¹¶ä¾æ¬¡æ”¾åˆ°è‡ªå·±æ‰‹ä¸­ç‰Œçš„æœ«å°¾ã€‚å½“ä»»æ„ä¸€äººæ‰‹ä¸­çš„ç‰Œå…¨éƒ¨å‡ºå®Œæ—¶ï¼Œæ¸¸æˆç»“æŸï¼Œå¯¹æ‰‹è·èƒœã€‚
å‡ºç‰Œå’Œèµ¢ç‰Œè¿™æ°å¥½å¯¹åº”é˜Ÿåˆ—çš„ä¸¤ä¸ªæ“ä½œï¼Œå‡ºç‰Œå°±æ˜¯å‡ºé˜Ÿï¼Œèµ¢ç‰Œå°±æ˜¯å…¥é˜Ÿã€‚å°å“ˆçš„æ“ä½œå’Œå°å“¼æ˜¯ä¸€æ ·çš„ã€‚è€Œæ¡Œå­å°±æ˜¯ä¸€ä¸ªæ ˆï¼Œæ¯æ‰“å‡ºä¸€å¼ ç‰Œæ”¾åˆ°æ¡Œä¸Šå°±ç›¸å½“äºå…¥æ ˆã€‚å½“æœ‰äººèµ¢ç‰Œçš„æ—¶å€™ï¼Œä¾æ¬¡å°†ç‰Œä»æ¡Œä¸Šæ‹¿èµ°ï¼Œè¿™å°±ç›¸å½“äºå‡ºæ ˆã€‚é‚£å¦‚ä½•è§£å†³èµ¢ç‰Œçš„é—®é¢˜å‘¢ï¼Ÿèµ¢ç‰Œçš„è§„åˆ™æ˜¯ï¼šå¦‚æœæŸäººæ‰“å‡ºçš„ç‰Œä¸æ¡Œ
ä¸Šçš„æŸå¼ ç‰Œç›¸åŒï¼Œå³å¯å°†ä¸¤å¼ ç‰Œä»¥åŠä¸­é—´æ‰€å¤¹çš„ç‰Œå…¨éƒ¨å–èµ°ã€‚é‚£å¦‚ä½•çŸ¥é“æ¡Œä¸Šå·²ç»æœ‰å“ªäº›ç‰Œäº†å‘¢ï¼Ÿæœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯æšä¸¾æ¡Œä¸Šçš„æ¯ä¸€å¼ ç‰Œï¼Œå½“ç„¶ä¹Ÿæœ‰æ›´å¥½çš„åŠæ³•ï¼šæ˜¯ç”¨ä¸€ä¸ªæ•°ç»„æ¥è®°å½•æ¡Œä¸Šæœ‰å“ªäº›ç‰Œã€‚å› ä¸ºç‰Œé¢åªæœ‰1~9ï¼Œå› æ­¤åªéœ€å¼€ä¸€ä¸ªå¤§å°ä¸º10 çš„æ•°ç»„æ¥è®°å½•å½“å‰æ¡Œä¸Šå·²ç»æœ‰å“ªäº›ç‰Œé¢å°±å¯ä»¥äº†ã€‚
åˆå§‹åŒ–æ—¶
for(i=1;i<=9;i++)
book[i]=0;
å¦‚æœæ¡Œé¢ä¸Šå¢åŠ äº†ä¸€å¼ ç‰Œé¢ä¸º2 çš„ç‰Œï¼Œé‚£å°±éœ€è¦å°†book[2]è®¾ç½®ä¸º1ï¼Œè¡¨ç¤ºç‰Œé¢ä¸º2 çš„ç‰Œæ¡Œä¸Šå·²ç»æœ‰äº†ã€‚å½“ç„¶å¦‚æœè¿™å¼ ç‰Œé¢ä¸º2 çš„ç‰Œè¢«æ‹¿èµ°åï¼Œéœ€è¦åŠæ—¶å°†book[2]é‡æ–°è®¾ç½®ä¸º0ï¼Œè¡¨ç¤ºæ¡Œé¢ä¸Šå·²ç»æ²¡æœ‰ç‰Œé¢ä¸º2 çš„ç‰Œäº†ã€‚

```cpp
struct card{
int tail;
int head;//é˜Ÿå¤´å’Œé˜Ÿå°¾ç”¨æ¥å…¥é˜Ÿå’Œå‡ºé˜Ÿ
int num[100];
};

struct tablecard {
  int data[10];
  int top;
};


    int main() 
{
     int marked[10] = {0};
struct card c1,c2;
struct tablecard tb;
c1.tail = c1.head = 1;
c2.head = c2.tail = 1;

for(int i = 0;i < 6;i++){
  //6ä»£è¡¨ä¸€å¼€å§‹æ¯ä¸ªäººæ‰‹ä¸Šå…­å¼ ç‰Œ
  cin>>c1.num[c1.tail];
  c1.tail++;
}
for(int i = 0;i < 6;i++){
  //6ä»£è¡¨ä¸€å¼€å§‹æ¯ä¸ªäººæ‰‹ä¸Šå…­å¼ ç‰Œ
  cin>>c2.num[c2.tail];
  c2.tail++;
}
for(int i = 0;i < 10; i++)
marked[i] = 0;
tb.top = 0;
int t;
while(c1.head < c1.tail && c2.head < c2.tail)
{
 
t = c1.num[c1.head];


c1.head++;
if(marked[t]) 
{
 
  c1.num[c1.tail] = t;
   c1.tail++;
  while(tb.data[tb.top] != t)
  {
    c1.num[c1.tail++] = tb.data[tb.top];
    marked[tb.data[tb.top]] = 0;//!!!!æ³¨æ„ï¼Œè¦è®°å¾—å–æ¶ˆæ ‡è®°
    tb.top--;
  }
}
else {
  
  marked[t]  = 1;
tb.top++;
tb.data[tb.top] = t;
}



t = c2.num[c2.head];


c2.head++;
if(marked[t]) 
{

  c2.num[c2.tail] = t;
    c2.tail++;
  while(tb.data[tb.top] != t)
  {

    c2.num[c2.tail++] = tb.data[tb.top];
    marked[tb.data[tb.top]] = 0;//!!!!æ³¨æ„ï¼Œè¦è®°å¾—å–æ¶ˆæ ‡è®°
    tb.top--;
  }
}
else {
  marked[t]  = 1;
tb.top++;
tb.data[tb.top] = t;
}

}
if(c1.head != c1.tail)
{cout<<"å°æ˜ï¼";
for(int i = c1.head;i!=c1.tail; i++)
cout<<c1.num[i];
}
if(c2.head != c2.tail)
{
  cout<<"å°ç‹ï¼";
  for(int i = c2.head;i!=c2.tail; i++)
cout<<c1.num[i];
}
}
 

```

## å¿«é€Ÿæ’åºï¼š

```java
  public static void sort(Comparable[]a)
	    {
	    	sort(a,0,a.length-1);
	    }
	    public static void sort(Comparable[]a,int lo,int hi)
	    {
	    	if(lo >= hi) return;
	    	int j = partion(a,lo,hi);
	    	sort(a,lo,j-1);//å·¦åŠéƒ¨åˆ†æ’åº
	    	sort(a,j+1,hi);//å³åŠéƒ¨åˆ†æ’åº
	    }
	    
	    //å¿«é€Ÿæ’åºçš„åˆ‡åˆ†
	   public static int partion(Comparable[]a,int lo,int hi)
	   {
		   Comparable v = a[lo];
		   int i = lo,j = hi+1;
		   //æ•°ç»„åˆ‡åˆ†ä¸ºa[lo,...j-1] a[j] a[j+1,...hi]
		   while(true) {
	
		   while(less(a[++i],v)) if(i == hi) break;
		   while(less(v,a[--j] )) if(j == lo) break;
		   if(i>=j) break;
		   exch(a,i,j);
		   }
		   exch(a,lo,j);//å°†v=a[j]æ”¾åœ¨æ­£ç¡®çš„ä½ç½®
		   return j;//a[lo...j-1]<= a[j]<=[aj+1,...hoi]å®ç°
		   //è°ƒè¯•äº†ä¸€ä¸‹å°†iæ¢æˆjç»“æœä¹Ÿæ˜¯ä¸€æ ·çš„
	   }

	    
```

å…ˆç”¨partionæ–¹æ³•å°†a[j]æ”¾åœ¨ä¸€ä¸ªåˆé€‚çš„ä½ç½®ï¼Œç„¶åé€’å½’è°ƒç”¨å°†å…¶ä»–ä½ç½®çš„å…ƒç´ æ’åºï¼Œä¸€èˆ¬æ˜¯å…ˆéšæ„å–a[lo]ä½œä¸ºåˆ‡åˆ†å…ƒç´ ï¼Œç„¶åä»æ•°ç»„å·¦ç«¯å‘å³ç«¯ç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªå¤§äºç­‰äºå®ƒçš„å…ƒç´ ï¼Œå†ä»å³ç«¯å¼€å§‹å‘å·¦æ‰«æç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªå°äºç­‰äºå®ƒçš„å…ƒç´ 

å½“ä¸¤æŒ‡é’ˆç›¸é‡æ—¶ï¼Œåªéœ€è¦å°†åˆ‡åˆ†å…ƒç´ a[lo]å’Œå·¦å­æ•°ç»„æœ€å³ä¾§å…ƒç´ a[j]äº¤æ¢ç„¶åè¿”å›j

æµ‹è¯•æ¡ä»¶j==loæ˜¯å†—ä½™çš„ï¼Œå› ä¸ºåˆ‡åˆ†å…ƒç´ å°±æ˜¯a[lo],å®ƒä¸å¯èƒ½æ¯”è‡ªå·±å°ã€‚

å½’å¹¶æ’åºå’Œå¸Œå°”æ’åºä¸€èˆ¬æ¯”å¿«é€Ÿæ’åºæ…¢ã€‚

æ–¹æ³•å…¶å®å¾ˆç®€å•ï¼šåˆ†åˆ«ä»åˆå§‹åºåˆ—â€œ6  1  2 7  9  3  4  5 10  8â€ä¸¤ç«¯å¼€å§‹â€œæ¢æµ‹â€ã€‚å…ˆä»å³å¾€å·¦æ‰¾ä¸€ä¸ªå°äº6çš„æ•°ï¼Œå†ä»å·¦å¾€å³æ‰¾ä¸€ä¸ªå¤§äº6çš„æ•°ï¼Œç„¶åäº¤æ¢ä»–ä»¬ã€‚è¿™é‡Œå¯ä»¥ç”¨ä¸¤ä¸ªå˜é‡iå’Œjï¼Œåˆ†åˆ«æŒ‡å‘åºåˆ—æœ€å·¦è¾¹å’Œæœ€å³è¾¹ã€‚æˆ‘ä»¬ä¸ºè¿™ä¸¤ä¸ªå˜é‡èµ·ä¸ªå¥½å¬çš„åå­—â€œå“¨å…µiâ€å’Œâ€œå“¨å…µjâ€ã€‚åˆšå¼€å§‹çš„æ—¶å€™è®©å“¨å…µiæŒ‡å‘åºåˆ—çš„æœ€å·¦è¾¹ï¼ˆå³i=1ï¼‰ï¼ŒæŒ‡å‘æ•°å­—6ã€‚è®©å“¨å…µjæŒ‡å‘åºåˆ—çš„æœ€å³è¾¹ï¼ˆå³=10ï¼‰ï¼ŒæŒ‡å‘æ•°å­—ã€‚

![094811yilrz1tkzkvlrriz.png](http://s9.51cto.com/wyfs02/M00/1A/00/wKioL1MUSNWg3HhPAAAfgmnJY0E832.jpg-wh_651x-s_2122757912.jpg)

 

é¦–å…ˆå“¨å…µjå¼€å§‹å‡ºåŠ¨ã€‚å› ä¸ºæ­¤å¤„è®¾ç½®çš„åŸºå‡†æ•°æ˜¯æœ€å·¦è¾¹çš„æ•°ï¼Œæ‰€ä»¥éœ€è¦è®©å“¨å…µjå…ˆå‡ºåŠ¨ï¼Œè¿™ä¸€ç‚¹éå¸¸é‡è¦ï¼ˆä¸Šé¢ç•™ä¸‹æ¥äº†ä¸€ä¸ªé—®é¢˜ä¸ºä»€ä¹ˆä¸€å®šè¦jæŒ‡é’ˆå…ˆåŠ¨å‘¢ï¼Ÿé¦–å…ˆè¿™ä¹Ÿä¸æ˜¯ç»å¯¹çš„ï¼Œè¿™å–å†³äºåŸºå‡†æ•°çš„ä½ç½®ï¼Œå› ä¸ºåœ¨æœ€åä¸¤ä¸ªæŒ‡é’ˆç›¸é‡çš„æ—¶å€™ï¼Œè¦äº¤æ¢åŸºå‡†æ•°åˆ°ç›¸é‡çš„ä½ç½®ã€‚ä¸€èˆ¬é€‰å–ç¬¬ä¸€ä¸ªæ•°ä½œä¸ºåŸºå‡†æ•°ï¼Œé‚£ä¹ˆå°±æ˜¯åœ¨å·¦è¾¹ï¼Œæ‰€ä»¥æœ€åç›¸é‡çš„æ•°è¦å’ŒåŸºå‡†æ•°äº¤æ¢ï¼Œé‚£ä¹ˆç›¸é‡çš„æ•°ä¸€å®šè¦æ¯”åŸºå‡†æ•°å°ã€‚æ‰€ä»¥jæŒ‡é’ˆå…ˆç§»åŠ¨æ‰èƒ½å…ˆæ‰¾åˆ°æ¯”åŸºå‡†æ•°å°çš„æ•°ã€‚ï¼‰ã€‚å“¨å…µjä¸€æ­¥ä¸€æ­¥åœ°å‘å·¦æŒªåŠ¨ï¼ˆå³j--ï¼‰ï¼Œç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªå°äº6çš„æ•°åœä¸‹æ¥ã€‚æ¥ä¸‹æ¥å“¨å…µiå†ä¸€æ­¥ä¸€æ­¥å‘å³æŒªåŠ¨ï¼ˆå³i++ï¼‰ï¼Œç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªæ•°å¤§äº6çš„æ•°åœä¸‹æ¥ã€‚æœ€åå“¨å…µjåœåœ¨äº†æ•°å­—5é¢å‰ï¼Œå“¨å…µiåœåœ¨äº†æ•°å­—7é¢å‰ã€‚

![095430axy0qkhxxkktkktk.png](http://s3.51cto.com/wyfs02/M00/1A/00/wKioL1MUSNbjWRw9AAAfljx73DY807.jpg)

![095437kdandfxhbtokk2qh.png](http://s9.51cto.com/wyfs02/M00/19/FF/wKiom1MUSP7gBX4VAAAaPLt4QB0783.jpg)

ç°åœ¨äº¤æ¢å“¨å…µiå’Œå“¨å…µjæ‰€æŒ‡å‘çš„å…ƒç´ çš„å€¼ã€‚äº¤æ¢ä¹‹åçš„åºåˆ—å¦‚ä¸‹ï¼š

6  1  2  5 9 3  4  7 10  8

![095448k1kevwlz41373e7k.png](http://s7.51cto.com/wyfs02/M00/19/FF/wKiom1MUSQCzWy0UAAAe9Ihqgcs108.jpg)

![095458ejza15wscjv7iw5c.png](http://s7.51cto.com/wyfs02/M01/19/FF/wKiom1MUSQOCyGOFAAAbW4sRFRs031.jpg)

åˆ°æ­¤ï¼Œç¬¬ä¸€æ¬¡äº¤æ¢ç»“æŸã€‚æ¥ä¸‹æ¥å¼€å§‹å“¨å…µjç»§ç»­å‘å·¦æŒªåŠ¨ï¼ˆå†å‹æƒ…æé†’ï¼Œæ¯æ¬¡å¿…é¡»æ˜¯å“¨å…µjå…ˆå‡ºå‘ï¼‰ã€‚ä»–å‘ç°äº†4ï¼ˆæ¯”åŸºå‡†æ•°6è¦å°ï¼Œæ»¡è¶³è¦æ±‚ï¼‰ä¹‹ååœäº†ä¸‹æ¥ã€‚å“¨å…µiä¹Ÿç»§ç»­å‘å³æŒªåŠ¨çš„ï¼Œä»–å‘ç°äº†9ï¼ˆæ¯”åŸºå‡†æ•°6è¦å¤§ï¼Œæ»¡è¶³è¦æ±‚ï¼‰ä¹‹ååœäº†ä¸‹æ¥ã€‚æ­¤æ—¶å†æ¬¡è¿›è¡Œäº¤æ¢ï¼Œäº¤æ¢ä¹‹åçš„åºåˆ—å¦‚ä¸‹ï¼š

6  1  2 5  4 3  9 7 10  8

ç¬¬äºŒæ¬¡äº¤æ¢ç»“æŸï¼Œâ€œæ¢æµ‹â€ç»§ç»­ã€‚å“¨å…µjç»§ç»­å‘å·¦æŒªåŠ¨ï¼Œä»–å‘ç°äº†3ï¼ˆæ¯”åŸºå‡†æ•°6è¦å°ï¼Œæ»¡è¶³è¦æ±‚ï¼‰ä¹‹ååˆåœäº†ä¸‹æ¥ã€‚å“¨å…µiç»§ç»­å‘å³ç§»åŠ¨ï¼Œç³Ÿå•¦ï¼æ­¤æ—¶å“¨å…µiå’Œå“¨å…µjç›¸é‡äº†ï¼Œå“¨å…µiå’Œå“¨å…µjéƒ½èµ°åˆ°3é¢å‰ã€‚è¯´æ˜æ­¤æ—¶â€œæ¢æµ‹â€ç»“æŸã€‚æˆ‘ä»¬å°†åŸºå‡†æ•°6å’Œ3è¿›è¡Œäº¤æ¢ã€‚äº¤æ¢ä¹‹åçš„åºåˆ—å¦‚ä¸‹ï¼š

3 1 2  5  4  6 9 7  10  8

![095506uz7e1uuukcblhkxv.png](http://s2.51cto.com/wyfs02/M01/19/FF/wKiom1MUSQWiPameAAAawpa4u98529.jpg)

![095514cag5fumuqqg5jnsw.png](http://s3.51cto.com/wyfs02/M02/19/FF/wKiom1MUSQizZS4AAAAg4BoYKU8539.jpg)

![095530e0jf6p0y6aaaw2ir.png](http://s3.51cto.com/wyfs02/M00/19/FF/wKiom1MUSQqSkSkpAAAchtx6GUg755.jpg)

åˆ°æ­¤ç¬¬ä¸€è½®â€œæ¢æµ‹â€çœŸæ­£ç»“æŸã€‚æ­¤æ—¶ä»¥åŸºå‡†æ•°6ä¸ºåˆ†ç•Œç‚¹ï¼Œ6å·¦è¾¹çš„æ•°éƒ½å°äºç­‰äº6ï¼Œ6å³è¾¹çš„æ•°éƒ½å¤§äºç­‰äº6ã€‚å›é¡¾ä¸€ä¸‹åˆšæ‰çš„è¿‡ç¨‹ï¼Œå…¶å®å“¨å…µjçš„ä½¿å‘½å°±æ˜¯è¦æ‰¾å°äºåŸºå‡†æ•°çš„æ•°ï¼Œè€Œå“¨å…µiçš„ä½¿å‘½å°±æ˜¯è¦æ‰¾å¤§äºåŸºå‡†æ•°çš„æ•°ï¼Œç›´åˆ°iå’Œjç¢°å¤´ä¸ºæ­¢ã€‚

### ä¸‰åˆ†åˆ‡å‘çš„å¿«é€Ÿæ’åº(ç®—æ³• P201)

```java
public static void sort(Comparable[]a,int lo,int hi)
	    {

			   if(hi<=lo) return;
			   Comparable v = a[lo];
			   int i = lo +1,lt = lo,gt = hi;
			   while(i <= gt)
			   {
				   int cmp = a[i].compareTo(v);
				   if(cmp < 0) exch(a,lt++,i++);
				   else if(cmp > 0) exch(a,i,gt--);
				   else i++;
			   }
			   sort(a,lo,lt-1);
			   sort(a,gt+1,hi);
	    }
```

![image-20201216152111279](C:\Users\14172\AppData\Roaming\Typora\typora-user-images\image-20201216152111279.png)



## æ¨¡ä»¿äºŒåˆ†æŸ¥æ‰¾è®¾è®¡ä¸€ä¸ªä¸‰åˆ†æŸ¥æ‰¾

```java
int Search(T a[],int low,int high,T X){
    if(low > high)
return -1;
    else if(low == high) {
        if(a[low] == x) return low;
        else
            return -1;
    }
    if(high -low<2){
        if(x==a[low]) return low;
        else if(x == a[low+1]) return low+1;
        else return -1;
    }
    int length = (high - low+1)/3;//æ¯ä¸ªå­åºåˆ—çš„é•¿åº¦
    int mid1 = low+length;
    int mid2 = high -length;
    if(x == a[mid1]) return mid1;
    else if(x < a[mid1])
        return Search(a,low,mid-1,x);
    else if(x == a[mid2]) return mid2;
else if(x < a[mid2]) return Search(a,mid1+1,mid2-1,x);
    else return Search(a,mid2+1,high,x);
}
```

## å †æ’åº

```java
//æ„å»ºå¤§æ ¹å †ï¼šå°†arrayçœ‹æˆå®Œå…¨äºŒå‰æ ‘çš„é¡ºåºå­˜å‚¨ç»“æ„
 2     private int[] buildMaxHeap(int[] array){
 3         //ä»æœ€åä¸€ä¸ªèŠ‚ç‚¹array.length-1çš„çˆ¶èŠ‚ç‚¹ï¼ˆarray.length-1-1ï¼‰/2å¼€å§‹ï¼Œç›´åˆ°æ ¹èŠ‚ç‚¹0ï¼Œåå¤è°ƒæ•´å †
 4         for(int i=(array.length-2)/2;i>=0;i--){ 
 5             adjustDownToUp(array, i,array.length);
 6         }
 7         return array;
 8     }
 9     
10     //å°†å…ƒç´ array[k]è‡ªä¸‹å¾€ä¸Šé€æ­¥è°ƒæ•´æ ‘å½¢ç»“æ„
11     private void adjustDownToUp(int[] array,int k,int length){
12         int temp = array[k];   
13         for(int i=2*k+1; i<length-1; i=2*i+1){    //iä¸ºåˆå§‹åŒ–ä¸ºèŠ‚ç‚¹kçš„å·¦å­©å­ï¼Œæ²¿èŠ‚ç‚¹è¾ƒå¤§çš„å­èŠ‚ç‚¹å‘ä¸‹è°ƒæ•´
14             if(i<length && array[i]<array[i+1]){  //å–èŠ‚ç‚¹è¾ƒå¤§çš„å­èŠ‚ç‚¹çš„ä¸‹æ ‡
15                 i++;   //å¦‚æœèŠ‚ç‚¹çš„å³å­©å­>å·¦å­©å­ï¼Œåˆ™å–å³å­©å­èŠ‚ç‚¹çš„ä¸‹æ ‡
16             }
17             if(temp>=array[i]){  //æ ¹èŠ‚ç‚¹ >=å·¦å³å­å¥³ä¸­å…³é”®å­—è¾ƒå¤§è€…ï¼Œè°ƒæ•´ç»“æŸ
18                 break;
19             }else{   //æ ¹èŠ‚ç‚¹ <å·¦å³å­å¥³ä¸­å…³é”®å­—è¾ƒå¤§è€…
20                 array[k] = array[i];  //å°†å·¦å³å­ç»“ç‚¹ä¸­è¾ƒå¤§å€¼array[i]è°ƒæ•´åˆ°åŒäº²èŠ‚ç‚¹ä¸Š
21                 k = i; //ã€å…³é”®ã€‘ä¿®æ”¹kå€¼ï¼Œä»¥ä¾¿ç»§ç»­å‘ä¸‹è°ƒæ•´
22             }
23         }
24         array[k] = temp;  //è¢«è°ƒæ•´çš„ç»“ç‚¹çš„å€¼æ”¾äººæœ€ç»ˆä½ç½®
25     }    
 1     //å †æ’åº
 2     public int[] heapSort(int[] array){
 3         array = buildMaxHeap(array); //åˆå§‹å»ºå †ï¼Œarray[0]ä¸ºç¬¬ä¸€è¶Ÿå€¼æœ€å¤§çš„å…ƒç´ 
 4         for(int i=array.length-1;i>1;i--){  
 5             int temp = array[0];  //å°†å †é¡¶å…ƒç´ å’Œå †ä½å…ƒç´ äº¤æ¢ï¼Œå³å¾—åˆ°å½“å‰æœ€å¤§å…ƒç´ æ­£ç¡®çš„æ’åºä½ç½®
 6             array[0] = array[i];
 7             array[i] = temp;
 8             adjustDownToUp(array, 0,i);  //æ•´ç†ï¼Œå°†å‰©ä½™çš„å…ƒç´ æ•´ç†æˆå †
 9         }
10         return array;
11     }
```

## [969. ç…é¥¼æ’åº](https://leetcode.cn/problems/pancake-sorting/)

éš¾åº¦ä¸­ç­‰286

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `arr` ï¼Œè¯·ä½¿ç”¨ **ç…é¥¼ç¿»è½¬** å®Œæˆå¯¹æ•°ç»„çš„æ’åºã€‚

ä¸€æ¬¡ç…é¥¼ç¿»è½¬çš„æ‰§è¡Œè¿‡ç¨‹å¦‚ä¸‹ï¼š

- é€‰æ‹©ä¸€ä¸ªæ•´æ•° `k` ï¼Œ`1 <= k <= arr.length`
- åè½¬å­æ•°ç»„ `arr[0...k-1]`ï¼ˆ**ä¸‹æ ‡ä» 0 å¼€å§‹**ï¼‰

ä¾‹å¦‚ï¼Œ`arr = [3,2,1,4]` ï¼Œé€‰æ‹© `k = 3` è¿›è¡Œä¸€æ¬¡ç…é¥¼ç¿»è½¬ï¼Œåè½¬å­æ•°ç»„ `[3,2,1]` ï¼Œå¾—åˆ° `arr = [**1**,**2**,**3**,4]` ã€‚

ä»¥æ•°ç»„å½¢å¼è¿”å›èƒ½ä½¿ `arr` æœ‰åºçš„ç…é¥¼ç¿»è½¬æ“ä½œæ‰€å¯¹åº”çš„ `k` å€¼åºåˆ—ã€‚ä»»ä½•å°†æ•°ç»„æ’åºä¸”ç¿»è½¬æ¬¡æ•°åœ¨ `10 * arr.length` èŒƒå›´å†…çš„æœ‰æ•ˆç­”æ¡ˆéƒ½å°†è¢«åˆ¤æ–­ä¸ºæ­£ç¡®ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼š[3,2,4,1]
è¾“å‡ºï¼š[4,2,4,3]
è§£é‡Šï¼š
æˆ‘ä»¬æ‰§è¡Œ 4 æ¬¡ç…é¥¼ç¿»è½¬ï¼Œk å€¼åˆ†åˆ«ä¸º 4ï¼Œ2ï¼Œ4ï¼Œå’Œ 3ã€‚
åˆå§‹çŠ¶æ€ arr = [3, 2, 4, 1]
ç¬¬ä¸€æ¬¡ç¿»è½¬åï¼ˆk = 4ï¼‰ï¼šarr = [1, 4, 2, 3]
ç¬¬äºŒæ¬¡ç¿»è½¬åï¼ˆk = 2ï¼‰ï¼šarr = [4, 1, 2, 3]
ç¬¬ä¸‰æ¬¡ç¿»è½¬åï¼ˆk = 4ï¼‰ï¼šarr = [3, 2, 1, 4]
ç¬¬å››æ¬¡ç¿»è½¬åï¼ˆk = 3ï¼‰ï¼šarr = [1, 2, 3, 4]ï¼Œæ­¤æ—¶å·²å®Œæˆæ’åºã€‚ 
```

-----------------------------

![image-20230120201808171](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230120201808171.png)

æ€è·¯ï¼šç…é¥¼æ’åºæ¯æ‘Šä¸€æ¬¡ï¼Œå°±ä¼šæœ‰ä¸€ä¸ªæ•°è¢«æ’å¥½åºã€‚æ¯”è¾ƒå®¹æ˜“æƒ³åˆ°çš„ç­–ç•¥æ˜¯ä½¿å¾—è¿™ä¸ªæ•°è¦ä¹ˆæ˜¯åœ¨ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œè¦ä¹ˆæ˜¯åœ¨æœ¬æ¬¡è¢«æ‘Šçš„æœ€åä¸€ä¸ªå…ƒç´ ã€‚å¦‚æœé€‰æ‹©ç¬¬ä¸€ä¸ªå…ƒç´ è¢«æ’å¥½åºï¼Œé‚£ä¹ˆåœ¨ä¸‹æ¬¡æ‘Šçš„æ—¶å€™ä¼šè¢«ç¿»è½¬ç¿»æ‰ï¼Œå› æ­¤æƒ³åˆ°é€‰æ‹©æœ¬æ¬¡è¢«æ‘Šçš„æœ€åä¸€ä¸ªå…ƒç´ ï¼Œå°†å…¶ç§»åˆ°æ•°ç»„æœ€åã€‚æ‰€ä»¥ç­–ç•¥å°±æ˜¯æ¯æ¬¡éƒ½æ‰¾åˆ°æœ€å¤§çš„é‚£ä¸ªå…ƒç´ ï¼Œç„¶åæ”¾åˆ°æœ€åä¸€ä¸ªä½ç½®å³å¯

```java
 public List<Integer> pancakeSort(int[] arr) {
  List<Integer> ret = new ArrayList<Integer>();
        for (int n = arr.length; n > 1; n--) {
            int index = 0;
            for (int i = 1; i < n; i++) {
                if (arr[i] >= arr[index]) {
                    index = i;
                }
            }
            if (index == n - 1) {
                continue;
            }
            reverse(arr, index);
            reverse(arr, n - 1);
            ret.add(index + 1);
            ret.add(n);
        }
        return ret;
    }

    public void reverse(int[] arr, int end) {
        for (int i = 0, j = end; i < j; i++, j--) {
            int temp = arr[i];
            arr[i] = arr[j];
            arr[j] = temp;
        }
    }
```



# åŸåœ°å“ˆå¸Œ

## [41. ç¼ºå¤±çš„ç¬¬ä¸€ä¸ªæ­£æ•°]

ç»™ä½ ä¸€ä¸ªæœªæ’åºçš„æ•´æ•°æ•°ç»„ nums ï¼Œè¯·ä½ æ‰¾å‡ºå…¶ä¸­æ²¡æœ‰å‡ºç°çš„æœ€å°çš„æ­£æ•´æ•°ã€‚

è¯·ä½ å®ç°æ—¶é—´å¤æ‚åº¦ä¸º O(n) å¹¶ä¸”åªä½¿ç”¨å¸¸æ•°çº§åˆ«é¢å¤–ç©ºé—´çš„è§£å†³æ–¹æ¡ˆã€‚


ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼šnums = [1,2,0]
è¾“å‡ºï¼š3
ç¤ºä¾‹ 2ï¼š

è¾“å…¥ï¼šnums = [3,4,-1,1]
è¾“å‡ºï¼š2

----

![image-20220208122115128](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220208122115128.png)



é¦–å…ˆæƒ³åˆ°çš„æ˜¯åˆ©ç”¨å“ˆå¸Œè¡¨æ¥å­˜å‚¨æ•°ç»„ä¸­çš„å…ƒç´ ï¼Œç„¶åä»`1`å¼€å§‹éå†æ•´æ•°ï¼Œä¸åœ¨å“ˆå¸Œè¡¨ä¸­çš„ç¬¬ä¸€ä¸ªæ•°å­—ä¾¿æ˜¯æˆ‘ä»¬çš„è§£ã€‚æˆ‘ä»¬çŸ¥é“äº†è¦ä» `1` å¼€å§‹éå†ï¼Œé‚£éå†åˆ°ä»€ä¹ˆå€¼ä¸ºæ­¢å‘¢ï¼Ÿ
 è®¾æ•°ç»„çš„é•¿åº¦ä¸º `n`ï¼Œå¦‚æœæ•°ç»„ä¸­çš„å…ƒç´ æ­£å¥½ä¸º `[1, â€¦, n]` ï¼Œåˆ™ç¼ºå¤±çš„å…ƒç´ ä¸º `n+1`ï¼›å¦‚æœæ•°ç»„ä¸­æœ‰é `[1, â€¦, n]` çš„æ•°å­—å‘¢ï¼Ÿåˆ™å®ƒä»¬å ç”¨çš„ä½ç½®å°±æ˜¯ `[1, â€¦, n]` ä¸­ç¼ºå¤±çš„é‚£äº›æ•°å­—çš„ä½ç½®ã€‚æ‰€ä»¥æˆ‘ä»¬è¦æ‰¾çš„æ•°å­—ä¸€å®šæ˜¯åœ¨ `[1, â€¦, n+1]` ä¹‹é—´ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦éå†çš„æœ€å¤§å€¼ä¸º `n+1`ã€‚
 é¢˜ç›®è¦æ±‚ä½¿ç”¨å¸¸æ•°çº§åˆ«çš„é¢å¤–ç©ºé—´ï¼Œè€Œæˆ‘ä»¬ä½¿ç”¨å“ˆå¸Œè¡¨æ¥å­˜å‚¨æ•°å­—ï¼Œç©ºé—´å¤æ‚åº¦ä¸º `O(n)`ï¼Œä¸æ»¡è¶³è¦æ±‚ã€‚åŸºäºæ­¤ï¼Œæˆ‘ä»¬å°è¯•å°†åŸæ•°ç»„æ”¹é€ æˆå“ˆå¸Œè¡¨(éœ€è¦ä¿®æ”¹åŸæ•°ç»„ï¼Œæ‰€ä»¥é¢˜ç›®ä¸èƒ½è¦æ±‚è¯´ä¸èƒ½ä¿®æ”¹åŸæ•°ç»„)ï¼Œè¿™æ ·ä¸ä½¿ç”¨é¢å¤–çš„ç©ºé—´ã€‚

æˆ‘ä»¬å¯¹æ•°ç»„è¿›è¡Œéå†ï¼Œå¯¹äºéå†åˆ°çš„å€¼ `num`ï¼Œå¦‚æœå®ƒçš„å€¼åœ¨ `[1, n]` ä¹‹é—´ï¼Œé‚£ä¹ˆå°±å°†æ•°ç»„ä¸­ç´¢å¼•ä¸º `num-1` çš„æ•°å­—æ‰“ä¸Šæ ‡è®°ï¼Œåœ¨éå†ç»“æŸåï¼Œå¦‚æœæ‰€æœ‰ä½ç½®éƒ½è¢«æ‰“ä¸Šäº†æ ‡è®°ï¼Œåˆ™ç­”æ¡ˆä¸º `n+1`ï¼Œå¦åˆ™ä¸ºæœ€å°çš„æ²¡æœ‰æ‰“ä¸Šæ ‡è®°çš„ä½ç½®åŠ  `1`ã€‚
 ç”±äºæˆ‘ä»¬åªåœ¨æ„ `[1, n]` ä¸­çš„æ•°å­—ï¼Œæ‰€ä»¥å¯ä»¥å°†å…¶ä»–æ•°å­—åšç»Ÿä¸€ä¿®æ”¹ï¼Œæ¯”å¦‚æ”¹ä¸º `n+1`ï¼Œè¿™æ ·æ•°ç»„ä¸­çš„æ•°å­—éƒ½ä¸ºæ­£æ•´æ•°ï¼Œä¹Ÿæ–¹ä¾¿äº†æˆ‘ä»¬ä½¿ç”¨æ•°ç»„ä¸­çš„å…ƒç´ ä½œä¸ºç´¢å¼•æ¥ç”¨ã€‚

![image-20230117193058540](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230117193058540.png)

```java
  public int firstMissingPositive(int[] nums) {
int len=nums.length;
for(int i=0;i<len;i++)
{if(nums[i]<=0) nums[i]=len+1;

}
for(int i=0;i<len;i++)
{
    int number=Math.abs(nums[i]);
    if(number<=len)nums[number-1] =-Math.abs(nums[number - 1]);//å¦‚æœ2å‡ºç°äº†ï¼Œä¿®æ”¹nums[1] å¦‚æœ1å‡ºç°äº† ä¿®æ”¹nums[0] æœ€å¤§æœªå‡ºç°çš„æ­£æ•°ä¹Ÿåªæœ‰n+1
}
for(int i=0;i<len;i++)
{
    if(nums[i]>0) return i+1;
}

return len+1;
    }
```

æ–¹æ³•2ï¼šç½®æ¢ å°†1æ”¾åœ¨0ä½ç½®ï¼Œ2æ”¾åœ¨1ä½ç½®

![image-20230220000745076](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230220000745076.png)

```java
public int firstMissingPositive(int[] nums) {
        int n = nums.length;
        for (int i = 0; i < n; ++i) {
            //ç›®çš„æ˜¯æŠŠnums[i]æ”¾åœ¨nums[nums[i]-1]çš„ä½ç½® 
            while (nums[i] > 0 && nums[i] <= n && nums[nums[i] - 1] != nums[i]) {
                int temp = nums[nums[i] - 1];
                nums[nums[i] - 1] = nums[i];
                nums[i] = temp;
            }
        }
        for (int i = 0; i < n; ++i) {
            if (nums[i] != i + 1) {
                return i + 1;
            }
        }
        return n + 1;
    }


```



## ç¬¬kä¸ªç¼ºå¤±çš„æ­£æ•°

ç»™å‡ºä¸€ä¸ªæœ‰åºæ•°ç»„ `A`ï¼Œæ•°ç»„ä¸­çš„æ¯ä¸ªæ•°å­—éƒ½æ˜¯ **ç‹¬ä¸€æ— äºŒçš„**ï¼Œæ‰¾å‡ºä»æ•°ç»„æœ€å·¦è¾¹å¼€å§‹çš„ç¬¬ `K` ä¸ªç¼ºå¤±æ•°å­—ã€‚

**ç¤ºä¾‹ 1ï¼š**

```text
è¾“å…¥ï¼šA = [4,7,9,10], K = 1
è¾“å‡ºï¼š5
è§£é‡Šï¼š
ç¬¬ä¸€ä¸ªç¼ºå¤±æ•°å­—ä¸º 5 ã€‚
```

**ç¤ºä¾‹ 2ï¼š**

```text
è¾“å…¥ï¼šA = [4,7,9,10], K = 3
è¾“å‡ºï¼š8
è§£é‡Šï¼š 
ç¼ºå¤±æ•°å­—æœ‰ [5,6,8,...]ï¼Œå› æ­¤ç¬¬ä¸‰ä¸ªç¼ºå¤±æ•°å­—ä¸º 8 ã€‚
```

**ç¤ºä¾‹ 3ï¼š**

```text
è¾“å…¥ï¼šA = [1,2,4], K = 3
è¾“å‡ºï¼š6
è§£é‡Šï¼š
ç¼ºå¤±æ•°å­—æœ‰ [3,5,6,7,...]ï¼Œå› æ­¤ç¬¬ä¸‰ä¸ªç¼ºå¤±æ•°å­—ä¸º 6 ã€‚
```

**æç¤ºï¼š**

1. `1 <= A.length <= 50000`
2. `1 <= A[i] <= 1e7`
3. `1 <= K <= 1e8`

---------------

æ–¹æ³•ï¼šäºŒåˆ†æŸ¥æ‰¾

### 

çœ‹åˆ°æœ‰åºæ•°ç»„ï¼ŒæŸ¥æ‰¾æŸä¸ªæ•°å­—ï¼Œä¸€å®šæƒ³åˆ°äºŒåˆ†æŸ¥æ‰¾çš„æ–¹æ³•ï¼Œç„¶åå†ç»†è‡´æ€è€ƒå…·ä½“çš„å®æ–½æ–¹å¼ã€‚

æˆ‘ä»¬è¦æ‰¾åˆ°ç¼ºå¤±çš„ç¬¬kä¸ªæ•°å­—ï¼Œ**æ•°ç»„ä¸­çš„æœ€å°å€¼minn = nums[0]ï¼Œä»minnå¼€å§‹é€’å¢ï¼Œä¸å­˜åœ¨çš„ç¬¬Kä¸ªæ•°å³ä¸ºç­”æ¡ˆã€‚**

ç›´æ¥é€’å¢æŸ¥æ‰¾çš„æ–¹æ³•æ—¶é—´å¤æ‚åº¦è¾ƒé«˜ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾çš„æ–¹æ³•ä¼˜åŒ–ã€‚left=0ï¼Œright=len(nums)-1ã€‚

æˆ‘ä»¬çš„ç›®çš„**æ˜¯æ‰¾åˆ°ç¬¬Kä¸ªç¼ºå¤±æ•°å­—å¾€å‰é€’å‡ï¼Œé‡åˆ°çš„å‰é¢çš„ç¬¬ä¸€ä¸ªå­˜åœ¨äºnumsæ•°ç»„ä¸­çš„æ•°å­—çš„ä¸‹æ ‡xï¼Œå¾—åˆ°è¿™ä¸ªä¸‹æ ‡ä¹‹åï¼Œæˆ‘ä»¬çš„ç­”æ¡ˆå°±å¯ä»¥è½»æ¾å¾—å‡ºï¼Œå³minn+x+kã€‚å³minnä¸ºæœ€å°å€¼ï¼Œxä¸ºç­”æ¡ˆä¹‹å‰å­˜åœ¨äºnumsæ•°ç»„ä¸­çš„ä¸ªæ•°ï¼ˆä¸ç®—minnï¼‰ï¼Œåªè¦åœ¨minnä¸Šå¢åŠ ï¼ˆx+kï¼‰,å³æ’é™¤äº†é€’å¢åˆ°ç­”æ¡ˆçš„è¿‡ç¨‹ä¸­ï¼Œå­˜åœ¨äºæ•°ç»„ä¸­çš„xä¸ªå…ƒç´ ï¼Œå†åŠ kå³ä¸ºç­”æ¡ˆã€‚**

é‚£ä¹ˆæ‰¾åˆ°è¿™ä¸ªxçš„è¿‡ç¨‹å¦‚ä¸‹ï¼š

```python
while left < right:
            mid = left + (right-left+1)//2
            # å½“midæ—¶ï¼Œæ•°ç»„ä¸­ç®—nums[mid]ä¸€å…±æœ‰mid+1ä¸ªå€¼ï¼Œ
            # é‚£ä¹ˆæ­¤æ—¶nums[mid]çš„æœ€å°å€¼ä¸ºminn+mid(å³æ¯ä¸ªå€¼é€’å¢1)
            # é‚£ä¹ˆç¼ºå°‘çš„ç¬¬kä¸ªæ•°å­—å³ä¸ºminn+mid+k
            # å¦‚æœæ­¤æ—¶nums[mid] >= minn+mid+kï¼Œ
            # ç¬¬Kä¸ªç¼ºå¤±æ•°å­—ä¹‹å‰çš„numsä¸­çš„é‚£ä¸ªå€¼è‚¯å®šåœ¨0-midä¹‹é—´
            # åä¹‹ï¼Œåœ¨mid-rightä¹‹é—´
            if nums[mid]>= minn+k+mid:
                right = mid-1
            else:
                left = mid
```

**æœ€åæ‰¾åˆ°çš„leftï¼Œå³ä¸ºxï¼Œè¿”å›minn+left+kå³ä¸ºç­”æ¡ˆ**

ä»£ç ï¼š

```python
    def missingElement(self, nums: List[int], k: int) -> int:
        # minnä¸ºæœ€å°å€¼
        minn = nums[0]
        # å·¦å³æŒ‡é’ˆ
        left = 0
        right = len(nums) - 1
        # å¼€å§‹äºŒåˆ†ï¼Œæ‰¾åˆ°ç¬¬Kä¸ªç¼ºå¤±æ•°å­—ä¹‹å‰çš„numsä¸­çš„é‚£ä¸ªå€¼çš„ä¸‹æ ‡
        # å³æ¯”å¦‚ç¤ºä¾‹2ï¼Œæ‰¾åˆ°7å¯¹åº”çš„ä½ç½®ï¼Œä¸‹æ ‡1
        while left < right:
            mid = left + (right-left+1)//2
            # å½“midæ—¶ï¼Œæ•°ç»„ä¸­ç®—nums[mid]ä¸€å…±æœ‰mid+1ä¸ªå€¼ï¼Œ
            # é‚£ä¹ˆæ­¤æ—¶nums[mid]çš„æœ€å°å€¼ä¸ºminn+mid(å³æ¯ä¸ªå€¼é€’å¢1)
            # é‚£ä¹ˆç¼ºå°‘çš„ç¬¬kä¸ªæ•°å­—å³ä¸ºminn+mid+k
            # å¦‚æœæ­¤æ—¶nums[mid] >= minn+mid+kï¼Œ
            # ç¬¬Kä¸ªç¼ºå¤±æ•°å­—ä¹‹å‰çš„numsä¸­çš„é‚£ä¸ªå€¼è‚¯å®šåœ¨0-midä¹‹é—´
            # åä¹‹ï¼Œåœ¨mid-rightä¹‹é—´
            if nums[mid]>= minn+k+mid:
                right = mid-1
            else:
                left = mid
        #æ‰¾åˆ°leftä¹‹åï¼Œç­”æ¡ˆä¸ºminn + left + kï¼Œminnä¸ºæœ€å°å€¼ï¼Œleftä¸ºå­˜åœ¨äºæ•°ç»„ä¸­çš„å€¼
        #kä¸ºæœªå­˜åœ¨æ•°ç»„ä¸­çš„å€¼
        return minn + left + k
```





## [706. è®¾è®¡å“ˆå¸Œæ˜ å°„](https://leetcode-cn.com/problems/design-hashmap/)

#### 

éš¾åº¦ç®€å•269

ä¸ä½¿ç”¨ä»»ä½•å†…å»ºçš„å“ˆå¸Œè¡¨åº“è®¾è®¡ä¸€ä¸ªå“ˆå¸Œæ˜ å°„ï¼ˆHashMapï¼‰ã€‚

å®ç° `MyHashMap` ç±»ï¼š

- `MyHashMap()` ç”¨ç©ºæ˜ å°„åˆå§‹åŒ–å¯¹è±¡
- `void put(int key, int value)` å‘ HashMap æ’å…¥ä¸€ä¸ªé”®å€¼å¯¹ `(key, value)` ã€‚å¦‚æœ `key` å·²ç»å­˜åœ¨äºæ˜ å°„ä¸­ï¼Œåˆ™æ›´æ–°å…¶å¯¹åº”çš„å€¼ `value` ã€‚
- `int get(int key)` è¿”å›ç‰¹å®šçš„ `key` æ‰€æ˜ å°„çš„ `value` ï¼›å¦‚æœæ˜ å°„ä¸­ä¸åŒ…å« `key` çš„æ˜ å°„ï¼Œè¿”å› `-1` ã€‚
- `void remove(key)` å¦‚æœæ˜ å°„ä¸­å­˜åœ¨ `key` çš„æ˜ å°„ï¼Œåˆ™ç§»é™¤ `key` å’Œå®ƒæ‰€å¯¹åº”çš„ `value` ã€‚



---

æ³¨æ„ï¼š

å…³é”®æ˜¯è¦æ³¨æ„éœ€è¦è¦å“ˆå¸Œç®—æ³•ã€æ•°ç»„ã€ä¸”æ¨¡æ‹Ÿjavaçš„å“ˆå¸Œè¡¨è®¾è®¡ï¼Œæ¯ä¸€ä¸ªæ•°ç»„çš„å…ƒç´ æ˜¯ä¸€ä¸ªé“¾è¡¨ï¼Œè¿™æ ·å‘ç”Ÿå“ˆå¸Œå†²çªçš„æ—¶å€™å¾€é“¾è¡¨æœ«å°¾æ”¾ï¼Œå–å…ƒç´ çš„æ—¶å€™å…ˆè®¡ç®—å“ˆå¸Œå€¼ï¼Œå†åœ¨æ•°ç»„çš„è¿™ä¸ªä½ç½®ä¸Šè·å¾—é“¾è¡¨ï¼Œå¾€é“¾è¡¨ä¸Šæ”¾

```java
class MyHashMap {
    class Node{
    int key;
    int value;
    Node()
    {

    }
    Node(int key)
    {
        this.key=key;
    }
    Node(int key,int value)
    {
        this.key=key;
        this.value=value;
    }

        public int getKey() {
            return key;
        }

        public int getValue() {
            return value;
        }

        public void setValue(int value) {
            this.value = value;
        }


    }
      private static final int BASE = 769;//ç”¨äºå–æ¨¡
    LinkedList[]data;//æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ éƒ½æ˜¯é“¾è¡¨
//List<Node>mylist;
    public MyHashMap() {
        data = new LinkedList[BASE];
for(int i=0;i<BASE;i++)
data[i]=new LinkedList<Node>();
    }
    
    public void put(int key, int value) {
        int hashkey=hash(key);
Iterator<Node>iter=data[hashkey].iterator();
    while(iter.hasNext())
    {
        Node node=iter.next();
        if(node.getKey()==key)
        {
            node.setValue(value);
            return;
        }
    }
    data[hashkey].offerLast(new Node(key,value));
    return;
    }
    
    public int get(int key) {
    int hashkey=hash(key);
Iterator<Node>iter=data[hashkey].iterator();
    while(iter.hasNext())
    {
        Node node=iter.next();
        if(node.getKey()==key)
        {            
            return node.value;
        }
    }
    return -1;
    }    
    public void remove(int key) {
   int hashkey=hash(key);
Iterator<Node>iter=data[hashkey].iterator();
    while(iter.hasNext())
    {
        Node node=iter.next();
        if(node.getKey()==key)
        {
            
           data[hashkey].remove(node);
           return;
        }
    }
    }
       private static int hash(int key) {
        return key % BASE;
    }
}
```

## [1497. æ£€æŸ¥æ•°ç»„å¯¹æ˜¯å¦å¯ä»¥è¢« k æ•´é™¤](https://leetcode.cn/problems/check-if-array-pairs-are-divisible-by-k/)

éš¾åº¦ä¸­ç­‰74

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `arr` å’Œä¸€ä¸ªæ•´æ•° `k` ï¼Œå…¶ä¸­æ•°ç»„é•¿åº¦æ˜¯å¶æ•°ï¼Œå€¼ä¸º `n` ã€‚

ç°åœ¨éœ€è¦æŠŠæ•°ç»„æ°å¥½åˆ†æˆ `n / 2` å¯¹ï¼Œä»¥ä½¿æ¯å¯¹æ•°å­—çš„å’Œéƒ½èƒ½å¤Ÿè¢« `k` æ•´é™¤ã€‚

å¦‚æœå­˜åœ¨è¿™æ ·çš„åˆ†æ³•ï¼Œè¯·è¿”å› *True* ï¼›å¦åˆ™ï¼Œè¿”å› *False* ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šarr = [1,2,3,4,5,10,6,7,8,9], k = 5
è¾“å‡ºï¼štrue
è§£é‡Šï¼šåˆ’åˆ†åçš„æ•°å­—å¯¹ä¸º (1,9),(2,8),(3,7),(4,6) ä»¥åŠ (5,10) ã€‚
```

------------------

![image-20230114224951360](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230114224951360.png)

```java
  public boolean canArrange(int[] arr, int k) {
int[]map=new int[k];
for(int i=0;i<arr.length;i++)
//æ³¨æ„è¿™é‡Œå¯¹è´Ÿæ•°çš„å¤„ç†ï¼Œ(arr[i]%k+k)%kæ˜¯ä¸€ç§å¯¹ç§°çš„å…³ç³»ï¼Œä¸èƒ½ç”¨math.abså»ç®—
map[((arr[i]%k+k)%k)]++;
for(int i=1;i<map.length;i++){
    if(map[i]!=map[k-i]) return false;
}
return map[0]%2==0;
    }
```



# å­—å…¸æ ‘é—®é¢˜

## [211. æ·»åŠ ä¸æœç´¢å•è¯ - æ•°æ®ç»“æ„è®¾è®¡](https://leetcode.cn/problems/design-add-and-search-words-data-structure/)

éš¾åº¦ä¸­ç­‰479

è¯·ä½ è®¾è®¡ä¸€ä¸ªæ•°æ®ç»“æ„ï¼Œæ”¯æŒ æ·»åŠ æ–°å•è¯ å’Œ æŸ¥æ‰¾å­—ç¬¦ä¸²æ˜¯å¦ä¸ä»»ä½•å…ˆå‰æ·»åŠ çš„å­—ç¬¦ä¸²åŒ¹é… ã€‚

å®ç°è¯å…¸ç±» `WordDictionary` ï¼š

- `WordDictionary()` åˆå§‹åŒ–è¯å…¸å¯¹è±¡
- `void addWord(word)` å°† `word` æ·»åŠ åˆ°æ•°æ®ç»“æ„ä¸­ï¼Œä¹‹åå¯ä»¥å¯¹å®ƒè¿›è¡ŒåŒ¹é…
- `bool search(word)` å¦‚æœæ•°æ®ç»“æ„ä¸­å­˜åœ¨å­—ç¬¦ä¸²ä¸ `word` åŒ¹é…ï¼Œåˆ™è¿”å› `true` ï¼›å¦åˆ™ï¼Œè¿”å› `false` ã€‚`word` ä¸­å¯èƒ½åŒ…å«ä¸€äº› `'.'` ï¼Œæ¯ä¸ª `.` éƒ½å¯ä»¥è¡¨ç¤ºä»»ä½•ä¸€ä¸ªå­—æ¯ã€‚

è¿™é‡Œçš„åŒ¹é…æ˜¯æŒ‡ä¸¤ä¸ªå­—ç¬¦ä¸²ç›¸ç­‰

è¾“å…¥ï¼š
["WordDictionary","addWord","addWord","addWord","search","search","search","search"]
[[],["bad"],["dad"],["mad"],["pad"],["bad"],[".ad"],["b.."]]
è¾“å‡ºï¼š
[null,null,null,null,false,true,true,true]



--------------------

```java
class WordDictionary {


  private Trie root;

    public WordDictionary() {
        root = new Trie();
    }
        
    public void addWord(String word) {
root.insert(word);
    }
    
    public boolean search(String word) {
       return dfs(word,0,root);
    }
    public boolean dfs(String word,int begin,Trie root){
        if(begin==word.length())
         return root.isEnd();
         char ch=word.charAt(begin);
         //å¦‚æœå½“å‰å­—ç¬¦æ˜¯å­—æ¯ï¼Œåˆ™åˆ¤æ–­å½“å‰å­—ç¬¦å¯¹åº”çš„å­ç»“ç‚¹æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœå­ç»“ç‚¹å­˜åœ¨åˆ™ç§»åŠ¨åˆ°å­ç»“ç‚¹ï¼Œç»§ç»­æœç´¢ä¸‹ä¸€ä¸ªå­—ç¬¦ï¼Œå¦‚æœå­ç»“ç‚¹ä¸å­˜åœ¨åˆ™è¯´æ˜å•è¯ä¸å­˜åœ¨ï¼Œè¿”å›falseï¼›

//å¦‚æœå½“å‰å­—ç¬¦æ˜¯ç‚¹å·ï¼Œç”±äºç‚¹å·å¯ä»¥è¡¨ç¤ºä»»ä½•å­—æ¯ï¼Œå› æ­¤éœ€è¦å¯¹å½“å‰ç»“ç‚¹çš„æ‰€æœ‰éç©ºå­ç»“ç‚¹ç»§ç»­æœç´¢ä¸‹ä¸€ä¸ªå­—ç¬¦ã€‚
        //é‡å¤ä¸Šè¿°æ­¥éª¤ï¼Œç›´åˆ°è¿”å› \text{false}false æˆ–æœç´¢å®Œç»™å®šå•è¯çš„æœ€åä¸€ä¸ªå­—ç¬¦ã€‚

//å¦‚æœæœç´¢å®Œç»™å®šçš„å•è¯çš„æœ€åä¸€ä¸ªå­—ç¬¦ï¼Œåˆ™å½“æœç´¢åˆ°çš„æœ€åä¸€ä¸ªç»“ç‚¹çš„ isEnd ä¸º true æ—¶ï¼Œç»™å®šçš„å•è¯å­˜åœ¨ã€‚
//ç‰¹åˆ«åœ°ï¼Œå½“æœç´¢åˆ°ç‚¹å·æ—¶ï¼Œåªè¦å­˜åœ¨ä¸€ä¸ªéç©ºå­ç»“ç‚¹å¯ä»¥æœç´¢åˆ°ç»™å®šçš„å•è¯ï¼Œå³è¿”å›trueã€‚

         if(ch!='.'){
             if(root.getChildren()[ch-'a']==null) return false;
             root=root.getChildren()[ch-'a'];
             if(dfs(word,begin+1,root)) return true;
         }
         else{
             for(int i = 0;i<26;i++){
                   Trie child = root.getChildren()[i];
               if(child!=null&&dfs(word,begin+1,child)){
                   return true;
               }
             }
         }
           return false;
    }
}
class Trie {
    private Trie[] children;
    private boolean isEnd;

    public Trie() {
        children = new Trie[26];
        isEnd = false;
    }
    public void insert(String word) {
        Trie node=this;
        for (int i = 0; i < word.length(); i++) {
            char ch=word.charAt(i);
            int index=ch-'a';
            if(node.children[index]==null){
                node.children[index]=new Trie();

            }
            node=node.children[index];
        }
        node.isEnd=true;
    }
    public Trie[] getChildren() {
        return children;
    }

    public boolean isEnd() {
        return isEnd;
    }

   

}
```



## [å‰‘æŒ‡ Offer II 064. ç¥å¥‡çš„å­—å…¸](https://leetcode.cn/problems/US1pGT/)

éš¾åº¦ä¸­ç­‰38

è®¾è®¡ä¸€ä¸ªä½¿ç”¨å•è¯åˆ—è¡¨è¿›è¡Œåˆå§‹åŒ–çš„æ•°æ®ç»“æ„ï¼Œå•è¯åˆ—è¡¨ä¸­çš„å•è¯ **äº’ä¸ç›¸åŒ** ã€‚ å¦‚æœç»™å‡ºä¸€ä¸ªå•è¯ï¼Œè¯·åˆ¤å®šèƒ½å¦åªå°†è¿™ä¸ªå•è¯ä¸­**ä¸€ä¸ª**å­—æ¯æ¢æˆå¦ä¸€ä¸ªå­—æ¯ï¼Œä½¿å¾—æ‰€å½¢æˆçš„æ–°å•è¯å­˜åœ¨äºå·²æ„å»ºçš„ç¥å¥‡å­—å…¸ä¸­ã€‚

å®ç° `MagicDictionary` ç±»ï¼š

- `MagicDictionary()` åˆå§‹åŒ–å¯¹è±¡
- `void buildDict(String[] dictionary)` ä½¿ç”¨å­—ç¬¦ä¸²æ•°ç»„ `dictionary` è®¾å®šè¯¥æ•°æ®ç»“æ„ï¼Œ`dictionary` ä¸­çš„å­—ç¬¦ä¸²äº’ä¸ç›¸åŒ
- `bool search(String searchWord)` ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² `searchWord` ï¼Œåˆ¤å®šèƒ½å¦åªå°†å­—ç¬¦ä¸²ä¸­ **ä¸€ä¸ª** å­—æ¯æ¢æˆå¦ä¸€ä¸ªå­—æ¯ï¼Œä½¿å¾—æ‰€å½¢æˆçš„æ–°å­—ç¬¦ä¸²èƒ½å¤Ÿä¸å­—å…¸ä¸­çš„ä»»ä¸€å­—ç¬¦ä¸²åŒ¹é…ã€‚å¦‚æœå¯ä»¥ï¼Œè¿”å› `true` ï¼›å¦åˆ™ï¼Œè¿”å› `false` ã€‚

 

**ç¤ºä¾‹ï¼š**

```
è¾“å…¥
inputs = ["MagicDictionary", "buildDict", "search", "search", "search", "search"]
inputs = [[], [["hello", "leetcode"]], ["hello"], ["hhllo"], ["hell"], ["leetcoded"]]
è¾“å‡º
[null, null, false, true, false, false]
```



----

å¦‚æœç”¨éå†æ³•æ•ˆç‡å¾ˆä½ï¼Œè¿™é‡Œç”¨å­—å…¸æ ‘ä¼˜åŒ–

```java
class MagicDictionary {
 Node trie;
    /** Initialize your data structure here. */
    public MagicDictionary() {
trie=new Node();
    }
    
    public void buildDict(String[] dictionary) {
  for (String word : dictionary) {
            Node cur = trie;
          cur.insert(word);
        }
    }
    
    public boolean search(String searchWord) {
        return dfs(searchWord,trie,0,false);

}
      public boolean dfs(String searchWord,Node trie,int begin,boolean isChange)
    {
if(begin==searchWord.length()) return isChange&&trie.isLast;
int index=searchWord.charAt(begin)-'a';
if(trie.child[index]!=null)
{
       if(dfs(searchWord,trie.child[index],begin+1,isChange))
    return true;
    //æ³¨æ„ï¼Œè¿™é‡Œä¸èƒ½åŠ      else return false; å¦åˆ™ä¼šå‡ºé”™ï¼Œå› ä¸ºä¸ä¸€å®šè¿™æ¡è·¯ä¸ç¬¦åˆï¼Œä¸ä»£è¡¨å…¶ä»–çš„è·¯å¾„ä¹Ÿä¸ç¬¦åˆï¼Œæ¯”å¦‚è¯´å­—å…¸ä¸­æœ‰ä¸€ä¸ªå­—ç¬¦ä¸²abcedå’Œaooooï¼Œç°åœ¨æœ‰å­—ç¬¦ä¸²aboooæ˜¯ä¸ç¬¦åˆabcedçš„ï¼Œå¦‚æœåŒ¹é…äº†abå¾€ä¸‹å‘ç°å°±ä¸ç¬¦åˆäº†ï¼Œå¦‚æœè¿™æ—¶å€™å°±è¿”å›falseçš„è¯å°±æ˜¯é”™çš„

     if(isChange) return false;
     else{
      for(int j=0;j<26;j++)
    {
        if(j!=index&&trie.child[j]!=null&&dfs(searchWord,trie.child[j],begin+1,true))
        {
return true;
        }
    
     }
}


return false;
    }
    
 
    
    class Node{
        Node[]child;
        boolean isLast;
        public Node()
        {
            child=new Node[26];
            isLast=false;
        }
        public void insert(String word)
        {
            Node node=this;
            for(int i=0;i<word.length();i++)
            {
                char ch=word.charAt(i);
                if(node.child[ch-'a']==null)
                {
                    node.child[ch-'a']=new Node();
                }
                node=node.child[ch-'a'];
            }
            node.isLast=true;
        }
    }
}

```



## [208. å®ç° Trie (å‰ç¼€æ ‘)](https://leetcode.cn/problems/implement-trie-prefix-tree/)

éš¾åº¦ä¸­ç­‰1385

**[Trie](https://baike.baidu.com/item/å­—å…¸æ ‘/9825209?fr=aladdin)**ï¼ˆå‘éŸ³ç±»ä¼¼ "try"ï¼‰æˆ–è€…è¯´ **å‰ç¼€æ ‘** æ˜¯ä¸€ç§æ ‘å½¢æ•°æ®ç»“æ„ï¼Œç”¨äºé«˜æ•ˆåœ°å­˜å‚¨å’Œæ£€ç´¢å­—ç¬¦ä¸²æ•°æ®é›†ä¸­çš„é”®ã€‚è¿™ä¸€æ•°æ®ç»“æ„æœ‰ç›¸å½“å¤šçš„åº”ç”¨æƒ…æ™¯ï¼Œä¾‹å¦‚è‡ªåŠ¨è¡¥å®Œå’Œæ‹¼å†™æ£€æŸ¥ã€‚

è¯·ä½ å®ç° Trie ç±»ï¼š

- `Trie()` åˆå§‹åŒ–å‰ç¼€æ ‘å¯¹è±¡ã€‚
- `void insert(String word)` å‘å‰ç¼€æ ‘ä¸­æ’å…¥å­—ç¬¦ä¸² `word` ã€‚
- `boolean search(String word)` å¦‚æœå­—ç¬¦ä¸² `word` åœ¨å‰ç¼€æ ‘ä¸­ï¼Œè¿”å› `true`ï¼ˆå³ï¼Œåœ¨æ£€ç´¢ä¹‹å‰å·²ç»æ’å…¥ï¼‰ï¼›å¦åˆ™ï¼Œè¿”å› `false` ã€‚
- `boolean startsWith(String prefix)` å¦‚æœä¹‹å‰å·²ç»æ’å…¥çš„å­—ç¬¦ä¸² `word` çš„å‰ç¼€ä¹‹ä¸€ä¸º `prefix` ï¼Œè¿”å› `true` ï¼›å¦åˆ™ï¼Œè¿”å› `false` ã€‚

-----

```java
class Trie {
Trie[]children;
boolean isEnd;
    public Trie() {
children=new Trie[26];
isEnd=false;
    }
    
    public void insert(String word) {
Trie node=this;
for(int i = 0;i<word.length();i++){
    char ch=word.charAt(i);
    if(node.children[ch-'a']==null){
        node.children[ch-'a']=new Trie();
     
    }
       node=node.children[ch-'a'];
}
node.isEnd=true;
    }
    
    public boolean search(String word) {
Trie node=searchPrefix(word);
return node!=null&&node.isEnd;
    }
    
    public boolean startsWith(String prefix) {
Trie node=searchPrefix(prefix);
return node!=null;
    }

     private Trie searchPrefix(String prefix) {
        Trie node = this;
        for (int i = 0; i < prefix.length(); i++) {
            char ch = prefix.charAt(i);
            int index = ch - 'a';
            if (node.children[index] == null) {
                return null;
            }
            node = node.children[index];
        }
        return node;
    }

}
```

## [å‰‘æŒ‡ Offer II 063. æ›¿æ¢å•è¯](https://leetcode.cn/problems/UhWRSj/)

éš¾åº¦ä¸­ç­‰33

åœ¨è‹±è¯­ä¸­ï¼Œæœ‰ä¸€ä¸ªå«åš `è¯æ ¹(root)` çš„æ¦‚å¿µï¼Œå®ƒå¯ä»¥è·Ÿç€å…¶ä»–ä¸€äº›è¯ç»„æˆå¦ä¸€ä¸ªè¾ƒé•¿çš„å•è¯â€”â€”æˆ‘ä»¬ç§°è¿™ä¸ªè¯ä¸º `ç»§æ‰¿è¯(successor)`ã€‚ä¾‹å¦‚ï¼Œè¯æ ¹`an`ï¼Œè·Ÿéšç€å•è¯ `other`(å…¶ä»–)ï¼Œå¯ä»¥å½¢æˆæ–°çš„å•è¯ `another`(å¦ä¸€ä¸ª)ã€‚

ç°åœ¨ï¼Œç»™å®šä¸€ä¸ªç”±è®¸å¤šè¯æ ¹ç»„æˆçš„è¯å…¸å’Œä¸€ä¸ªå¥å­ï¼Œéœ€è¦å°†å¥å­ä¸­çš„æ‰€æœ‰`ç»§æ‰¿è¯`ç”¨`è¯æ ¹`æ›¿æ¢æ‰ã€‚å¦‚æœ`ç»§æ‰¿è¯`æœ‰è®¸å¤šå¯ä»¥å½¢æˆå®ƒçš„`è¯æ ¹`ï¼Œåˆ™ç”¨æœ€çŸ­çš„è¯æ ¹æ›¿æ¢å®ƒã€‚

éœ€è¦è¾“å‡ºæ›¿æ¢ä¹‹åçš„å¥å­ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šdictionary = ["cat","bat","rat"], sentence = "the cattle was rattled by the battery"
è¾“å‡ºï¼š"the cat was rat by the bat"
```

-------

è¿™æ˜¯æœ‰å…³å‰ç¼€çš„é—®é¢˜ï¼Œæ•…åº”è€ƒè™‘ç”¨å‰ç¼€æ ‘çš„æ–¹æ³•ï¼Œå…ˆæŒ‰ç…§dictionaryå»ºç«‹ä¸€æ£µå‰ç¼€æ ‘ï¼Œç„¶åéå†å¥å­ï¼Œå¦‚æœæ‰¾åˆ°äº†ä¸€ä¸ªå‰ç¼€ä¸”å®ƒæ˜¯èµ°åˆ°äº†ç»“å°¾ï¼Œé‚£ä¹ˆå°±è¿›è¡Œæ›¿æ¢ï¼Œä¸”å› ä¸ºå…ˆéå†åˆ°çš„æ˜¯æ›´çŸ­çš„ï¼Œæ‰€ä»¥ä¸€å®šä¼šç”¨æœ€çŸ­çš„è¯æ ¹

```java
 public String replaceWords(List<String> dictionary, String sentence) {
 Trie trie=new Trie();
 for(String dic:dictionary)
 {
     Trie t=trie;
     t.insert(dic);
 }
  String[] words = sentence.split(" ");
        for (int i = 0; i < words.length; i++) {
            words[i] = trie.findRoot(words[i], trie);
        }
return String.join(" ",words);
    }
  
}
  class Trie{
        Trie[]children;
        boolean isEnd;
        public Trie()
        {
            children=new Trie[26];
            isEnd=false;
        }
        public void insert(String word)
        {
Trie node=this;
for(int i=0;i<word.length();i++)
{
    int index=word.charAt(i)-'a';
    if(node.children[index]==null)
    node.children[index]=new Trie();
    node=node.children[index];
}
node.isEnd=true;
        }
        public String findRoot(String word,Trie trie)
        {
            Trie node=trie;
            for(int i=0;i<word.length();i++)
            {
                int index=word.charAt(i)-'a';
                if(node.children[index]==null) return word;
                if(node.children[index].isEnd==true) return word.substring(0,i+1);
                node=node.children[index];
            }
            return word;
        }
    }
```

## [å‰‘æŒ‡ Offer II 066. å•è¯ä¹‹å’Œ](https://leetcode.cn/problems/z1R5dt/)

éš¾åº¦ä¸­ç­‰27

å®ç°ä¸€ä¸ª `MapSum` ç±»ï¼Œæ”¯æŒä¸¤ä¸ªæ–¹æ³•ï¼Œ`insert` å’Œ `sum`ï¼š

- `MapSum()` åˆå§‹åŒ– `MapSum` å¯¹è±¡
- `void insert(String key, int val)` æ’å…¥ `key-val` é”®å€¼å¯¹ï¼Œå­—ç¬¦ä¸²è¡¨ç¤ºé”® `key` ï¼Œæ•´æ•°è¡¨ç¤ºå€¼ `val` ã€‚å¦‚æœé”® `key` å·²ç»å­˜åœ¨ï¼Œé‚£ä¹ˆåŸæ¥çš„é”®å€¼å¯¹å°†è¢«æ›¿ä»£æˆæ–°çš„é”®å€¼å¯¹ã€‚
- `int sum(string prefix)` è¿”å›æ‰€æœ‰ä»¥è¯¥å‰ç¼€ `prefix` å¼€å¤´çš„é”® `key` çš„å€¼çš„æ€»å’Œã€‚

 

**ç¤ºä¾‹ï¼š**

```
è¾“å…¥ï¼š
inputs = ["MapSum", "insert", "sum", "insert", "sum"]
inputs = [[], ["apple", 3], ["ap"], ["app", 2], ["ap"]]
è¾“å‡ºï¼š
[null, null, 3, null, 5]

è§£é‡Šï¼š
MapSum mapSum = new MapSum();
mapSum.insert("apple", 3);  
mapSum.sum("ap");           // return 3 (apple = 3)
mapSum.insert("app", 2);    
mapSum.sum("ap");           // return 5 (apple + app = 3 + 2 = 5)
```

------

å¯¹äºå­—å…¸æ ‘ä¸­çš„æ¯ä¸€ä¸ªå‰ç¼€éƒ½è¦åŠ ä¸Šå¯¹åº”çš„å€¼,è¿™é‡Œä¸å†éœ€è¦åˆ¤æ–­æ˜¯å¦æ˜¯ç»“å°¾

```java
class MapSum {
class Trie{
    Trie[]children=new Trie[26];
    int val;
}
Trie trie;
Map<String,Integer>map=new HashMap<>();
    /** Initialize your data structure here. */
    public MapSum() {
trie=new Trie();
    }
    
    public void insert(String key, int val) {
int diff=val-map.getOrDefault(key,0);
map.put(key,val);
Trie node=trie;
for(int i =0;i<key.length();i++)
{
int index=key.charAt(i)-'a';
if(node.children[index]==null)
node.children[index]=new Trie();
//è¦å…ˆç§»åŠ¨åˆ°å­èŠ‚ç‚¹ç„¶åå†åŠ ä¸Šval
node=node.children[index];
node.val+=diff;
}
    }
    
    public int sum(String prefix) {
        Trie node=trie;
        for(int i =0;i<prefix.length();i++)
{
    int index=prefix.charAt(i)-'a';
    if(node.children[index]==null) return 0;
    node=node.children[index];
}
return node.val;
    }
}

```

insertå°±ç±»ä¼¼ä¸‹é¢è¿™ç§æ€æƒ³ï¼šæ¯ä¸ªå‰ç¼€å’Œå¯¹åº”çš„å€¼éƒ½è¿›è¡Œå­˜å‚¨

   public void insert(String key, int val) {
        int delta = val - map.getOrDefault(key, 0);
        map.put(key, val);
        for (int i = 1; i <= key.length(); ++i) {
            String currprefix = key.substring(0, i);
            prefixmap.put(currprefix, prefixmap.getOrDefault(currprefix, 0) + delta);
        }
    }

## [å‰‘æŒ‡ Offer II 065. æœ€çŸ­çš„å•è¯ç¼–ç ](https://leetcode.cn/problems/iSwD2y/)

éš¾åº¦ä¸­ç­‰35

å•è¯æ•°ç»„ `words` çš„ **æœ‰æ•ˆç¼–ç ** ç”±ä»»æ„åŠ©è®°å­—ç¬¦ä¸² `s` å’Œä¸‹æ ‡æ•°ç»„ `indices` ç»„æˆï¼Œä¸”æ»¡è¶³ï¼š

- `words.length == indices.length`
- åŠ©è®°å­—ç¬¦ä¸² `s` ä»¥ `'#'` å­—ç¬¦ç»“å°¾
- å¯¹äºæ¯ä¸ªä¸‹æ ‡ `indices[i]` ï¼Œ`s` çš„ä¸€ä¸ªä» `indices[i]` å¼€å§‹ã€åˆ°ä¸‹ä¸€ä¸ª `'#'` å­—ç¬¦ç»“æŸï¼ˆä½†ä¸åŒ…æ‹¬ `'#'`ï¼‰çš„ **å­å­—ç¬¦ä¸²** æ°å¥½ä¸ `words[i]` ç›¸ç­‰

ç»™å®šä¸€ä¸ªå•è¯æ•°ç»„ `words` ï¼Œè¿”å›æˆåŠŸå¯¹ `words` è¿›è¡Œç¼–ç çš„æœ€å°åŠ©è®°å­—ç¬¦ä¸² `s` çš„é•¿åº¦ ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šwords = ["time", "me", "bell"]
è¾“å‡ºï¼š10
è§£é‡Šï¼šä¸€ç»„æœ‰æ•ˆç¼–ç ä¸º s = "time#bell#" å’Œ indices = [0, 2, 5] ã€‚
words[0] = "time" ï¼Œs å¼€å§‹äº indices[0] = 0 åˆ°ä¸‹ä¸€ä¸ª '#' ç»“æŸçš„å­å­—ç¬¦ä¸²ï¼Œå¦‚åŠ ç²—éƒ¨åˆ†æ‰€ç¤º "time#bell#"
words[1] = "me" ï¼Œs å¼€å§‹äº indices[1] = 2 åˆ°ä¸‹ä¸€ä¸ª '#' ç»“æŸçš„å­å­—ç¬¦ä¸²ï¼Œå¦‚åŠ ç²—éƒ¨åˆ†æ‰€ç¤º "time#bell#"
words[2] = "bell" ï¼Œs å¼€å§‹äº indices[2] = 5 åˆ°ä¸‹ä¸€ä¸ª '#' ç»“æŸçš„å­å­—ç¬¦ä¸²ï¼Œå¦‚åŠ ç²—éƒ¨åˆ†æ‰€ç¤º "time#bell#"
```

```java
   public int minimumLengthEncoding(String[] words) {
        TrieNode trie = new TrieNode();
        Map<TrieNode, Integer> nodes = new HashMap<TrieNode, Integer>();

        for (int i = 0; i < words.length; ++i) {
            String word = words[i];
            TrieNode cur = trie;
            //æ³¨æ„è¿™é‡Œjæ˜¯ä»æœ€åä¸€ä¸ªå¾€å‰éå†çš„
            for (int j = word.length() - 1; j >= 0; --j) {
                cur = cur.get(word.charAt(j));
            }
            nodes.put(cur, i);
        }

        int ans = 0;
        for (TrieNode node: nodes.keySet()) {
            if (node.count == 0) {
                ans += words[nodes.get(node)].length() + 1;
            }
        }
        return ans;

    }
}

class TrieNode {
    TrieNode[] children;
    int count;

    TrieNode() {
        children = new TrieNode[26];
        count = 0;
    }

    public TrieNode get(char c) {
        if (children[c - 'a'] == null) {
            children[c - 'a'] = new TrieNode();
            count++;
        }
        return children[c - 'a'];
    }


```

ä¹Ÿå¯ä»¥ç”¨è¿™ç§æ€è·¯ï¼šæˆ‘ä»¬å‘ç°ï¼Œå¦‚æœ t æ˜¯ s çš„åç¼€ï¼Œé‚£ä¹ˆåè½¬ä¹‹å tâ€™ å°±æ˜¯ sâ€™ çš„å‰ç¼€ã€‚åœ¨åè½¬+æ’åºä¹‹åï¼Œsâ€™ ä¸€å®šç´§è·Ÿåœ¨ tâ€™ çš„åé¢ï¼

è¿™æ ·ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ£€æŸ¥æ’åºåçš„æ¯ä¸€ä¸ªå•è¯ï¼Œå¦‚æœå½“å‰å•è¯æ˜¯ä¸‹ä¸€ä¸ªå•è¯çš„å‰ç¼€ï¼Œåˆ™å°†å•è¯ä¸¢å¼ƒã€‚è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥å†™å‡ºå®Œæˆçš„é¢˜è§£ä»£ç äº†ï¼š

```java
public int minimumLengthEncoding(String[] words) {
    int N = words.length;
    // åè½¬æ¯ä¸ªå•è¯
    String[] reversed_words = new String[N];
    for (int i = 0; i < N; i++) {
        String word = words[i];
        String rword = new StringBuilder(word).reverse().toString();
        reversed_words[i] = rword;
    }
    // å­—å…¸åºæ’åº    
    Arrays.sort(reversed_words);

    int res = 0;
    for (int i = 0; i < N; i++) {
        if (i+1 < N && reversed_words[i+1].startsWith(reversed_words[i])) {
            // å½“å‰å•è¯æ˜¯ä¸‹ä¸€ä¸ªå•è¯çš„å‰ç¼€ï¼Œä¸¢å¼ƒ
        } else {
            res += reversed_words[i].length() + 1; // å•è¯åŠ ä¸Šä¸€ä¸ª '#' çš„é•¿åº¦
        }
    }
    return res;
}


```



# è´ªå¿ƒç®—æ³•

## ç¡¬å¸é—®é¢˜

ï¼šæœ‰1å…ƒã€5å…ƒã€10å…ƒã€50å…ƒã€100å…ƒã€500å…ƒçš„ç¡¬å¸å„c1 c5 c10 c50 c100æšã€‚ç° åœ¨è¦ç”¨è¿™äº›ç¡¬å¸æ¥æ”¯ä»˜Aå…ƒï¼Œæœ€å°‘éœ€è¦å¤šå°‘æšç¡¬å¸ï¼Ÿå‡å®šæœ¬é¢˜è‡³å°‘å­˜åœ¨ä¸€ç§æ”¯ä»˜æ–¹æ¡ˆ

æ€è·¯ï¼šå°½é‡ä½¿ç”¨é¢é¢è¾ƒå¤§çš„ç¡¬å¸

```cpp
const int v[6]={1,5,10,50,100,500};//ç¡¬å¸é¢å€¼
int A;
int c[6];//æ•°é‡
void solve()
{
int ans = 0;
int t;
for(int i = 5;i >= 0;i--)
{
t = min(A/v[i],c[i]);
A -= t*v[i];
ans +=t;
}
}
```

## åŒºé—´è°ƒåº¦é—®é¢˜

æœ‰"é¡¹å·¥ä½œï¼Œæ¯é¡¹å·¥ä½œåˆ†åˆ«åœ¨sâ€™æ—¶é—´å¼€å§‹ï¼Œåœ¨t1æ—¶é—´ç»“æŸã€‚å¯¹äºæ¯é¡¹å·¥ä½œï¼Œä½ éƒ½å¯ä»¥é€‰æ‹©å‚ ä¸ä¸å¦ã€‚å¦‚æœé€‰æ‹©äº†å‚ä¸ï¼Œé‚£ä¹ˆè‡ªå§‹è‡³ç»ˆéƒ½å¿…é¡»å…¨ç¨‹å‚ä¸ã€‚æ­¤å¤–ï¼Œå‚ä¸å·¥ä½œçš„æ—¶é—´æ®µä¸èƒ½é‡ å ï¼ˆå³ä½¿æ˜¯å¼€å§‹çš„ç¬é—´å’Œç»“æŸçš„ç¬é—´çš„é‡å ä¹Ÿæ˜¯ä¸å…è®¸çš„ï¼‰ã€‚ä½ çš„ç›®æ ‡æ˜¯å‚ä¸å°½å¯èƒ½å¤šçš„å·¥ä½œï¼Œé‚£ä¹ˆæœ€å¤šèƒ½å‚ä¸å¤šå°‘é¡¹å·¥ä½œå‘¢ï¼Ÿ
è¾“å…¥
n = 5, s = {1, 2, 4, 6, 8}, t = {3, 5, 7, 9, 10}

è¾“å‡º	
3 ï¼ˆé€‰å–å·¥ä½œ1ã€3,5ï¼‰
è¿™ä¸ªé—®é¢˜ä¹Ÿå¯ä»¥é€šè¿‡è´ªå¿ƒç®—æ³•æ¥æ±‚è§£ï¼Œä½†ä¸åƒå‰é¢çš„ç¡¬å¸é—®é¢˜é‚£ä¹ˆç®€å•ã€‚æˆ‘ä»¬å¯ä»¥è®¾è®¡å‡ºå„ç§å„ æ ·çš„è´ªå¿ƒç®—æ³•ï¼Œä¾‹å¦‚ä¸‹é¢çš„ç®—æ³•å°±æ˜¯å…¶ä¸­æœ€å®¹æ˜“æƒ³åˆ°çš„ä¸€ç§ã€‚
(1)åœ¨å¯é€‰çš„å·¥ä½œï¼ˆä¹Ÿå°±æ˜¯å’Œç›®å‰å·²é€‰çš„å·¥ä½œéƒ½ä¸é‡å çš„å·¥ä½œï¼‰ä¸­ï¼Œæ¯æ¬¡éƒ½é€‰å–å¼€å§‹æ—¶é—´æœ€æ—©çš„ å·¥ä½œã€‚
ï¼ˆ2ï¼‰	åœ¨å¯é€‰çš„å·¥ä½œä¸­ï¼Œæ¯æ¬¡éƒ½é€‰å–ç”¨æ—¶æœ€çŸ­çš„å·¥ä½œã€‚
(3)	åœ¨å¯é€‰çš„å·¥ä½œä¸­ï¼Œæ¯æ¬¡éƒ½é€‰å–ä¸æœ€å°‘å¯é€‰å·¥ä½œæœ‰é‡å çš„å·¥ä½œã€‚
ç®—æ³•ä¸€æ˜¯æ­£ç¡®çš„ï¼Œè€Œå…¶ä½™ä¸¤ç§éƒ½å¯ä»¥æ‰¾åˆ°å¯¹åº”çš„åä¾‹ã€‚æˆ–è€…è¯´ï¼Œåœ¨æœ‰äº›æƒ…å†µä¸‹ï¼Œå®ƒä»¬æ‰€é€‰å–çš„å·¥ ä½œå¹¶éæœ€ä¼˜ã€‚
è¯¥ç®—æ³•æœ‰ä¸€äº›ä¸èƒ½æ­£ç¡®å¤„ç†çš„æƒ…å†µï¼Œä¾‹å¦‚å¯¹äºä¸‹é¢çš„æƒ…å†µï¼Œè¯¥ç®—æ³•å°±æ— æ³•å¾—åˆ°æ­£ç¡®çš„ç»“æœã€‚


```cpp
const int MAX_N = 100000;
//è¾“å…¥
int N, S[MAX_N], T[MAX_N];
//ç”¨äºå¯¹å·¥ä½œæ’åºçš„pairæ•°ç»„
pair<int, int> itv[MAX_N];
void solve() {
//å¯¹pairè¿›è¡Œçš„æ˜¯å­—å…¸åºæ¯”è¾ƒ
//ä¸ºäº†è®©ç»“æŸæ—¶é—´æ—©çš„å·¥ä½œæ’åœ¨å‰é¢ï¼ŒæŠŠTå­˜å…¥first,æŠŠSå­˜å…¥second
for(int i = 0;i < N;i++)
{
itv[i].first = T[i];itv[i].second=S[i];

}
sort(itv,itv+N);
int ans = 0;t = 0;//tæ˜¯æœ€åæ‰€é€‰å·¥ä½œçš„ç»“æŸæ—¶é—´
for(int i = 0;i<N;i++)
{
if(t<itv[i].second){ans++;
t = itv[i].first;}
}
}
```



## æœ€å°å­—å…¸åº

å­—å…¸åºæœ€å°é—®é¢˜ Best Cow Line (POJ 3617)
ç»™å®šé•¿åº¦ä¸ºNçš„å­—ç¬¦ä¸²S,è¦æ„é€ ä¸€ä¸ªé•¿åº¦ä¸ºNçš„å­—ç¬¦ä¸²Tã€‚èµ·åˆï¼Œræ˜¯ä¸€ä¸ªç©ºä¸²ï¼Œéšåå å¤è¿›è¡Œä¸‹åˆ—ä»»æ„æ“ä½œã€‚
.ä»Sçš„å¤´éƒ¨åˆ é™¤ä¸€ä¸ªå­—ç¬¦ï¼ŒåŠ åˆ°Tçš„å°¾éƒ¨
.ä»sçš„å°¾éƒ¨åˆ é™¤ä¸€ä¸ªå­—ç¬¦ï¼ŒåŠ åˆ°rçš„å°¾éƒ¨ ç›®æ ‡æ˜¯è¦æ„é€ å­—å…¸åºå°½å¯èƒ½å°çš„å­—ç¬¦ä¸²T
â‘ å­—å…¸åºæ˜¯æŒ‡ä»å‰åˆ°åæ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²å¤§å°çš„æ–¹æ³•ã€‚é¦–å…ˆæ¯”è¾ƒç¬¬1ä¸ªå­—ç¬¦ï¼Œå¦‚æœä¸åŒåˆ™ç¬¬1ä¸ªå­—ç¬¦è¾ƒå°çš„å­—ç¬¦ä¸²æ›´å°ï¼Œå¦‚ æœç›¸åŒåˆ™ç»§ç»­æ¯”è¾ƒç¬¬2ä¸ªå­—ç¬¦â€¦â€¦å¦‚æ­¤ç»§ç»­ï¼Œæ¥æ¯”è¾ƒæ•´ä¸ªå­—ç¬¦ä¸²çš„å¤§å°ã€‚ 
è¾“å…¥
N = 6
S = "ACDBCB"
è¾“å‡º
ABCBCD 

ä»å­—å…¸åºçš„æ€§è´¨ä¸Šçœ‹ï¼Œæ— è®ºTçš„æœ«å°¾æœ‰å¤šå¤§ï¼Œåªè¦å‰é¢éƒ¨åˆ†çš„è¾ƒå°å°±å¯ä»¥ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥è¯•ä¸€ä¸‹ å¦‚ä¸‹è´ªå¿ƒç®—æ³•ï¼š
Â»ä¸æ–­å–Sçš„å¼€å¤´å’Œæœ«å°¾ä¸­è¾ƒå°çš„ä¸€ä¸ªå­—ç¬¦æ”¾åˆ°7çš„æœ«å°¾ã€‚
è¿™ä¸ªç®—æ³•å·²ç»æ¥è¿‘æ­£ç¡®äº†ï¼Œåªæ˜¯é’ˆå¯¹Sçš„å¼€å¤´å’Œæœ«å°¾å­—ç¬¦ç›¸åŒçš„æƒ…å½¢è¿˜æ²¡æœ‰å®šä¹‰ã€‚åœ¨è¿™ç§æƒ…å½¢ä¸‹, å› ä¸ºæˆ‘ä»¬å¸Œæœ›èƒ½å¤Ÿå°½æ—©ä½¿ç”¨æ›´å°çš„å­—ç¬¦ï¼Œæ‰€ä»¥å°±è¦æ¯”è¾ƒä¸‹ä¸€ä¸ªå­—ç¬¦çš„å¤§å°ã€‚ä¸‹ä¸€ä¸ªå­—ç¬¦ä¹Ÿæœ‰å¯èƒ½ ç›¸åŒï¼Œå› æ­¤å°±æœ‰å¦‚ä¸‹ç®—æ³•ï¼š
â– æŒ‰ç…§å­—å…¸åºæ¯”è¾ƒSå’Œå°†Såè½¬åçš„å­—ç¬¦ä¸²S'ã€‚
â– å¦‚æœSï¼Œå°±ä»Sçš„å¼€å¤´å–å‡ºä¸€ä¸ªæ–‡å­—ï¼Œè¿½åŠ åˆ°Tæœ«å°¾ã€‚
â– å¦‚æœS'è¾ƒå°ï¼Œå°±ä»Sçš„æœ«å°¾å–å‡ºä¸€ä¸ªæ–‡å­—ï¼Œè¿½åŠ åˆ°Tæœ«å°¾ã€‚
(å¦‚æœç›¸åŒåˆ™å–å“ªä¸ªéƒ½å¯ä»¥)

```cpp
int N;
const int maxn = 100000;
char s[maxn];

void solve(){
int a = 0,b = N-1;
while(a <= b)
{
bool left = false;
for(int i = 0;i + a <=b;i++)
{if(s[a+i] < s[b-i]
{
left = true;
break;
}
else if(s[a+i] > s[b-i])
{
left = false;
break;
}}
if(left)putchar(a++);
else putchar(b--);
}
}
```


## æœ€å°‘æ ‡è®°ç‚¹
![image-20210104191106715](C:\Users\14172\AppData\Roaming\Typora\typora-user-images\image-20210104191106715.png)

ç›´çº¿ä¸Šæœ‰Nä¸ªç‚¹ã€‚ä»è¿™Nä¸ªç‚¹ä¸­é€‰æ‹©è‹¥å¹²ä¸ªï¼Œç»™å®ƒä»¬åŠ ä¸Šæ ‡è®°ã€‚å¯¹æ¯ä¸€ä¸ª ç‚¹ï¼Œå…¶è·ç¦»ä¸ºRä»¥å†…çš„åŒºåŸŸé‡Œå¿…é¡»æœ‰å¸¦æœ‰æ ‡è®°çš„ç‚¹(è‡ªå·±æœ¬èº«å¸¦æœ‰æ ‡è®°çš„ç‚¹ï¼Œå¯ä»¥è®¤ä¸ºä¸å…¶ è·ç¦»ä¸º0çš„åœ°æ–¹æœ‰ä¸€ä¸ªå¸¦æœ‰æ ‡è®°çš„ç‚¹)ã€‚åœ¨æ»¡è¶³è¿™ä¸ªæ¡ä»¶çš„æƒ…å†µä¸‹ï¼Œå¸Œæœ›èƒ½ä¸ºå°½å¯èƒ½å°‘çš„ç‚¹ æ·»åŠ æ ‡è®°ã€‚è¯·é—®è‡³å°‘è¦æœ‰å¤šå°‘ç‚¹è¢«åŠ ä¸Šæ ‡è®°ï¼Ÿ

è¾“å…¥
N = 6
R = 10
X = (1, 7, 15, 20, 30, 50)
è¾“å‡º
3

```cpp
int N, R;
int X[MAX_N];
void solve() {
sort(X, X + N);
int i = 0,ans = 0;
while(i < N)
{// sæ˜¯æ²¡æœ‰è¢«è¦†ç›–çš„æœ€å·¦çš„ç‚¹çš„ä½ç½®
int s = X[i++];// ä¸€ç›´å‘å³å‰è¿›ç›´åˆ°è·Sçš„è·ç¦»å¤§äºRçš„ç‚¹
while(i < N && (s+R)>=X[i])i++;
int p = X[i-1];//pæ˜¯æ–°åŠ ä¸Šæ ‡è®°çš„ç‚¹çš„ä½ç½®
// ä¸€ç›´å‘å³å‰è¿›ç›´åˆ°è·pçš„è·ç¦»å¤§äºRçš„ç‚¹
while(i < N &&(p+R)>=X[i])i++;ans++;
}
cout<<ans;
}

```

## è·³è·ƒæ¸¸æˆ

ç»™å®šä¸€ä¸ªéè´Ÿæ•´æ•°æ•°ç»„ nums ï¼Œä½ æœ€åˆä½äºæ•°ç»„çš„ ç¬¬ä¸€ä¸ªä¸‹æ ‡ ã€‚

æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ ä»£è¡¨ä½ åœ¨è¯¥ä½ç½®å¯ä»¥è·³è·ƒçš„æœ€å¤§é•¿åº¦ã€‚

åˆ¤æ–­ä½ æ˜¯å¦èƒ½å¤Ÿåˆ°è¾¾æœ€åä¸€ä¸ªä¸‹æ ‡ã€‚

 

ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼šnums = [2,3,1,1,4]
è¾“å‡ºï¼štrue
è§£é‡Šï¼šå¯ä»¥å…ˆè·³ 1 æ­¥ï¼Œä»ä¸‹æ ‡ 0 åˆ°è¾¾ä¸‹æ ‡ 1, ç„¶åå†ä»ä¸‹æ ‡ 1 è·³ 3 æ­¥åˆ°è¾¾æœ€åä¸€ä¸ªä¸‹æ ‡ã€‚

----



![image-20220207211842059](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220207211842059.png)

```java
    public boolean canJump(int[] nums) {
        int index=0,right=0;

                for(int i=0;i<nums.length;i++)
                {
                    if(i<=right){
right=Math.max(nums[i]+i,right);
if(right>=nums.length-1) return true;
                }
                }
                return false;

    }
```

## [376. æ‘†åŠ¨åºåˆ—](https://leetcode-cn.com/problems/wiggle-subsequence/)

éš¾åº¦ä¸­ç­‰589

å¦‚æœè¿ç»­æ•°å­—ä¹‹é—´çš„å·®ä¸¥æ ¼åœ°åœ¨æ­£æ•°å’Œè´Ÿæ•°ä¹‹é—´äº¤æ›¿ï¼Œåˆ™æ•°å­—åºåˆ—ç§°ä¸º **æ‘†åŠ¨åºåˆ— ã€‚**ç¬¬ä¸€ä¸ªå·®ï¼ˆå¦‚æœå­˜åœ¨çš„è¯ï¼‰å¯èƒ½æ˜¯æ­£æ•°æˆ–è´Ÿæ•°ã€‚ä»…æœ‰ä¸€ä¸ªå…ƒç´ æˆ–è€…å«ä¸¤ä¸ªä¸ç­‰å…ƒç´ çš„åºåˆ—ä¹Ÿè§†ä½œæ‘†åŠ¨åºåˆ—ã€‚

- ä¾‹å¦‚ï¼Œ `[1, 7, 4, 9, 2, 5]` æ˜¯ä¸€ä¸ª **æ‘†åŠ¨åºåˆ—** ï¼Œå› ä¸ºå·®å€¼ `(6, -3, 5, -7, 3)` æ˜¯æ­£è´Ÿäº¤æ›¿å‡ºç°çš„ã€‚
- ç›¸åï¼Œ`[1, 4, 7, 2, 5]` å’Œ `[1, 7, 4, 5, 5]` ä¸æ˜¯æ‘†åŠ¨åºåˆ—ï¼Œç¬¬ä¸€ä¸ªåºåˆ—æ˜¯å› ä¸ºå®ƒçš„å‰ä¸¤ä¸ªå·®å€¼éƒ½æ˜¯æ­£æ•°ï¼Œç¬¬äºŒä¸ªåºåˆ—æ˜¯å› ä¸ºå®ƒçš„æœ€åä¸€ä¸ªå·®å€¼ä¸ºé›¶ã€‚

**å­åºåˆ—** å¯ä»¥é€šè¿‡ä»åŸå§‹åºåˆ—ä¸­åˆ é™¤ä¸€äº›ï¼ˆä¹Ÿå¯ä»¥ä¸åˆ é™¤ï¼‰å…ƒç´ æ¥è·å¾—ï¼Œå‰©ä¸‹çš„å…ƒç´ ä¿æŒå…¶åŸå§‹é¡ºåºã€‚

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` ï¼Œè¿”å› `nums` ä¸­ä½œä¸º **æ‘†åŠ¨åºåˆ—** çš„ **æœ€é•¿å­åºåˆ—çš„é•¿åº¦** 

è¿™ä¸ªé¢˜æœ‰ä¸€ä¸ªå…³é”®ï¼Œå°±æ˜¯å¯ä»¥åˆ é™¤å…ƒç´ ï¼Œå› æ­¤ä¸èƒ½ç”¨å¸¸è§„çš„æ–¹æ³•

-----

```java
 public int wiggleMaxLength(int[] nums) {
if(nums.length==1) return 1;
if(nums.length==2 && nums[0] != nums[1]) return 2;
int prediff=0;//ä¸Šä¸€ä¸ªå·®å€¼
int curdiff = 0;//å½“å‰å·®å€¼
int count = 1;
for(int i = 0;i < nums.length-1;i++)
{
    int cur = nums[i] - nums[i+1];
    if((prediff<=0&&cur>0)||(prediff>=0&&cur<0))
   { count++;
    prediff=cur;
   }
}
return count;
    }
```

ä¹Ÿå¯ä»¥ç”¨åŠ¨æ€è§„åˆ’è§£ï¼š

å‡è®¾ up[i] è¡¨ç¤º nums[0:i] ä¸­æœ€åä¸¤ä¸ªæ•°å­—é€’å¢çš„æœ€é•¿æ‘†åŠ¨åºåˆ—é•¿åº¦ï¼Œdown[i] è¡¨ç¤º nums[0:i] ä¸­æœ€åä¸¤ä¸ªæ•°å­—é€’å‡çš„æœ€é•¿æ‘†åŠ¨åºåˆ—é•¿åº¦ï¼Œåªæœ‰ä¸€ä¸ªæ•°å­—æ—¶é»˜è®¤ä¸º 1ã€‚

æ¥ä¸‹æ¥æˆ‘ä»¬è¿›è¡Œåˆ†ç±»è®¨è®ºï¼š

nums[i+1] > nums[i]
å‡è®¾ down[i] è¡¨ç¤ºçš„æœ€é•¿æ‘†åŠ¨åºåˆ—çš„æœ€è¿œæœ«å°¾å…ƒç´ ä¸‹æ ‡æ­£å¥½ä¸º iï¼Œé‡åˆ°æ–°çš„ä¸Šå‡å…ƒç´ åï¼Œup[i+1] = down[i] + 1 ï¼Œè¿™æ˜¯å› ä¸º up ä¸€å®šä» down ä¸­äº§ç”Ÿï¼ˆåˆå§‹é™¤å¤–ï¼‰ï¼Œå¹¶ä¸” down[i] æ­¤æ—¶æœ€å¤§ã€‚
å‡è®¾ down[i] è¡¨ç¤ºçš„æœ€é•¿æ‘†åŠ¨åºåˆ—çš„æœ€è¿œæœ«å°¾å…ƒç´ ä¸‹æ ‡å°äº iï¼Œè®¾ä¸º jï¼Œé‚£ä¹ˆ nums[j:i] ä¸€å®šæ˜¯é€’å¢çš„ï¼Œå› ä¸ºè‹¥å®Œå…¨é€’å‡ï¼Œæœ€è¿œå…ƒç´ ä¸‹æ ‡ç­‰äº iï¼Œè‹¥æ³¢åŠ¨ï¼Œé‚£ä¹ˆ down[i] > down[j]ã€‚ç”±äº nums[j:i] é€’å¢ï¼Œdown[j:i] ä¸€ç›´ç­‰äº down[j] ï¼Œä¾ç„¶æ»¡è¶³ up[i+1] = down[i] + 1 ã€‚
nums[i+1] < nums[i]ï¼Œç±»ä¼¼ç¬¬ä¸€ç§æƒ…å†µ
nums[i+1] == nums[i]ï¼Œæ–°çš„å…ƒç´ ä¸èƒ½ç”¨äºä»»ä½•åºåˆ—ï¼Œä¿æŒä¸å˜



```java
public int wiggleMaxLength(int[] nums) {
    int down = 1, up = 1;
    for (int i = 1; i < nums.length; i++) {
        if (nums[i] > nums[i - 1])
            up = down + 1;
        else if (nums[i] < nums[i - 1])
            down = up + 1;
    }
    return nums.length == 0 ? 0 : Math.max(down, up);
}

ã€‚
```

## [1247. äº¤æ¢å­—ç¬¦ä½¿å¾—å­—ç¬¦ä¸²ç›¸åŒ](https://leetcode-cn.com/problems/minimum-swaps-to-make-strings-equal/)

éš¾åº¦ä¸­ç­‰53

æœ‰ä¸¤ä¸ªé•¿åº¦ç›¸åŒçš„å­—ç¬¦ä¸² `s1` å’Œ `s2`ï¼Œä¸”å®ƒä»¬å…¶ä¸­ **åªå«æœ‰** å­—ç¬¦ `"x"` å’Œ `"y"`ï¼Œä½ éœ€è¦é€šè¿‡ã€Œäº¤æ¢å­—ç¬¦ã€çš„æ–¹å¼ä½¿è¿™ä¸¤ä¸ªå­—ç¬¦ä¸²ç›¸åŒã€‚

æ¯æ¬¡ã€Œäº¤æ¢å­—ç¬¦ã€çš„æ—¶å€™ï¼Œä½ éƒ½å¯ä»¥åœ¨ä¸¤ä¸ªå­—ç¬¦ä¸²ä¸­å„é€‰ä¸€ä¸ªå­—ç¬¦è¿›è¡Œäº¤æ¢ã€‚

äº¤æ¢åªèƒ½å‘ç”Ÿåœ¨ä¸¤ä¸ªä¸åŒçš„å­—ç¬¦ä¸²ä¹‹é—´ï¼Œç»å¯¹ä¸èƒ½å‘ç”Ÿåœ¨åŒä¸€ä¸ªå­—ç¬¦ä¸²å†…éƒ¨ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å¯ä»¥äº¤æ¢ `s1[i]` å’Œ `s2[j]`ï¼Œä½†ä¸èƒ½äº¤æ¢ `s1[i]` å’Œ `s1[j]`ã€‚

æœ€åï¼Œè¯·ä½ è¿”å›ä½¿ `s1` å’Œ `s2` ç›¸åŒçš„æœ€å°äº¤æ¢æ¬¡æ•°ï¼Œå¦‚æœæ²¡æœ‰æ–¹æ³•èƒ½å¤Ÿä½¿å¾—è¿™ä¸¤ä¸ªå­—ç¬¦ä¸²ç›¸åŒï¼Œåˆ™è¿”å› `-1` ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šs1 = "xx", s2 = "yy"
è¾“å‡ºï¼š1
è§£é‡Šï¼š
äº¤æ¢ s1[0] å’Œ s2[1]ï¼Œå¾—åˆ° s1 = "yx"ï¼Œs2 = "yx"ã€‚
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šs1 = "xy", s2 = "yx"
è¾“å‡ºï¼š2
è§£é‡Šï¼š
äº¤æ¢ s1[0] å’Œ s2[0]ï¼Œå¾—åˆ° s1 = "yy"ï¼Œs2 = "xx" ã€‚
äº¤æ¢ s1[0] å’Œ s2[1]ï¼Œå¾—åˆ° s1 = "xy"ï¼Œs2 = "xy" ã€‚
æ³¨æ„ï¼Œä½ ä¸èƒ½äº¤æ¢ s1[0] å’Œ s1[1] ä½¿å¾— s1 å˜æˆ "yx"ï¼Œå› ä¸ºæˆ‘ä»¬åªèƒ½äº¤æ¢å±äºä¸¤ä¸ªä¸åŒå­—ç¬¦ä¸²çš„å­—ç¬¦ã€‚
```

-----

ç”±äºè¦æ±‚äº¤æ¢æ¬¡æ•°å°½é‡å°‘ï¼Œæ•…ï¼š
æœ¬æ¥ç›¸åŒä½ç½®å°±æœ‰ç›¸åŒçš„å­—ç¬¦ï¼Œä¸éœ€è¦äº¤æ¢ã€‚
æœ¬æ¥ç›¸åŒä½ç½®å­—ç¬¦ä¸åŒï¼Œéœ€è¦äº¤æ¢ã€‚äº¤æ¢ä¸ºä¸¤ç»„å­—ç¬¦äº¤æ¢ï¼Œæœ¬è´¨ä¸Šåªæœ‰ä¸¤ç§æƒ…å½¢ï¼š

(a) 2ç»„ç›¸åŒ(2ç»„xyæˆ–2ç»„yxï¼Œç­‰ä»·äºç¤ºä¾‹1)ï¼š
æ­¤æ—¶ï¼Œs1[0]ä¸s2[1]äº¤æ¢å³å¯ï¼Œéœ€è¦è¿›è¡Œ1æ¬¡äº¤æ¢
(b) 2ç»„ä¸åŒ(1ç»„xyï¼Œ1ç»„yxï¼Œç­‰ä»·äºç¤ºä¾‹2)ï¼š
æ­¤æ—¶ï¼Œå°†s1[0]ä¸s2[0]äº¤æ¢åä¸aç›¸åŒï¼Œéœ€è¦è¿›è¡Œ2æ¬¡äº¤æ¢

ç»¼ä¸Šæ‰€è¿°ï¼Œæˆ‘ä»¬å¯ä»¥å¾—å‡ºå¦‚ä¸‹ç»“è®ºï¼š
xyä¸yxçš„ç»„æ•°ä¹‹å’Œå¿…é¡»ä¸ºå¶æ•°ï¼Œå¦åˆ™è¿”å›-1(ä¸¤ä¸¤äº¤æ¢)
ä¼˜å…ˆè¿›è¡Œ(a)ç±»äº¤æ¢ï¼Œå‰©ä½™çš„è¿›è¡Œ(b)ç±»äº¤æ¢(è´ªå¿ƒç®—æ³•)

![image-20220223191047746](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220223191047746.png)

```java
  public int minimumSwap(String s1, String s2) {

 int xy =0,yx = 0;
 for(int i = 0 ;i < s1.length();i++)
 {
     if(s1.charAt(i) == s2.charAt(i))
     continue;
     if(s1.charAt(i) == 'x')//s1[i] = x s2[i] = y
xy++;
else yx++;
 }
 if(((xy+yx) &1 )== 1) return -1;//æ³¨æ„è¿™ç§åˆ¤æ–­æ˜¯å¦æ˜¯å¥‡æ•°çš„æ–¹æ³•,æ¯”ç”¨%è¿ç®—å¿«ä¸€å€
 return xy/2+yx/2+yx%2*2;
    }
```

## [763. åˆ’åˆ†å­—æ¯åŒºé—´](https://leetcode-cn.com/problems/partition-labels/)

éš¾åº¦ä¸­ç­‰675

å­—ç¬¦ä¸² `S` ç”±å°å†™å­—æ¯ç»„æˆã€‚æˆ‘ä»¬è¦æŠŠè¿™ä¸ªå­—ç¬¦ä¸²åˆ’åˆ†ä¸ºå°½å¯èƒ½å¤šçš„ç‰‡æ®µï¼ŒåŒä¸€å­—æ¯æœ€å¤šå‡ºç°åœ¨ä¸€ä¸ªç‰‡æ®µä¸­ã€‚è¿”å›ä¸€ä¸ªè¡¨ç¤ºæ¯ä¸ªå­—ç¬¦ä¸²ç‰‡æ®µçš„é•¿åº¦çš„åˆ—è¡¨ã€‚

 

**ç¤ºä¾‹ï¼š**

```
è¾“å…¥ï¼šS = "ababcbacadefegdehijhklij"
è¾“å‡ºï¼š[9,7,8]
è§£é‡Šï¼š
åˆ’åˆ†ç»“æœä¸º "ababcbaca", "defegde", "hijhklij"ã€‚
```

----

![image-20220307003918795](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220307003918795.png)

```java
public List<Integer> partitionLabels(String s) {
int[]arr = new int[26];//26ä¸ªå­—æ¯
for(int i = 0;i < s.length();i++)
{
    arr[s.charAt(i) - 'a'] = i;
}
int start = 0,end = 0;
List<Integer>mylist = new ArrayList<>();
for(int i = 0;i < s.length();i++)
{
    end = Math.max(end,arr[s.charAt(i)-'a']);
    if(end ==i)
    {
mylist.add(end-start+1);
start = end+1;
    }
}
return mylist;
    }
```



## [435. æ— é‡å åŒºé—´](https://leetcode.cn/problems/non-overlapping-intervals/)

ã€è¿™ç§åŒºé—´é—®é¢˜é¦–å…ˆæƒ³åˆ°å¯¹åŒºé—´è¿›è¡Œæ’åºï¼Œéœ€è¦åˆ¤æ–­æ˜¯ä»¥å·¦ç«¯ç‚¹è¿›è¡Œæ’åºè¿˜æ˜¯å³ç«¯ç‚¹è¿›è¡Œæ’åºï¼Œæ­¤é¢˜å˜æ¢æ€ç»´ï¼Œç§»é™¤åŒºé—´å¯ä»¥è½¬å˜ä¸ºç•™ä¸‹æœ€å¤šä¸é‡å çš„åŒºé—´å³å¯ï¼Œè¿™æ ·æ‰èƒ½è§£å‡ºé¢˜ç›®ï¼Œæ‰€ä»¥å¯ä»¥åŒç­‰å˜æ¢ä¸ºï¼šä¸é‡å çš„åŒºé—´æœ€å¤šçš„ä¸ªæ•°ã€‚ã€‘

éš¾åº¦ä¸­ç­‰

ç»™å®šä¸€ä¸ªåŒºé—´çš„é›†åˆ `intervals` ï¼Œå…¶ä¸­ `intervals[i] = [starti, endi]` ã€‚è¿”å› *éœ€è¦ç§»é™¤åŒºé—´çš„æœ€å°æ•°é‡ï¼Œä½¿å‰©ä½™åŒºé—´äº’ä¸é‡å * ã€‚

 

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: intervals = [[1,2],[2,3],[3,4],[1,3]]
è¾“å‡º: 1
è§£é‡Š: ç§»é™¤ [1,3] åï¼Œå‰©ä¸‹çš„åŒºé—´æ²¡æœ‰é‡å ã€‚
```

**ç¤ºä¾‹ 2:**

```
è¾“å…¥: intervals = [ [1,2], [1,2], [1,2] ]
è¾“å‡º: 2
è§£é‡Š: ä½ éœ€è¦ç§»é™¤ä¸¤ä¸ª [1,2] æ¥ä½¿å‰©ä¸‹çš„åŒºé—´æ²¡æœ‰é‡å ã€‚
```

------

![image-20220810224900433](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220810224900433.png)

æ­¤é¢˜ç”¨åŠ¨æ€è§„åˆ’ä¼šè¶…æ—¶ï¼Œéœ€è¦é‡‡ç”¨è´ªå¿ƒæ³•

![image-20220810225117218](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220810225117218.png)

![image-20230221195830697](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230221195830697.png)

```java
class Solution {
    public int eraseOverlapIntervals(int[][] intervals) {
        if (intervals.length == 0) {
            return 0;
        }
        
        Arrays.sort(intervals, new Comparator<int[]>() {
            public int compare(int[] interval1, int[] interval2) {
                return interval1[1] - interval2[1];
            }
        });

        int n = intervals.length;
        int right = intervals[0][1];
        int ans = 1;
        for (int i = 1; i < n; ++i) {
            if (intervals[i][0] >= right) {
                ++ans;
                right = intervals[i][1];
            }
        }
        return n - ans;
    }
}


```

## [1353. æœ€å¤šå¯ä»¥å‚åŠ çš„ä¼šè®®æ•°ç›®](https://leetcode.cn/problems/maximum-number-of-events-that-can-be-attended/)

éš¾åº¦ä¸­ç­‰221

ç»™ä½ ä¸€ä¸ªæ•°ç»„ `events`ï¼Œå…¶ä¸­ `events[i] = [startDayi, endDayi]` ï¼Œè¡¨ç¤ºä¼šè®® `i` å¼€å§‹äº `startDayi` ï¼Œç»“æŸäº `endDayi` ã€‚

ä½ å¯ä»¥åœ¨æ»¡è¶³ `startDayi <= d <= endDayi` ä¸­çš„ä»»æ„ä¸€å¤© `d` å‚åŠ ä¼šè®® `i` ã€‚æ³¨æ„ï¼Œä¸€å¤©åªèƒ½å‚åŠ ä¸€ä¸ªä¼šè®®ã€‚

è¯·ä½ è¿”å›ä½ å¯ä»¥å‚åŠ çš„ **æœ€å¤§** ä¼šè®®æ•°ç›®ã€‚

```
è¾“å…¥ï¼ševents= [[1,2],[2,3],[3,4],[1,2]]
è¾“å‡ºï¼š4
```

æ³¨æ„ï¼šåªè¦då°äºç­‰äºenddayå³å¯ï¼Œæ¯”å¦‚ç¬¬ä¸€å¤©ç¬¬ä¸€ä¸ªä¼šè®® ç¬¬äºŒå¤©ç¬¬å››ä¸ªä¼šè®® ç¬¬ä¸‰å¤©ç¬¬ä¸‰ä¸ªä¼šè®® ç¬¬å››å¤©ç¬¬å››ä¸ªä¼šè®®

------------------------

```java
public int maxEvents(int[][] events) {
  Arrays.sort(events, new Comparator<int[]>() {
         @Override
         public int compare(int[] o1, int[] o2) {
             return o1[0]-o2[0];
         }
     });
     PriorityQueue<Integer>queue =new PriorityQueue<>();
     int curIndex = 0;
     int ans = 0;
        int curDay = events[0][0];
        //curIndexæ˜¯éå†æ•°ç»„ä¸­çš„å…ƒç´ ï¼Œæ­¤æ—¶æ•°ç»„æ˜¯æŒ‰å¼€å§‹æ—¶é—´ä»å°åˆ°å¤§æ’åºçš„
        while(curIndex < events.length || !queue.isEmpty()){
            //è¿™é‡Œå¿…é¡»æœ‰curindex++çš„whileå¾ªç¯ï¼Œå› ä¸ºå¯èƒ½æœ‰ä¸¤ä¸ªä¸€æ ·çš„beginDay æ¯”å¦‚ä¸¤ä¸ª[1,2]
            while(curIndex< events.length &&events[curIndex][0]==curDay){
                //æ³¨æ„è¿™é‡Œæ˜¯ä»¥ç»“æŸæ—¶é—´ä¸ºå‡†ï¼Œå› ä¸ºèƒ½å¦å¼€ä¸€ä¸ªä¼šè®®åº”è¯¥æ˜¯ä»¥ç»“æŸæ—¶é—´ä¸ºæ ‡å‡†çš„ï¼Œå³ä¾¿å¼€å§‹æ—¶é—´å¾ˆæ—©ï¼Œä½†æ˜¯ç»“æŸæ—¶é—´å¾ˆæ™šçš„è¯ï¼Œä¹Ÿæ˜¯å¯ä»¥å¼€è¿™ä¸ªä¼šè®®çš„
                queue.offer(events[curIndex][1]);
                curIndex++;

            }
            //è¦å¯¹é˜Ÿåˆ—ä¸­çš„å…ƒç´ è¿›è¡Œåˆ¤æ–­ï¼Œå› ä¸ºåˆšåˆšcurdayåŠ äº†ä¸€
            while(!queue.isEmpty() && queue.peek() < curDay)
                queue.poll();
            
            if(!queue.isEmpty()){
                //å› ä¸ºä¸€å¤©åªèƒ½ä¸€ä¸ªä¼šè®®ï¼Œç”¨if å¦‚æœæ­¤æ—¶é˜Ÿåˆ—éç©ºï¼Œè¿™äº›å…ƒç´ æ˜¯ç»“æŸæ—¶é—´å¤§äºç­‰äºå½“å‰æ—¶é—´çš„ï¼Œå¼¹å‡ºç»“æŸæ—¶é—´æœ€å°å³æœ€æ—©çš„ä¼šè®®
                queue.poll();
                ans ++;
            }
            curDay++;
        }
        return ans;
    }
```

## [738. å•è°ƒé€’å¢çš„æ•°å­—](https://leetcode.cn/problems/monotone-increasing-digits/)

éš¾åº¦ä¸­ç­‰298

å½“ä¸”ä»…å½“æ¯ä¸ªç›¸é‚»ä½æ•°ä¸Šçš„æ•°å­— `x` å’Œ `y` æ»¡è¶³ `x <= y` æ—¶ï¼Œæˆ‘ä»¬ç§°è¿™ä¸ªæ•´æ•°æ˜¯**å•è°ƒé€’å¢**çš„ã€‚

ç»™å®šä¸€ä¸ªæ•´æ•° `n` ï¼Œè¿”å› *å°äºæˆ–ç­‰äº `n` çš„æœ€å¤§æ•°å­—ï¼Œä¸”æ•°å­—å‘ˆ **å•è°ƒé€’å¢*** ã€‚

 

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: n = 10
è¾“å‡º: 9
```

**ç¤ºä¾‹ 2:**

```
è¾“å…¥: n = 1234
è¾“å‡º: 1234
```

**ç¤ºä¾‹ 3:**

```
è¾“å…¥: n = 332
è¾“å‡º: 299
```

--------------------



```java
 public int monotoneIncreasingDigits(int n) {
        char[]chaArray = Integer.toString(n).toCharArray();
        int i = 1;
        for (i = 1; i < chaArray.length; i++) {
            if(chaArray[i]<chaArray[i-1]) break;
        }
        if(i != chaArray.length){
            //å¦‚æœå‰ä¸€ä¸ªæ•°å­—å¤§äºåä¸€ä¸ªæ•°å­—ï¼Œå‰ä¸€ä¸ªæ•°å­—å‡ä¸€ï¼Œæ³¨æ„è¿™æ ·å‡äº†ä»¥åçš„æ•°å­—ä¸€å®šæ¯”åŸå…ˆçš„æ•°å­—å°ï¼Œæ¯”å¦‚855ï¼Œç¬¬ä¸€ä¸ªæ•°å­—å‡ä¸€å˜æˆ755ï¼Œè¿™é‡Œ75ä¸€å®šæ˜¯æ¯”855å°çš„ï¼Œç„¶åå†æ‰¾æœ€å¤§çš„æ•°å³799ï¼Œå°±åœ¨ä¸‹ä¸€ä¸ªæ“ä½œä¸­ä¸ºåé¢ä½æ•°çš„æ•°å­—éƒ½èµ‹9
            while(i>0&&chaArray[i-1]>chaArray[i]){
                chaArray[i-1]-=1;
                i--;
            }
            for(int j = i+1;j<chaArray.length;j++)
                chaArray[j] = '9';
        }
        return Integer.parseInt(new String(chaArray));
    }
```

## [881. æ•‘ç”Ÿè‰‡](https://leetcode.cn/problems/boats-to-save-people/)

éš¾åº¦ä¸­ç­‰260

ç»™å®šæ•°ç»„ `people` ã€‚`people[i]`è¡¨ç¤ºç¬¬ `i` ä¸ªäººçš„ä½“é‡ ï¼Œ**èˆ¹çš„æ•°é‡ä¸é™**ï¼Œæ¯è‰˜èˆ¹å¯ä»¥æ‰¿è½½çš„æœ€å¤§é‡é‡ä¸º `limit`ã€‚

æ¯è‰˜èˆ¹æœ€å¤šå¯åŒæ—¶è½½ä¸¤äººï¼Œä½†æ¡ä»¶æ˜¯è¿™äº›äººçš„é‡é‡ä¹‹å’Œæœ€å¤šä¸º `limit`ã€‚

è¿”å› *æ‰¿è½½æ‰€æœ‰äººæ‰€éœ€çš„æœ€å°èˆ¹æ•°* ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼špeople = [1,2], limit = 3
è¾“å‡ºï¼š1
è§£é‡Šï¼š1 è‰˜èˆ¹è½½ (1, 2)
```

------------------

æ–¹æ³•ï¼šè´ªå¿ƒ
è¦ä½¿éœ€è¦çš„èˆ¹æ•°å°½å¯èƒ½åœ°å°‘ï¼Œåº”å½“ä½¿è½½ä¸¤äººçš„èˆ¹å°½å¯èƒ½åœ°å¤šã€‚

è®¾ people çš„é•¿åº¦ä¸º nã€‚è€ƒè™‘ä½“é‡æœ€è½»çš„äººï¼š

è‹¥ä»–ä¸èƒ½ä¸ä½“é‡æœ€é‡çš„äººåŒä¹˜ä¸€è‰˜èˆ¹ï¼Œé‚£ä¹ˆä½“é‡æœ€é‡çš„äººæ— æ³•ä¸ä»»ä½•äººåŒä¹˜ä¸€è‰˜èˆ¹ï¼Œæ­¤æ—¶åº”å•ç‹¬åˆ†é…ä¸€è‰˜èˆ¹ç»™ä½“é‡æœ€é‡çš„äººã€‚ä» people ä¸­å»æ‰ä½“é‡æœ€é‡çš„äººåï¼Œæˆ‘ä»¬ç¼©å°äº†é—®é¢˜çš„è§„æ¨¡ï¼Œå˜æˆæ±‚è§£å‰©ä½™ nâˆ’1 ä¸ªäººæ‰€éœ€çš„æœ€å°èˆ¹æ•°ï¼Œå°†å…¶åŠ ä¸€å³ä¸ºåŸé—®é¢˜çš„ç­”æ¡ˆã€‚
è‹¥ä»–èƒ½ä¸ä½“é‡æœ€é‡çš„äººåŒä¹˜ä¸€è‰˜èˆ¹ï¼Œé‚£ä¹ˆä»–èƒ½ä¸å…¶ä½™ä»»ä½•äººåŒä¹˜ä¸€è‰˜èˆ¹ï¼Œä¸ºäº†å°½å¯èƒ½åœ°åˆ©ç”¨èˆ¹çš„æ‰¿è½½é‡é‡ï¼Œé€‰æ‹©ä¸ä½“é‡æœ€é‡çš„äººåŒä¹˜ä¸€è‰˜èˆ¹æ˜¯æœ€ä¼˜çš„ã€‚ä» people ä¸­å»æ‰ä½“é‡æœ€è½»å’Œä½“é‡æœ€é‡çš„äººåï¼Œæˆ‘ä»¬ç¼©å°äº†é—®é¢˜çš„è§„æ¨¡ï¼Œå˜æˆæ±‚è§£å‰©ä½™ nâˆ’2 ä¸ªäººæ‰€éœ€çš„æœ€å°èˆ¹æ•°ï¼Œå°†å…¶åŠ ä¸€å³ä¸ºåŸé—®é¢˜çš„ç­”æ¡ˆã€‚åœ¨ä»£ç å®ç°æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆå¯¹ people æ’åºï¼Œç„¶åç”¨ä¸¤ä¸ªæŒ‡é’ˆåˆ†åˆ«æŒ‡å‘ä½“é‡æœ€è½»å’Œä½“é‡æœ€é‡çš„äººï¼ŒæŒ‰ç…§ä¸Šè¿°è§„åˆ™æ¥ç§»åŠ¨æŒ‡é’ˆï¼Œå¹¶ç»Ÿè®¡ç­”æ¡ˆã€‚

```java
 public int numRescueBoats(int[] people, int limit) {
int ans = 0,min = 0,max = people.length-1;
Arrays.sort(people);
while(min<=max){
if(people[min]+people[max]<=limit){
    //å¦‚æœæœ€å°çš„å’Œæœ€å¤§çš„é‡é‡å¯ä»¥è½½ï¼Œé‚£ä¹ˆå°±ä½œä¸ºä¸€è‰˜èˆ¹ï¼Œminç´¢å¼•åŠ ä¸€
    min++;
    
}
//å¦‚æœmin+max>limit,è¯´æ˜è¿™ä¸ªæœ€é‡çš„åªèƒ½å•ç‹¬åä¸€ä¸ªèˆ¹ï¼Œèˆ¹æ•°é‡åŠ ä¸€ï¼Œminä¸æ”¹å˜ï¼Œè¿™é‡Œä¸ç®¡æ˜¯å¦èƒ½è½½ï¼Œèˆ¹æ•°é‡éƒ½è¦åŠ ä¸€ï¼Œä½†æ˜¯å«ä¹‰ä¸ä¸€æ ·ï¼Œèƒ½è½½çš„æƒ…å†µä¸‹èˆ¹è½½äº†ä¸¤ä¸ªäººï¼Œä¸èƒ½è½½ä¸¤ä¸ªäººçš„æƒ…å†µä¸‹èˆ¹åªè½½äº†ä¸€ä¸ªäºº
max--;
ans++;
}
return ans;
    }
```

## é€†å‘æ€ç»´ åçš„äº†è®¡æ•°å™¨

åœ¨æ˜¾ç¤ºç€æ•°å­— startValue çš„åè®¡ç®—å™¨ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥æ‰§è¡Œä»¥ä¸‹ä¸¤ç§æ“ä½œï¼š

åŒå€ï¼ˆDoubleï¼‰ï¼šå°†æ˜¾ç¤ºå±ä¸Šçš„æ•°å­—ä¹˜ 2ï¼›
é€’å‡ï¼ˆDecrementï¼‰ï¼šå°†æ˜¾ç¤ºå±ä¸Šçš„æ•°å­—å‡ 1 ã€‚
ç»™å®šä¸¤ä¸ªæ•´æ•° startValue å’Œ target ã€‚è¿”å›æ˜¾ç¤ºæ•°å­— target æ‰€éœ€çš„æœ€å°æ“ä½œæ•°ã€‚

 

ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼šstartValue = 2, target = 3
è¾“å‡ºï¼š2
è§£é‡Šï¼šå…ˆè¿›è¡ŒåŒå€è¿ç®—ï¼Œç„¶åå†è¿›è¡Œé€’å‡è¿ç®— {2 -> 4 -> 3}.

------------------------





![image-20230118173445921](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230118173445921.png)



```java
public int brokenCalc(int X, int Y) {
        int ans = 0;
        while (Y > X) {
            ans++;
            if (Y % 2 == 1)
                Y++;
            else
                Y /= 2;
        }

        return ans + X - Y;
    }


```

## [870. ä¼˜åŠ¿æ´—ç‰Œ](https://leetcode.cn/problems/advantage-shuffle/)

éš¾åº¦ä¸­ç­‰359

ç»™å®šä¸¤ä¸ªå¤§å°ç›¸ç­‰çš„æ•°ç»„ `nums1` å’Œ `nums2`ï¼Œ`nums1` ç›¸å¯¹äº `nums2` çš„*ä¼˜åŠ¿*å¯ä»¥ç”¨æ»¡è¶³ `nums1[i] > nums2[i]` çš„ç´¢å¼• `i` çš„æ•°ç›®æ¥æè¿°ã€‚

è¿”å› nums1 çš„**ä»»æ„**æ’åˆ—ï¼Œä½¿å…¶ç›¸å¯¹äº `nums2` çš„ä¼˜åŠ¿æœ€å¤§åŒ–ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šnums1 = [2,7,11,15], nums2 = [1,10,4,11]
è¾“å‡ºï¼š[2,11,7,15]
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šnums1 = [12,24,8,32], nums2 = [13,25,32,11]
è¾“å‡ºï¼š[24,32,8,12]
```

-----

![image-20230204172946036](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230204172946036.png)

ä»£ç å®ç°æ—¶ï¼Œç”±äº nums 2ä¸èƒ½æ’åºï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªä¸‹æ ‡æ•°ç»„ 
idsï¼Œå¯¹ids æ’åºï¼Œå³ ids[0] å¯¹åº” nums 2ä¸­æœ€å°å€¼çš„ä¸‹æ ‡ï¼Œ


```java
public int[] advantageCount(int[] nums1, int[] nums2) {
    //è¿™æ ·è®¾è®¡å°±æ˜¯ä¸ºäº†å¯ä»¥çŸ¥é“nums2çš„åŸå§‹ç´¢å¼•æ˜¯å“ªä¸€ä¸ª
Integer[]index1=new Integer[nums1.length];
Integer[]index2=new Integer[nums2.length];
for(int i=0;i<nums2.length;i++)
{
    index1[i]=i;
    index2[i]=i;
}
int left=0,right=nums2.length-1;
int[]ans=new int[nums1.length];
Arrays.sort(index1,(o1,o2)->nums1[o1]-nums1[o2]);
Arrays.sort(index2,(o1,o2)->nums2[o1]-nums2[o2]);
for(int i = 0;i<nums1.length;i++){
if(nums1[index1[i]]>nums2[index2[left]])
{
   
    ans[index2[left]]=nums1[index1[i]];
     left++;
}
else{
    //åæ­£nums1ä¸­è¿™ä¸ªæœ€å°çš„å…ƒç´ æ¯”nums2ä¸­ä»»ä½•ä¸€ä¸ªå…ƒç´ éƒ½å°ï¼Œå¹²è„†é…å¯¹ä¸€ä¸ªnums2ä¸­æœ€å¤§çš„å…ƒç´ ï¼Œè¿™æ ·ums1ä¸­å‰©ä¸‹çš„å…ƒç´ æœ‰æœ€å¤§çš„å¯èƒ½æ¯”nums2ä¸­çš„å…ƒç´ å¤§
    ans[index2[right]]=nums1[index1[i]];
    right--;
}
}
return ans;
    }
```





## 754 åˆ°ç›®æ ‡å€¼çš„æœ€å°ç§»åŠ¨æ¬¡æ•°

åœ¨ä¸€æ ¹æ— é™é•¿çš„æ•°è½´ä¸Šï¼Œä½ ç«™åœ¨0çš„ä½ç½®ã€‚ç»ˆç‚¹åœ¨targetçš„ä½ç½®ã€‚

ä½ å¯ä»¥åšä¸€äº›æ•°é‡çš„ç§»åŠ¨ numMoves :

æ¯æ¬¡ä½ å¯ä»¥é€‰æ‹©å‘å·¦æˆ–å‘å³ç§»åŠ¨ã€‚
ç¬¬ i æ¬¡ç§»åŠ¨ï¼ˆä»  i == 1 å¼€å§‹ï¼Œåˆ° i == numMoves ï¼‰ï¼Œåœ¨é€‰æ‹©çš„æ–¹å‘ä¸Šèµ° i æ­¥ã€‚
ç»™å®šæ•´æ•° target ï¼Œè¿”å› åˆ°è¾¾ç›®æ ‡æ‰€éœ€çš„ æœ€å° ç§»åŠ¨æ¬¡æ•°(å³æœ€å° numMoves ) ã€‚

 

ç¤ºä¾‹ 1:

è¾“å…¥: target = 2
è¾“å‡º: 3
è§£é‡Š:
ç¬¬ä¸€æ¬¡ç§»åŠ¨ï¼Œä» 0 åˆ° 1 ã€‚
ç¬¬äºŒæ¬¡ç§»åŠ¨ï¼Œä» 1 åˆ° -1 ã€‚
ç¬¬ä¸‰æ¬¡ç§»åŠ¨ï¼Œä» -1 åˆ° 2 ã€‚

------------------

![image-20230114130319473](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230114130319473.png)

![image-20230114130334826](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230114130334826.png)

ç”±äºç›¸è· d=s-target<sï¼Œæ ¹æ®ç»“è®ºï¼Œåœ¨ d ä¸ºå¶æ•°æ—¶ï¼Œä¸€å®šå¯ä»¥é€‰æ‹©æŸäº›æ­¥ï¼Œæ»¡è¶³è¿™äº›æ­¥é•¿çš„å’Œä¸º d/2ï¼Œå°†è¿™äº›æ­¥åå‘ï¼Œå°±èƒ½æ°å¥½åˆ°è¾¾ç»ˆç‚¹ã€‚

ä»£ç å®ç°æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä¸æ–­å¾ªç¯ï¼Œç´¯åŠ å½“å‰æ­¥é•¿ nï¼Œå½“åˆ°è¾¾ï¼ˆè¶Šè¿‡ï¼‰ç»ˆç‚¹ä¸”ç›¸è·å¶æ•°æ—¶åœæ­¢ã€‚æœ€åä¸€æ­¥çš„æ­¥é•¿å³ä¸ºç­”æ¡ˆã€‚

![image-20230114141136476](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230114141136476.png)

æ³¨æ„ä¸ºä»€ä¹ˆæ˜¯delta/2:å› ä¸ºè´Ÿæ•°å’Œæ­£æ•°ç›¸å·®äº†ä¸¤å€ï¼Œæ¯”å¦‚è¯´-1å’Œ1ç›¸å·®1çš„äºŒå€ï¼Œ-2å’Œ2ç›¸å·®2çš„äºŒå€

```java
 public int reachNumber(int target) {
int cur=0,n=0;
target=Math.abs(target);
     //å¦‚æœå½“å‰è¿˜æ²¡åˆ°è¾¾targeæˆ–è€…å·²ç»èµ°è¿‡äº†targeä½†æ˜¯ä¸targeè·ç¦»ä¸ºå¥‡æ•°ï¼Œå°±ç»§ç»­å‘å‰èµ°
while(cur<target||(cur-target)%2==1)
{
 cur+=++n;
}
return n;

    }
```

## 300.æœ€é•¿é€’å¢å­åºåˆ—





![image-20230224014835940](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230224014835940.png)

![image-20230224021246298](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230224021246298.png)  

![image-20230224014853559](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230224014853559.png) 

```java
public int lengthOfLIS(int[] nums) {
        int len = 1, n = nums.length;
        if (n == 0) {
            return 0;
        }
        int[] d = new int[n + 1];
        d[len] = nums[0];
        for (int i = 1; i < n; ++i) {
            if (nums[i] > d[len]) {
                d[++len] = nums[i];
            } else {
                int l = 1, r = len, pos = 0; // å¦‚æœæ‰¾ä¸åˆ°è¯´æ˜æ‰€æœ‰çš„æ•°éƒ½æ¯” nums[i] å¤§ï¼Œæ­¤æ—¶è¦æ›´æ–° d[1]ï¼Œæ‰€ä»¥è¿™é‡Œå°† pos è®¾ä¸º 0
                while (l <= r) {
                    int mid = (l + r) >> 1;
                    if (d[mid] < nums[i]) {
                        pos = mid;
                        l = mid + 1;
                    } else {
                        r = mid - 1;
                    }
                }
                d[pos + 1] = nums[i];
            }
        }
        return len;
    }
```



# å­é›†ç”Ÿæˆç®—æ³•

1.å¢é‡æ„é€ æ³•

ç¬¬ä¸€ç§æ€è·¯æ˜¯ä¸€æ¬¡é€‰å‡ºä¸€ä¸ªå…ƒç´ æ”¾åˆ°é›†åˆä¸­ï¼Œç¨‹åºå¦‚ä¸‹ï¼š

```java
void print_subset(int n, int* A, int cur) {
for(int i = 0; i < cur; i++) printf("%d ", A[i]); //æ‰“å°å½“å‰é›†åˆ
printf("\n");
int s = cur ? A[cur-1]+1 : 0; //ç¡®å®šå½“å‰å…ƒç´ çš„æœ€å°å¯èƒ½å€¼
for(int i = s; i < n; i++) {
A[cur] = i;
print_subset(n, A, cur+1); //é€’å½’æ„é€ å­é›†
}
}
```

å’Œå‰é¢ä¸åŒï¼Œç”±äºAä¸­çš„å…ƒç´ ä¸ªæ•°ä¸ç¡®å®šï¼Œæ¯æ¬¡é€’å½’è°ƒç”¨éƒ½è¦è¾“å‡ºå½“å‰é›†åˆã€‚å¦å¤–ï¼Œé€’å½’è¾¹ç•Œä¹Ÿä¸éœ€è¦æ˜¾å¼ç¡®å®šâ€”â€”å¦‚æœæ— æ³•ç»§ç»­æ·»åŠ å…ƒç´ ï¼Œè‡ªç„¶å°±ä¸ä¼šå†é€’å½’äº†ã€‚
ä¸Šé¢çš„ä»£ç ç”¨åˆ°äº†å®šåºçš„æŠ€å·§ï¼šè§„å®šé›†åˆAä¸­æ‰€æœ‰å…ƒç´ çš„ç¼–å·ä»å°åˆ°å¤§æ’åˆ—ï¼Œå°±ä¸ä¼šæŠŠé›†åˆ{1, 2}æŒ‰ç…§{1, 2}å’Œ{2, 1}è¾“å‡ºä¸¤æ¬¡äº†ã€‚

2.ä½å‘é‡æ³•
ç¬¬äºŒç§æ€è·¯æ˜¯æ„é€ ä¸€ä¸ªä½å‘é‡B[i]ï¼Œè€Œä¸æ˜¯ç›´æ¥æ„é€ å­é›†Aæœ¬èº«ï¼Œå…¶ä¸­B[i]=1ï¼Œå½“ä¸”ä»…å½“iåœ¨å­é›†Aä¸­ã€‚é€’å½’å®ç°å¦‚ä¸‹ï¼š

```c++
void print_subset(int n,int *b,int cur)
{
    if(cur == n)
    {
        for(int i = 0;i < cur;i++)
        {
            if(b[i]) cout<<i;
            
        }
        cout<<"\n";
        return;
    }
    b[i] = 1;
    print_subset(n,b,cur);//é€‰ç¬¬curä¸ªå…ƒç´ 
    b[i] = 0;
    print_subset(n,b,cur);//ä¸é€‰ç¬¬curä¸ªå…ƒç´ 
    
}
```

å¿…é¡»å½“â€œæ‰€æœ‰å…ƒç´ æ˜¯å¦é€‰æ‹©â€å…¨éƒ¨ç¡®å®šå®Œæ¯•åæ‰æ˜¯ä¸€ä¸ªå®Œæ•´çš„å­é›†ï¼Œå› æ­¤ä»ç„¶åƒä»¥å‰é‚£æ ·å½“if(cur == n)æˆç«‹æ—¶æ‰è¾“å‡ºã€‚ç°åœ¨çš„è§£ç­”æ ‘ä¸Šæœ‰2047ä¸ªç»“ç‚¹ï¼Œæ¯”åˆšæ‰çš„æ–¹æ³•ç•¥å¤šã€‚è¿™ä¸ªä¹Ÿä¸éš¾ç†è§£ï¼šæ‰€æœ‰éƒ¨åˆ†è§£ï¼ˆä¸å®Œæ•´çš„è§£ï¼‰ä¹Ÿå¯¹åº”ç€è§£ç­”æ ‘ä¸Šçš„ç»“ç‚¹ã€‚ï¼ˆï¼Ÿä»€ä¹ˆæ„æ€ï¼‰

æç¤º7-5ï¼šåœ¨æšä¸¾å­é›†çš„ä½å‘é‡æ³•ä¸­ï¼Œè§£ç­”æ ‘çš„ç»“ç‚¹æ•°ç•¥å¤šï¼Œä½†åœ¨å¤šæ•°æƒ…å†µä¸‹ä»ç„¶å¤Ÿå¿«ã€‚
è¿™æ˜¯ä¸€æ£µn+1å±‚çš„äºŒå‰æ ‘ï¼ˆcurçš„èŒƒå›´ä»0ï½nï¼‰ï¼Œç¬¬0å±‚æœ‰1ä¸ªç»“ç‚¹ï¼Œç¬¬1å±‚æœ‰2ä¸ªç»“ç‚¹ï¼Œç¬¬2å±‚æœ‰4ä¸ªç»“ç‚¹ï¼Œç¬¬3å±‚æœ‰8ä¸ªç»“ç‚¹ï¼Œâ€¦â€¦ï¼Œç¬¬iå±‚æœ‰2iä¸ªç»“ç‚¹ï¼Œæ€»æ•°ä¸º1+2+4+8+â€¦+2n=2n+1-1ï¼Œå’Œå®éªŒç»“æœä¸€è‡´ã€‚

å¦‚å›¾7-2æ‰€ç¤ºä¸ºè¿™æ£µè§£ç­”æ ‘

![image-20210730124111310](C:\Users\14172\AppData\Roaming\Typora\typora-user-images\image-20210730124111310.png)

å¦å¤–ï¼Œè¿˜å¯ä»¥ç”¨äºŒè¿›åˆ¶æ¥è¡¨ç¤º{0, 1, 2,â€¦,n-1}çš„å­é›†Sï¼šä»å³å¾€å·¦ç¬¬iä½ï¼ˆå„ä½ä»0å¼€å§‹ç¼–å·ï¼‰è¡¨ç¤ºå…ƒç´ iæ˜¯å¦åœ¨é›†åˆSä¸­ã€‚å›¾7-3å±•ç¤ºäº†äºŒè¿›åˆ¶0100011000110111æ˜¯å¦‚ä½•è¡¨ç¤ºé›†åˆ{0, 1,2, 4, 5, 9, 10, 14}çš„ã€‚

![image-20210730124340583](C:\Users\14172\AppData\Roaming\Typora\typora-user-images\image-20210730124340583.png)

æ³¨æ„ï¼šä¸ºäº†å¤„ç†æ–¹ä¾¿ï¼Œæœ€å³è¾¹çš„ä½æ€»æ˜¯å¯¹åº”å…ƒç´ 0ï¼Œè€Œä¸æ˜¯å…ƒç´ 1ã€‚

æ­¤æ—¶ä»…è¡¨ç¤ºå‡ºé›†åˆæ˜¯ä¸å¤Ÿçš„ï¼Œè¿˜éœ€è¦å¯¹é›†åˆè¿›è¡Œæ“ä½œã€‚å¹¸è¿çš„æ˜¯ï¼Œå¸¸è§çš„é›†åˆè¿ç®—éƒ½å¯ä»¥ç”¨ä½è¿ç®—ç¬¦ç®€å•å®ç°ã€‚æœ€å¸¸è§çš„äºŒå…ƒä½è¿ç®—æ˜¯ä¸ï¼ˆ&ï¼‰ã€æˆ–ï¼ˆ|ï¼‰ã€éï¼ˆ!ï¼‰ï¼Œå®ƒä»¬å’Œå¯¹åº”çš„é€»è¾‘è¿ç®—éå¸¸ç›¸ä¼¼

![image-20210730133721425](C:\Users\14172\AppData\Roaming\Typora\typora-user-images\image-20210730133721425.png)

ä¸éš¾çœ‹å‡ºï¼ŒA&Bã€A|Bå’ŒA^Båˆ†åˆ«å¯¹åº”é›†åˆçš„äº¤ã€å¹¶å’Œå¯¹ç§°å·®ã€‚å¦å¤–ï¼Œç©ºé›†ä¸º0ï¼Œå…¨é›†{0,1, 2,â€¦, n-1}çš„äºŒè¿›åˆ¶ä¸ºnä¸ª1ï¼Œå³åè¿›åˆ¶çš„2n-1ã€‚ä¸ºäº†æ–¹ä¾¿ï¼Œå¾€å¾€åœ¨ç¨‹åºä¸­æŠŠå…¨é›†å®šä¹‰ä¸ºALL_BITS= (1<<n)-1ï¼Œåˆ™Açš„è¡¥é›†å°±æ˜¯ALL_BITS^Aã€‚å½“ç„¶ï¼Œç›´æ¥ç”¨æ•´æ•°å‡æ³•ALL_BITS -Aä¹Ÿ
å¯ä»¥ï¼Œä½†é€Ÿåº¦æ¯”ä½è¿ç®—â€œ^â€æ…¢



ä¸‹é¢çš„ç¨‹åºè¾“å‡ºå­é›†Så¯¹åº”çš„å„ä¸ªå…ƒç´ ï¼š

```c++
void print_subset(int n, int s) { //æ‰“å°{0, 1, 2,..., n-1}çš„å­é›†S
for(int i = 0; i < n; i++)
if(s&(1<<i)) printf("%d ", i); //è¿™é‡Œåˆ©ç”¨äº†Cè¯­è¨€"é0å€¼éƒ½ä¸ºçœŸ"çš„è§„å®š
printf("\n");
}
int main()
{
	int nn = 4;
for(int i = 0;i < (1 << nn);i++)
print_subset(nn,i);
}

```

![image-20210730144126383](C:\Users\14172\AppData\Roaming\Typora\typora-user-images\image-20210730144126383.png)









# hashç¼–ç 

ä½¿ç”¨å“ˆå¸Œï¼ˆhashï¼‰æŠ€æœ¯ã€‚ç®€å•åœ°è¯´ï¼Œå°±æ˜¯è¦æŠŠç»“ç‚¹â€œå˜æˆâ€æ•´æ•°ï¼Œä½†ä¸å¿…æ˜¯ä¸€ä¸€å¯¹åº”ã€‚æ¢å¥è¯è¯´ï¼Œåªéœ€è¦è®¾è®¡ä¸€ä¸ªæ‰€è°“çš„å“ˆå¸Œå‡½æ•°h(x)ï¼Œç„¶åå°†ä»»æ„ç»“ç‚¹xæ˜ å°„åˆ°æŸä¸ªç»™å®šèŒƒå›´[ 0 , M-1]çš„æ•´æ•°å³å¯ï¼Œå…¶ä¸­Mæ˜¯ç¨‹åºå‘˜æ ¹æ®å¯ç”¨å†…å­˜å¤§å°è‡ªé€‰çš„ã€‚åœ¨ç†æƒ³æƒ…å†µä¸‹ï¼Œåªéœ€å¼€ä¸€ä¸ªå¤§å°ä¸ºMçš„æ•°ç»„å°±èƒ½å®Œæˆåˆ¤é‡ï¼Œä½†æ­¤æ—¶å¾€å¾€ä¼šæœ‰ä¸åŒç»“ç‚¹çš„å“ˆå¸Œå€¼ç›¸åŒï¼Œå› æ­¤éœ€è¦æŠŠå“ˆå¸Œå€¼ç›¸åŒçš„çŠ¶æ€ç»„ç»‡æˆé“¾è¡¨ï¼Œç»†èŠ‚å‚è§ä¸‹é¢çš„ä»£ç ï¼š

```c
const int hashsize = 1000003;
int head[hashsize],next[maxstate];
void init_lookup_table(){
    memset(head,0,sizof(head));
}
int hash(State& s)
{
    int v = 0;
    for(int i = 0;i < 9;i++)
        v= v*10+s[i];//æŠŠ9ä¸ªæ•°å­—ç»„åˆæˆ9ä½æ•°
    return v%hashsize;//ç¡®ä¿hashå‡½æ•°å€¼æ˜¯ä¸è¶…è¿‡hashè¡¨çš„å¤§å°çš„éè´Ÿæ•´æ•°
}
int try_to_insert(int s)
{
    int h = hash(st[s]);
    int u = head[h];
    while(u)
    {
        if(memcmp(st[u],st[s],sizeof(s)) == 0)//æ‰¾åˆ°äº†ä¸€æ ·çš„ï¼Œæ’å…¥å¤±è´¥
            u = next[u];
    }
    next[s] = head[h];
    head[h] = s;//æ’å…¥æ“ä½œ
    ret
}
```



# é«˜æ•ˆæ±‚ç´ æ•°ä¸ªæ•°

```java
int countPrimes(int n) {
boolean[] isPrim = new boolean[n];
    Arrays.fill(isPrime,true);
    for(int i = 2;i * i < n;i++)
        if(isPrim[i])
        {
            for(int j = i*i;j < n;j += i)
                isPrime[j] = false;//içš„å€æ•°ä¸€å®šä¸æ˜¯
        }
    int count = 0;
    for(int i = 2;i < n;i++)
        if(isPrim[i]) count++;
    return count;//nä»¥å†…çš„ç´ æ•°ä¸ªæ•°
}
```

æœªä¼˜åŒ–æ—¶ï¼š

for (int i = 2; i < n; i++)
if (isPrim[i])
// i çš„å€æ•°ä¸å¯èƒ½æ˜¯ç´ æ•°äº†
for (int j = 2 * i; j < n; j += i)
isPrim[j] = false;

i ä¸éœ€è¦éå†åˆ° n ï¼Œâ½½åªéœ€è¦åˆ° sqrt(n) å³å¯ã€‚ä¸ºä»€ä¹ˆå‘¢ï¼Œ
æˆ‘ä»¬ä¸¾ä¸ªä¾‹â¼¦ï¼Œå‡è®¾ n = 12 ã€‚
12 = 2 Ã— 6
12 = 3 Ã— 4
12 = sqrt(12) Ã— sqrt(12)
12 = 4 Ã— 3
12 = 6 Ã— 2ï¼Œæ¢å¥è¯è¯´ï¼Œå¦‚æœåœ¨ [2,sqrt(n)] è¿™ä¸ªåŒºé—´ä¹‹å†…æ²¡æœ‰å‘ç°å¯æ•´é™¤å› â¼¦ï¼Œå°±å¯ä»¥ç›´æ¥æ–­å®š n æ˜¯ç´ æ•°äº†ï¼Œå› ä¸ºåœ¨åŒºé—´ [sqrt(n),n] ä¹Ÿâ¼€å®šä¸ä¼šå‘ç°å¯æ•´
é™¤å› â¼¦ã€‚

é¦–å…ˆä¼˜åŒ–i*i<n,å…¶æ¬¡ â½å¦‚ n = 25 ï¼Œ i = 4 æ—¶ç®—æ³•ä¼šæ ‡è®° 4 Ã— 2 = 8ï¼Œ4 Ã— 3 = 12 ç­‰ç­‰æ•°å­—ï¼Œä½†æ˜¯è¿™ä¸¤ä¸ªæ•°å­—å·²ç»è¢« i = 2 å’Œ i = 3 çš„ 2 Ã— 4 å’Œ 3 Ã— 4 æ ‡è®°äº†ã€‚å› æ­¤jä»içš„å¹³æ–¹å¼€å§‹

# é˜¿æ‹‰ä¼¯æ•°å­—è½¬ä¸­æ–‡

æ¯”å¦‚19 å˜æˆåä¹ 1001å˜æˆä¸€åƒé›¶ä¸€

```java
public static String num2cn (int n) {
    // write code here
    boolean negative = false;
    if(n==0){
        return "é›¶";
    }
    //å˜è´Ÿä¸ºæ­£
    if(n<0){
        n=Math.abs(n);
        negative=true;
    }
    StringBuilder stringBuilder = new StringBuilder();
    //æ•´æ•°è½¬å­—ç¬¦ä¸²
    String res = String.valueOf(n);
    String[] splits = res.split("");
    int length = splits.length;
    //æ„å»ºå•ä½é›†åˆï¼Œæ³¨æ„é‡é‡çº§çš„å•ä½è¦å€’è¿‡æ¥å†™
    HashMap<Integer,String> unitMap = new HashMap<>();
    //å› ä¸ºåé¢ä¼šå°†å­—ç¬¦ä¸²ç¿»è½¬ï¼Œæ‰€ä»¥è¿™é‡Œçš„æ˜¯åçš„ï¼Œæ¯”å¦‚ç™¾ä¸‡è¿™é‡Œæ˜¯ä¸‡ç™¾
    unitMap.put(1,"å");
    unitMap.put(2,"ç™¾");
    unitMap.put(3,"åƒ");
    unitMap.put(4,"ä¸‡");
    unitMap.put(5,"ä¸‡å");
    unitMap.put(6,"ä¸‡ç™¾");
    unitMap.put(7,"ä¸‡åƒ");
    unitMap.put(8,"äº¿");
    unitMap.put(9,"äº¿å");
    //æ„å»ºæ•°å­—é›†åˆ
    HashMap<String,String> numberMap = new HashMap<>();
    numberMap.put("0","é›¶");
    numberMap.put("1","ä¸€");
    numberMap.put("2","äºŒ");
    numberMap.put("3","ä¸‰");
    numberMap.put("4","å››");
    numberMap.put("5","äº”");
    numberMap.put("6","å…­");
    numberMap.put("7","ä¸ƒ");
    numberMap.put("8","å…«");
    numberMap.put("9","ä¹");
    //å°†é˜¿æ‹‰ä¼¯æ•°å­—è½¬ä¸ºä¸­æ–‡
    for (int i = length - 1; i >= 0; i--) {
        String temp = splits[i];
        if(!temp.equals("0")){
            stringBuilder.append(unitMap.getOrDefault(length-i-1,""));

            stringBuilder.append(numberMap.get(temp));
        } else {
            stringBuilder.append("é›¶");
        }
    }
    //å»é™¤æœ€å·¦è¾¹è¿ç»­çš„é›¶
    while (stringBuilder.charAt(0)=='é›¶'){
        stringBuilder.deleteCharAt(0);
    }
    //å»é™¤ä¸­é—´éƒ¨åˆ†è¿ç»­çš„é›¶ï¼Œåªä¿ç•™ä¸€ä¸ªé›¶
    for (int i = stringBuilder.length()-1; i >=0; i--) {
        //æ¯”å¦‚100002
        if(stringBuilder.charAt(i)=='é›¶'&&stringBuilder.charAt(i+1)=='é›¶'){
            stringBuilder.deleteCharAt(i);
        }
    }
    //å»æ‰æœ€å‰é¢çš„ä¸€åä¸­çš„ä¸€
    if(stringBuilder.charAt(stringBuilder.length()-1)=='ä¸€'&&
            stringBuilder.charAt(stringBuilder.length()-2)=='å'){
        //å¦‚æœä¸è¿›è¡Œè¿™ä¸ªå¤„ç†ï¼Œ19ä¼šå˜æˆä¸€åä¹ï¼Œå¤šäº†ä¸€ä¸ªä¸€
        stringBuilder.deleteCharAt(stringBuilder.length()-1);
    }
    //å¦‚æœæ˜¯è´Ÿæ•°è¿˜è¦æ·»åŠ è´Ÿå­—
    if(negative){
        stringBuilder.append("è´Ÿ");
    }
    StringBuilder reverseStringBuilder = stringBuilder.reverse();
    //å› ä¸ºäº¿å­—æœ‰é‡å¤ï¼Œæ‰€ä»¥è¦å»æ‰å¤šä½™çš„äº¿ï¼Œåªç•™ä¸€ä¸ªäº¿å­—
    int index = 0;
    for (int i = 0; i < reverseStringBuilder.length(); i++) {
        if(reverseStringBuilder.charAt(i)=='äº¿'){
            index++;
        }
    }
    while (index>1){
        for (int i = 0; i < reverseStringBuilder.length(); i++) {
            if(reverseStringBuilder.charAt(i)=='äº¿'){
                reverseStringBuilder.deleteCharAt(i);
                break;
            }
        }
        index--;
    }
    //å› ä¸ºä¸‡å­—æœ‰å¤šä½™ï¼Œæ‰€ä»¥è¦å»æ‰å¤šä½™çš„ä¸‡å­—ï¼Œåªç•™ä¸€ä¸ªä¸‡å­—
    index = 0;
    for (int i = 0; i < reverseStringBuilder.length(); i++) {
        if(reverseStringBuilder.charAt(i)=='ä¸‡'){
            index++;
        }
    }
    while (index>1){
        for (int i = 0; i < reverseStringBuilder.length(); i++) {
            if(reverseStringBuilder.charAt(i)=='ä¸‡'){
                reverseStringBuilder.deleteCharAt(i);
                break;
            }
        }
        index--;
    }
    return reverseStringBuilder.toString();
}
```

# é˜¿æ‹‰ä¼¯æ•°å­—è½¬è‹±æ–‡

![image-20230315235043464](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230315235043464.png) 

------

è¿™é‡Œå…ˆåˆ¤æ–­ä¸€äº›å¯ä»¥ç›´æ¥è¡¨ç¤ºçš„æ•°å­—ï¼Œå¯¹äºå…¶ä»–çš„æ•°å­—ï¼Œè¿›è¡Œé€’å½’åˆ¤æ–­ï¼Œä¸”è‹±è¯­ä¸­æœ‰ç™¾ã€åƒã€ç™¾ä¸‡ã€äº¿

```java
import java.util.Scanner;

// æ³¨æ„ç±»åå¿…é¡»ä¸º Main, ä¸è¦æœ‰ä»»ä½• package xxx ä¿¡æ¯
public class Main {
            static String[]ones=new String[]{"zero","one","two","three","four","five","six","seven","eight","nine"};
          static  String[] tens = new String[]{"ten","eleven","twelve","thirteen","forteen","fifteen","sixteen","seventeen","eighteen","nineteen"};
     static String[] twieties = new String[]{" "," ","twenty","thirty","forty","fifty","sixty","seventy","eighty","ninety"};
 static int[] range = new int[]{(int)1e2, (int)1e3, (int)1e6, (int)1e9, (int)1e12};
 static String[] ranges = new String[]{"hundred", "thousand", "million", "billion"};
    public static void main(String[] args) {

        Scanner sc = new Scanner(System.in);
        // æ³¨æ„ hasNext å’Œ hasNextLine çš„åŒºåˆ«
        int num = sc.nextInt();
            // è½¬æ¢
            System.out.println(transfer(num));
    }
      public static String transfer(int num){
     if(num <= 9) return ones[num];
        if(num <= 19) return tens[num % 10];
        if(num <= 99) return twieties[num / 10] + (num % 10 == 0 ? "" : " " + ones[num % 10]);
for(int i=0;i<4;i++)
{
    //æ³¨æ„è¿™é‡Œæ˜¯num<range[i+1]çš„æ—¶å€™æ‰è¿›å…¥åˆ¤æ–­ï¼Œä¹Ÿå°±æ˜¯æœ€å¼€å§‹æ˜¯æœ€å¤§çš„æ•°å­—åˆ¤æ–­çš„ï¼Œä¹Ÿå°±æ˜¯ä»äº¿åˆ°ç™¾ä¸‡åˆ°åƒ
    if(num < range[i+1]){
        //num%range[i]=0è¡¨ç¤ºæ˜¯100æˆ–1000æˆ–è€…1000000ç­‰çš„æ•´æ•°ï¼Œå¦‚æœæ˜¯ç™¾åˆ†ä½ä¸º0ï¼Œé‚£ä¹ˆä¸åŠ and ï¼Œåƒåˆ†ä½ç­‰ä¸º0 éœ€è¦åŠ and
        return transfer(num/range[i])+" "+ranges[i]+(num%range[i]==0?" ":(i!=0?" ":" and ")+transfer(num%range[i]));
    }
}
return "";
      }
}
```



# å‰ç¼€å’Œ+å“ˆå¸Œè¡¨

å½“å¾ªç¯åˆ° i æ—¶ï¼Œå¾€å¾€éœ€è¦å‰ i-1é¡¹ çš„å’Œæ¥å¤„ç†ã€‚
å¤šæ•°ç»“åˆhashmap ï¼Œä¸è¦é‡å¤å°±hashsetã€‚
hashmap.getOrDefault(key,0);
hashmapä¸­æœ‰å¯¹åº”keyå€¼è¿”å›å¯¹åº”value ï¼Œå¦åˆ™è¿”å›0ï¼Œ0å¯ä»¥éšä¾¿æ”¹ï¼Œç±»å‹ç¬¦åˆå°±ok

## [é¢è¯•é¢˜ 17.05.  å­—æ¯ä¸æ•°å­—](https://leetcode.cn/problems/find-longest-subarray-lcci/)

éš¾åº¦ä¸­ç­‰157

ç»™å®šä¸€ä¸ªæ”¾æœ‰å­—æ¯å’Œæ•°å­—çš„æ•°ç»„ï¼Œæ‰¾åˆ°æœ€é•¿çš„å­æ•°ç»„ï¼Œä¸”åŒ…å«çš„å­—æ¯å’Œæ•°å­—çš„ä¸ªæ•°ç›¸åŒã€‚

è¿”å›è¯¥å­æ•°ç»„ï¼Œè‹¥å­˜åœ¨å¤šä¸ªæœ€é•¿å­æ•°ç»„ï¼Œè¿”å›å·¦ç«¯ç‚¹ä¸‹æ ‡å€¼æœ€å°çš„å­æ•°ç»„ã€‚è‹¥ä¸å­˜åœ¨è¿™æ ·çš„æ•°ç»„ï¼Œè¿”å›ä¸€ä¸ªç©ºæ•°ç»„ã€‚

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: ["A","1","B","C","D","2","3","4","E","5","F","G","6","7","H","I","J","K","L","M"]

è¾“å‡º: ["A","1","B","C","D","2","3","4","E","5","F","G","6","7"]
```

------

```java
    public String[] findLongestSubarray(String[] array) {
    Map<Integer, Integer>index=new HashMap<Integer, Integer>();
        int sum=0;
        int len=0;
        int left=0,right=0;
        index.put(0,-1);//æ³¨æ„è¿™é‡Œå…ˆè¦æ”¾å…¥0ï¼Œ-1é”®å€¼å¯¹
        for (int i = 0; i < array.length; i++) {
             sum+= Character.isDigit(array[i].charAt(0))?1:-1;
            if(index.size()==0||!index.containsKey(sum))
                index.put(sum,i);
            else if(index.containsKey(sum))
            {
                if(i-index.get(sum)>len){
                    left=index.get(sum)+1;//è¦åŠ ä¸€
                    right=i;
                    len=Math.max(len,i-index.get(sum));
                }
               
            }
        }
        //å·¦é—­å³å¼€åŒºé—´ 
        return Arrays.copyOfRange(array,left,left+len);
    }
```







## [525. è¿ç»­æ•°ç»„](https://leetcode-cn.com/problems/contiguous-array/)

éš¾åº¦ä¸­ç­‰516

ç»™å®šä¸€ä¸ªäºŒè¿›åˆ¶æ•°ç»„ `nums` , æ‰¾åˆ°å«æœ‰ç›¸åŒæ•°é‡çš„ `0` å’Œ `1` çš„æœ€é•¿è¿ç»­å­æ•°ç»„ï¼Œå¹¶è¿”å›è¯¥å­æ•°ç»„çš„é•¿åº¦ã€‚

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: nums = [0,1]
è¾“å‡º: 2
è¯´æ˜: [0, 1] æ˜¯å…·æœ‰ç›¸åŒæ•°é‡ 0 å’Œ 1 çš„æœ€é•¿è¿ç»­å­æ•°ç»„
```

----

![image-20220206163143493](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220206163143493.png)



æ ‡prevIndex+1 åˆ°ä¸‹æ ‡ içš„å­æ•°ç»„ä¸­æœ‰ç›¸åŒæ•°é‡çš„ 0 å’Œ 1ï¼Œè¯¥å­æ•°ç»„çš„é•¿åº¦ä¸º iâˆ’prevIndexï¼Œä½¿ç”¨è¯¥å­æ•°ç»„çš„é•¿åº¦æ›´æ–°æœ€é•¿è¿ç»­å­æ•°ç»„çš„é•¿åº¦ï¼›

å¦‚æœcounter çš„å€¼åœ¨å“ˆå¸Œè¡¨ä¸­ä¸å­˜åœ¨ï¼Œåˆ™å°†å½“å‰ä½™æ•°å’Œå½“å‰ä¸‹æ ‡ i çš„é”®å€¼å¯¹å­˜å…¥å“ˆå¸Œè¡¨ä¸­ã€‚

ç”±äºå“ˆå¸Œè¡¨å­˜å‚¨çš„æ˜¯ counter çš„æ¯ä¸ªå–å€¼ç¬¬ä¸€æ¬¡å‡ºç°çš„ä¸‹æ ‡ï¼Œå› æ­¤å½“é‡åˆ°é‡å¤çš„å‰ç¼€å’Œæ—¶ï¼Œæ ¹æ®å½“å‰ä¸‹æ ‡å’Œå“ˆå¸Œè¡¨ä¸­å­˜å‚¨çš„ä¸‹æ ‡è®¡ç®—å¾—åˆ°çš„å­æ•°ç»„é•¿åº¦æ˜¯ä»¥å½“å‰ä¸‹æ ‡ç»“å°¾çš„å­æ•°ç»„ä¸­æ»¡è¶³æœ‰ç›¸åŒæ•°é‡çš„ 0 å’Œ 1 çš„æœ€é•¿å­æ•°ç»„çš„é•¿åº¦ã€‚éå†ç»“æŸæ—¶ï¼Œå³å¯å¾—åˆ° nums ä¸­çš„æœ‰ç›¸åŒæ•°é‡çš„ 0 å’Œ 1 çš„æœ€é•¿å­æ•°ç»„çš„é•¿åº¦ã€‚

è¿™é“é¢˜æœ€å…³é”®çš„å°±æ˜¯åœ¨éå†åˆ°å½“å‰1çš„æ•°é‡æ—¶å€™ï¼Œå¦‚ä½•çŸ¥é“ä»å“ªä¸ªç´¢å¼•å¼€å§‹åˆ°å½“å‰ä½ç½®å‡ºç°äº†åŒæ ·æ•°é‡çš„0ï¼Œéœ€è¦è¿›è¡Œè½¬åŒ–

```java
   class Solution {
    public int findMaxLength(int[] nums) {

for(int i=0;i<nums.length;i++)
if(nums[i]==0) nums[i]=-1;
int pre=0;
Map<Integer,Integer>map=new HashMap<>();
int len=0;
map.put(0,-1);
for(int i=0;i<nums.length;i++)
{
    pre+=nums[i];
    if(map.containsKey(pre))
len=Math.max(len,i-map.get(pre));
else
map.put(pre,i);
}
return len;
    }
```



## [560. å’Œä¸º K çš„å­æ•°ç»„ä¸ªæ•°](https://leetcode-cn.com/problems/subarray-sum-equals-k/)

éš¾åº¦ä¸­ç­‰1306

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` å’Œä¸€ä¸ªæ•´æ•° `k` ï¼Œè¯·ä½ ç»Ÿè®¡å¹¶è¿”å›è¯¥æ•°ç»„ä¸­å’Œä¸º `k` çš„è¿ç»­å­æ•°ç»„çš„ä¸ªæ•°ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šnums = [1,1,1], k = 2
è¾“å‡ºï¼š2
```

---

![image-20220213213932827](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220213213932827.png)

```java
 int tot = 0;
    public int subarraySum(int[] nums, int k) {
        int index,sum;
        HashMap<Integer,Integer>map = new HashMap<>();
        int pre=0,count=0;
         map.put(0, 1);//   å¯ä»¥è®¤ä¸ºå‰ç¼€å’Œä¸º 0ï¼Œä¸ªæ•°ä¸º 1 ä¸ª
        for(int i = 0;i < nums.length;i++)
        {
          pre +=nums[i];
          if(map.get(pre-k) != null)
          {
count+=map.get(pre-k);
          }
          map.put(pre,map.getOrDefault(pre,0)+1);
        }
//dfs(nums,i,0,k);

return count;
    }
```

## 209.å’Œå¤§äºkçš„æœ€çŸ­å­æ•°ç»„

ç»™å®šä¸€ä¸ªå«æœ‰ n ä¸ªæ­£æ•´æ•°çš„æ•°ç»„å’Œä¸€ä¸ªæ­£æ•´æ•° target ã€‚

æ‰¾å‡ºè¯¥æ•°ç»„ä¸­æ»¡è¶³å…¶å’Œ â‰¥ target çš„é•¿åº¦æœ€å°çš„ è¿ç»­å­æ•°ç»„ [numsl, numsl+1, ..., numsr-1, numsr] ï¼Œå¹¶è¿”å›å…¶é•¿åº¦ã€‚å¦‚æœä¸å­˜åœ¨ç¬¦åˆæ¡ä»¶çš„å­æ•°ç»„ï¼Œè¿”å› 0



è¿™ä¸ªé¢˜å¯ä»¥é‡‡ç”¨å‰ç¼€å’Œï¼Œä¹Ÿå¯ä»¥ç”¨äºŒåˆ†æŸ¥æ‰¾ï¼š

```java
  public int minSubArrayLen(int s, int[] nums) {
        int n = nums.length;
        if (n == 0) {
            return 0;
        }
        int ans = Integer.MAX_VALUE;
        int[] sums = new int[n + 1]; 
        // ä¸ºäº†æ–¹ä¾¿è®¡ç®—ï¼Œä»¤ size = n + 1 
        // sums[0] = 0 æ„å‘³ç€å‰ 0 ä¸ªå…ƒç´ çš„å‰ç¼€å’Œä¸º 0
        // sums[1] = A[0] å‰ 1 ä¸ªå…ƒç´ çš„å‰ç¼€å’Œä¸º A[0]
        // ä»¥æ­¤ç±»æ¨
        for (int i = 1; i <= n; i++) {
            sums[i] = sums[i - 1] + nums[i - 1];
        }
        for (int i = 1; i <= n; i++) {
            int target = s + sums[i - 1];
            int bound = Arrays.binarySearch(sums, target);
            if (bound < 0) {
                bound = -bound - 1;
            }
            if (bound <= n) {
                ans = Math.min(ans, bound - (i - 1));
            }
        }
        return ans == Integer.MAX_VALUE ? 0 : ans;
    }


```



## [523. å’Œä¸ºkçš„næ¬¡æ–¹çš„å­æ•°ç»„](https://leetcode-cn.com/problems/continuous-subarray-sum/)

éš¾åº¦ä¸­ç­‰

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` å’Œä¸€ä¸ªæ•´æ•° `k` ï¼Œç¼–å†™ä¸€ä¸ªå‡½æ•°æ¥åˆ¤æ–­è¯¥æ•°ç»„æ˜¯å¦å«æœ‰åŒæ—¶æ»¡è¶³ä¸‹è¿°æ¡ä»¶çš„è¿ç»­å­æ•°ç»„ï¼š

- å­æ•°ç»„å¤§å° **è‡³å°‘ä¸º 2** ï¼Œä¸”
- å­æ•°ç»„å…ƒç´ æ€»å’Œä¸º `k` çš„å€æ•°ã€‚

å¦‚æœå­˜åœ¨ï¼Œè¿”å› `true` ï¼›å¦åˆ™ï¼Œè¿”å› `false` ã€‚

å¦‚æœå­˜åœ¨ä¸€ä¸ªæ•´æ•° `n` ï¼Œä»¤æ•´æ•° `x` ç¬¦åˆ `x = n * k` ï¼Œåˆ™ç§° `x` æ˜¯ `k` çš„ä¸€ä¸ªå€æ•°ã€‚`0` å§‹ç»ˆè§†ä¸º `k` çš„ä¸€ä¸ªå€æ•°ã€‚

---------

```java
    public boolean checkSubarraySum(int[] nums, int k) {
           if(nums.length<2) return false;
      HashMap<Integer,Integer>map = new HashMap<>();
        int pre=0,count=0;
        //pre[i] - pre[j-1] = k*n pre[i] pre[j-1]é™¤ä»¥kçš„ä½™æ•°ç›¸åŒ è¿™é“é¢˜ä¸­å“ˆå¸Œè¡¨ä¸­å€¼å­˜æ”¾çš„æ˜¯ä¸‹æ ‡ï¼Œä¸Šä¸€é“é¢˜æ˜¯ä¸ªæ•°
         map.put(0, -1);//  å°¤å…¶æ³¨æ„è¿™é“é¢˜ä¸­è¿™ä¸ªç‚¹å¾ˆå®¹æ˜“è¢«å¿½ç•¥ï¼Œåˆå§‹è¦æ”¾å…¥ï¼ˆ0ï¼Œ-1ï¼‰é”®å€¼å¯¹,å¦åˆ™å¾—ä¸åˆ°æ­£ç¡®ç»“æœ
        for(int i = 0;i < nums.length;i++)
        {
pre =(pre+ nums[i])%k;
if(map.get(pre)!= null)//å¦‚æœè¿™ä¸ªæ•°å·²ç»å­˜åœ¨
{
    int number = map.get(pre);
    if(i- number>=2) return true;
 //å“ˆå¸Œè¡¨ä¸­çš„å€¼æ˜¯ä¸‹æ ‡
}
else
map.put(pre,i);
        }
        return false;
    }
```



![image-20220213214723885](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220213214723885.png)

## [å’Œå¯è¢« K æ•´é™¤çš„å­æ•°ç»„](https://leetcode.cn/problems/subarray-sums-divisible-by-k/)

éš¾åº¦ä¸­ç­‰374

ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` å’Œä¸€ä¸ªæ•´æ•° `k` ï¼Œè¿”å›å…¶ä¸­å…ƒç´ ä¹‹å’Œå¯è¢« `k` æ•´é™¤çš„ï¼ˆè¿ç»­ã€éç©ºï¼‰ **å­æ•°ç»„** çš„æ•°ç›®ã€‚

**å­æ•°ç»„** æ˜¯æ•°ç»„çš„ **è¿ç»­** éƒ¨åˆ†ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šnums = [4,5,0,-2,-3,1], k = 5
è¾“å‡ºï¼š7
è§£é‡Šï¼š
æœ‰ 7 ä¸ªå­æ•°ç»„æ»¡è¶³å…¶å…ƒç´ ä¹‹å’Œå¯è¢« k = 5 æ•´é™¤ï¼š
[4, 5, 0, -2, -3, 1], [5], [5, 0], [5, 0, -2, -3], [0], [0, -2, -3], [-2, -3]
```



-----

![image-20220803213506677](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220803213506677.png)

```java
   public int subarraysDivByK(int[] nums, int k) {
        //å› æ­¤æˆ‘ä»¬å¯ä»¥è€ƒè™‘å¯¹æ•°ç»„è¿›è¡Œéå†ï¼Œåœ¨éå†åŒæ—¶ç»Ÿè®¡ç­”æ¡ˆã€‚å½“æˆ‘ä»¬éå†åˆ°ç¬¬ i ä¸ªå…ƒç´ æ—¶ï¼Œæˆ‘ä»¬ç»Ÿè®¡ä»¥ i ç»“å°¾çš„ç¬¦åˆæ¡ä»¶çš„å­æ•°ç»„ä¸ªæ•°ã€‚æˆ‘ä»¬å¯ä»¥ç»´æŠ¤ä¸€ä¸ªä»¥å‰ç¼€å’Œæ¨¡ k çš„å€¼ä¸ºé”®ï¼Œå‡ºç°æ¬¡æ•°ä¸ºå€¼çš„å“ˆå¸Œè¡¨ recordï¼Œåœ¨éå†çš„åŒæ—¶è¿›è¡Œæ›´æ–°ã€‚è¿™æ ·åœ¨è®¡ç®—ä»¥ ii ç»“å°¾çš„ç¬¦åˆæ¡ä»¶çš„å­æ•°ç»„ä¸ªæ•°æ—¶ï¼Œæ ¹æ®ä¸Šé¢çš„åˆ†æï¼Œç­”æ¡ˆå³ä¸º [0..i-1]ä¸­å‰ç¼€å’Œæ¨¡ k ä¹Ÿä¸º P[i] mod k çš„ä½ç½®ä¸ªæ•°ï¼Œå³record[P[i]modk]ã€‚

int ans = 0,left=0,right=0,total = 0;
Map<Integer,Integer>map = new HashMap<>();
map.put(0,1);
for(int i = 0;i<nums.length;i++){
    total+=nums[i];
// æ³¨æ„ Java å–æ¨¡çš„ç‰¹æ®Šæ€§ï¼Œå½“è¢«é™¤æ•°ä¸ºè´Ÿæ•°æ—¶å–æ¨¡ç»“æœä¸ºè´Ÿæ•°ï¼Œéœ€è¦çº æ­£,è¿™é‡Œè¯•äº†ä¸€ä¸‹ï¼Œå¦‚æœtotaléƒ½æ˜¯æ­£æ•°ï¼Œåˆ™ç”¨total%kä¹Ÿå¯ä»¥å¾—å‡ºæ­£ç¡®ç»“æœï¼Œå¦åˆ™è¦ç”¨ä¸‹é¢çš„å†™æ³•
  int modans = (total %k+k)%k;
  int same = map.getOrDefault(modans,0);
  ans +=same;
  map.put(modans,same+1);
  }
 
return ans;
}
```

## [1031. ä¸¤ä¸ªéé‡å å­æ•°ç»„çš„æœ€å¤§å’Œ](https://leetcode.cn/problems/maximum-sum-of-two-non-overlapping-subarrays/)

éš¾åº¦ä¸­ç­‰140

ç»™å‡ºéè´Ÿæ•´æ•°æ•°ç»„ `A` ï¼Œè¿”å›ä¸¤ä¸ªéé‡å ï¼ˆè¿ç»­ï¼‰å­æ•°ç»„ä¸­å…ƒç´ çš„æœ€å¤§å’Œï¼Œå­æ•°ç»„çš„é•¿åº¦åˆ†åˆ«ä¸º `L` å’Œ `M`ã€‚ï¼ˆè¿™é‡Œéœ€è¦æ¾„æ¸…çš„æ˜¯ï¼Œé•¿ä¸º L çš„å­æ•°ç»„å¯ä»¥å‡ºç°åœ¨é•¿ä¸º M çš„å­æ•°ç»„ä¹‹å‰æˆ–ä¹‹åã€‚ï¼‰

ä»å½¢å¼ä¸Šçœ‹ï¼Œè¿”å›æœ€å¤§çš„ `V`ï¼Œè€Œ `V = (A[i] + A[i+1] + ... + A[i+L-1]) + (A[j] + A[j+1] + ... + A[j+M-1])` å¹¶æ»¡è¶³ä¸‹åˆ—æ¡ä»¶ä¹‹ä¸€ï¼š

 

- `0 <= i < i + L - 1 < j < j + M - 1 < A.length`, **æˆ–**
- `0 <= j < j + M - 1 < i < i + L - 1 < A.length`.

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šA = [0,6,5,2,2,5,1,9,4], L = 1, M = 2
è¾“å‡ºï¼š20
è§£é‡Šï¼šå­æ•°ç»„çš„ä¸€ç§é€‰æ‹©ä¸­ï¼Œ[9] é•¿åº¦ä¸º 1ï¼Œ[6,5] é•¿åº¦ä¸º 2ã€‚
```

**ç¤ºä¾‹ 2ï¼š**

è¾“å…¥ï¼šA = [3,8,1,3,2,1,8,9,0], L = 3, M = 2
è¾“å‡ºï¼š29
è§£é‡Šï¼šå­æ•°ç»„çš„ä¸€ç§é€‰æ‹©ä¸­ï¼Œ[3,8,1] é•¿åº¦ä¸º 3ï¼Œ[8,9] é•¿åº¦ä¸º 2ã€‚

-------

è€ƒè™‘é¢˜æ„: å¿…ç„¶å­˜åœ¨ä¸€æ¡åˆ†ç•Œçº¿æŠŠ A æ‹†åˆ†æˆä¸¤åŠï¼Œå­˜åœ¨ä¸¤å¤§ç±»æƒ…å†µï¼š
é•¿åº¦ä¸º L çš„è¿ç»­å­æ•°ç»„åœ¨å·¦è¾¹, é•¿åº¦ä¸º M çš„è¿ç»­å­æ•°ç»„åœ¨å³è¾¹
æˆ–è€…åè¿‡æ¥é•¿åº¦ä¸º M çš„è¿ç»­å­æ•°ç»„åœ¨å·¦è¾¹, é•¿åº¦ä¸º L çš„è¿ç»­å­æ•°ç»„åœ¨å³è¾¹
å¼•å…¥

```
dp[i][0]: ä» A[0]åˆ°A[i] è¿ç»­ L é•¿åº¦å­æ•°ç»„æœ€å¤§çš„å…ƒç´ å’Œ
dp[i][1]: ä» A[0]åˆ°A[i] è¿ç»­ M é•¿åº¦å­æ•°ç»„æœ€å¤§çš„å…ƒç´ å’Œ
dp[i][2]: ä» A[i]åˆ°A[A.size()-1] è¿ç»­ L é•¿åº¦å­æ•°ç»„æœ€å¤§çš„å…ƒç´ å’Œ
dp[i][3]: ä» A[i]åˆ°A[A.size()-1] è¿ç»­ M é•¿åº¦å­æ•°ç»„æœ€å¤§çš„å…ƒç´ å’Œ
```

```java
 public int maxSumTwoNoOverlap(int[] nums, int firstLen, int secondLen) {
int[][]dp = new int[nums.length][4];
int prenum = 0;
for(int i = 0;i < firstLen;i++){
    prenum+=nums[i];
        }
int maxnum = prenum;
dp[firstLen-1][0]=maxnum;
for(int i = firstLen;i < nums.length;i++){
    prenum -=nums[i-firstLen];
    prenum+=nums[i];
    maxnum = Math.max(maxnum,prenum);
    dp[i][0] = maxnum;
}
prenum = 0;
for(int i = 0;i < secondLen;i++){
    prenum+=nums[i];
}
maxnum = prenum;
dp[secondLen-1][1] = maxnum;
for(int i = secondLen;i<nums.length;i++){
    prenum -=nums[i-secondLen];
    prenum+=nums[i];
    dp[i][1] = Math.max(prenum,maxnum);
}
        prenum = 0;
        for (int i =nums.length - 1; i >= nums.length -firstLen; --i)
        {
            prenum += nums[i];
        }

        dp[nums.length - firstLen][2] = prenum;
        maxnum = prenum;
        for (int i =nums.length - firstLen- 1; i >= 0; --i)
        {
            prenum -= nums[i + firstLen];
            prenum += nums[i];
            maxnum = Math.max(maxnum, prenum);
            dp[i][2] = maxnum;
        }
        prenum = 0;
        for(int i = nums.length -1;i>=nums.length-secondLen;i--){
            prenum+=nums[i];
        }
        dp[nums.length-secondLen][3]=prenum;
maxnum = prenum;
        for(int i = nums.length-secondLen-1;i>=0;i--)
        {
            prenum-=nums[i+secondLen];
            prenum+=nums[i];
            maxnum =  Math.max(maxnum,prenum);
            dp[i][3] = maxnum;
        }
        //è®¡ç®—ç­”æ¡ˆ
        int res = 0;
        //Låœ¨Må·¦è¾¹
        for (int i =firstLen; i <= nums.length - secondLen; ++i)
            res = Math.max(res, dp[i - 1][0] + dp[i][3]);
        //Måœ¨Lå·¦è¾¹
        for (int i = secondLen; i <= nums.length - firstLen; ++i)
            res = Math.max(res, dp[i - 1][1] + dp[i][2]);

        return res;
    }
```

## [848. å­—æ¯ç§»ä½](https://leetcode.cn/problems/shifting-letters/)

éš¾åº¦ä¸­ç­‰65

æœ‰ä¸€ä¸ªç”±å°å†™å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸² `s`ï¼Œå’Œä¸€ä¸ªé•¿åº¦ç›¸åŒçš„æ•´æ•°æ•°ç»„ `shifts`ã€‚

æˆ‘ä»¬å°†å­—æ¯è¡¨ä¸­çš„ä¸‹ä¸€ä¸ªå­—æ¯ç§°ä¸ºåŸå­—æ¯çš„ *ç§»ä½* `shift()` ï¼ˆç”±äºå­—æ¯è¡¨æ˜¯ç¯ç»•çš„ï¼Œ `'z'` å°†ä¼šå˜æˆ `'a'`ï¼‰ã€‚

- ä¾‹å¦‚ï¼Œ`shift('a') = 'b', ``shift('t') = 'u'`, ä»¥åŠ `shift('z') = 'a'`ã€‚

å¯¹äºæ¯ä¸ª `shifts[i] = x` ï¼Œ æˆ‘ä»¬ä¼šå°† `s` ä¸­çš„å‰ `i + 1` ä¸ªå­—æ¯ç§»ä½ `x` æ¬¡ã€‚

è¿”å› *å°†æ‰€æœ‰è¿™äº›ç§»ä½éƒ½åº”ç”¨åˆ° `s` åæœ€ç»ˆå¾—åˆ°çš„å­—ç¬¦ä¸²* ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šs = "abc", shifts = [3,5,9]
è¾“å‡ºï¼š"rpl"
è§£é‡Šï¼š 
æˆ‘ä»¬ä»¥ "abc" å¼€å§‹ã€‚
å°† S ä¸­çš„ç¬¬ 1 ä¸ªå­—æ¯ç§»ä½ 3 æ¬¡åï¼Œæˆ‘ä»¬å¾—åˆ° "dbc"ã€‚
å†å°† S ä¸­çš„å‰ 2 ä¸ªå­—æ¯ç§»ä½ 5 æ¬¡åï¼Œæˆ‘ä»¬å¾—åˆ° "igc"ã€‚
æœ€åå°† S ä¸­çš„è¿™ 3 ä¸ªå­—æ¯ç§»ä½ 9 æ¬¡åï¼Œæˆ‘ä»¬å¾—åˆ°ç­”æ¡ˆ "rpl"ã€‚
```

----------------------



```java
 public String shiftingLetters(String s, int[] shifts) {
char[]arr = s.toCharArray();
//è¿™é‡Œå¿…é¡»ç”¨long,ä¸ç„¶ä¼šæº¢å‡ºå¯¼è‡´ç»“æœé”™è¯¯
long[]tot = new long[shifts.length];
tot[shifts.length-1]=shifts[shifts.length-1];
for(int i = shifts.length-2;i>=0;i--){
    //å€’åºå‰ç¼€å’Œ
    tot[i]=tot[i+1]+shifts[i];
}
for(int i = 0;i < tot.length;i++){
     int temp=arr[i]-'a';
     //è¿™é‡Œè®°å¾—è¦æ¨¡26ï¼Œå› ä¸ºzåŠ ä¸€å˜æˆa
            int c=(int) ((tot[i]+temp)%26);
            arr[i]=(char)('a'+c);

}
return new String(arr);
    }
```

## [1109. èˆªç­é¢„è®¢ç»Ÿè®¡](https://leetcode.cn/problems/corporate-flight-bookings/)

éš¾åº¦ä¸­ç­‰433

è¿™é‡Œæœ‰ `n` ä¸ªèˆªç­ï¼Œå®ƒä»¬åˆ†åˆ«ä» `1` åˆ° `n` è¿›è¡Œç¼–å·ã€‚

æœ‰ä¸€ä»½èˆªç­é¢„è®¢è¡¨ `bookings` ï¼Œè¡¨ä¸­ç¬¬ `i` æ¡é¢„è®¢è®°å½• `bookings[i] = [firsti, lasti, seatsi]` æ„å‘³ç€åœ¨ä» `firsti` åˆ° `lasti` ï¼ˆ**åŒ…å«** `firsti` å’Œ `lasti` ï¼‰çš„ **æ¯ä¸ªèˆªç­** ä¸Šé¢„è®¢äº† `seatsi` ä¸ªåº§ä½ã€‚

è¯·ä½ è¿”å›ä¸€ä¸ªé•¿åº¦ä¸º `n` çš„æ•°ç»„ `answer`ï¼Œé‡Œé¢çš„å…ƒç´ æ˜¯æ¯ä¸ªèˆªç­é¢„å®šçš„åº§ä½æ€»æ•°ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šbookings = [[1,2,10],[2,3,20],[2,5,25]], n = 5
è¾“å‡ºï¼š[10,55,45,25,25]
è§£é‡Šï¼š
èˆªç­ç¼–å·        1   2   3   4   5
é¢„è®¢è®°å½• 1 ï¼š   10  10
é¢„è®¢è®°å½• 2 ï¼š       20  20
é¢„è®¢è®°å½• 3 ï¼š       25  25  25  25
æ€»åº§ä½æ•°ï¼š      10  55  45  25  25
å› æ­¤ï¼Œanswer = [10,55,45,25,25]
```



---------------------



æ³¨æ„åˆ°ä¸€ä¸ªé¢„è®¢è®°å½•å®é™…ä¸Šä»£è¡¨äº†ä¸€ä¸ªåŒºé—´çš„å¢é‡ã€‚æˆ‘ä»¬çš„ä»»åŠ¡æ˜¯å°†è¿™äº›å¢é‡å åŠ å¾—åˆ°ç­”æ¡ˆã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å·®åˆ†è§£å†³æœ¬é¢˜ã€‚

![image-20230117114506955](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230117114506955.png)



åœ¨æœ¬é¢˜ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥éå†ç»™å®šçš„é¢„å®šè®°å½•æ•°ç»„ï¼Œæ¯æ¬¡ O(1) åœ°å®Œæˆå¯¹å·®åˆ†æ•°ç»„çš„ä¿®æ”¹å³å¯ã€‚å½“æˆ‘ä»¬å®Œæˆäº†å·®åˆ†æ•°ç»„çš„ä¿®æ”¹ï¼Œåªéœ€è¦æœ€åæ±‚å‡ºå·®åˆ†æ•°ç»„çš„å‰ç¼€å’Œå³å¯å¾—åˆ°ç›®æ ‡æ•°ç»„ã€‚

æ³¨æ„æœ¬é¢˜ä¸­æ—¥æœŸä» 1 å¼€å§‹ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ç›¸åº”çš„è°ƒæ•´æ•°ç»„ä¸‹æ ‡å¯¹åº”å…³ç³»ï¼Œå¯¹äºé¢„å®šè®°å½• 
booking=[l,r,inc]ï¼Œæˆ‘ä»¬éœ€è¦è®© d[lâˆ’1] å¢åŠ  inc
d[r] å‡å°‘ inc,ç‰¹åˆ«åœ°ï¼Œå½“ r ä¸º n æ—¶ï¼Œæˆ‘ä»¬æ— éœ€ä¿®æ”¹ d[r]ï¼Œå› ä¸ºè¿™ä¸ªä½ç½®æº¢å‡ºäº†ä¸‹æ ‡èŒƒå›´ã€‚å¦‚æœæ±‚å‰ç¼€å’Œæ—¶è€ƒè™‘è¯¥ä½ç½®ï¼Œé‚£ä¹ˆè¯¥ä½ç½®å¯¹åº”çš„å‰ç¼€å’Œå€¼å¿…å®šä¸º 0è¯»è€…ä»¬å¯ä»¥è‡ªè¡Œæ€è€ƒåŸå› ï¼Œä»¥åŠ æ·±å¯¹å·®åˆ†æ•°ç»„çš„ç†è§£

## äºŒç»´æ‹†åˆ†ï¼šå­çŸ©é˜µå…ƒç´ åŠ ä¸€

ç»™ä½ ä¸€ä¸ªæ­£æ•´æ•° n ï¼Œè¡¨ç¤ºæœ€åˆæœ‰ä¸€ä¸ª n x n ã€ä¸‹æ ‡ä» 0 å¼€å§‹çš„æ•´æ•°çŸ©é˜µ mat ï¼ŒçŸ©é˜µä¸­å¡«æ»¡äº† 0 ã€‚

å¦ç»™ä½ ä¸€ä¸ªäºŒç»´æ•´æ•°æ•°ç»„ query ã€‚é’ˆå¯¹æ¯ä¸ªæŸ¥è¯¢ query[i] = [row1i, col1i, row2i, col2i] ï¼Œè¯·ä½ æ‰§è¡Œä¸‹è¿°æ“ä½œï¼š

æ‰¾å‡º å·¦ä¸Šè§’ ä¸º (row1i, col1i) ä¸” å³ä¸‹è§’ ä¸º (row2i, col2i) çš„å­çŸ©é˜µï¼Œå°†å­çŸ©é˜µä¸­çš„ æ¯ä¸ªå…ƒç´  åŠ  1 ã€‚ä¹Ÿå°±æ˜¯ç»™æ‰€æœ‰æ»¡è¶³ row1i <= x <= row2i å’Œ col1i <= y <= col2i çš„ mat\[x][y] åŠ  1 ã€‚
è¿”å›æ‰§è¡Œå®Œæ‰€æœ‰æ“ä½œåå¾—åˆ°çš„çŸ©é˜µ mat ã€‚

 

ç¤ºä¾‹ 1ï¼š

![image-20230119161517402](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230119161517402.png)

è¾“å…¥ï¼šn = 3, queries = [[1,1,2,2],[0,0,1,1]]
è¾“å‡ºï¼š[[1,1,0],[1,2,1],[0,1,1]]
è§£é‡Šï¼šä¸Šå›¾æ‰€å±•ç¤ºçš„åˆ†åˆ«æ˜¯ï¼šåˆå§‹çŸ©é˜µã€æ‰§è¡Œå®Œç¬¬ä¸€ä¸ªæ“ä½œåçš„çŸ©é˜µã€æ‰§è¡Œå®Œç¬¬äºŒä¸ªæ“ä½œåçš„çŸ©é˜µã€‚
- ç¬¬ä¸€ä¸ªæ“ä½œï¼šå°†å·¦ä¸Šè§’ä¸º (1, 1) ä¸”å³ä¸‹è§’ä¸º (2, 2) çš„å­çŸ©é˜µä¸­çš„æ¯ä¸ªå…ƒç´ åŠ  1 ã€‚ 
- ç¬¬äºŒä¸ªæ“ä½œï¼šå°†å·¦ä¸Šè§’ä¸º (0, 0) ä¸”å³ä¸‹è§’ä¸º (1, 1) çš„å­çŸ©é˜µä¸­çš„æ¯ä¸ªå…ƒç´ åŠ  1 ã€‚ 

------------------------------



æŒ‰ç…§è¿™ç§æ¥æ±‚å‰ç¼€å’Œå³å¯ï¼š

![image-20230119161612354](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230119161612354.png)

éå†çš„æ—¶å€™è¦åŠ ä¸Šå‰é¢çš„è¡Œå¾—åˆ°ç»“æœï¼Œå†åŠ ä¸Šå‰é¢çš„åˆ—å¾—åˆ°ç»“æœ

```java
 public int[][] rangeAddQueries(int n, int[][] queries) {
int[][]ans=new int[n][n];
int[][]operate=new int[n+1][n+1];
for(int[]query:queries){
    operate[query[0]][query[1]]++;
    operate[query[2]+1][query[3]+1]++;
    operate[query[2]+1][query[1]]--;
    operate[query[0]][query[3]+1]--;
}
for(int i = 1;i<n;i++)
for(int j=0;j<n;j++)//å›ºå®šåˆ—
operate[i][j]+=operate[i-1][j];
for(int i = 0;i<n;i++)
for(int j=1;j<n;j++)//
operate[i][j]+=operate[i][j-1];
for(int i = 0;i<n;i++)
for(int j=0;j<n;j++)
ans[i][j]=operate[i][j];
return ans;
    }
```

## äºŒç»´å‰ç¼€å’Œï¼šäºŒç»´å­çŸ©é˜µçš„å’Œ

ç»™å®šä¸€ä¸ªäºŒç»´çŸ©é˜µ matrixï¼Œä»¥ä¸‹ç±»å‹çš„å¤šä¸ªè¯·æ±‚ï¼š

è®¡ç®—å…¶å­çŸ©å½¢èŒƒå›´å†…å…ƒç´ çš„æ€»å’Œï¼Œè¯¥å­çŸ©é˜µçš„å·¦ä¸Šè§’ä¸º (row1, col1) ï¼Œå³ä¸‹è§’ä¸º (row2, col2) ã€‚
å®ç° NumMatrix ç±»ï¼š

NumMatrix(int[][] matrix) ç»™å®šæ•´æ•°çŸ©é˜µ matrix è¿›è¡Œåˆå§‹åŒ–
int sumRegion(int row1, int col1, int row2, int col2) è¿”å›å·¦ä¸Šè§’ (row1, col1) ã€å³ä¸‹è§’ (row2, col2) çš„å­çŸ©é˜µçš„å…ƒç´ æ€»å’Œã€‚

-------



![image-20230212232040466](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230212232040466.png)

![image-20230212233005958](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230212233005958.png) 

```java

int[][]presum;
    public NumMatrix(int[][] matrix) {

presum=new int[matrix.length+1][matrix[0].length+1];
 for(int j=0;j<matrix[0].length;j++)
for(int i=0;i<matrix.length;i++)
{
   
    presum[i+1][j+1]=presum[i][j+1]+matrix[i][j]+presum[i+1][j]-presum[i][j];
}
    }
    
    public int sumRegion(int row1, int col1, int row2, int col2) {
        int sum=presum[row2+1][col2+1]+presum[row1][col1]-presum[row1][col2+1]-presum[row2+1][col1];
return sum;
    }
```





## [1124. è¡¨ç°è‰¯å¥½çš„æœ€é•¿æ—¶é—´æ®µ](https://leetcode.cn/problems/longest-well-performing-interval/)

éš¾åº¦ä¸­ç­‰247

ç»™ä½ ä¸€ä»½å·¥ä½œæ—¶é—´è¡¨ `hours`ï¼Œä¸Šé¢è®°å½•ç€æŸä¸€ä½å‘˜å·¥æ¯å¤©çš„å·¥ä½œå°æ—¶æ•°ã€‚

æˆ‘ä»¬è®¤ä¸ºå½“å‘˜å·¥ä¸€å¤©ä¸­çš„å·¥ä½œå°æ—¶æ•°å¤§äº `8` å°æ—¶çš„æ—¶å€™ï¼Œé‚£ä¹ˆè¿™ä¸€å¤©å°±æ˜¯ã€Œ**åŠ³ç´¯çš„ä¸€å¤©**ã€ã€‚

æ‰€è°“ã€Œè¡¨ç°è‰¯å¥½çš„æ—¶é—´æ®µã€ï¼Œæ„å‘³åœ¨è¿™æ®µæ—¶é—´å†…ï¼Œã€ŒåŠ³ç´¯çš„å¤©æ•°ã€æ˜¯ä¸¥æ ¼ **å¤§äº**ã€Œä¸åŠ³ç´¯çš„å¤©æ•°ã€ã€‚

è¯·ä½ è¿”å›ã€Œè¡¨ç°è‰¯å¥½æ—¶é—´æ®µã€çš„æœ€å¤§é•¿åº¦ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šhours = [9,9,6,0,6,6,9]
è¾“å‡ºï¼š3
è§£é‡Šï¼šæœ€é•¿çš„è¡¨ç°è‰¯å¥½æ—¶é—´æ®µæ˜¯ [9,9,6]ã€‚
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šhours = [6,6,6]
è¾“å‡ºï¼š0
```





-------

,éå† stk = [0 ,5, 6], æ‹¿åˆ°ä¸€ä¸ªi, å†ä»å³å‘å·¦éå†prefixSum = [0, 1, 2, 1, 0, -1, -2, -1] ,æ‹¿åˆ°ä¸€ä¸ªj, æ£€æŸ¥æ¯ä¸€å¯¹(i, j)

```java
    public int longestWPI(int[] hours) {
int tired=0,relax=0;
int left=0,right=0;
int maxDay=0;
//æˆ‘ä»¬çš„ç›®æ ‡ï¼šæ‰¾åˆ°ä¸€ä¸ªæœ€å¤§çš„(i,j)ä½¿å¾—prefixSum[j] - prefixSum[i] > 0.
 int len = hours.length;
        int[] hours2 = new int[len];
        for (int i = 0; i < len; i++) {
            if (hours[i] > 8) {
                hours2[i] = 1;
            } else {
                hours2[i] = -1;
            }
        }
        int[] presum = new int[len + 1];
        for (int i = 1; i < len + 1; i++) {
            presum[i] = presum[i - 1] + hours2[i - 1]; 
        }
Deque<Integer>deque=new LinkedList<>();
for(int i=0;i<presum.length;i++)
{
    //presumçš„ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯0
    if(deque.isEmpty()) deque.push(i);
    //æ‰¾åˆ°ä¸€ä¸ªå•è°ƒé€’å‡çš„å­åºåˆ— dequeé‡Œé¢å­˜çš„éƒ½æ˜¯å…ƒç´ ä¸€å®šå°äº0çš„ç´¢å¼•
if(!deque.isEmpty()&&presum[i]<presum[deque.peek()]) deque.push(i);
}
//æ³¨æ„è¿™é‡Œç»ˆæ­¢æ¡ä»¶i>=maxdayï¼Œå› ä¸ºå¦‚æœi=maxday,æœ€å¤§çš„ç»“æœä¹Ÿæ˜¯maxday,è¿™æ ·ç»ˆæ­¢æ¡ä»¶å¯ä»¥æé«˜æ•ˆç‡
    for(int i=presum.length-1;i>=maxDay;i--)
{
    //ä»åå¾€å‰éå†ï¼Œå› ä¸ºå¦‚æœpre[3]-pre[0]>0 [0,3]æ˜¯ä¸€å®šç¬¦åˆçš„ï¼Œä½†æ˜¯ä¸ç¡®å®š[0,4]æ˜¯å¦ç¬¦åˆï¼Œè€Œå¦‚æœ[0,4]ç¬¦åˆæ¡ä»¶ï¼Œåˆ™[0,3]ä¸€å®šä¸ç¬¦åˆï¼Œå› ä¸ºé¢˜ç›®è¦æ±‚æœ€é•¿çš„
    //å¯¹äºæ¯ä¸€ä¸ªdeque.peek()æ¥è¯´ï¼Œæœ€å¤§çš„iå°±æ˜¯æœ€å¥½çš„ç»“æœäº†ï¼Œæ‰€ä»¥iä»å¤§åˆ°å°éå†
  while(!deque.isEmpty()&&presum[i]>presum[deque.peek()]){
      //å¯¹äºä¸€ä¸ªå…¨éƒ¨éƒ½å¤§äº8çš„åŸæ•°ç»„ï¼Œåˆ™ä»æœ€å¤§ä¸€ä¸ªå¼€å§‹ï¼Œå‡å»dequeä¸­çš„å…ƒç´ 0ï¼Œå°±æ˜¯ç»“æœäº†
        maxDay=Math.max(maxDay,i-deque.peek());
        deque.pop();
    }
}
return maxDay;
    }
```

## [862. å’Œè‡³å°‘ä¸º K çš„æœ€çŸ­å­æ•°ç»„](https://leetcode.cn/problems/shortest-subarray-with-sum-at-least-k/)

éš¾åº¦å›°éš¾641

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` å’Œä¸€ä¸ªæ•´æ•° `k` ï¼Œæ‰¾å‡º `nums` ä¸­å’Œè‡³å°‘ä¸º `k` çš„ **æœ€çŸ­éç©ºå­æ•°ç»„** ï¼Œå¹¶è¿”å›è¯¥å­æ•°ç»„çš„é•¿åº¦ã€‚å¦‚æœä¸å­˜åœ¨è¿™æ ·çš„ **å­æ•°ç»„** ï¼Œè¿”å› `-1` ã€‚

**å­æ•°ç»„** æ˜¯æ•°ç»„ä¸­ **è¿ç»­** çš„ä¸€éƒ¨åˆ†ã€‚

 



**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šnums = [1], k = 1
è¾“å‡ºï¼š1
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šnums = [1,2], k = 4
è¾“å‡ºï¼š-1
```



-------------------

é¦–å…ˆå› ä¸ºæ•°ç»„ä¸­å‡ºç°äº†æ­£è´Ÿæ•°ï¼Œç”¨æ»‘åŠ¨çª—å£ä¸è¡Œï¼Œè¿™é‡Œå…ˆè€ƒè™‘å‰ç¼€å’Œï¼Œä¸¤ä¸ªå‰ç¼€å’Œä¹‹å·®>=kæ—¶ï¼Œå°±å·²ç»æ‰¾åˆ°äº†ä¸€ä¸ªå­æ•°ç»„

ç„¶åè€ƒè™‘ç”¨ä¸€ä¸ªé˜Ÿåˆ—å­˜æ”¾ä¸‹æ ‡

![image-20230204154750283](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230204154750283.png)

```java
 public int shortestSubarray(int[] nums, int k) {
        //ç”¨longæ•°ç»„ï¼Œé˜²æ­¢æº¢å‡º
long[]presum=new long[nums.length+1];
for(int i=0;i<nums.length;i++)
presum[i+1]=presum[i]+nums[i];
Deque<Integer>queue=new LinkedList<>();
int ans=Integer.MAX_VALUE;
for(int i = 0;i<=nums.length;i++){
    //sumæ˜¯å½“å‰çš„å‰ç¼€å’Œ
    long sum=presum[i];
    while(!queue.isEmpty()&&sum-presum[queue.peekFirst()]>=k)
{
    ans=Math.min(ans,i-queue.pollFirst());
    if(ans==1) return 1;
}
//å½“ä¸€ä¸ªå‰ç¼€å’Œ preSumArr[j] è¯•å‡å®Œ q ä¸­çš„å…ƒç´ æ—¶ï¼Œéœ€è¦å°†å®ƒä¹Ÿæ”¾å…¥ q ä¸­ã€‚å°†å®ƒæ”¾å…¥ q å‰ï¼Œ q ä¸­å¯èƒ½å­˜åœ¨æ¯” preSumArr[j] å¤§çš„å…ƒç´ ï¼Œè€Œè¿™äº›å…ƒç´ å’ŒpreSumArr[j] ä¸€æ ·ï¼Œåªèƒ½ä½œä¸ºå†åç»­è®¿é—®åˆ°çš„æŸä¸ªå‰ç¼€å’ŒpreSumArr[h] çš„å‡æ•°ã€‚è€Œä½œä¸ºå‡æ•°æ—¶ï¼Œæ›´å¤§çš„å€¼åªä¼šè®©ä¸ç­‰å¼ preSumArr[h]âˆ’preSumArr[i]â‰¥k æ›´éš¾æ»¡è¶³ã€‚å³ä½¿éƒ½æ»¡è¶³ï¼Œåè®¿é—®åˆ°çš„å€¼ä¹Ÿå¯ä»¥å¸¦æ¥æ›´çŸ­çš„é•¿åº¦ã€‚ å› æ­¤ï¼Œåœ¨æŠŠ preSumArr[j] æ”¾å…¥q æ—¶ï¼Œéœ€è¦å°† q ä¸­å¤§äºç­‰äº preSumArr[j] çš„å€¼ä¹Ÿéƒ½ç§»é™¤ã€‚
while(!queue.isEmpty()&&presum[queue.peekLast()]>=sum)
queue.pollLast();
queue.offerLast(i);
}
return ans==Integer.MAX_VALUE?-1:ans;
    }
```

## å’Œä¸ºkçš„æ‰€æœ‰å­æ•°ç»„

ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„å’Œä¸€ä¸ªæ•´æ•° k ï¼Œè¯·æ‰¾åˆ°è¯¥æ•°ç»„ä¸­å’Œä¸º k çš„è¿ç»­å­æ•°ç»„çš„ä¸ªæ•°ã€‚

 

ç¤ºä¾‹ 1ï¼š

è¾“å…¥:nums = [1,1,1], k = 2
è¾“å‡º: 2
è§£é‡Š: æ­¤é¢˜ [1,1] ä¸ [1,1] ä¸ºä¸¤ç§ä¸åŒçš„æƒ…å†µ

------------------------------



![image-20230212183859271](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230212183859271.png)


çš„ä¸‹æ ‡èŒƒå›´æ˜¯ 0â‰¤jâ‰¤i ã€‚åŒæ—¶ï¼Œç”±äºpre[i] çš„è®¡ç®—åªä¸å‰ä¸€é¡¹çš„ç­”æ¡ˆæœ‰å…³ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ä¸ç”¨å»ºç«‹ pre æ•°ç»„ï¼Œç›´æ¥ç”¨ pre å˜é‡æ¥è®°å½• pre[iâˆ’1] çš„ç­”æ¡ˆå³å¯ã€‚

```java
 public int subarraySum(int[] nums, int k) {
int left=0,right=0,sum=0;
int ans=0;
int pre=0;
Map<Integer,Integer>map=new HashMap<>();
map.put(0,1);
//å½“å‰çš„å…ƒç´ åŠ èµ·æ¥çš„å’Œä¸ºpre,ä¹‹å‰çš„æŸä¸ªå…ƒç´ å‰ç¼€å’Œä¸ºnumber,å¦‚æœpre-numberä¸ºk,é‚£ä¹ˆæ­¤æ—¶æ‰¾åˆ°äº†ä¸€ä¸ªå­æ•°ç»„ï¼Œæ‰€ä»¥åªéœ€è¦æ‰¾åˆ°ç›®å‰æœ‰å¤šå°‘ä¸ªå‰ç¼€å’Œä¸ºnumberçš„ï¼Œå°±æ˜¯æœ‰å¤šå°‘ä¸ªå­æ•°ç»„ï¼Œä¹Ÿå°±æ˜¯ä»¥jä¸ºæœ«å°¾çš„ï¼ŒæŸ¥æ‰¾jä¹‹å‰çš„i,ä»iåˆ°jå’Œä¸ºk,ä¸€å…±æœ‰å¤šå°‘ä¸ªè¿™æ ·çš„i
for(int i=0;i<nums.length;i++)
{
pre+=nums[i];
if(map.containsKey(pre-k))
ans+=map.get(pre-k);
map.put(pre,map.getOrDefault(pre,0)+1);
}
return ans;
    }
```

## [å‰‘æŒ‡ Offer II 050. è·¯å¾„å’Œä¸ºç»™å®šå€¼çš„æ•°ç›®](https://leetcode.cn/problems/6eUYwP/)

éš¾åº¦ä¸­ç­‰73

ç»™å®šä¸€ä¸ªäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ `root` ï¼Œå’Œä¸€ä¸ªæ•´æ•° `targetSum` ï¼Œæ±‚è¯¥äºŒå‰æ ‘é‡ŒèŠ‚ç‚¹å€¼ä¹‹å’Œç­‰äº `targetSum` çš„ **è·¯å¾„** çš„æ•°ç›®ã€‚

**è·¯å¾„** ä¸éœ€è¦ä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œä¹Ÿä¸éœ€è¦åœ¨å¶å­èŠ‚ç‚¹ç»“æŸï¼Œä½†æ˜¯è·¯å¾„æ–¹å‘å¿…é¡»æ˜¯å‘ä¸‹çš„ï¼ˆåªèƒ½ä»çˆ¶èŠ‚ç‚¹åˆ°å­èŠ‚ç‚¹ï¼‰ã€‚

 ![image-20230218222938611](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230218222938611.png) 

--------

æœ€ç›´è§‚çš„ï¼šéå†æ¯ä¸€ä¸ªèŠ‚ç‚¹ä½œä¸ºçˆ¶èŠ‚ç‚¹ï¼Œå‘ä¸‹å¯»æ‰¾æ˜¯å¦æœ‰ä¸€æ¡è·¯å¾„å’Œä¸ºç»™å®šå€¼

è¿™æ ·ä¼šæœ‰å¾ˆå¤šé‡å¤éå†ï¼Œæ‰€ä»¥ç”¨å‰ç¼€å’Œçš„æ–¹æ³•è¿›è¡Œä¼˜åŒ–

```java
 Map<Long,Integer>map=new HashMap<>();
    public int pathSum(TreeNode root, int targetSum) {
        map.put(0L,1);
return dfs(root,targetSum,0);
    }
    public int dfs(TreeNode root,int targetSum,long cur)
    {
        int ret=0;
if(root==null) return 0;
cur+=root.val;
//å½“å‰çš„æ‰€æœ‰è·¯å¾„ä¹‹å’ŒåŠ èµ·æ¥å‡å»ä¹‹å‰çš„æŸä¸ªå‰ç¼€å’Œ=targetçš„è¯ï¼Œé‚£ä¹ˆå°±å­˜åœ¨ä¸€æ¡è·¯å¾„
ret=map.getOrDefault(cur-targetSum,0);
//å‰ç¼€å’Œæ•°é‡åŠ ä¸€ï¼Œä»£è¡¨å­˜åœ¨å’Œä¸ºcurçš„ä¸€æ¡è·¯å¾„
map.put(cur,map.getOrDefault(cur,0)+1);
ret+=dfs(root.left,targetSum,cur);
ret+=dfs(root.right,targetSum,cur);
//å°¤å…¶æ³¨æ„è¿™é‡Œdfså®Œäº†ä»¥åè¦å†å›æº¯ï¼Œæ•°é‡è¦å‡ä¸€
map.put(cur,map.getOrDefault(cur,0)-1);
return ret;
    }
```

ç”¨æ™®é€šæ–¹æ³•å†™æ³•å¦‚ä¸‹ï¼š

```java
    int targetSum;
     public int pathSum(TreeNode root, int targetSum) {
         this.targetSum=targetSum;
        if (root == null) {
            return 0;
        }

        int ret = rootSum(root, 0);
        ret += pathSum(root.left, targetSum);
        ret += pathSum(root.right, targetSum);
        return ret;
    }
//ç”¨longé˜²æ­¢ç§»é™¤ï¼Œå› ä¸ºæ¶‰åŠåˆ°æ‰€æœ‰å€¼çš„å’Œï¼Œå¯èƒ½ä¼šæº¢å‡º
    public int rootSum(TreeNode root, long cur) {
        int ret = 0;

        if (root == null) {
            return 0;
        }
        int val = root.val;
        if (val+cur == targetSum) {
            ret++;
        } 

        ret += rootSum(root.left, val+cur);
        ret += rootSum(root.right, val+cur);
        return ret;
    }

```

## 1590.ä½¿æ•°ç»„å‡å»æœ€å°å­æ•°ç»„åèƒ½è¢«pæ•´é™¤

ç»™ä½ ä¸€ä¸ªæ­£æ•´æ•°æ•°ç»„ numsï¼Œè¯·ä½ ç§»é™¤ æœ€çŸ­ å­æ•°ç»„ï¼ˆå¯ä»¥ä¸º ç©ºï¼‰ï¼Œä½¿å¾—å‰©ä½™å…ƒç´ çš„ å’Œ èƒ½è¢« p æ•´é™¤ã€‚ ä¸å…è®¸ å°†æ•´ä¸ªæ•°ç»„éƒ½ç§»é™¤ã€‚

è¯·ä½ è¿”å›ä½ éœ€è¦ç§»é™¤çš„æœ€çŸ­å­æ•°ç»„çš„é•¿åº¦ï¼Œå¦‚æœæ— æ³•æ»¡è¶³é¢˜ç›®è¦æ±‚ï¼Œè¿”å› -1 ã€‚

å­æ•°ç»„ å®šä¹‰ä¸ºåŸæ•°ç»„ä¸­è¿ç»­çš„ä¸€ç»„å…ƒç´ ã€‚

 

ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼šnums = [3,1,4,2], p = 6
è¾“å‡ºï¼š1
è§£é‡Šï¼šnums ä¸­å…ƒç´ å’Œä¸º 10ï¼Œä¸èƒ½è¢« p æ•´é™¤ã€‚æˆ‘ä»¬å¯ä»¥ç§»é™¤å­æ•°ç»„ [4] ï¼Œå‰©ä½™å…ƒç´ çš„å’Œä¸º 6 ã€‚
ç¤ºä¾‹ 2ï¼š

--------



![image-20230311005246063](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230311005246063.png)

```java
    public int minSubarray(int[] nums, int p) {
  int n = nums.length, ans = n;
        var s = new int[n + 1];
        for (int i = 0; i < n; ++i)
            s[i + 1] = (s[i] + nums[i]) % p;
        int x = s[n];
        if (x == 0) return 0; // ç§»é™¤ç©ºå­æ•°ç»„ï¼ˆè¿™è¡Œå¯ä»¥ä¸è¦ï¼‰

        var last = new HashMap<Integer, Integer>();
        for (int i = 0; i <= n; ++i) {
            last.put(s[i], i);
            // å¦‚æœä¸å­˜åœ¨ï¼Œ-n å¯ä»¥ä¿è¯ i-j >= n
            int j = last.getOrDefault((s[i]-x+p) % p, -n);
            ans = Math.min(ans, i - j);
        }
        return ans < n ? ans : -1;


    
    }
```





# äºŒå‰æ ‘

## éé€’å½’å‰åºéå†

æ€è·¯ï¼š

ç”¨æ ˆï¼Œç¬¬ä¸€æ¬¡å¼¹å‡ºæ—¶å°±æ‰“å°ï¼Œæœ‰å³å­æ ‘å†pushå³å­æ ‘ï¼Œæœ‰å·¦å­æ ‘å†pushå·¦å­æ ‘ï¼ˆpushçš„é¡ºåºå¤´å³å·¦ï¼‰

éé€’å½’ååºéå†åˆšå¥½åè¿‡æ¥ï¼Œpushçš„é¡ºåºæ˜¯å¤´å·¦å³ï¼Œä½†æ˜¯è¿™é‡Œä¸è¦å°†å¼¹å‡ºçš„èŠ‚ç‚¹æ‰“å°ã€‚è€Œæ˜¯æ”¾åˆ°å¦ä¸€ä¸ªæ–°æ ˆä¸­

```java
public static void preorder(TreeNode root)
{
    if(root != null)
    {
        Stact<TreeNode>stack = new Stack<>();
        stack.add(root);
        while(root.left != null)//è¦æ‰¾åˆ°æœ€å·¦è¾¹çš„ç»“ç‚¹ï¼Œæ³¨æ„å¾ªç¯æ¡ä»¶
        {
            root = stack.pop();
            
            if(root!=null){
                System.out.println(root.val);
            if(root.right!=null)
                stack.add(root.right);
            if(root.left != null)
                stack.add(root.left);//ç”±äºæ˜¯æ ˆã€‚æ³¨æ„å…ˆè¿›å³æ ‘åè¿›å·¦å­æ ‘ï¼Œè¿™æ ·æ‰èƒ½å…ˆå‡ºå·¦å­æ ‘
          }
        }
        
        
        
        
    }
}
```

å‰åºå¦ä¸€ä¸ªç‰ˆæœ¬ï¼š

```java
public static void post(Node node)
{
    
        if(node != null)
        {
            Stack<Node>s1 = new Stack<>();
         
            s1.push(node);
            while(!s1.isEmpty())
            {
node = s1.pop();
              System.out.println(node.val+" ");//å¼¹å‡ºç«‹é©¬æ‰“å°
                     if(node.right != null)
                    s1.push(node.right);
                if(node.left != null)
                    s1.push(node.left);//è¿™é‡Œæ˜¯s1
                
            }
        }
                while(!s2.isEmpty())
                {
                    System.out.println(s2.pop().val+" ");
                }
                     
}
```



ååºï¼š(è·Ÿä¸Šé¢çš„éå¸¸ç›¸ä¼¼ï¼Œåªæ˜¯å¤šäº†ä¸€è¾…åŠ©æ ˆå’Œé¡ºåºä¸ä¸€æ ·)

```java
public static void post(Node node)
{
    
        if(node != null)
        {
            Stack<Node>s1 = new Stack<>();
              Stack<Node>s2 = new Stack<>();
            s1.push(node);
            while(!s1.isEmpty())
            {
node = s1.pop();
                s2.push(node);//æ³¨æ„è¿™é‡Œæ˜¯s2
                if(node.left != null)
                    s1.push(node.left);//è¿™é‡Œæ˜¯s1
                     if(node.right != null)
                    s1.push(node.right);
            }
        }
                while(!s2.isEmpty())
                {
                    System.out.println(s2.pop()+" ");
                }
                     
}
```



## éé€’å½’ä¸­åºéå†

éé€’å½’çš„æ€è·¯å¦‚ä¸‹ï¼š
1. å®šä¹‰ä¸€ä¸ªæ ˆ
2. å°†æ ‘çš„å·¦èŠ‚ç‚¹ä¾æ¬¡å…¥æ ˆ
3. å·¦èŠ‚ç‚¹ä¸ºç©ºæ—¶ï¼Œå¼¹å‡ºæ ˆé¡¶å…ƒç´ å¹¶å¤„ç†
4. é‡å¤ 2-3 çš„æ“ä½œ

```java
if(root != null)
{
         Stact<TreeNode>stack = new Stack<>();
   
    while(root!=null || !stack.isEmpty()){
       
        
       if(root != null)
       {
            stack.push(root);
           root = root.left;
       }
        else
        {
            root = stack.pop();
            System.out.println(root.val);
            root = root.right;
        }
    }
}
```

ğŸ“£æ³¨æ„ï¼šå°†ä¸­åºéå†çš„è¾“å‡ºéƒ¨åˆ†æ”¹ä¸ºåˆ¤æ–­å°±å¯ä»¥æ”¹æˆåˆ¤æ–­æ˜¯å¦æ˜¯äºŒå‰æœç´¢æ ‘ï¼š

```java
if(root != null)
{
    int res = Integer.MIN_VALUE;
    Stack<Node>stack = new Stack<>();
    while(root != null || !stack.isEmpty())
    {
        if(root != null)
        {
            stack.push(root);
            root = root.left;
        }
        else
        {
            root = stack.pop();
            if(res > root.data) return false;
            else
            {
                res = root.data;
                root = root.right;
            }
        }
    }
    return true;
}
```



## éé€’å½’çš„ååºéå†

```java
public static void postorder(TreeNode root){
    if(root != null){
        TreeNode prev = null;
          Stack<Node>stack = new Stack<>();
        while(root !=null || !stack.isEmpty())
        {
            while(root != null)
            {
                stack.push(root);
            root = root.left;
            }
            root = stack.pop();
           if(root.right== null|| prev == root.right )
            {
               sout(root.val);
                prev = root;
               root = null;
            }
            else
            {
                stack.push(root);
                root = root.right;
            }
        }
        
    }
    
}
```

## [99. æ¢å¤äºŒå‰æœç´¢æ ‘](https://leetcode-cn.com/problems/recover-binary-search-tree/)

éš¾åº¦ä¸­ç­‰664

ç»™ä½ äºŒå‰æœç´¢æ ‘çš„æ ¹èŠ‚ç‚¹ `root` ï¼Œè¯¥æ ‘ä¸­çš„ **æ°å¥½** ä¸¤ä¸ªèŠ‚ç‚¹çš„å€¼è¢«é”™è¯¯åœ°äº¤æ¢ã€‚*è¯·åœ¨ä¸æ”¹å˜å…¶ç»“æ„çš„æƒ…å†µä¸‹ï¼Œæ¢å¤è¿™æ£µæ ‘* ã€‚

 è¿›é˜¶ï¼šç”¨ç©ºé—´å¤æ‚åº¦o(1)å®Œæˆ

![image-20220307162305735](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220307162305735.png)

---

```java
  public void recoverTree(TreeNode root) {
      
    Deque<TreeNode>queue = new ArrayDeque<>();
    TreeNode x = null,y = null,prev = null;
    while(!queue.isEmpty() || root!=null)
    {
       
      while(root!=null)
        {
         
            queue.push(root);
            root = root.left;

        }
          root = queue.pop();
           if(prev!=null && prev.val > root.val)
        {
            y = root;//æ³¨æ„åœ¨è¿™é‡Œyä¼šè¢«èµ‹å€¼ä¸¤æ¬¡ï¼Œè€Œxåªä¼šèµ‹å€¼ä¸€æ¬¡
            if(x == null)
            x  = prev;
            else break;
        }
               prev = root;
            root = root.right;
      
    }
    int val = y.val;
    y.val = x.val;
    x.val = val;

    }
```





## ä¸­åºéå†çš„åç»§èŠ‚ç‚¹

é¢˜ç›®ä¸€ï¼Œæ™®é€šäºŒå‰æ ‘å¯»æ‰¾åç»§èŠ‚ç‚¹ï¼š

![å›¾ç‰‡](https://mmbiz.qpic.cn/mmbiz_png/oD5ruyVxxVG0bAiaNM3XZ6c4zary9YZlPaiaVX224Cx9Gx17vB8fYCWc1qiaNNfsUSVj1uu0SWP1lRXic55SEOictGQ/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1)

åˆ†æƒ…å†µï¼š

èŠ‚ç‚¹(è®¾ä¸ºx)ä¸­åºéå†çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æœ‰ä»¥ä¸‹å¯èƒ½ï¼š

1. è‹¥xæœ‰å³å­æ ‘ã€‚åˆ™xçš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ä¸ºxå³å­æ ‘æœ€å·¦ä¾§èŠ‚ç‚¹ã€‚å¦‚ï¼Œ2çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ä¸º8ã€‚
2. è‹¥xæ²¡æœ‰å³å­æ ‘ï¼Œåˆåˆ†ä¸º2ç§æƒ…å†µã€‚

- è‹¥xæ˜¯çˆ¶èŠ‚ç‚¹çš„å·¦å­©å­ã€‚åˆ™xçš„çˆ¶èŠ‚ç‚¹å°±æ˜¯xçš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ã€‚å¦‚ï¼Œ7çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æ˜¯4ã€‚
- è‹¥xæ˜¯çˆ¶èŠ‚ç‚¹çš„å³å­©å­ã€‚åˆ™æ²¿ç€çˆ¶èŠ‚ç‚¹å‘ä¸Šï¼Œç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹çš„å·¦å­©å­æ˜¯è¯¥èŠ‚ç‚¹ï¼Œåˆ™è¯¥èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹å°±æ˜¯xçš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ã€‚å¦‚ï¼Œ9çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æ˜¯1ã€‚

```java
public TreeNode inorderSuccessor(TreeNode root, TreeNode p) {
if(root == null||p==null) return null;
boolean flag = false;
Stack<TreeNode> stack = new Stack<>();
TreeNode temp = root;
while (temp!= null || !stack.isEmpty())
{
    
    if(temp!=null)
    {
        stack.push(temp);
        temp = temp.left;
    }
    else {
      
        temp = stack.pop();
          if(flag) return temp;
        if(temp == p)
        {
           flag = true;
        }
          //  if(temp==p && stack.isEmpty()) return null;
      temp = temp.right;
    }
}
return null;
    }
```







é¢˜ç›®äºŒï¼šä¸€ä¸ªç‰¹æ®Šçš„äºŒå‰æ ‘å¯»æ‰¾åç»§èŠ‚ç‚¹

åœ¨äºŒå‰æ ‘ä¸­æ‰¾åˆ°ä¸€ä¸ªèŠ‚ç‚¹çš„åç»§èŠ‚ç‚¹  ã€é¢˜ç›®ã€‘ ç°åœ¨æœ‰ä¸€ç§æ–°çš„äºŒå‰æ ‘èŠ‚ç‚¹ç±»å‹å¦‚ä¸‹ï¼š     

```java
            public class Node {
              public int value;
              public Node left;
              public Node right;
              public Node parent;
         public Node(int data) {
                 this.value = data;
          }
   }
```
 è¯¥ç»“æ„æ¯”æ™®é€šäºŒå‰æ ‘èŠ‚ç‚¹ç»“æ„å¤šäº†ä¸€ä¸ªæŒ‡å‘çˆ¶èŠ‚ç‚¹çš„parentæŒ‡é’ˆã€‚å‡è®¾æœ‰ä¸€æ£µNodeç±»å‹çš„èŠ‚ç‚¹ç»„æˆçš„äºŒå‰æ ‘ï¼Œæ ‘ä¸­æ¯ä¸ªèŠ‚ç‚¹çš„parentæŒ‡é’ˆéƒ½æ­£ç¡®åœ°æŒ‡å‘è‡ªå·±çš„çˆ¶èŠ‚ç‚¹ï¼Œå¤´èŠ‚ç‚¹çš„parentæŒ‡å‘nullã€‚åªç»™ä¸€ä¸ªåœ¨äºŒå‰æ ‘ä¸­çš„æŸä¸ªèŠ‚ç‚¹nodeï¼Œè¯·å®ç°è¿”å›nodeçš„åç»§èŠ‚ç‚¹çš„å‡½æ•°ã€‚åœ¨äºŒå‰æ ‘çš„ä¸­åºéå†çš„åºåˆ—ä¸­ï¼Œnodeçš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹å«ä½œnodeçš„åç»§èŠ‚ç‚¹ã€‚ 

æœ€ä¼˜è§£æ³•ä¸å¿…éå†æ‰€æœ‰çš„èŠ‚ç‚¹ï¼Œå¦‚æœnodeèŠ‚ç‚¹å’Œnodeåç»§èŠ‚ç‚¹ä¹‹é—´çš„å®é™…è·ç¦»ä¸ºLï¼Œæœ€ä¼˜è§£æ³•åªç”¨èµ°è¿‡Lä¸ªèŠ‚ç‚¹ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºOï¼ˆLï¼‰ï¼Œé¢å¤–ç©ºé—´å¤æ‚åº¦ä¸ºOï¼ˆ1ï¼‰ã€‚æ¥ä¸‹æ¥è¯¦ç»†è¯´æ˜æœ€ä¼˜è§£æ³•æ˜¯å¦‚ä½•æ‰¾åˆ°nodeçš„åç»§èŠ‚ç‚¹çš„ã€‚ 

æƒ…å†µ1ï¼šå¦‚æœnodeæœ‰å³å­æ ‘ï¼Œé‚£ä¹ˆåç»§èŠ‚ç‚¹å°±æ˜¯å³å­æ ‘ä¸Šæœ€å·¦è¾¹çš„èŠ‚ç‚¹ã€‚ 

æƒ…å†µ2ï¼šå¦‚æœnodeæ²¡æœ‰å³å­æ ‘ï¼Œé‚£ä¹ˆå…ˆçœ‹nodeæ˜¯ä¸æ˜¯nodeçˆ¶èŠ‚ç‚¹çš„å·¦å­©å­ï¼Œå¦‚æœæ˜¯å·¦å­©å­ï¼Œé‚£ä¹ˆæ­¤æ—¶nodeçš„çˆ¶èŠ‚ç‚¹å°±æ˜¯nodeçš„åç»§èŠ‚ç‚¹ï¼›å¦‚æœæ˜¯å³å­©å­ï¼Œå°±å‘ä¸Šå¯»æ‰¾nodeçš„åç»§èŠ‚ç‚¹ï¼Œå‡è®¾å‘ä¸Šç§»åŠ¨åˆ°çš„èŠ‚ç‚¹è®°ä¸ºsï¼Œsçš„çˆ¶èŠ‚ç‚¹è®°ä¸ºpï¼Œå¦‚æœå‘ç°sæ˜¯pçš„å·¦å­©å­ï¼Œé‚£ä¹ˆèŠ‚ç‚¹på°±æ˜¯nodeèŠ‚ç‚¹çš„åç»§èŠ‚ç‚¹ï¼Œå¦åˆ™å°±ä¸€ç›´å‘ä¸Šç§»åŠ¨ã€‚ 

æƒ…å†µ3ï¼šå¦‚æœåœ¨æƒ…å†µ2ä¸­ä¸€ç›´å‘ä¸Šå¯»æ‰¾ï¼Œéƒ½ç§»åŠ¨åˆ°ç©ºèŠ‚ç‚¹æ—¶è¿˜æ˜¯æ²¡æœ‰å‘ç°nodeçš„åç»§èŠ‚ç‚¹ï¼Œè¯´æ˜nodeæ ¹æœ¬ä¸å­˜åœ¨åç»§èŠ‚ç‚¹ã€‚

```java
public Node getNext(Node root) {
    if (root == null) return root;
    if (root.right != null) {
        return getMostLeft(root.right);
    } else {
        Node parent = root.parent;
        while (parent!=null && parent.left != root) {
            root = parent;
            parent = root.parent;
        }
        return parent;
    }
}

    private Node getMostLeft(Node right) {
        if(right==null) return right;
        while (right.left!=null)
        {
            right = right.left;
        }
        return right;
    }
```



## ç”±ååºå’Œä¸­åºéå†å»ºç«‹äºŒå‰æ ‘

```java
  public TreeNode buildTree(int[] inorder, int[] postorder) {
Map<Integer,Integer> map = new HashMap<>();
        for (int i = 0; i < inorder.length; i++) {
            map.put(inorder[i],i);
                }
return buildInPost(inorder,0,inorder.length-1,postorder,0,inorder.length-1,map);
    }
    private TreeNode buildInPost(int[] inorder, int inbegin, int inend, int[]postorder,int postbegin, int postend, Map<Integer, Integer> map) {
      if(postbegin > postend) return null;
      TreeNode head = new TreeNode(postorder[postend]);
      int headIndex = map.get(postorder[postend]);//æ ‘æ ¹åœ¨ä¸­åºéå†ä¸­çš„ä½ç½®
      head.left = buildInPost(inorder,inbegin,headIndex-1,postorder,postbegin,postbegin+headIndex-inbegin-1,map);
      head.right = buildInPost(inorder,headIndex+1,inend,postorder,postbegin+headIndex-inbegin,postend-1,map);//headIndex-inbeginå®é™…ä¸Šæ˜¯å·¦è¾¹å­æ ‘çš„é•¿åº¦
      return head;
    }
```



## ä¸­åºå’Œå‰åºé‡å»ºäºŒå‰æ ‘

```java
   private Map<Integer, Integer> indexMap;

    public TreeNode myBuildTree(int[] preorder, int[] inorder, int preorder_left, int preorder_right, int inorder_left, int inorder_right) {
        if (preorder_left > preorder_right) {
            return null;
        }

        // å‰åºéå†ä¸­çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹å°±æ˜¯æ ¹èŠ‚ç‚¹
        int preorder_root = preorder_left;
        // åœ¨ä¸­åºéå†ä¸­å®šä½æ ¹èŠ‚ç‚¹
        int inorder_root = indexMap.get(preorder[preorder_root]);
        
        // å…ˆæŠŠæ ¹èŠ‚ç‚¹å»ºç«‹å‡ºæ¥
        TreeNode root = new TreeNode(preorder[preorder_root]);
        // å¾—åˆ°å·¦å­æ ‘ä¸­çš„èŠ‚ç‚¹æ•°ç›®
        int size_left_subtree = inorder_root - inorder_left;
        // é€’å½’åœ°æ„é€ å·¦å­æ ‘ï¼Œå¹¶è¿æ¥åˆ°æ ¹èŠ‚ç‚¹
        // å…ˆåºéå†ä¸­ã€Œä» å·¦è¾¹ç•Œ+1 å¼€å§‹çš„ size_left_subtreeã€ä¸ªå…ƒç´ å°±å¯¹åº”äº†ä¸­åºéå†ä¸­ã€Œä» å·¦è¾¹ç•Œ å¼€å§‹åˆ° æ ¹èŠ‚ç‚¹å®šä½-1ã€çš„å…ƒç´ 
        root.left = myBuildTree(preorder, inorder, preorder_left + 1, preorder_left + size_left_subtree, inorder_left, inorder_root - 1);
        // é€’å½’åœ°æ„é€ å³å­æ ‘ï¼Œå¹¶è¿æ¥åˆ°æ ¹èŠ‚ç‚¹
        // å…ˆåºéå†ä¸­ã€Œä» å·¦è¾¹ç•Œ+1+å·¦å­æ ‘èŠ‚ç‚¹æ•°ç›® å¼€å§‹åˆ° å³è¾¹ç•Œã€çš„å…ƒç´ å°±å¯¹åº”äº†ä¸­åºéå†ä¸­ã€Œä» æ ¹èŠ‚ç‚¹å®šä½+1 åˆ° å³è¾¹ç•Œã€çš„å…ƒç´ 
        root.right = myBuildTree(preorder, inorder, preorder_left + size_left_subtree + 1, preorder_right, inorder_root + 1, inorder_right);
        return root;
    }

    public TreeNode buildTree(int[] preorder, int[] inorder) {
        int n = preorder.length;
        // æ„é€ å“ˆå¸Œæ˜ å°„ï¼Œå¸®åŠ©æˆ‘ä»¬å¿«é€Ÿå®šä½æ ¹èŠ‚ç‚¹
        indexMap = new HashMap<Integer, Integer>();
        for (int i = 0; i < n; i++) {
            indexMap.put(inorder[i], i);
        }
        return myBuildTree(preorder, inorder, 0, n - 1, 0, n - 1);
    }

ä½œè€…ï¼šLeetCode-Solution
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/zhong-jian-er-cha-shu-lcof/solution/mian-shi-ti-07-zhong-jian-er-cha-shu-by-leetcode-s/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```

## [1382. å°†äºŒå‰æœç´¢æ ‘å˜å¹³è¡¡](https://leetcode.cn/problems/balance-a-binary-search-tree/)

éš¾åº¦ä¸­ç­‰163

ç»™ä½ ä¸€æ£µäºŒå‰æœç´¢æ ‘ï¼Œè¯·ä½ è¿”å›ä¸€æ£µ **å¹³è¡¡å** çš„äºŒå‰æœç´¢æ ‘ï¼Œæ–°ç”Ÿæˆçš„æ ‘åº”è¯¥ä¸åŸæ¥çš„æ ‘æœ‰ç€ç›¸åŒçš„èŠ‚ç‚¹å€¼ã€‚å¦‚æœæœ‰å¤šç§æ„é€ æ–¹æ³•ï¼Œè¯·ä½ è¿”å›ä»»æ„ä¸€ç§ã€‚

å¦‚æœä¸€æ£µäºŒå‰æœç´¢æ ‘ä¸­ï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„ä¸¤æ£µå­æ ‘é«˜åº¦å·®ä¸è¶…è¿‡ `1` ï¼Œæˆ‘ä»¬å°±ç§°è¿™æ£µäºŒå‰æœç´¢æ ‘æ˜¯ **å¹³è¡¡çš„** ã€‚

![image-20230326134202475](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230326134202475.png) 

-----

![image-20230326134314447](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230326134314447.png) 

æ€»çš„æ¥è¯´ï¼Œå…ˆä¸­åºéå†å¾—åˆ°ä¸€ä¸ªåºåˆ—ï¼Œç„¶åé€’å½’åœ°å»ºæ ‘

```java
   List<Integer> inorder = new ArrayList<Integer>();

    public TreeNode balanceBST(TreeNode root) {
        getInorder(root);
        return build(0, inorder.size() - 1);
    }

    public void getInorder(TreeNode o) {
        if (o.left != null) {
            getInorder(o.left);
        }
        inorder.add(o.val);
        if (o.right != null) {
            getInorder(o.right);
        }
    }

    public TreeNode build(int l, int r) {
 if(l>r) return null;
 int mid=(l+r)/2;
 TreeNode root=new TreeNode(inorder.get(mid));
 root.left=build(l,mid-1);
 root.right=build(mid+1,r);
 return root;
    }
```



## [538. æŠŠäºŒå‰æœç´¢æ ‘è½¬æ¢ä¸ºç´¯åŠ æ ‘](https://leetcode.cn/problems/convert-bst-to-greater-tree/)

éš¾åº¦ä¸­ç­‰182

ç»™å®šä¸€ä¸ªäºŒå‰æœç´¢æ ‘ `root` (BST)ï¼Œè¯·å°†å®ƒçš„æ¯ä¸ªèŠ‚ç‚¹çš„å€¼æ›¿æ¢æˆæ ‘ä¸­å¤§äºæˆ–è€…ç­‰äºè¯¥èŠ‚ç‚¹å€¼çš„æ‰€æœ‰èŠ‚ç‚¹å€¼ä¹‹å’Œã€‚

æé†’ä¸€ä¸‹ï¼Œ *äºŒå‰æœç´¢æ ‘* æ»¡è¶³ä¸‹åˆ—çº¦æŸæ¡ä»¶ï¼š

- èŠ‚ç‚¹çš„å·¦å­æ ‘ä»…åŒ…å«é”® **å°äº** èŠ‚ç‚¹é”®çš„èŠ‚ç‚¹ã€‚
- èŠ‚ç‚¹çš„å³å­æ ‘ä»…åŒ…å«é”® **å¤§äº** èŠ‚ç‚¹é”®çš„èŠ‚ç‚¹ã€‚
- å·¦å³å­æ ‘ä¹Ÿå¿…é¡»æ˜¯äºŒå‰æœç´¢æ ‘ã€‚

 

![image-20220920215710477](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220920215710477.png)

----------------------



```java
int allnode = 0;
    public TreeNode bstToGst(TreeNode root) {
if(root != null){
    //è¿™é‡Œç”¨ååºçš„æ–¹æ³•ï¼Œè¦å…ˆéå†æœ€å³è¾¹çš„æ ‘ï¼Œç„¶åå†åˆ°å·¦è¾¹çš„æ ‘ï¼Œæ‰€ä»¥é€’å½’çš„æ—¶å€™è¦å…ˆroot.right
    bstToGst(root.right);
    allnode+=root.val;
    root.val = allnode;
    bstToGst(root.left);
}
return root;
    }
```





## [889. æ ¹æ®å‰åºå’Œååºéå†æ„é€ äºŒå‰æ ‘](https://leetcode.cn/problems/construct-binary-tree-from-preorder-and-postorder-traversal/)

éš¾åº¦ä¸­ç­‰268

ç»™å®šä¸¤ä¸ªæ•´æ•°æ•°ç»„ï¼Œ`preorder` å’Œ `postorder` ï¼Œå…¶ä¸­ `preorder` æ˜¯ä¸€ä¸ªå…·æœ‰ **æ— é‡å¤** å€¼çš„äºŒå‰æ ‘çš„å‰åºéå†ï¼Œ`postorder` æ˜¯åŒä¸€æ£µæ ‘çš„ååºéå†ï¼Œé‡æ„å¹¶è¿”å›äºŒå‰æ ‘ã€‚

å¦‚æœå­˜åœ¨å¤šä¸ªç­”æ¡ˆï¼Œæ‚¨å¯ä»¥è¿”å›å…¶ä¸­ **ä»»ä½•** ä¸€ä¸ªã€‚

----------------------

å‰åºéå†ä¸ºï¼š

(æ ¹ç»“ç‚¹) (å‰åºéå†å·¦åˆ†æ”¯) (å‰åºéå†å³åˆ†æ”¯)
è€Œååºéå†ä¸ºï¼š

(ååºéå†å·¦åˆ†æ”¯) (ååºéå†å³åˆ†æ”¯) (æ ¹ç»“ç‚¹)
ä¾‹å¦‚ï¼Œå¦‚æœæœ€ç»ˆçš„äºŒå‰æ ‘å¯ä»¥è¢«åºåˆ—åŒ–çš„è¡¨è¿°ä¸º [1, 2, 3, 4, 5, 6, 7]ï¼Œé‚£ä¹ˆå…¶å‰åºéå†ä¸º [1] + [2, 4, 5] + [3, 6, 7]ï¼Œè€Œååºéå†ä¸º [4, 5, 2] + [6, 7, 3] + [1].

å¦‚æœæˆ‘ä»¬çŸ¥é“å·¦åˆ†æ”¯æœ‰å¤šå°‘ä¸ªç»“ç‚¹ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¯¹è¿™äº›æ•°ç»„è¿›è¡Œåˆ†ç»„ï¼Œå¹¶ç”¨é€’å½’ç”Ÿæˆæ ‘çš„æ¯ä¸ªåˆ†æ”¯ã€‚

æˆ‘ä»¬ä»¤å·¦åˆ†æ”¯æœ‰ LL ä¸ªèŠ‚ç‚¹ã€‚æˆ‘ä»¬çŸ¥é“å·¦åˆ†æ”¯çš„å¤´èŠ‚ç‚¹ä¸º pre[1]ï¼Œä½†å®ƒä¹Ÿå‡ºç°åœ¨å·¦åˆ†æ”¯çš„ååºè¡¨ç¤ºçš„æœ€åã€‚æ‰€ä»¥ pre[1] = post[L-1]ï¼ˆå› ä¸ºç»“ç‚¹çš„å€¼å…·æœ‰å”¯ä¸€æ€§ï¼‰ï¼Œå› æ­¤ L = post.indexOf(pre[1]) + 1ã€‚

ç°åœ¨åœ¨æˆ‘ä»¬çš„é€’å½’æ­¥éª¤ä¸­ï¼Œå·¦åˆ†æ”¯ç”± pre[1 : L+1] å’Œ post[0 : L] é‡æ–°åˆ†æ”¯ï¼Œè€Œå³åˆ†æ”¯å°†ç”± pre[L+1 : N] å’Œ post[L : N-1] é‡æ–°åˆ†æ”¯ã€‚

```java
public TreeNode constructFromPrePost(int[] preorder, int[] postorder) 
{
        if(preorder.length==0) return null;
TreeNode root =new  TreeNode(preorder[0]);
if(preorder.length==1) return root;
int leftest=0;
for(int i = 0;i < preorder.length;i++){
    if(postorder[i]==preorder[1]){
        leftest = i+1;//å·¦è¾¹çš„æ ¹èŠ‚ç‚¹
    }
}
//æ³¨æ„è¿™é‡Œçš„copyOfRangeæ–¹æ³•ï¼Œæ˜¯å·¦é—­å³å¼€ï¼Œä¸ä¼šå–å³è¾¹çš„
root.left =  constructFromPrePost(Arrays.copyOfRange(preorder,1,leftest+1),
Arrays.copyOfRange(postorder,0,leftest));
root.right = constructFromPrePost(Arrays.copyOfRange(preorder,leftest+1,preorder.length),Arrays.copyOfRange(postorder,leftest,postorder.length-1));
return root;

    }
```





## ï¼ˆâ“æœªç†è§£ï¼‰ç»™å®šä¸€ä¸ªæ•´æ•°Nï¼Œè¯·è¿”å›å¯èƒ½çš„äºŒå‰æ ‘ç»“æ„æœ‰å¤šå°‘

å¦‚æœN<1ï¼Œä»£è¡¨ç©ºæ ‘ç»“æ„ï¼Œå¦åˆ™ä»£è¡¨ä¸­åºéå†çš„ç»“æœä¸º{1ï¼Œ2ï¼Œ3ï¼Œâ€¦ï¼ŒN}ã€‚è¯·è¿”å›å¯èƒ½çš„äºŒå‰æ ‘ç»“æ„æœ‰å¤šå°‘ã€‚ ä¾‹å¦‚ï¼ŒN=-1æ—¶ï¼Œä»£è¡¨ç©ºæ ‘ç»“æ„ï¼Œè¿”å›1ï¼›N=2æ—¶ï¼Œæ»¡è¶³ä¸­åºéå†ä¸º{1ï¼Œ2}çš„äºŒå‰æ ‘ç»“æ„åªæœ‰å¦‚å›¾3-49æ‰€ç¤ºçš„ä¸¤ç§ï¼Œæ‰€ä»¥è¿”å›ç»“æœä¸º2ã€‚

![image-20210924103612131](C:\Users\14172\AppData\Roaming\Typora\typora-user-images\image-20210924103612131.png)



ã€éš¾åº¦ã€‘ å°‰ã€€â˜…â˜…â˜†â˜† 

ã€è§£ç­”ã€‘ å¦‚æœä¸­åºéå†æœ‰åºä¸”æ— é‡å¤å€¼ï¼Œåˆ™äºŒå‰æ ‘å¿…ä¸ºæœç´¢äºŒå‰æ ‘ã€‚å‡è®¾numï¼ˆaï¼‰ä»£è¡¨aä¸ªèŠ‚ç‚¹çš„æœç´¢äºŒå‰æ ‘æœ‰å¤šå°‘ç§å¯èƒ½ï¼Œå†å‡è®¾åºåˆ—ä¸º{1ï¼Œâ€¦ï¼Œiï¼Œâ€¦ï¼ŒN}ï¼Œå¦‚æœä»¥1ä½œä¸ºå¤´èŠ‚ç‚¹ï¼Œ1ä¸å¯èƒ½æœ‰å·¦å­æ ‘ï¼Œæ•…ä»¥1ä½œä¸ºå¤´èŠ‚ç‚¹æœ‰å¤šå°‘ç§å¯èƒ½çš„ç»“æ„ï¼Œå®Œå…¨å–å†³äº1çš„å³å­æ ‘æœ‰å¤šå°‘ç§å¯èƒ½ç»“æ„ï¼Œ1çš„å³å­æ ‘æœ‰N-1ä¸ªèŠ‚ç‚¹ï¼Œæ‰€ä»¥æœ‰numï¼ˆN-1ï¼‰ç§å¯èƒ½ã€‚ å¦‚æœä»¥iä½œä¸ºå¤´èŠ‚ç‚¹ï¼Œiçš„å·¦å­æ ‘æœ‰i-1ä¸ªèŠ‚ç‚¹ï¼Œæ‰€ä»¥å¯èƒ½çš„ç»“æ„æœ‰numï¼ˆi-1ï¼‰ç§ï¼Œå³å­æ ‘æœ‰N-iä¸ªèŠ‚ç‚¹ï¼Œæ‰€ä»¥æœ‰numï¼ˆN-iï¼‰ç§å¯èƒ½ã€‚æ•…ä»¥iä¸ºå¤´èŠ‚ç‚¹çš„å¯èƒ½ç»“æ„æœ‰numï¼ˆi-1ï¼‰Ã—numï¼ˆN-iï¼‰ç§ã€‚ å¦‚æœä»¥Nä½œä¸ºå¤´èŠ‚ç‚¹ï¼ŒNä¸å¯èƒ½æœ‰å³å­æ ‘ï¼Œæ•…ä»¥Nä½œä¸ºå¤´èŠ‚ç‚¹æœ‰å¤šå°‘ç§å¯èƒ½ï¼Œå®Œå…¨å–å†³äºNçš„å·¦å­æ ‘æœ‰å¤šå°‘ç§å¯èƒ½ï¼ŒNçš„å·¦å­æ ‘æœ‰N-1ä¸ªèŠ‚ç‚¹ï¼Œæ‰€ä»¥æœ‰numï¼ˆN-1ï¼‰ç§ã€‚ æŠŠä»1åˆ°Nåˆ†åˆ«ä½œä¸ºå¤´èŠ‚ç‚¹æ—¶ï¼Œæ‰€æœ‰å¯èƒ½çš„ç»“æ„åŠ èµ·æ¥å°±æ˜¯ç­”æ¡ˆï¼Œå¯ä»¥åˆ©ç”¨åŠ¨æ€è§„åˆ’æ¥åŠ é€Ÿè®¡ç®—çš„è¿‡ç¨‹ï¼Œä»è€Œåšåˆ°Oï¼ˆNÂ²ï¼‰çš„æ—¶é—´å¤æ‚åº¦ã€‚ 

åŠ¨æ€è§„åˆ’ï¼š

ç»™å®šä¸€ä¸ªæœ‰åºåºåˆ— 1 â‹¯nï¼Œä¸ºäº†æ„å»ºå‡ºä¸€æ£µäºŒå‰æœç´¢æ ‘ï¼Œæˆ‘ä»¬å¯ä»¥éå†æ¯ä¸ªæ•°å­— iï¼Œå°†è¯¥æ•°å­—ä½œä¸ºæ ‘æ ¹ï¼Œå°† 1 â‹¯(iâˆ’1) åºåˆ—ä½œä¸ºå·¦å­æ ‘ï¼Œå°† (i+1)â‹¯n åºåˆ—ä½œä¸ºå³å­æ ‘ã€‚æ¥ç€æˆ‘ä»¬å¯ä»¥æŒ‰ç…§åŒæ ·çš„æ–¹å¼é€’å½’æ„å»ºå·¦å­æ ‘å’Œå³å­æ ‘

ç»™å®šåºåˆ— 1â‹¯nï¼Œæˆ‘ä»¬é€‰æ‹©æ•°å­— iä½œä¸ºæ ¹ï¼Œåˆ™æ ¹ä¸º i çš„æ‰€æœ‰äºŒå‰æœç´¢æ ‘çš„é›†åˆæ˜¯å·¦å­æ ‘é›†åˆå’Œå³å­æ ‘é›†åˆçš„ç¬›å¡å°”ç§¯ï¼Œå¯¹äºç¬›å¡å°”ç§¯ä¸­çš„æ¯ä¸ªå…ƒç´ ï¼ŒåŠ ä¸Šæ ¹èŠ‚ç‚¹ä¹‹åå½¢æˆå®Œæ•´çš„äºŒå‰æœç´¢æ ‘ï¼Œ

![image-20220221132616122](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220221132616122.png)

![image-20210924122311570](C:\Users\14172\AppData\Roaming\Typora\typora-user-images\image-20210924122311570.png)

å½“åºåˆ—é•¿åº¦ä¸º 1ï¼ˆåªæœ‰æ ¹ï¼‰æˆ–ä¸º 0ï¼ˆç©ºæ ‘ï¼‰æ—¶ï¼Œåªæœ‰ä¸€ç§æƒ…å†µï¼Œå³ï¼š

*G*(0)=1,*G*(1)=1

```java
public int numTrees(int n)
{
    if(n < 2) return 1;
}
int[]nums = new int[n+1];
nums[0] =1;
for(int i = 1;i < n+1;i++)//å¯¹äºç»™å®šåºåˆ—1~n
    for(int j  = 1;j < i+1;j++)//å–1~nçš„æ¯ä¸€ä¸ªç»“ç‚¹éƒ½ä½œä¸ºæ ¹èŠ‚ç‚¹ï¼Œæ‰€æœ‰çš„ç»“ç‚¹ä½œä¸ºæ ¹èŠ‚ç‚¹æ—¶çš„äºŒå‰æœç´¢æ ‘æ•°é‡æ€»å’Œå³1~iè¿™ä¸ªåºåˆ—çš„äºŒå‰æœç´¢æ ‘æ•°é‡
    {
        nums[i] += nums[j-1]*nums[i-j];
    }
return nums[n];
}
```

![image-20210924122400541](C:\Users\14172\AppData\Roaming\Typora\typora-user-images\image-20210924122400541.png)



## é€’å½’æ³•åˆ¤æ–­äºŒå‰æœç´¢æ ‘çš„æœ€å°èŠ‚ç‚¹å·®å€¼

```java
 int pre;
    int ans;
    public int minDiffInBST(TreeNode root) {
pre = -1;
ans = Integer.MAX_VALUE;
dfs(root);
        return ans;
    }

    private void dfs(TreeNode root) {
        if(root == null) return;

            dfs(root.left);
        if(pre == -1)
            pre = root.val;
        else
        {
            ans = Math.min(ans,Math.abs(pre -root.val));
            pre = root.val;
        }
        dfs(root.right);
    }
```







## é€’å½’çš„å½¢å¼åˆ¤æ–­æ˜¯å¦æ˜¯äºŒå‰æœç´¢æ ‘

```java
isValidBST(TreeNode root) {
    return isValidBST(root,null,null) ;
}
isValidBST(TreeNode root,TreeNode min,TreeNode max) {
   if(root == null )return true;//æ³¨æ„è¿™ä¸ªrootä¸ºç©ºæ—¶è¿”å›true
    if((min != null &&root.data =< min.data )|| (max!=null && root.data >= max.data)) return false;
    return isValidBST(root.left,min,root)&& isValidBST(root.right,root,max);
   //if(min != null) 
}

```



åœ¨ BST ä¸­æŸ¥æ‰¾â¼€ä¸ªæ•°æ˜¯å¦å­˜åœ¨
æ ¹æ®æˆ‘ä»¬çš„æŒ‡å¯¼æ€æƒ³ï¼Œå¯ä»¥è¿™æ ·å†™ä»£ç ï¼š

```java
boolean isInBST(TreeNode root, int target) {
if (root == null) return false;
if (root.val == target) return true;
return isInBST(root.left, target)
|| isInBST(root.right, target);
}
```

å¯¹æ•°æ®ç»“æ„çš„æ“ä½œâ½†â¾®éå† + è®¿é—®ï¼Œéå†å°±æ˜¯â€œæ‰¾â€ï¼Œè®¿é—®å°±æ˜¯â€œæ”¹â€ã€‚å…·ä½“åˆ°
è¿™ä¸ªé—®é¢˜ï¼Œæ’â¼Šâ¼€ä¸ªæ•°ï¼Œå°±æ˜¯å…ˆæ‰¾åˆ°æ’â¼Šä½ç½®ï¼Œç„¶åè¿›â¾æ’â¼Šæ“ä½œã€‚
ä¸Šâ¼€ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬æ€»ç»“äº† BST ä¸­çš„éå†æ¡†æ¶ï¼Œå°±æ˜¯â€œæ‰¾â€çš„é—®é¢˜ã€‚ç›´æ¥å¥—æ¡†
æ¶ï¼ŒåŠ ä¸Šâ€œæ”¹â€çš„æ“ä½œå³å¯ã€‚â¼€æ—¦æ¶‰åŠâ€œæ”¹â€ï¼Œå‡½æ•°å°±è¦è¿”å› TreeNode ç±»å‹ï¼Œ
å¹¶ä¸”å¯¹é€’å½’è°ƒâ½¤çš„è¿”å›å€¼è¿›â¾æ¥æ”¶ã€‚

```java
TreeNode insertIntoBST(TreeNode root, int val) {
 if(root == null) return new TreeNode(val) ;//æ‰¾åˆ°äº†ç©ºçš„ä½ç½®
    if(root.val < val)
        root.right = insertIntoBST(root.right,val);
    if(root.val > val)//BST ä¸­â¼€èˆ¬ä¸ä¼šæ’â¼Šå·²å­˜åœ¨å…ƒç´ 
        root.left = insertIntoBST(root.left,val);
    return root;
        
}
```



## å‰ä¸­ååºéå†å›¾ç‰‡

![image-20220126011639618](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220126011639618.png)

## äºŒå‰æœç´¢æ ‘çš„ä¸­åºåç»§

ç»™å®šæ ¹èŠ‚ç‚¹å’Œä¸€ä¸ªèŠ‚ç‚¹p,æ±‚pçš„ä¸­åºåç»§

å› ä¸ºè¿™é‡Œç”¨åˆ°äº†äºŒå‰æœç´¢æ ‘æ‰€ä»¥å¯ä»¥åˆ©ç”¨äºŒå‰æœç´¢æ ‘çš„ç‰¹æ€§

äºŒå‰æœç´¢æ ‘çš„ä¸€ä¸ªæ€§è´¨æ˜¯ä¸­åºéå†åºåˆ—å•è°ƒé€’å¢ï¼Œå› æ­¤äºŒå‰æœç´¢æ ‘ä¸­çš„èŠ‚ç‚¹ p çš„ä¸­åºåç»§æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼š

ä¸­åºåç»§çš„èŠ‚ç‚¹å€¼å¤§äº p çš„èŠ‚ç‚¹å€¼ï¼›

ä¸­åºåç»§æ˜¯èŠ‚ç‚¹å€¼å¤§äº p çš„èŠ‚ç‚¹å€¼çš„æ‰€æœ‰èŠ‚ç‚¹ä¸­èŠ‚ç‚¹å€¼æœ€å°çš„ä¸€ä¸ªèŠ‚ç‚¹ã€‚

![image-20230219122058738](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230219122058738.png) 

```java
 public TreeNode inorderSuccessor(TreeNode root, TreeNode p) {
       TreeNode successor=null;
       if(p.right!=null)
       {
           successor=p.right;
           while(successor.left!=null)
           successor=successor.left;
           return successor;
       }
       TreeNode cur=root;
       while(cur!=null)
       {
           if(cur.val>p.val)
           {
               successor=cur;
               cur=cur.left;
           }
           else cur=cur.right;
       }
        return successor;
    }
 
```



## Morriséå†

**ï¼šå’ŒäºŒå‰æ ‘çš„éå†æœ‰å…³çš„æœ€ä¼˜è§£éƒ½æ˜¯ Morris éå†ã€‚**

æ˜¯ä½¿ç”¨çº¿ç´¢äºŒå‰æ ‘è¿›è¡Œä¸­åºéå†çš„ä¸€ç§å®ç°ï¼Œå…¶å¯ä»¥åœ¨O(n)çš„æ—¶é—´ï¼ŒO(1)çš„ç©ºé—´å®Œæˆéå†ï¼Œ å¯¹å…¶ç¨åŠ ä¿®æ”¹å¯ä»¥æ¨å¹¿åˆ°å…ˆåºã€ååºéå†ï¼Œå…¶éå†è¿‡ç¨‹åŒ…å«ä¸‰ä¸ªéƒ¨åˆ†ï¼š

åˆ›å»ºæŒ‡å‘ä¸­åºåé©±ç»“ç‚¹çš„çº¿ç´¢ï¼›
éå†è¾“å‡ºç»“ç‚¹ï¼›
åˆ é™¤çº¿ç´¢ï¼Œæ¢å¤æ ‘çš„ç»“æ„ï¼›
\2. Morris ä¸­åºéå†
Morris ä¸­åºéå†è¿‡ç¨‹å¦‚ä¸‹ï¼š

å½“å‰ç»“ç‚¹çš„å·¦å­©å­æ˜¯å¦ä¸ºç©ºï¼Œè‹¥æ˜¯åˆ™è¾“å‡ºå½“å‰ç»“ç‚¹ï¼Œæ›´å½“å‰ç»“ç‚¹ä¸ºå½“å‰ç»“ç‚¹çš„å³å­©å­ï¼›å¦åˆ™è¿›å…¥2ï¼›

åœ¨å½“å‰ç»“ç‚¹çš„å·¦å­æ ‘ä¸­å¯»æ‰¾ä¸­åºéå†ä¸‹çš„å‰é©±ç»“ç‚¹ï¼ˆå·¦å­æ ‘ä¸­æœ€å³ç»“ç‚¹ï¼‰

a. è‹¥å‰é©±ç»“ç‚¹çš„å³å­©å­ä¸ºç©ºï¼Œåˆ™å°†å‰é©±ç»“ç‚¹çš„å³å­©å­æŒ‡å‘å½“å‰ç»“ç‚¹ï¼Œå½“å‰ç»“ç‚¹æ›´æ–°ä¸ºå½“å‰ç»“ç‚¹çš„å·¦å­©å­ï¼›è¿›å…¥3ï¼›

b. è‹¥å‰é©±ç»“ç‚¹çš„å³å­©å­ä¸ºå½“å‰ç»“ç‚¹ï¼ˆä¸ä¸ºç©ºï¼‰ï¼Œå°†å‰é©±ç»“ç‚¹çš„å³å­©å­ç½®NULLï¼Œè¾“å‡ºå½“å‰ç»“ç‚¹ï¼Œå½“å‰ç»“ç‚¹æ›´æ–°ä¸ºå½“å‰ç»“ç‚¹çš„å³å­©å­ï¼Œè¿›å…¥3ï¼›

è‹¥å½“å‰ç»“ç‚¹ä¸ä¸ºç©ºï¼Œè¿›å…¥1ï¼›å¦åˆ™ç¨‹åºç»“æŸï¼› 

ä¸­åºï¼š

```java
  public static class Node{
        private Node left;
        private Node right;
        private int value;
 
        public Node(int value){
            this.value = value;
        
        }
public void morris1(TreeNode t1)
{
    TreeNode cur = t1;
    if(t1 == null) return;
     TreeNode mostright= null;
    while(cur != null){
        mostright = cur.left;
        if(mostright != null)//å¦‚æœcur.leftä¸ä¸ºç©º
        {
        while(mostright.right != null &&mostright.right != cur
                    // æ‰¾åˆ°å·¦å­æ ‘çš„æœ€å³å­èŠ‚ç‚¹mostRight
        {
            mostright = mostright.right;
            
        }
            if(mostright.right == null)
            {mostright.right = cur;//å»ºç«‹çº¿ç´¢
             cur = cur.left;
            continue;}
                                  // ç¬¬ä¸€æ¬¡æ¥åˆ°current
                    // éå†å®Œå·¦å­æ ‘ï¼Œé€šè¿‡mostRight.rightå°±å¯ä»¥è¿”å›åˆ°currentäº†

            else
            {
                mostright.right = null;//åˆ é™¤çº¿ç´¢
            }
            
        }
       
         //å¦‚æœcur.leftä¸ºç©º
               System.out.println(cur.val);
         cur = cur.right;//è¿›å…¥ä¸‹ä¸€è½®whileå¾ªç¯
    }
}
```



Morris çš„å‰åºéå†ï¼šä¸ç®¡æœ‰æ— å·¦å­æ ‘ï¼Œéƒ½æ˜¯ç¬¬ä¸€æ¬¡éå†åˆ°ä¸€ä¸ªèŠ‚ç‚¹æ—¶å°±æ‰“å°ã€‚



```java
public class Morris {
// Morriså…ˆåºéå†ï¼šæœ‰æ— å·¦å­æ ‘éƒ½æ˜¯ç¬¬ä¸€æ¬¡éå†åˆ°currentæ—¶å°±æ‰“å°
public static void morrisPre(Node root){
    if(root == null){
        return;
    }
    Node current = root;
    Node mostRight = null;
    while(current != null){
        mostRight = current.left;
        // current æœ‰å·¦å­æ ‘æ—¶ï¼Œå°±è¦è¿›è¡ŒMorriséå†
        if(mostRight != null){
            while(mostRight.right != null && mostRight.right != current){
                // æ‰¾åˆ°å·¦å­æ ‘çš„æœ€å³å­èŠ‚ç‚¹mostRight
                mostRight = mostRight.right;
            }
            // mosrRightæ‰¾åˆ°äº†,è¯´æ˜æ˜¯ç¬¬ä¸€æ¬¡æ¥åˆ°cur
            if(mostRight.right == null){
                System.out.print(current.value + " ");
                mostRight.right = current;
                current = current.left;
                continue;//continueä¿è¯äº†ä¸ä¼šèµ°åˆ°ä¸‹é¢çš„current=current.right;
            }else{
                mostRight.right = null;
            }
        }else{
            // æ— å·¦å­æ ‘ï¼Œç¬¬ä¸€æ¬¡æ¥åˆ°current
            System.out.print(current.value + " ");
        }
        // æ— å·¦å­æ ‘ æˆ–è€…å·¦å­æ ‘å·²ç»éå†å®Œäº†å°±éå†å³å­æ ‘
        current = current.right;
    }
}
```
}

ä¸­åºéå†ï¼š



```java
// Morrisä¸­åºéå†ï¼šæ²¡æœ‰å·¦å­æ ‘çš„èŠ‚ç‚¹ç›´æ¥æ‰“å°ï¼Œæœ‰å·¦å­æ ‘çš„èŠ‚ç‚¹ï¼Œç¬¬äºŒæ¬¡éå†åˆ°æ‰“å°
public static void morrisIn(Node root){
    if(root == null){
        return;
    }
    Node current = root;
    Node mostRight = null;
    while(current != null){
        mostRight = current.left;
        // current æœ‰å·¦å­æ ‘æ—¶ï¼Œå°±è¦è¿›è¡ŒMorriséå†
        if(mostRight != null){
            while(mostRight.right != null && mostRight.right != current){
                // æ‰¾åˆ°å·¦å­æ ‘çš„æœ€å³å­èŠ‚ç‚¹mostRight
                mostRight = mostRight.right;
            }
            // mosrRightæ‰¾åˆ°äº†,è¯´æ˜æ˜¯ç¬¬ä¸€æ¬¡æ¥åˆ°cur
            if(mostRight.right == null){
                mostRight.right = current;
                current = current.left;
                continue;
            }else{
                System.out.print(current.value + " ");
                mostRight.right = null;
            }
        }else{
            // æ— å·¦å­æ ‘ï¼Œç¬¬ä¸€æ¬¡æ¥åˆ°current
            System.out.print(current.value + " ");
        }
        // æ— å·¦å­æ ‘ æˆ–è€…å·¦å­æ ‘å·²ç»éå†å®Œäº†å°±éå†å³å­æ ‘
        current = current.right;
    }
}
```


## èŠ‚ç‚¹é—´çš„æœ€å¤§è·ç¦»ã€‚ 

ä»äºŒå‰æ ‘çš„èŠ‚ç‚¹Aå‡ºå‘ï¼Œå¯ä»¥å‘ä¸Šæˆ–è€…å‘ä¸‹èµ°ï¼Œä½†æ²¿é€”çš„èŠ‚ç‚¹åªèƒ½ç»è¿‡ä¸€æ¬¡ï¼Œå½“åˆ°è¾¾èŠ‚ç‚¹Bæ—¶ï¼Œè·¯å¾„ä¸Šçš„èŠ‚ç‚¹æ•°å«ä½œAåˆ°Bçš„è·ç¦»ã€‚ æ¯”å¦‚ï¼Œå›¾3-48æ‰€ç¤ºçš„äºŒå‰æ ‘ï¼ŒèŠ‚ç‚¹4å’ŒèŠ‚ç‚¹2çš„è·ç¦»ä¸º2ï¼ŒèŠ‚ç‚¹5å’ŒèŠ‚ç‚¹6çš„è·ç¦»ä¸º5ã€‚ç»™å®šä¸€æ£µäºŒå‰æ ‘çš„å¤´èŠ‚ç‚¹headï¼Œæ±‚æ•´æ£µæ ‘ä¸ŠèŠ‚ç‚¹é—´çš„æœ€å¤§è·ç¦»ã€‚ 

éš¾åº¦ã€‘ å°‰ã€€â˜…â˜…â˜†â˜† 

ã€è§£ç­”ã€‘ ä¸€ä¸ªä»¥hä¸ºå¤´çš„æ ‘ä¸Šï¼Œæœ€å¤§è·ç¦»åªå¯èƒ½æ¥è‡ªä»¥ä¸‹ä¸‰ç§æƒ…å†µï¼š 

hçš„å·¦å­æ ‘ä¸Šçš„æœ€å¤§è·ç¦»ã€‚ 

hçš„å³å­æ ‘ä¸Šçš„æœ€å¤§è·ç¦»ã€‚ 

hå·¦å­æ ‘ä¸Šç¦»h.leftæœ€è¿œçš„è·ç¦»+1ï¼ˆhï¼‰+hå³å­æ ‘ä¸Šç¦»h.rightæœ€è¿œçš„è·ç¦»ã€‚ ä¸‰ä¸ªå€¼ä¸­æœ€å¤§çš„é‚£ä¸ªå°±æ˜¯æ•´æ£µhæ ‘ä¸­æœ€è¿œçš„è·ç¦»ã€‚ æ ¹æ®å¦‚ä¸Šåˆ†æï¼Œè®¾è®¡è§£æ³•çš„è¿‡ç¨‹å¦‚ä¸‹ï¼š 1.æ•´ä¸ªè¿‡ç¨‹ä¸ºååºéå†ï¼Œåœ¨äºŒå‰æ ‘çš„æ¯æ£µå­æ ‘ä¸Šæ‰§è¡Œæ­¥éª¤2ã€‚ 2.å‡è®¾å­æ ‘å¤´ä¸ºhï¼Œå¤„ç†hå·¦å­æ ‘ï¼Œå¾—åˆ°ä¸¤ä¸ªä¿¡æ¯ï¼Œå·¦å­æ ‘ä¸Šçš„æœ€å¤§è·ç¦»è®°ä¸ºlMaxï¼Œå·¦å­æ ‘ä¸Šè·ç¦»hå·¦å­©å­çš„æœ€è¿œè·ç¦»è®°ä¸ºmaxfromLeftã€‚åŒç†ï¼Œå¤„ç†hå³å­æ ‘å¾—åˆ°å³å­æ ‘ä¸Šçš„æœ€å¤§è·ç¦»è®°ä¸ºrMaxå’Œè·ç¦»hå³å­©å­çš„æœ€è¿œè·ç¦»è®°ä¸ºmaxFromRightã€‚é‚£ä¹ˆmaxfromLeft+1+maxFromRightå°±æ˜¯è·¨hèŠ‚ç‚¹æƒ…å†µä¸‹çš„æœ€å¤§è·ç¦»ï¼Œå†ä¸lMaxå’ŒrMaxæ¯”è¾ƒï¼ŒæŠŠä¸‰è€…ä¸­çš„æœ€å€¼ä½œä¸ºhæ ‘ä¸Šçš„æœ€å¤§è·ç¦»è¿”å›ï¼ŒmaxfromLeft+1å°±æ˜¯hå·¦å­æ ‘ä¸Šç¦»hæœ€è¿œçš„ç‚¹åˆ°hçš„è·ç¦»ï¼ŒmaxFromRight+1å°±æ˜¯hå³å­æ ‘ä¸Šç¦»hæœ€è¿œçš„ç‚¹åˆ°hçš„è·ç¦»ï¼Œé€‰ä¸¤è€…ä¸­æœ€å¤§çš„ä¸€ä¸ªä½œä¸ºhæ ‘ä¸Šè·ç¦»hæœ€è¿œçš„è·ç¦»è¿”å›ã€‚å¦‚ä½•è¿”å›ä¸¤ä¸ªå€¼ï¼Ÿä¸€ä¸ªæ­£å¸¸è¿”å›ï¼Œå¦ä¸€ä¸ªç”¨å…¨å±€å˜é‡è¡¨ç¤ºã€‚ 

![image-20210923000909108](C:\Users\14172\AppData\Roaming\Typora\typora-user-images\image-20210923000909108.png)

```java
public int maxDistance(TreeNode head)
{
    int[] record = new int[1];
    return posOrder(head,record);
}

private int posOrder(TreeNode head, int[] record) {
    if(head == null)
    {
        record[0] = 0;
        return 0;
    }
    int lmax = posOrder(head.left,record);
    int maxfromleft = record[0];
    int rmax = posOrder(head.right,record);
    int maxfromright = record[0];
    //è¿™æ˜¯ç»è¿‡å¤´èŠ‚ç‚¹çš„è·¯å¾„
    int coreMax = maxfromright + maxfromleft +1;
    record[0] = Math.max(lmax,rmax) +1;
    return Math.max(coreMax,Math.max(lmax,rmax));
}
```



## èŠ‚ç‚¹æœ€å¤§è·¯å¾„å’Œ

![image-20220125174847606](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220125174847606.png)

![image-20220125174908181](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220125174908181.png)

```java
class Solution {
    int total = Integer.MIN_VALUE;
    public int maxPathSum(TreeNode root) {

findmax(root); 
//rmax = Math.max(rmax,lmax);
return total;
    }
    public int findmax(TreeNode root)
    {
        if(root == null) return 0;
       int leftmax = Math.max(findmax(root.left),0);
       int rightmax= Math.max(findmax(root.right),0);

int pricepath = root.val+leftmax+rightmax;
total =Math.max(total,pricepath);//totalæ˜¯æœ€å¤§çš„å€¼
return root.val+Math.max(leftmax,rightmax);//ç»“ç‚¹çš„æœ€å¤§è´¡çŒ®åº¦

    }
}
```





## å¤šå‰æ ‘éå†

åŸºäºäºŒå‰æ ‘çš„æ¡†æ¶éå†å¤šå‰æ ‘ï¼ˆå±‚åºéå†ï¼‰

```java
void levelTraverse(TreeNode root){
    if(root == null) return 0;
    Queue<TreeNode>q = new Linkedlist<>();
    q.offer(root);
    int depth = 1;
    while(!q.isEmpty())
    {
        int sz = q.size();
        for(int i = 0;i < sz;i++)
        {
            TreeNode r = q.poll();
            System.out.println("èŠ‚ç‚¹%såœ¨ç¬¬%så±‚",r,depth);
            for(TreeNode child:r.children)
                q.offer(child);//æŠŠæ¯ä¸€å±‚çš„æ‰€æœ‰ç»“ç‚¹æ”¾å…¥é˜Ÿåˆ—
        }
        depth++;//æ³¨æ„depth++çš„ä½ç½®
    }
}
```



## **[èŠ‚ç‚¹ä¸å…¶ç¥–å…ˆä¹‹é—´çš„æœ€å¤§å·®å€¼](https://leetcode-cn.com/problems/maximum-difference-between-node-and-ancestor/)**

![image-20210923174134531](C:\Users\14172\AppData\Roaming\Typora\typora-user-images\image-20210923174134531.png)

```java
 int res = 0;
    public int maxAncestorDiff(TreeNode root) {
recurse(root);
return res;
    }
     private int[] recurse(TreeNode root) {
        if(root ==null)return null;
        if(root.left==null&&root.right==null)
        {
            res = Math.max(res,0);
            //intæ•°ç»„å­˜å‚¨ä»æ ¹èŠ‚ç‚¹åˆ°å¶èŠ‚ç‚¹çš„è·¯å¾„ä¸Šçš„æœ€å¤§å€¼å’Œæœ€å°å€¼ï¼Œé€’å½’åœ°æ›´æ–°ï¼Œå…ˆæ‰¾åˆ°å·¦å­æ ‘ä¸Šåˆ°å¶èŠ‚ç‚¹çš„æœ€å¤§å€¼å’Œæœ€å°å€¼ï¼Œå†å¾€ä¸Šå›æº¯
            return new int[]{root.val,root.val};
        }
        int low = Integer.MAX_VALUE;
        int high = Integer.MIN_VALUE;
        int left[] = recurse(root.left);
        if(left!=null)
        {
            low = Math.min(low,left[0]);
            high = Math.max(high,left[1]);
        }
        int right[] = recurse(root.right);
        if(right!=null)
        {
            low = Math.min(low,right[0]);
            high = Math.max(high,right[1]);
        }//æ¯”è¾ƒï¼Œæ˜¯è¿™ä¸ªè·¯å¾„ä¸Šçš„æœ€å¤§å€¼å‡å»rootçš„å€¼å¤§è¿˜æ˜¯æœ€å°å€¼å‡å»rootçš„å€¼å¤§
        res= Math.max(res,Math.max(Math.abs(root.val - low),Math.abs(root.val-high)));
        return new int[]{Math.min(root.val,low),Math.max(root.val,high)};

    }
```





## æœ€è¿‘å…¬å…±ç¥–å…ˆ

æ–¹æ³•ä¸€ï¼š

ååºéå†äºŒå‰æ ‘ï¼Œå‡è®¾éå†åˆ°çš„å½“å‰èŠ‚ç‚¹ä¸ºcurã€‚å› ä¸ºæ˜¯ååºéå†ï¼Œæ‰€ä»¥å…ˆå¤„ç†curçš„ä¸¤æ£µå­æ ‘ã€‚å‡è®¾å¤„ç†curå·¦å­æ ‘æ—¶è¿”å›èŠ‚ç‚¹ä¸ºleftï¼Œå¤„ç†å³å­æ ‘æ—¶è¿”å›rightã€‚

1.å¦‚æœå‘ç°curç­‰äºnullï¼Œæˆ–è€…o1ã€o2ï¼Œåˆ™è¿”å›curã€‚ 

2.å¦‚æœleftå’Œrightéƒ½ä¸ºç©ºï¼Œè¯´æ˜curæ•´æ£µå­æ ‘ä¸Šæ²¡æœ‰å‘ç°è¿‡o1æˆ–o2ï¼Œè¿”å›nullã€‚ 

3.å¦‚æœleftå’Œrightéƒ½ä¸ä¸ºç©ºï¼Œè¯´æ˜å·¦å­æ ‘ä¸Šå‘ç°è¿‡o1æˆ–o2ï¼Œå³å­æ ‘ä¸Šä¹Ÿå‘ç°è¿‡o2æˆ–o1ï¼Œè¯´æ˜o1å‘ä¸Šä¸o2å‘ä¸Šçš„è¿‡ç¨‹ä¸­ï¼Œé¦–æ¬¡åœ¨curç›¸é‡ï¼Œè¿”å›curã€‚ 

4.å¦‚æœleftå’Œrightæœ‰ä¸€ä¸ªä¸ºç©ºï¼Œå¦ä¸€ä¸ªä¸ä¸ºç©ºï¼Œå‡è®¾ä¸ä¸ºç©ºçš„é‚£ä¸ªè®°ä¸ºnodeï¼Œæ­¤æ—¶nodeåˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿæœ‰ä¸¤ç§å¯èƒ½ï¼Œè¦ä¹ˆnodeæ˜¯o1æˆ–o2ä¸­çš„ä¸€ä¸ªï¼Œè¦ä¹ˆnodeå·²ç»æ˜¯o1å’Œo2çš„æœ€è¿‘å…¬å…±ç¥–å…ˆã€‚ä¸ç®¡æ˜¯å“ªç§æƒ…å†µï¼Œç›´æ¥è¿”å›nodeå³å¯ã€‚ 

```java
public TreeNode lowestCommonAncestor(TreeNode root, TreeNode p, TreeNode q) {
         if (root == null) return null;
         TreeNode left=lowestCommonAncestor(root.left,p,q);
         TreeNode right=lowestCommonAncestor(root.right,p,q);
         if(left!=null&&right!=null) return root;
         if(root==p||root==q) return root;
         if(left==null) return right;
         if(right==null) return left;
        return null;
    }

    }
```

æ–¹æ³•äºŒï¼š

```java
         private HashMap<TreeNode, TreeNode> map;

            public void Record1(TreeNode head) {

map = new HashMap<>();
if(head != null) map.put(head,null);
setMap(head);


            }

    private void setMap(TreeNode head) {
                if(head == null) return;
                if(head.left!= null)
                    map.put(head.left,head);
                if(head.right!=null)
                    map.put(head.right,head);
                setMap(head.left);
                setMap(head.right);
    }
public TreeNode query(TreeNode p,TreeNode q)
{
    Set<TreeNode> path = new HashSet<>();
    while (map.containsKey(p))
    {
        path.add(p);
        p = map.get(p);
    }
    while (!path.contains(q))
    {
        q = map.get(q);
    }
    return q;
}
```







å¦‚æœæ˜¯äºŒå‰æœç´¢æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆï¼Œç”±äºäºŒå‰æœç´¢æ ‘æ¯ä¸ªç»“ç‚¹å€¼ä¸ä¸€æ ·ï¼Œå¯ä»¥é‡‡ç”¨ä¸¤ä¸ªæ•°ç»„å­˜å‚¨ä¸­åºéå†åˆ°ç»“ç‚¹çš„è·¯å¾„ï¼Œè¿”å›æœ€å…ˆåˆ†å‰çš„ç‚¹ï¼š



```java
     
    public TreeNode lowestCommonAncestor(TreeNode root, TreeNode p, TreeNode q) {
List<TreeNode> path1 = new ArrayList<>();
List<TreeNode> path2 = new ArrayList<>();
path1 = findNode(root,p);
path2 = findNode(root,q);
TreeNode tar = null;
        for (int i = 0; i < path1.size() && i < path2.size(); i++) {
            if(path1.get(i).val == path2.get(i).val)
                tar = path1.get(i);
                else
                break;
        }
        return tar;
    }

        public List<TreeNode> findNode(TreeNode root, TreeNode q)
    {
        List<TreeNode>path = new ArrayList<>();
        TreeNode treeNode = root;
        while (treeNode!= q)
        {
            path.add(treeNode);
            if(treeNode.val > q.val) {
                treeNode = treeNode.left;    
            }
            else if(treeNode.val < q.val) {
                treeNode = treeNode.right;
            }
        }
        path.add(q);
        return path;
    }

```





## åˆ¤æ–­ä¸€é¢—æ ‘æ˜¯å¦æ˜¯äºŒå‰æ’åºæ ‘

å¯¹ç»™å®šçš„æ ‘ä¸­åºéå†ï¼Œå¦‚æœå§‹ç»ˆèƒ½ä¿è¯å‰ä¸€ä¸ªç»“ç‚¹çš„å…³é”®å­—æ¯”åä¸€ä¸ªç»“ç‚¹çš„å…³é”®å­—å°ï¼Œåˆ™è¯´æ˜è¯¥äºŒå‰æ ‘æ˜¯ä¸€æ£µæ’åºæ ‘,ä¸ºäº†æ¯”è¾ƒå‰ä¸€ä¸ªç»“ç‚¹ä¸åä¸€ä¸ªç»“ç‚¹ï¼Œéœ€è¦è®¾ä¸€ä¸ªç»“ç‚¹ä¿å­˜ä¹‹å‰éå†çš„ç»“ç‚¹

```java
T pre= MIN;//ç”¨äºä¿å­˜å½“å‰ç»“ç‚¹ä¸­åºå‰é©±çš„ç»“ç‚¹å€¼,æ³¨æ„å¿…é¡»è¦æ˜¯å…¨å±€å˜é‡æ‰å¯ä»¥
bool judgeBST(BSTNode *b){
    //åˆ¤æ–­äºŒå‰æ ‘Bæ˜¯å¦ä¸ºBST
    bool flag1,flag2;
    if(b == null) return true;
    else
    {
        flag1 = judgeBST(b->lchild);//åˆ¤æ–­å·¦å­æ ‘
        if(!flag1 || pre >= b.val) return false;
        pre = b->val;
        
        flag2 = judgeBST(b->rchild);
        return flag2;
}
}

```

## å¯»æ‰¾è·ç¦»få€¼è·ç¦»æœ€è¿‘ä¸”å¤§äºç­‰äºfçš„èŠ‚ç‚¹

å…¶ä¸­f=(min+max)/2;

```java
BSTNode* getNode(BSTNode*bt){
    BSTNode*p = bt,*q = bt,*result;
    while(p->lchild != null)
    {
        p = p->lchild;
    }
    while(q->rchild != null)
    {
        q = q.rchild;
    }
    int f = (p.val + q.val)/2;
    while(bt != null)
    {
        if(bt.val < f)
        {
            bt = bt.rchild;
        }
        else
        {
result = bt;//åœ¨å·¦å­æ ‘ä¸­å¯»æ‰¾æœ€è¿‘çš„ç»“ç‚¹
            bt = bt.lchild;//resultæ‰æ˜¯æœ€åä¸€ä¸ªå¤§äºç­‰äºbtç»“ç‚¹çš„ç»“ç‚¹
        }
        return result;
    }
}
```



## äºŒå‰æ ‘åºåˆ—åŒ–

å…ˆåºåºåˆ—åŒ–çš„æ–¹å¼ï¼š

```java
 // Encodes a tree to a single string.
    public String serialize(TreeNode root) {
        if(root == null) return "#!";
        String res = root.val + "!";
        res+=serialize(root.left);
        res+=serialize(root.right);
        return res;
    }

    // Decodes your encoded data to tree.
    public TreeNode deserialize(String data) {
        String[]values = data.split("!");
         Queue<String>queue = new LinkedList<>();
         for(int i = 0;i < values.length;i++)
         queue.offer(values[i]);
return rebuild(queue);

    }
    public TreeNode rebuild(Queue<String>qu)
    {
        String val = qu.poll();
        if(val.equals("#"))
        return null;
        TreeNode head = new TreeNode(Integer.valueOf(val));
        head.left = rebuild(qu);
        head.right = rebuild(qu);
        return head;
    }
```

## æœç´¢äºŒå‰æ ‘åºåˆ—åŒ–

è¿™é‡Œåˆ©ç”¨æœç´¢äºŒå‰æ ‘çš„æ€§è´¨ï¼Œç”¨ååºéå†çš„æ–¹å¼

```java
   public StringBuilder postorder(TreeNode root, StringBuilder sb) {
        if (root == null)
          {
 return sb.append("#!");
          } 
        postorder(root.left, sb);//ååºéå† å·¦å­æ ‘-å³å­æ ‘-æ ¹èŠ‚ç‚¹
        postorder(root.right, sb);
        sb.append(root.val);
        sb.append('!');
        return sb;
    }

    // Encodes a tree to a single string.
    public String serialize(TreeNode root) {
        StringBuilder sb = postorder(root, new StringBuilder());
   
        return sb.toString();
    }

    public TreeNode helper(Integer lower, Integer upper, ArrayDeque<String> nums) {
        while(!nums.isEmpty()&& nums.getLast().equals("#")) //å…ˆç§»é™¤æ‰ä¸ºnullçš„å…ƒç´ 
    nums.removeLast();
        if (nums.isEmpty())//å¦‚æœåªå‰©ä¸€ä¸ª#ï¼Œè¿™æ—¶å€™numsä¸ºç©ºï¼Œç›´æ¥è¿”å›
            return null;
   
 
      String val = nums.getLast();//å¦åˆ™è¿›è¡Œååºéå†ï¼Œå…ˆå–å‡ºæ ¹èŠ‚ç‚¹ å³é˜Ÿåˆ—çš„æœ€åä¸€ä¸ªå…ƒç´ 
       if (Integer.valueOf( val )< lower || Integer.valueOf(val) > upper)//è¿™ä¸ªæ¡ä»¶åˆ¤æ–­ä¸èƒ½å°‘ï¼Œå¦åˆ™ç»“æœä¸æ­£ç¡®
          return null;

        nums.removeLast();//åœ¨è¿™é‡Œè¦æŠŠåˆšåˆšéå†åˆ°çš„æœ€åä¸€ä¸ªå…ƒç´ ç§»é™¤
        int number = Integer.valueOf( val );
        TreeNode root = new TreeNode(Integer.valueOf( val ));
        root.right = helper(number, upper, nums);
        root.left = helper(lower, number, nums);//åœ¨è¿™é‡Œæ³¨æ„ï¼Œæ ¹èŠ‚ç‚¹çš„å·¦è¾¹å°äºæ ¹èŠ‚ç‚¹ï¼Œæ ¹èŠ‚ç‚¹çš„å³è¾¹å¤§äºæ ¹èŠ‚ç‚¹
        return root;
    }

    // Decodes your encoded data to tree.
    public TreeNode deserialize(String data) {
        if (data.isEmpty())
            return null;
        ArrayDeque<String> nums = new ArrayDeque<String>();
        for (String s : data.split("!"))
            nums.add(s);
        return helper(Integer.MIN_VALUE, Integer.MAX_VALUE, nums);//å°¤å…¶æ³¨æ„è¿™é‡Œçš„æœ€å¤§å’Œæœ€å°å€¼æ˜¯ä»€ä¹ˆ
    }
```

## [652. å¯»æ‰¾é‡å¤çš„å­æ ‘](https://leetcode.cn/problems/find-duplicate-subtrees/)

éš¾åº¦ä¸­ç­‰464

ç»™å®šä¸€æ£µäºŒå‰æ ‘ `root`ï¼Œè¿”å›æ‰€æœ‰**é‡å¤çš„å­æ ‘**ã€‚

å¯¹äºåŒä¸€ç±»çš„é‡å¤å­æ ‘ï¼Œä½ åªéœ€è¦è¿”å›å…¶ä¸­ä»»æ„**ä¸€æ£µ**çš„æ ¹ç»“ç‚¹å³å¯ã€‚

å¦‚æœä¸¤æ£µæ ‘å…·æœ‰**ç›¸åŒçš„ç»“æ„**å’Œ**ç›¸åŒçš„ç»“ç‚¹å€¼**ï¼Œåˆ™å®ƒä»¬æ˜¯**é‡å¤**çš„ã€‚

 ![image-20220903165017781](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220903165017781.png)

--------------------

ä½¿ç”¨æ·±åº¦ä¼˜å…ˆæœç´¢ï¼Œå…¶ä¸­é€’å½’å‡½æ•°è¿”å›å½“å‰å­æ ‘çš„åºåˆ—åŒ–ç»“æœã€‚æŠŠæ¯ä¸ªèŠ‚ç‚¹å¼€å§‹çš„å­æ ‘åºåˆ—åŒ–ç»“æœä¿å­˜åœ¨ map ä¸­ï¼Œç„¶ååˆ¤æ–­æ˜¯å¦å­˜åœ¨é‡å¤çš„å­æ ‘ã€‚æ¯æ£µä¸åŒå­æ ‘çš„åºåˆ—åŒ–ç»“æœéƒ½æ˜¯å”¯ä¸€çš„ã€‚

```java
   Map<String, Integer> count;
    Set<TreeNode>ans = new HashSet<>();
    public List<TreeNode> findDuplicateSubtrees(TreeNode root) {
           count = new HashMap();
inOrder(root);
return new ArrayList<>(ans);
    }
    public String inOrder(TreeNode root){
        if(root==null)
 return "#";
 String serial = root.val+","+inOrder(root.left)+","+inOrder(root.right);
 count.put(serial,count.getOrDefault(serial,0)+1);
 if(count.get(serial)==2)
 ans.add(root);       
 return serial;
    }
```



## ğŸ”·ğŸ”·ï¼ˆæœªæ€è€ƒæ¸…æ¥šï¼‰äºŒå‰æ ‘çš„æœ€å¤§æœç´¢äºŒå‰å­æ ‘

ä¸€ä¸ªæ™®é€šäºŒå‰æ ‘ï¼Œç»™å®šå¤´èŠ‚ç‚¹ï¼Œæ¯ä¸ªèŠ‚ç‚¹å€¼ä¸ä¸€æ ·ï¼Œè¿”å›å«æœ‰èŠ‚ç‚¹æ•°æœ€å¤šçš„æœç´¢äºŒå‰å­æ ‘å¹¶è¿”å›å®ƒçš„å¤´èŠ‚ç‚¹

ä»¥èŠ‚ç‚¹nodeä¸ºå¤´çš„æ ‘ä¸­ï¼Œæœ€å¤§çš„æœç´¢äºŒå‰å­æ ‘åªå¯èƒ½æ¥è‡ªä»¥ä¸‹ä¸¤ç§æƒ…å†µã€‚ ç¬¬ä¸€ç§ï¼šå¦‚æœæ¥è‡ªnodeå·¦å­æ ‘ä¸Šçš„æœ€å¤§æœç´¢äºŒå‰å­æ ‘æ˜¯ä»¥node.leftä¸ºå¤´çš„ï¼›æ¥è‡ªnodeå³å­æ ‘ä¸Šçš„æœ€å¤§æœç´¢äºŒå‰å­æ ‘æ˜¯ä»¥node.rightä¸ºå¤´çš„ï¼›nodeå·¦å­æ ‘ä¸Šçš„æœ€å¤§æœç´¢äºŒå‰å­æ ‘çš„æœ€å¤§å€¼å°äºnode.valueï¼›nodeå³å­æ ‘ä¸Šçš„æœ€å¤§æœç´¢äºŒå‰å­æ ‘çš„æœ€å°å€¼å¤§äºnode.valueï¼Œé‚£ä¹ˆä»¥èŠ‚ç‚¹nodeä¸ºå¤´çš„æ•´æ£µæ ‘éƒ½æ˜¯æœç´¢äºŒå‰æ ‘ã€‚ ç¬¬äºŒç§ï¼šå¦‚æœä¸æ»¡è¶³ç¬¬ä¸€ç§æƒ…å†µï¼Œè¯´æ˜ä»¥èŠ‚ç‚¹nodeä¸ºå¤´çš„æ ‘æ•´ä½“ä¸èƒ½è¿æˆæœç´¢äºŒå‰æ ‘ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œä»¥nodeä¸ºå¤´çš„æ ‘ä¸Šçš„æœ€å¤§æœç´¢äºŒå‰å­æ ‘æ˜¯æ¥è‡ªnodeçš„å·¦å­æ ‘ä¸Šçš„æœ€å¤§æœç´¢äºŒå‰å­æ ‘å’Œæ¥è‡ªnodeçš„å³å­æ ‘ä¸Šçš„æœ€å¤§æœç´¢äºŒå‰å­æ ‘ä¹‹é—´ï¼ŒèŠ‚ç‚¹æ•°è¾ƒå¤šçš„é‚£ä¸ªã€‚ é€šè¿‡ä»¥ä¸Šåˆ†æï¼Œæ±‚è§£çš„å…·ä½“è¿‡ç¨‹å¦‚ä¸‹ï¼š

 1.æ•´ä½“è¿‡ç¨‹æ˜¯äºŒå‰æ ‘çš„ååºéå†ã€‚ 

2.éå†åˆ°å½“å‰èŠ‚ç‚¹è®°ä¸ºcuræ—¶ï¼Œå…ˆéå†curçš„å·¦å­æ ‘æ”¶é›†4ä¸ªä¿¡æ¯ï¼Œåˆ†åˆ«æ˜¯å·¦å­æ ‘ä¸Šæœ€å¤§æœç´¢äºŒå‰å­æ ‘çš„å¤´èŠ‚ç‚¹ï¼ˆlBSTï¼‰ã€èŠ‚ç‚¹æ•°ï¼ˆlSizeï¼‰ã€æœ€å°å€¼ï¼ˆlMinï¼‰å’Œæœ€å¤§å€¼ï¼ˆlMaxï¼‰ã€‚å†éå†curçš„å³å­æ ‘æ”¶é›†4ä¸ªä¿¡æ¯ï¼Œåˆ†åˆ«æ˜¯å³å­æ ‘ä¸Šæœ€å¤§æœç´¢äºŒå‰å­æ ‘çš„å¤´èŠ‚ç‚¹ï¼ˆrBSTï¼‰ã€èŠ‚ç‚¹æ•°ï¼ˆrSizeï¼‰ã€æœ€å°å€¼ï¼ˆrMinï¼‰å’Œæœ€å¤§å€¼ï¼ˆrMaxï¼‰ã€‚  

3.æ ¹æ®æ­¥éª¤2æ‰€æ”¶é›†çš„ä¿¡æ¯ï¼Œåˆ¤æ–­æ˜¯å¦æ»¡è¶³ç¬¬ä¸€ç§æƒ…å†µï¼Œå¦‚æœæ»¡è¶³ç¬¬ä¸€ç§æƒ…å†µï¼Œå°±è¿”å›curèŠ‚ç‚¹ï¼Œå¦‚æœæ»¡è¶³ç¬¬äºŒç§æƒ…å†µï¼Œå°±è¿”å›lBSTå’ŒrBSTä¸­è¾ƒå¤§çš„ä¸€ä¸ªã€‚ 

4.å¯ä»¥ä½¿ç”¨å…¨å±€å˜é‡çš„æ–¹å¼å®ç°æ­¥éª¤2ä¸­æ”¶é›†èŠ‚ç‚¹æ•°ã€æœ€å°å€¼å’Œæœ€å¤§å€¼çš„é—®é¢˜ã€‚

```java
  public Node biggestSubBST(Node head) {
        int[] record = new int[3];
        return posOrder(head, record);
    }

    private Node posOrder(Node head, int[] record) {
if(head == null)
{
    record[0] = 0;
    record[1] = Integer.MAX_VALUE;
    record[2] = Integer.MIN_VALUE;
    return null;
}
int val = head.value;
    Node left = head.left;
    Node right = head.right;
    Node lBST = posOrder(left,record);
    int lsize = record[0];
    int lmin = record[1];
    int lmax = record[2];
    Node rBST = posOrder(right,record);
    int rsize = record[0];
    int rmin = record[1];
    int rmax = record[2];
    record[1] = Math.min(lmin,val);
    record[2] = Math.max(rmax,val);
    if(left == lBST && right == rBST && lmax < val && rmin > val)
    {
        record[0] = lsize + rsize+1;
        return head;
    }
    record[0] = Math.max(lsize,rsize);
    return lsize>rsize?lBST:rBST;
    }
```





## åˆ¤æ–­Bæ˜¯ä¸æ˜¯Açš„å­ç»“æ„



ç»™å®šå½¼æ­¤ç‹¬ç«‹çš„ä¸¤æ£µæ ‘å¤´èŠ‚ç‚¹åˆ†åˆ«ä¸ºt1å’Œt2ï¼Œåˆ¤æ–­t1æ ‘æ˜¯å¦åŒ…å«t2æ ‘å…¨éƒ¨çš„æ‹“æ‰‘ç»“æ„ã€‚
å¦‚æœt1ä¸­æŸæ£µå­æ ‘å¤´èŠ‚ç‚¹çš„å€¼ä¸t2å¤´èŠ‚ç‚¹çš„å€¼ä¸€æ ·ï¼Œåˆ™ä»è¿™ä¸¤ä¸ªå¤´èŠ‚ç‚¹å¼€å§‹åŒ¹é…ï¼ŒåŒ¹é…çš„æ¯ä¸€æ­¥éƒ½è®©t1ä¸Šçš„èŠ‚ç‚¹è·Ÿç€t2çš„å…ˆåºéå†ç§»åŠ¨ï¼Œæ¯ç§»åŠ¨ä¸€æ­¥ï¼Œéƒ½æ£€æŸ¥t1çš„å½“å‰èŠ‚ç‚¹æ˜¯å¦ä¸t2å½“å‰èŠ‚ç‚¹çš„å€¼ä¸€æ ·ã€‚æ¯”å¦‚ï¼Œé¢˜ç›®ä¸­çš„ä¾‹å­ï¼Œt1ä¸­çš„èŠ‚ç‚¹2ä¸t2ä¸­çš„èŠ‚ç‚¹2åŒ¹é…ï¼Œç„¶åt1è·Ÿç€t2å‘å·¦ï¼Œå‘ç°t1ä¸­çš„èŠ‚ç‚¹4ä¸t2ä¸­çš„èŠ‚ç‚¹4åŒ¹é…ï¼Œt1è·Ÿç€t2ç»§ç»­å‘å·¦ï¼Œå‘ç°t1ä¸­çš„èŠ‚ç‚¹8ä¸t2ä¸­çš„èŠ‚ç‚¹8åŒ¹é…ï¼Œæ­¤æ—¶t2å›åˆ°t2ä¸­çš„èŠ‚ç‚¹2ï¼Œt1ä¹Ÿå›åˆ°t1ä¸­çš„èŠ‚ç‚¹2ï¼Œç„¶åt1è·Ÿç€t2å‘å³ï¼Œå‘ç°t1ä¸­çš„èŠ‚ç‚¹5ä¸t2ä¸­çš„èŠ‚ç‚¹5åŒ¹é…ã€‚t2åŒ¹é…å®Œæ¯•ï¼Œç»“æœè¿”å›trueã€‚å¦‚æœåŒ¹é…çš„è¿‡ç¨‹ä¸­å‘ç°æœ‰ä¸åŒ¹é…çš„æƒ…å†µï¼Œç›´æ¥è¿”å›falseï¼Œè¯´æ˜t1çš„å½“å‰å­æ ‘ä»å¤´èŠ‚ç‚¹å¼€å§‹ï¼Œæ— æ³•ä¸t2åŒ¹é…ï¼Œé‚£ä¹ˆå†å»å¯»æ‰¾t1çš„ä¸‹ä¸€æ£µå­æ ‘ã€‚t1çš„æ¯æ£µå­æ ‘ä¸Šéƒ½æœ‰å¯èƒ½åŒ¹é…å‡ºt2ï¼Œæ‰€ä»¥éƒ½è¦æ£€æŸ¥ä¸€éã€‚

(çº¦å®šç©ºæ ‘ä¸æ˜¯ä»»æ„ä¸€ä¸ªæ ‘çš„å­ç»“æ„)

```java
 public boolean isSubStructure(TreeNode A, TreeNode B) {
    if(B == null ||A == null) return false;
return contain(A,B)|| isSubStructure(A.left,B) || isSubStructure(A.right,B);
    }

        public boolean contain(TreeNode a, TreeNode b) {
        if(b == null) return true;
        if(a == null || a.val != b.val) return false;
        return  contain(a.left,b.left) && contain(a.right,b.right);
    }
```

åŠ›æ‰£ï¼š[572. å¦ä¸€æ£µæ ‘çš„å­æ ‘](https://leetcode-cn.com/problems/subtree-of-another-tree/)

ç»™ä½ ä¸¤æ£µäºŒå‰æ ‘ root å’Œ subRoot ã€‚æ£€éªŒ root ä¸­æ˜¯å¦åŒ…å«å’Œ subRoot å…·æœ‰ç›¸åŒç»“æ„å’ŒèŠ‚ç‚¹å€¼çš„å­æ ‘ã€‚å¦‚æœå­˜åœ¨ï¼Œè¿”å› true ï¼›å¦åˆ™ï¼Œè¿”å› false ã€‚

äºŒå‰æ ‘ tree çš„ä¸€æ£µå­æ ‘åŒ…æ‹¬ tree çš„æŸä¸ªèŠ‚ç‚¹å’Œè¿™ä¸ªèŠ‚ç‚¹çš„æ‰€æœ‰åä»£èŠ‚ç‚¹ã€‚tree ä¹Ÿå¯ä»¥çœ‹åšå®ƒè‡ªèº«çš„ä¸€æ£µå­æ ‘ã€‚



```java
 public boolean isSubtree(TreeNode root, TreeNode subRoot) {
return dfs(root,subRoot);
    }
   boolean dfs(TreeNode o, TreeNode t) {
        if (o==null) {
            return false;
        }
        return judgeequal(o, t) || dfs(o.left, t) || dfs(o.right, t);
    }


    public boolean judgeequal(TreeNode root,TreeNode subRoot)
    {
        if(subRoot==null && root==null) return true;
if(subRoot==null) return false;
if(root==null) return false;
        if(root.val!=subRoot.val) return false;
        
        return judgeequal(root.left,subRoot.left)&&judgeequal(root.right,subRoot.right);
    }
```








## åˆ¤æ–­t1æ ‘ä¸­æ˜¯å¦æœ‰ä¸t2æ ‘æ‹“æ‰‘ç»“æ„å®Œå…¨ç›¸åŒçš„å­æ ‘ 
ç»™å®šå½¼æ­¤ç‹¬ç«‹çš„ä¸¤æ£µæ ‘å¤´èŠ‚ç‚¹åˆ†åˆ«ä¸ºt1å’Œt2ï¼Œåˆ¤æ–­t1ä¸­æ˜¯å¦æœ‰ä¸t2æ ‘æ‹“æ‰‘ç»“æ„å®Œå…¨ç›¸åŒçš„å­æ ‘ã€‚

![image-20210921210857787](C:\Users\14172\AppData\Roaming\Typora\typora-user-images\image-20210921210857787.png)

å¦‚æœt1çš„èŠ‚ç‚¹æ•°ä¸ºNï¼Œt2çš„èŠ‚ç‚¹æ•°ä¸ºMï¼Œæœ¬é¢˜æœ€ä¼˜è§£æ˜¯æ—¶é—´å¤æ‚åº¦ä¸ºOï¼ˆN+Mï¼‰çš„æ–¹æ³•ã€‚å…ˆç®€å•ä»‹ç»ä¸€ä¸ªæ—¶é—´å¤æ‚åº¦ä¸ºOï¼ˆNÃ—Mï¼‰çš„æ–¹æ³•ï¼Œå¯¹äºt1çš„æ¯æ£µå­æ ‘ï¼Œéƒ½å»åˆ¤æ–­æ˜¯å¦ä¸t2æ ‘çš„æ‹“æ‰‘ç»“æ„å®Œå…¨ä¸€æ ·ï¼Œè¿™ä¸ªè¿‡ç¨‹çš„å¤æ‚åº¦ä¸ºOï¼ˆMï¼‰ï¼Œt1çš„å­æ ‘ä¸€å…±æœ‰Næ£µï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦ä¸ºOï¼ˆNÃ—Mï¼‰ï¼Œè¿™ç§æ–¹æ³•æœ¬ä¹¦ä¸å†è¯¦è¿°ã€‚ ä¸‹é¢é‡ç‚¹ä»‹ç»ä¸€ä¸‹æ—¶é—´å¤æ‚åº¦ä¸ºOï¼ˆN+Mï¼‰çš„æ–¹æ³•ï¼Œé¦–å…ˆæ˜¯æŠŠt1æ ‘å’Œt2æ ‘æŒ‰ç…§å…ˆåºéå†çš„æ–¹å¼åºåˆ—åŒ–ï¼Œä¾‹å¦‚t1æ ‘åºåˆ—åŒ–åçš„ç»“æœä¸ºâ€œ1ï¼2ï¼4ï¼#ï¼8ï¼#ï¼#ï¼5ï¼9ï¼#ï¼#ï¼#ï¼3ï¼6ï¼#ï¼#ï¼7ï¼#ï¼#ï¼â€ï¼Œè®°ä¸ºt1Strã€‚t2æ ‘åºåˆ—åŒ–åçš„ç»“æœä¸ºâ€œ2ï¼4ï¼#ï¼8ï¼#ï¼#ï¼5ï¼9ï¼#ï¼#ï¼#ï¼â€ï¼Œè®°ä¸ºt2Strã€‚æ¥ä¸‹æ¥åªè¦éªŒè¯t2Stræ˜¯å¦æ˜¯t1Strçš„å­ä¸²å³å¯ï¼Œè¿™ä¸ªç”¨KMPç®—æ³•å¯ä»¥åœ¨çº¿æ€§æ—¶é—´å†…è§£å†³ã€‚æ‰€ä»¥t1åºåˆ—åŒ–çš„è¿‡ç¨‹ä¸ºOï¼ˆNï¼‰ï¼Œt2åºåˆ—åŒ–çš„è¿‡ç¨‹ä¸ºOï¼ˆMï¼‰ï¼ŒKMPè§£å†³t1Strå’Œt2Strçš„åŒ¹é…é—®é¢˜Oï¼ˆM+Nï¼‰ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦ä¸ºOï¼ˆM+Nï¼‰ã€‚ 

```java
       public boolean isSubtree(Node t1, Node t2) {
              String t1Str = serialByPre(t1);
              String t2Str = serialByPre(t2);
              return getIndexOf(t1Str, t2Str) != -1;
       }

       public String serialByPre(Node head) {
              if (head == null) {
                     return "#!";
              }
              String res = head.value + "!";
              res += serialByPre(head.left);
              res += serialByPre(head.right);
              return res;
       }

       // KMP
       public int getIndexOf(String s, String m) {
              if (s == null || m == null || m.length() < 1 || s.length() < m.length())               {
                     return -1;
              }
              char[] ss = s.toCharArray();
              char[] ms = m.toCharArray();
              int si = 0;
              int mi = 0;
              int[] next = getNextArray(ms);
              while (si < ss.length && mi < ms.length) {
                     if (ss[si] == ms[mi]) {
                            si++;
                            mi++;
                     } else if (next[mi] == -1) {
                            si++;
                     } else {
                            mi = next[mi];
                     }
              }
              return mi == ms.length ? si - mi : -1;
       }
 

       public int[] getNextArray(char[] ms) {
              if (ms.length == 1) {
                     return new int[] { -1 };
              }
              int[] next = new int[ms.length];
              next[0] = -1;
              next[1] = 0;
              int pos = 2;
              int cn = 0;
              while (pos < next.length) {
                     if (ms[pos - 1] == ms[cn]) {
                            next[pos++] = ++cn;
                     } else if (cn > 0) {
                            cn = next[cn];
                     } else {
                            next[pos++] = 0;
                     }
              }
              return next;
       }
 

```





## åˆ¤æ–­æ˜¯å¦æ˜¯å¹³è¡¡äºŒå‰æ ‘

è‡ªå·±çš„ä»£ç ï¼š

```java
   public boolean isBalanced(TreeNode root) {
if(root == null || (root.left == null && root.right == null)) return true;
int lh = getHeight(root.left);
int rh = getHeight(root.right);
if(Math.abs(lh - rh) >1) return false;
return isBalanced(root.left) && isBalanced(root.right);
    }
      public int getHeight(TreeNode root)
    {
        if(root == null) return 0;
        int lh = getHeight(root.left) +1;
        int rh = getHeight(root.right) +1;
        return Math.max(lh,rh);
    }
```





## åˆ¤æ–­æ•°ç»„æ˜¯ä¸æ˜¯æŸäºŒå‰æœç´¢æ ‘çš„ååºéå†ç»“æœ

ç»™å®šä¸€ä¸ªæ•´å‹æ•°ç»„arrï¼Œå·²çŸ¥å…¶ä¸­æ²¡æœ‰é‡å¤å€¼ï¼Œåˆ¤æ–­arræ˜¯å¦å¯èƒ½æ˜¯èŠ‚ç‚¹å€¼ç±»å‹ä¸ºæ•´å‹çš„æœç´¢äºŒå‰æ ‘ååºéå†çš„ç»“æœã€‚ 

```java
 public boolean verifyPostorder(int[] postorder) {
if(postorder == null || postorder.length == 0) return true;
return post(postorder,0,postorder.length-1);
    }
     private boolean post(int[] postorder, int begin, int end) {
        if(begin == end) return true;
        int more = end,less = -1;
        for (int i = begin; i < end; i++) {
            if(postorder[end] > postorder[i])
                less = i;
            else more = more == end?i:more;
        }
        if(more == end || less==-1) return post(postorder,begin,end-1);//æœ‰å¯èƒ½åªæœ‰å·¦å­æ ‘æˆ–è€…åªæœ‰å³å­æ ‘
        if(more - less != 1) return false;//ä¸æ»¡è¶³æ¡ä»¶
        return post(postorder,begin,less) && post(postorder,more,end-1);
    }
```

è¿›é˜¶ï¼šé€šè¿‡ä¸€ä¸ªæ•°ç»„é‡å»ºæœç´¢äºŒå‰æ ‘ï¼Œå·²çŸ¥æ•°ç»„æ˜¯æœç´¢äºŒå‰æ ‘çš„ååºéå†(å‰‘æŒ‡offer 07)

```java
 public boolean verifyPostorder(int[] postorder) {
if(postorder == null || postorder.length == 0) return true;
return postToBST(postorder,0,postorder.length-1);
    }
 public Node postToBST(int[]arr,int begin,int end)
 {
     if(begin > end) return null;
     TreeNode node = new  TreeNode(arr[end]);
 int more = end,less = -1;
        for (int i = begin; i < end; i++) {
            if(postorder[end] > postorder[i])
                less = i;
            else more = more == end?i:more;
        }
      node.left = postToBST(arr,begin,less);
     node.right = postToBST(arr,more,end-1);
     return head;
 }

```



## åˆ¤æ–­æ˜¯å¦æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„äºŒå‰æœç´¢æ ‘ã€‚

åªéœ€è¦æ”¹å†™äºŒå‰æ ‘çš„ä¸­åºéå†ï¼Œåœ¨éå†è¿‡ç¨‹ä¸­æŸ¥çœ‹èŠ‚ç‚¹å€¼æ˜¯å¦éƒ½æ˜¯é€’å¢çš„å³å¯ã€‚

ä¸‹é¢ä»¥mirroséå†è¿›è¡Œåˆ¤æ–­ï¼š

```java
if(root == null) return true;
TreeNode cur2;
boolean res = true;
TreeNode cur = root,pre = null;
while (cur != null)
{
    cur2 = cur.left;//å½“cur2ä¸ºnull,è¯´æ˜å·¦å­æ ‘å·²ç»éå†å®Œï¼Œå¼€å§‹åˆ¤æ–­preä¸curçš„å€¼å¤§å°
    if(cur2!= null) {
        while (cur2.right != null && cur2.right != cur) {
            cur2 = cur2.right;
        }
        if (cur2.right == null) {
            cur2.right = cur;
            cur = cur.left;
            continue;
        } else cur2.right = null;
    }
pre=cur;
cur = cur.right;
if(pre.val > cur.val) res = false;


}
return res;
```



## éªŒè¯æ˜¯å¦æ˜¯å®Œå…¨äºŒå‰æ ‘

å®Œå…¨äºŒå‰æ ‘ï¼šé™¤äº†æœ€åä¸€å±‚ï¼Œæ¯ä¸€å±‚èŠ‚ç‚¹æ•°å‡è¾¾åˆ°æœ€å¤§å€¼ï¼Œåœ¨æœ€åä¸€å±‚ä¸Šåªç¼ºå°‘å³è¾¹çš„è‹¥å¹²èŠ‚ç‚¹

æ€è·¯ï¼š1.æŒ‰å±‚åºéå†äºŒå‰æ ‘

2.å¦‚æœå½“å‰èŠ‚ç‚¹æœ‰å³å­©å­æ— å·¦å­©å­è¿”å›false

3.å¦‚æœåªæœ‰å·¦å­©å­æ²¡æœ‰å³å­©å­ï¼Œé‚£ä¹‹åçš„ç»“ç‚¹å¿…é¡»éƒ½ä¸ºå¶èŠ‚ç‚¹

```java

  public boolean isValidCST(TreeNode root) {
if(root == null) return true;
TreeNode cur2;
boolean res = false;
TreeNode left = root,right = null;
Queue<TreeNode> queue = new LinkedList<>();
queue.offer(root);
while (!queue.isEmpty())
{
    root = queue.poll();
    left = root.left;
    right = root.right;
    if((res && (left != null || right != null)) ||(left == null && right!= null)) return false;
    if(left!=null)
        queue.offer(left);
    if(right!=null)
        queue.offer(right);//(res && (left != null || right != null))è¡¨ç¤ºå½“å‰ç»“ç‚¹åªæœ‰å·¦èŠ‚ç‚¹æ²¡æœ‰å³èŠ‚ç‚¹ä¸”åé¢çš„ç»“ç‚¹ä¸æ˜¯å¶å­èŠ‚ç‚¹
    else res = true;
                
        
}
return true;
}
```



## é€šè¿‡æœ‰åºæ•°ç»„ç”Ÿæˆå¹³è¡¡æœç´¢äºŒå‰æ ‘

ç»™å®šä¸€ä¸ªæœ‰åºæ•°ç»„sortArrï¼Œå·²çŸ¥å…¶ä¸­æ²¡æœ‰é‡å¤å€¼ï¼Œç”¨è¿™ä¸ªæœ‰åºæ•°ç»„ç”Ÿæˆä¸€æ£µå¹³è¡¡æœç´¢äºŒå‰æ ‘ï¼Œå¹¶ä¸”è¯¥æœç´¢äºŒå‰æ ‘ä¸­åºéå†çš„ç»“æœä¸sortArrä¸€è‡´ã€‚ 

ã€éš¾åº¦ã€‘ å£«ã€€â˜…â˜†â˜†â˜† 

ã€è§£ç­”ã€‘ æœ¬é¢˜çš„é€’å½’è¿‡ç¨‹æ¯”è¾ƒç®€å•ï¼Œç”¨æœ‰åºæ•°ç»„ä¸­æœ€ä¸­é—´çš„æ•°ç”Ÿæˆæœç´¢äºŒå‰æ ‘çš„å¤´èŠ‚ç‚¹ï¼Œç„¶åç”¨è¿™ä¸ªæ•°å·¦è¾¹çš„æ•°ç”Ÿæˆå·¦å­æ ‘ï¼Œç”¨å³è¾¹çš„æ•°ç”Ÿæˆå³å­æ ‘å³å¯ã€‚ 

```java
 public TreeNode generateNode(int[]sortarr)
  {
      if(sortarr == null) return null;
     return generate(sortarr,0,sortarr.length-1);
  }

    private TreeNode generate(int[] sortarr, int low, int high) {
        int mid = low + (high-low)>>1;
        TreeNode head = new TreeNode(sortarr[mid]);
        head.left = generate(sortarr,low,mid-1);
        head.right = generate(sortarr,mid+1,high);
        return head;
    }
```

## åˆ é™¤äºŒå‰æœç´¢æ ‘ä¸­çš„ç»“ç‚¹

è¿™é‡Œæœ‰ä¸‰ç§å¯èƒ½çš„æƒ…å†µï¼š

- è¦åˆ é™¤çš„èŠ‚ç‚¹ä¸ºå¶å­èŠ‚ç‚¹ï¼Œå¯ä»¥ç›´æ¥åˆ é™¤
- è¦åˆ é™¤çš„èŠ‚ç‚¹ä¸æ˜¯å¶å­èŠ‚ç‚¹ä¸”æ‹¥æœ‰å³èŠ‚ç‚¹ï¼Œåˆ™è¯¥èŠ‚ç‚¹å¯ä»¥ç”±è¯¥èŠ‚ç‚¹çš„åç»§èŠ‚ç‚¹è¿›è¡Œæ›¿ä»£ï¼Œè¯¥åç»§èŠ‚ç‚¹ä½äºå³å­æ ‘ä¸­è¾ƒä½çš„ä½ç½®ã€‚ç„¶åå¯ä»¥ä»åç»§èŠ‚ç‚¹çš„ä½ç½®é€’å½’å‘ä¸‹æ“ä½œä»¥åˆ é™¤åç»§èŠ‚ç‚¹
- è¦åˆ é™¤çš„èŠ‚ç‚¹ä¸æ˜¯å¶å­èŠ‚ç‚¹ï¼Œä¸”æ²¡æœ‰å³èŠ‚ç‚¹ä½†æ˜¯æœ‰å·¦èŠ‚ç‚¹ã€‚è¿™æ„å‘³ç€å®ƒçš„åç»§èŠ‚ç‚¹åœ¨å®ƒçš„ä¸Šé¢ï¼Œä½†æ˜¯æˆ‘ä»¬å¹¶ä¸æƒ³è¿”å›ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å®ƒçš„å‰é©±èŠ‚ç‚¹è¿›è¡Œæ›¿ä»£ï¼Œç„¶åå†é€’å½’çš„å‘ä¸‹åˆ é™¤å‰é©±èŠ‚ç‚¹ã€‚

![image-20220216215216185](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220216215216185.png)

![image-20220216215417890](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220216215417890.png)



```java
    public int sussessor(TreeNode root,int key)//éå¶ç»“ç‚¹çš„åç»§
    {
        root = root.right;
        while(root.left != null)
        {
            root = root.left;
        }
        return root.val;
    }
    public int prenode(TreeNode root,int key)//éå¶ç»“ç‚¹çš„å‰é©±
    {
        root = root.left;
        
        while(root.right!=null)
        {
            root = root.right;
        }
     return root.val;
    }

    public TreeNode deleteNode(TreeNode root, int key) {
if(root == null) return root;

if(root.val >key)
root.left = deleteNode(root.left,key);
else if(root.val < key)
root.right = deleteNode(root.right,key);
else
{//æ‰¾åˆ°äº†è¦åˆ é™¤çš„ç»“ç‚¹
    if(root.left==null&&root.right==null)
    {
        root  =null;
    }
    else if(root.right != null)//å¦‚æœå­˜åœ¨å³å­æ ‘è¯´æ˜å­˜åœ¨åç»§
    {
        root.val = sussessor(root,key);
        root.right = deleteNode(root.right,root.val);

    }
    else//å¦‚æœå­˜åœ¨å·¦èŠ‚ç‚¹åˆ™å­˜åœ¨å‰é©±ï¼Œåˆ™å°†è¦åˆ é™¤çš„ç»“ç‚¹å€¼æ”¹ä¸ºå‰é©±ç»“ç‚¹çš„å€¼ç„¶ååˆ é™¤å‰é©±ç»“ç‚¹
    {
        root.val = prenode(root,key);
        root.left = deleteNode(root.left,root.val);
    }
}
 
 return root;
    }
```



## [863. äºŒå‰æ ‘ä¸­æ‰€æœ‰è·ç¦»ä¸º K çš„ç»“ç‚¹](https://leetcode-cn.com/problems/all-nodes-distance-k-in-binary-tree/)

ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼ˆå…·æœ‰æ ¹ç»“ç‚¹ rootï¼‰ï¼Œ ä¸€ä¸ªç›®æ ‡ç»“ç‚¹ target ï¼Œå’Œä¸€ä¸ªæ•´æ•°å€¼ K ã€‚

è¿”å›åˆ°ç›®æ ‡ç»“ç‚¹ target è·ç¦»ä¸º K çš„æ‰€æœ‰ç»“ç‚¹çš„å€¼çš„åˆ—è¡¨ã€‚ ç­”æ¡ˆå¯ä»¥ä»¥ä»»ä½•é¡ºåºè¿”å›ã€‚

 è‹¥å°† target å½“ä½œæ ‘çš„æ ¹ç»“ç‚¹ï¼Œæˆ‘ä»¬å°±èƒ½ä»target å‡ºå‘ï¼Œä½¿ç”¨æ·±åº¦ä¼˜å…ˆæœç´¢å»å¯»æ‰¾ä¸ target è·ç¦»ä¸º k çš„æ‰€æœ‰ç»“ç‚¹ï¼Œå³æ·±åº¦ä¸º kçš„æ‰€æœ‰ç»“ç‚¹ã€‚

ç”±äºè¾“å…¥çš„äºŒå‰æ ‘æ²¡æœ‰è®°å½•çˆ¶ç»“ç‚¹ï¼Œä¸ºæ­¤ï¼Œæˆ‘ä»¬ä»æ ¹ç»“ç‚¹root å‡ºå‘ï¼Œä½¿ç”¨æ·±åº¦ä¼˜å…ˆæœç´¢éå†æ•´æ£µæ ‘ï¼ŒåŒæ—¶ç”¨ä¸€ä¸ªå“ˆå¸Œè¡¨è®°å½•æ¯ä¸ªç»“ç‚¹çš„çˆ¶ç»“ç‚¹ã€‚

ç„¶åä»target å‡ºå‘ï¼Œä½¿ç”¨æ·±åº¦ä¼˜å…ˆæœç´¢éå†æ•´æ£µæ ‘ï¼Œé™¤äº†æœç´¢å·¦å³å„¿å­å¤–ï¼Œè¿˜å¯ä»¥é¡ºç€çˆ¶ç»“ç‚¹å‘ä¸Šæœç´¢ã€‚

ä»£ç å®ç°æ—¶ï¼Œç”±äºæ¯ä¸ªç»“ç‚¹å€¼éƒ½æ˜¯å”¯ä¸€çš„ï¼Œå“ˆå¸Œè¡¨çš„é”®å¯ä»¥ç”¨ç»“ç‚¹å€¼ä»£æ›¿ã€‚æ­¤å¤–ï¼Œä¸ºé¿å…åœ¨æ·±åº¦ä¼˜å…ˆæœç´¢æ—¶é‡å¤è®¿é—®ç»“ç‚¹ï¼Œé€’å½’æ—¶é¢å¤–ä¼ å…¥æ¥æºç»“ç‚¹fromï¼Œåœ¨é€’å½’å‰æ¯”è¾ƒç›®æ ‡ç»“ç‚¹æ˜¯å¦ä¸æ¥æºç»“ç‚¹ç›¸åŒï¼Œä¸åŒçš„æƒ…å†µä¸‹æ‰è¿›è¡Œé€’å½’ã€‚

```java
 Map<Integer, TreeNode> parents = new HashMap<Integer, TreeNode>();
    List<Integer> ans = new ArrayList<Integer>();

    public List<Integer> distanceK(TreeNode root, TreeNode target, int k) {
        // ä» root å‡ºå‘ DFSï¼Œè®°å½•æ¯ä¸ªç»“ç‚¹çš„çˆ¶ç»“ç‚¹
        findParents(root);

        // ä» target å‡ºå‘ DFSï¼Œå¯»æ‰¾æ‰€æœ‰æ·±åº¦ä¸º k çš„ç»“ç‚¹
        findAns(target, null, 0, k);

        return ans;
    }

    public void findParents(TreeNode node) {
        if (node.left != null) {
            parents.put(node.left.val, node);
            findParents(node.left);
        }
        if (node.right != null) {
            parents.put(node.right.val, node);
            findParents(node.right);
        }
    }

    public void findAns(TreeNode node, TreeNode from, int depth, int k) {
        if (node == null) {
            return;
        }
        if (depth == k) {
            ans.add(node.val);
            return;
        }
        if (node.left != from) {
            findAns(node.left, node, depth + 1, k);
        }
        if (node.right != from) {
            findAns(node.right, node, depth + 1, k);
        }
        if (parents.get(node.val) != from) {
            findAns(parents.get(node.val), node, depth + 1, k);
        }
    }


```

## [437. è·¯å¾„æ€»å’Œ III](https://leetcode-cn.com/problems/path-sum-iii/)

éš¾åº¦ä¸­ç­‰1226

ç»™å®šä¸€ä¸ªäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ `root` ï¼Œå’Œä¸€ä¸ªæ•´æ•° `targetSum` ï¼Œæ±‚è¯¥äºŒå‰æ ‘é‡ŒèŠ‚ç‚¹å€¼ä¹‹å’Œç­‰äº `targetSum` çš„ **è·¯å¾„** çš„æ•°ç›®ã€‚

**è·¯å¾„** ä¸éœ€è¦ä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œä¹Ÿä¸éœ€è¦åœ¨å¶å­èŠ‚ç‚¹ç»“æŸï¼Œä½†æ˜¯è·¯å¾„æ–¹å‘å¿…é¡»æ˜¯å‘ä¸‹çš„ï¼ˆåªèƒ½ä»çˆ¶èŠ‚ç‚¹åˆ°å­èŠ‚ç‚¹ï¼‰ã€‚

-----

```java

    public int pathSum(TreeNode root, int targetSum) {
int tot = 0;//dfs(p,val) è¡¨ç¤ºä»¥èŠ‚ç‚¹ pä¸ºèµ·ç‚¹å‘ä¸‹ä¸”æ»¡è¶³è·¯å¾„æ€»å’Œä¸º valval çš„è·¯å¾„æ•°ç›®ã€‚æˆ‘ä»¬å¯¹äºŒå‰æ ‘ä¸Šæ¯ä¸ªèŠ‚ç‚¹ p æ±‚å‡º dfs(p,targetSum)ï¼Œç„¶åå¯¹è¿™äº›è·¯å¾„æ•°ç›®æ±‚å’Œå³ä¸ºè¿”å›ç»“æœã€‚

if(root==null) return 0;
tot=dfs(root,targetSum);
tot+=pathSum(root.left,targetSum);//å…¶å®ç›¸å½“äºå¯¹æ¯ä¸ªç»“ç‚¹éƒ½è°ƒç”¨äº†dfsæ–¹æ³•
tot+=pathSum(root.right,targetSum);//æ³¨æ„è¿™ä¸ªé€’å½’å‡½æ•°æ˜¯å“ªä¸ªé€’å½’å‡½æ•°
return tot;
    }
    public int dfs(TreeNode root,int targetSum)
    {
        int tot = 0;//åœ¨è¿™é‡ŒTotæ˜¯å±€éƒ¨å˜é‡
        if(root == null)
        return 0;
     
        if(targetSum == root.val)
        {
            tot++;
        }
      
          tot+=  dfs(root.left,targetSum-root.val);
         tot+=   dfs(root.right,targetSum-root.val);
       //     sum -=root.val;
 return tot;
    }
}
```

ä¹Ÿå¯ä»¥ç”¨å‰ç¼€å’Œçš„æ–¹æ³•æ¥è§£ï¼š

è¿™é“é¢˜ç”¨åˆ°äº†ä¸€ä¸ªæ¦‚å¿µï¼Œå«å‰ç¼€å’Œã€‚å°±æ˜¯åˆ°è¾¾å½“å‰å…ƒç´ çš„è·¯å¾„ä¸Šï¼Œä¹‹å‰æ‰€æœ‰å…ƒç´ çš„å’Œã€‚

å‰ç¼€å’Œæ€ä¹ˆåº”ç”¨å‘¢ï¼Ÿ

åœ¨åŒä¸€ä¸ªè·¯å¾„ä¹‹ä¸‹ï¼ˆå¯ä»¥ç†è§£æˆäºŒå‰æ ‘ä»rootèŠ‚ç‚¹å‡ºå‘ï¼Œåˆ°å¶å­èŠ‚ç‚¹çš„æŸä¸€æ¡è·¯å¾„ï¼‰ï¼Œå¦‚æœä¸¤ä¸ªæ•°çš„å‰ç¼€æ€»å’Œæ˜¯ç›¸åŒçš„ï¼Œé‚£ä¹ˆè¿™äº›èŠ‚ç‚¹ä¹‹é—´çš„å…ƒç´ æ€»å’Œä¸ºé›¶ã€‚è¿›ä¸€æ­¥æ‰©å±•ç›¸åŒçš„æƒ³æ³•ï¼Œå¦‚æœå‰ç¼€æ€»å’ŒcurrSumï¼Œåœ¨èŠ‚ç‚¹Aå’ŒèŠ‚ç‚¹Bå¤„ç›¸å·®targetï¼Œåˆ™ä½äºèŠ‚ç‚¹Aå’ŒèŠ‚ç‚¹Bä¹‹é—´çš„å…ƒç´ ä¹‹å’Œæ˜¯targetã€‚

å› ä¸ºæœ¬é¢˜ä¸­çš„è·¯å¾„æ˜¯ä¸€æ£µæ ‘ï¼Œä»æ ¹å¾€ä»»ä¸€èŠ‚ç‚¹çš„è·¯å¾„ä¸Š(ä¸èµ°å›å¤´è·¯)ï¼Œæœ‰ä¸”ä»…æœ‰ä¸€æ¡è·¯å¾„ï¼Œå› ä¸ºä¸å­˜åœ¨ç¯ã€‚(å¦‚æœå­˜åœ¨ç¯ï¼Œå‰ç¼€å’Œå°±ä¸èƒ½ç”¨äº†ï¼Œéœ€è¦æ”¹é€ ç®—æ³•)

æŠµè¾¾å½“å‰èŠ‚ç‚¹(å³BèŠ‚ç‚¹)åï¼Œå°†å‰ç¼€å’Œç´¯åŠ ï¼Œç„¶åæŸ¥æ‰¾åœ¨å‰ç¼€å’Œä¸Šï¼Œæœ‰æ²¡æœ‰å‰ç¼€å’ŒcurrSum-targetçš„èŠ‚ç‚¹(å³AèŠ‚ç‚¹)ï¼Œå­˜åœ¨å³è¡¨ç¤ºä»Aåˆ°Bæœ‰ä¸€æ¡è·¯å¾„ä¹‹å’Œæ»¡è¶³æ¡ä»¶çš„æƒ…å†µã€‚ç»“æœåŠ ä¸Šæ»¡è¶³å‰ç¼€å’ŒcurrSum-targetçš„èŠ‚ç‚¹çš„æ•°é‡ã€‚ç„¶åé€’å½’è¿›å…¥å·¦å³å­æ ‘ã€‚

å·¦å³å­æ ‘éå†å®Œæˆä¹‹åï¼Œå›åˆ°å½“å‰å±‚ï¼Œéœ€è¦æŠŠå½“å‰èŠ‚ç‚¹æ·»åŠ çš„å‰ç¼€å’Œå»é™¤ã€‚é¿å…å›æº¯ä¹‹åå½±å“ä¸Šä¸€å±‚ã€‚å› ä¸ºæ€æƒ³æ˜¯å‰ç¼€å’Œï¼Œä¸å±äºå‰ç¼€çš„ï¼Œæˆ‘ä»¬å°±è¦å»æ‰å®ƒã€‚

æ ¸å¿ƒä»£ç 

// å½“å‰è·¯å¾„ä¸Šçš„å’Œ
currSum += node.val;
// currSum-targetç›¸å½“äºæ‰¾è·¯å¾„çš„èµ·ç‚¹ï¼Œèµ·ç‚¹çš„sum+target=currSumï¼Œå½“å‰ç‚¹åˆ°èµ·ç‚¹çš„è·ç¦»å°±æ˜¯target
res += prefixSumCount.getOrDefault(currSum - target, 0);
// æ›´æ–°è·¯å¾„ä¸Šå½“å‰èŠ‚ç‚¹å‰ç¼€å’Œçš„ä¸ªæ•°
prefixSumCount.put(currSum, prefixSumCount.getOrDefault(currSum, 0) + 1);
ä»£ç 

```java
   public int pathSum(TreeNode root, int targetSum) {
int tot = 0;
  // keyæ˜¯å‰ç¼€å’Œ, valueæ˜¯å¤§å°ä¸ºkeyçš„å‰ç¼€å’Œå‡ºç°çš„æ¬¡æ•°
  Map<Integer,Integer>mymap = new HashMap<Integer,Integer>();
  mymap.put(0,1);//å‰ç¼€å’Œä¸º0æ—¶æ¬¡æ•°ä¸º1
  return prefixsum(root,targetSum,mymap,0);

    }
    public int prefixsum(TreeNode root,int targetSum,Map<Integer,Integer>mymap,int cursum)
    {
        if(root == null) return 0;
        cursum+=root.val;
    int ret = mymap.getOrDefault(cursum - targetSum,0);
    mymap.put(cursum,mymap.getOrDefault(cursum,0)+1);
    ret+= prefixsum(root.left,targetSum,mymap,cursum);
    ret+=prefixsum(root.right,targetSum,mymap,cursum);
    mymap.put(cursum,mymap.getOrDefault(cursum,0)-1) ; 
    return ret;
    }
```



## [297. äºŒå‰æ ‘çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–](https://leetcode-cn.com/problems/serialize-and-deserialize-binary-tree/)

éš¾åº¦å›°éš¾744

åºåˆ—åŒ–æ˜¯å°†ä¸€ä¸ªæ•°æ®ç»“æ„æˆ–è€…å¯¹è±¡è½¬æ¢ä¸ºè¿ç»­çš„æ¯”ç‰¹ä½çš„æ“ä½œï¼Œè¿›è€Œå¯ä»¥å°†è½¬æ¢åçš„æ•°æ®å­˜å‚¨åœ¨ä¸€ä¸ªæ–‡ä»¶æˆ–è€…å†…å­˜ä¸­ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥é€šè¿‡ç½‘ç»œä¼ è¾“åˆ°å¦ä¸€ä¸ªè®¡ç®—æœºç¯å¢ƒï¼Œé‡‡å–ç›¸åæ–¹å¼é‡æ„å¾—åˆ°åŸæ•°æ®ã€‚

è¯·è®¾è®¡ä¸€ä¸ªç®—æ³•æ¥å®ç°äºŒå‰æ ‘çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–ã€‚è¿™é‡Œä¸é™å®šä½ çš„åºåˆ— / ååºåˆ—åŒ–ç®—æ³•æ‰§è¡Œé€»è¾‘ï¼Œä½ åªéœ€è¦ä¿è¯ä¸€ä¸ªäºŒå‰æ ‘å¯ä»¥è¢«åºåˆ—åŒ–ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²å¹¶ä¸”å°†è¿™ä¸ªå­—ç¬¦ä¸²ååºåˆ—åŒ–ä¸ºåŸå§‹çš„æ ‘ç»“æ„ã€‚

è¿™é‡Œï¼Œæˆ‘ä»¬é€‰æ‹©å…ˆåºéå†çš„ç¼–ç æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™æ ·ä¸€ä¸ªä¾‹å­ç®€å•ç†è§£

--------

![image-20220130153605738](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220130153605738.png)

code

```java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode(int x) { val = x; }
 * }
 */
public class Codec {

    // Encodes a tree to a single string.
    public String serialize(TreeNode root) {
        //åºåˆ—åŒ–''
        return serialize(root,"");
    }
public String serialize(TreeNode root,String str)
{
    if(root == null) str+="None,";
    else
    {
        str+=str.valueOf(root.val)+",";
        str=serialize(root.left,str);
        str=serialize(root.right,str);
    }
    return str;
} 
    // Decodes your encoded data to tree.
    public TreeNode deserialize(String data) {
        //ååºåˆ—åŒ–
    String[] strs = data.split(",");
    List<String>ans = new LinkedList<>(Arrays.asList(strs));
    return deserialize(ans);
    }
public TreeNode deserialize(List<String>data)
{
if(data.get(0).equals("None"))
{
    data.remove(0);
    return null;
}
int val = Integer.parseInt(data.get(0));
data.remove(0);
TreeNode root = new TreeNode(val);
root.left = deserialize(data);
root.right = deserialize(data);
return root;
} 
}

// Your Codec object will be instantiated and called as such:
// Codec ser = new Codec();
// Codec deser = new Codec();
// TreeNode ans = deser.deserialize(ser.serialize(root));
```





## [117. å¡«å……æ¯ä¸ªèŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹æŒ‡é’ˆ II](https://leetcode-cn.com/problems/populating-next-right-pointers-in-each-node-ii/)

éš¾åº¦ä¸­ç­‰506

ç»™å®šä¸€ä¸ªäºŒå‰æ ‘

```
struct Node {
  int val;
  Node *left;
  Node *right;
  Node *next;
}
```

å¡«å……å®ƒçš„æ¯ä¸ª next æŒ‡é’ˆï¼Œè®©è¿™ä¸ªæŒ‡é’ˆæŒ‡å‘å…¶ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹ã€‚å¦‚æœæ‰¾ä¸åˆ°ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹ï¼Œåˆ™å°† next æŒ‡é’ˆè®¾ç½®ä¸º `NULL`ã€‚

åˆå§‹çŠ¶æ€ä¸‹ï¼Œæ‰€æœ‰ next æŒ‡é’ˆéƒ½è¢«è®¾ç½®ä¸º `NULL`ã€‚



---

æ€è·¯ï¼šä¸ç”¨é˜Ÿåˆ—é¢å¤–ç©ºé—´ï¼Œç›´æ¥åˆ©ç”¨nextæŒ‡é’ˆï¼Œå¯ä»¥å¾—åˆ°ä¸€æ¡é˜Ÿåˆ—ï¼Œå†ç”¨ä¸¤ä¸ªé¢å¤–ç»“ç‚¹åˆ†åˆ«è¡¨ç¤ºä¸‹ä¸€æ¬¡å¼€å§‹çš„ç»“ç‚¹å’Œä¸Šä¸€ä¸ªéå†åˆ°çš„ç»“ç‚¹

```java
  Node last,nextStart;
    public Node connect(Node root) {
        if(root == null) return null;
        Node start = root;
while(start!= null)
{
    last=null;nextStart=null;
    for(Node p = start;p!=null;p=p.next)
    {
if(p.left!=null)
handle(p.left);
if(p.right!=null)
handle(p.right);
start = nextStart;
    }
}
return root;
    }
    public void handle(Node p)
    {
        if(last!=null)
        last.next = p;
        if(nextStart==null)
        nextStart = p;
        last = p;
    }
```

## [701. äºŒå‰æœç´¢æ ‘ä¸­çš„æ’å…¥æ“ä½œ](https://leetcode-cn.com/problems/insert-into-a-binary-search-tree/)

éš¾åº¦ä¸­ç­‰260

ç»™å®šäºŒå‰æœç´¢æ ‘ï¼ˆBSTï¼‰çš„æ ¹èŠ‚ç‚¹ `root` å’Œè¦æ’å…¥æ ‘ä¸­çš„å€¼ `value` ï¼Œå°†å€¼æ’å…¥äºŒå‰æœç´¢æ ‘ã€‚ è¿”å›æ’å…¥åäºŒå‰æœç´¢æ ‘çš„æ ¹èŠ‚ç‚¹ã€‚ è¾“å…¥æ•°æ® **ä¿è¯** ï¼Œæ–°å€¼å’ŒåŸå§‹äºŒå‰æœç´¢æ ‘ä¸­çš„ä»»æ„èŠ‚ç‚¹å€¼éƒ½ä¸åŒã€‚

**æ³¨æ„**ï¼Œå¯èƒ½å­˜åœ¨å¤šç§æœ‰æ•ˆçš„æ’å…¥æ–¹å¼ï¼Œåªè¦æ ‘åœ¨æ’å…¥åä»ä¿æŒä¸ºäºŒå‰æœç´¢æ ‘å³å¯ã€‚ ä½ å¯ä»¥è¿”å› **ä»»æ„æœ‰æ•ˆçš„ç»“æœ** ã€‚

----

```java
public TreeNode insertIntoBST(TreeNode root, int val) {
        if(root == null) return new TreeNode(val);
        TreeNode temp = root;
        while(temp !=null)
        {
            if(val > temp.val)
            {
                if(temp.right==null)
                {
                    temp.right = new TreeNode(val);
                break;
                }
                temp = temp.right;
            }else
            {
                if(temp.left==null)
                {
                    temp.left = new TreeNode(val);
                    break;
                }
                temp = temp.left;
            }
        }
        return root;
    }
```





## çº¦ç‘Ÿå¤«ç¯

```java
 public int lastRemaining(int n, int m) {

   // if(n == 1) return 0;

List<Integer>mylist = new ArrayList<>();

for(int i = 0;i <n;i++)
{
mylist.add(i);
}
int idx = 0;
while(n>1)
{
  idx = (idx + m-1)%n;
  mylist.remove(idx);
  n--;
}
return mylist.get(0);
  }


```



## [134. åŠ æ²¹ç«™](https://leetcode-cn.com/problems/gas-station/)

éš¾åº¦ä¸­ç­‰829

åœ¨ä¸€æ¡ç¯è·¯ä¸Šæœ‰ *N* ä¸ªåŠ æ²¹ç«™ï¼Œå…¶ä¸­ç¬¬ *i* ä¸ªåŠ æ²¹ç«™æœ‰æ±½æ²¹ `gas[i]` å‡ã€‚

ä½ æœ‰ä¸€è¾†æ²¹ç®±å®¹é‡æ— é™çš„çš„æ±½è½¦ï¼Œä»ç¬¬ *i* ä¸ªåŠ æ²¹ç«™å¼€å¾€ç¬¬ *i+1* ä¸ªåŠ æ²¹ç«™éœ€è¦æ¶ˆè€—æ±½æ²¹ `cost[i]` å‡ã€‚ä½ ä»å…¶ä¸­çš„ä¸€ä¸ªåŠ æ²¹ç«™å‡ºå‘ï¼Œå¼€å§‹æ—¶æ²¹ç®±ä¸ºç©ºã€‚

å¦‚æœä½ å¯ä»¥ç»•ç¯è·¯è¡Œé©¶ä¸€å‘¨ï¼Œåˆ™è¿”å›å‡ºå‘æ—¶åŠ æ²¹ç«™çš„ç¼–å·ï¼Œå¦åˆ™è¿”å› -1ã€‚

**è¯´æ˜:** 

- å¦‚æœé¢˜ç›®æœ‰è§£ï¼Œè¯¥ç­”æ¡ˆå³ä¸ºå”¯ä¸€ç­”æ¡ˆã€‚
- è¾“å…¥æ•°ç»„å‡ä¸ºéç©ºæ•°ç»„ï¼Œä¸”é•¿åº¦ç›¸åŒã€‚
- è¾“å…¥æ•°ç»„ä¸­çš„å…ƒç´ å‡ä¸ºéè´Ÿæ•°ã€‚

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: 
gas  = [1,2,3,4,5]
cost = [3,4,5,1,2]

è¾“å‡º: 3
```

---

æ¨è®ºï¼šä» x,y ä¹‹é—´çš„ä»»ä½•ä¸€ä¸ªåŠ æ²¹ç«™å‡ºå‘ï¼Œéƒ½æ— æ³•åˆ°è¾¾åŠ æ²¹ç«™ y çš„ä¸‹ä¸€ä¸ªåŠ æ²¹ç«™ã€‚

åœ¨å‘ç°äº†è¿™ä¸€ä¸ªæ€§è´¨åï¼Œç®—æ³•å°±å¾ˆæ¸…æ¥šäº†ï¼šæˆ‘ä»¬é¦–å…ˆæ£€æŸ¥ç¬¬ 0 ä¸ªåŠ æ²¹ç«™ï¼Œå¹¶è¯•å›¾åˆ¤æ–­èƒ½å¦ç¯ç»•ä¸€å‘¨ï¼›å¦‚æœä¸èƒ½ï¼Œå°±ä»ç¬¬ä¸€ä¸ªæ— æ³•åˆ°è¾¾çš„åŠ æ²¹ç«™å¼€å§‹ç»§ç»­æ£€æŸ¥ã€‚



```java
  public int canCompleteCircuit(int[] gas, int[] cost) {
int sum=0;
int index=0;
while(index<gas.length)
{
int cnt=0;
int sumgat=0,sumcost=0;
while(cnt<gas.length)
{
    int j=(cnt+index)%gas.length;
sumgat+=gas[j];
sumcost+=cost[j];
if(sumgat<sumcost) break;
cnt++;
}
 if(cnt==gas.length) return index;
else
index=index+cnt+1;//å¦‚æœæ²¡æœ‰è¿™ä¸€æ­¥ç›´æ¥index+1ä¼šè¶…æ—¶
}
return -1;
    }
```

## [1339. åˆ†è£‚äºŒå‰æ ‘çš„æœ€å¤§ä¹˜ç§¯](https://leetcode-cn.com/problems/maximum-product-of-splitted-binary-tree/)

éš¾åº¦ä¸­ç­‰69

ç»™ä½ ä¸€æ£µäºŒå‰æ ‘ï¼Œå®ƒçš„æ ¹ä¸º `root` ã€‚è¯·ä½ åˆ é™¤ 1 æ¡è¾¹ï¼Œä½¿äºŒå‰æ ‘åˆ†è£‚æˆä¸¤æ£µå­æ ‘ï¼Œä¸”å®ƒä»¬å­æ ‘å’Œçš„ä¹˜ç§¯å°½å¯èƒ½å¤§ã€‚

ç”±äºç­”æ¡ˆå¯èƒ½ä¼šå¾ˆå¤§ï¼Œè¯·ä½ å°†ç»“æœå¯¹ 10^9 + 7 å–æ¨¡åå†è¿”å›ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

**![img](https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2020/02/02/sample_1_1699.png)**

```
è¾“å…¥ï¼šroot = [1,2,3,4,5,6]
è¾“å‡ºï¼š110
è§£é‡Šï¼šåˆ é™¤çº¢è‰²çš„è¾¹ï¼Œå¾—åˆ° 2 æ£µå­æ ‘ï¼Œå’Œåˆ†åˆ«ä¸º 11 å’Œ 10 ã€‚å®ƒä»¬çš„ä¹˜ç§¯æ˜¯ 110 ï¼ˆ11*10ï¼‰
```

------

```java
  long totalsum = 0,best = 0;
    public int maxProduct(TreeNode root) {
     int MOD = (int)1e9 + 7;//è¿™é‡Œè¦åŠ (int)å¦åˆ™ä¼šæŠ¥é”™
totalsum=dfs(root);
 dfs2(root);
return (int)(best %MOD);//æ³¨æ„è¿™é‡Œç¬¬äºŒä¸ªæ‹¬å·ä¸èƒ½å°‘ï¼Œå¦åˆ™ç»“æœä¸æ­£ç¡®
    }
    public long dfs(TreeNode root)
    {
        if (root == null) return 0;
       return dfs(root.left)+dfs(root.right)+root.val;//è¿™é‡Œæ˜¯è·å¾—äºŒå‰æ ‘ç»“ç‚¹æ€»å’Œ
        
       
    }
    public long dfs2(TreeNode root)
    {
           if (root == null) return 0;
long cur = dfs2(root.left) + dfs2(root.right)+root.val;//è¿™é‡Œå…¶å®å°±æ˜¯è·å¾—ä»¥æ¯ä¸ªç»“ç‚¹ä½œä¸ºåˆ†å‰²ï¼Œå…¶ä¸‹çš„ç»“ç‚¹å€¼æ€»å’Œï¼Œå› ä¸ºåˆ†è£‚äºŒå‰æ ‘å°±æ˜¯åˆ†æˆä¸€ä¸ªæ˜¯æ ¹èŠ‚ç‚¹ä¸ºæ ¹ï¼Œä¸€ä¸ªä»¥å…¶ä»–ç»“ç‚¹ä¸ºæ ¹çš„å­æ ‘

best =Math.max(best,cur*(totalsum-cur));
return cur;
    }
```

## [654. æœ€å¤§äºŒå‰æ ‘](https://leetcode.cn/problems/maximum-binary-tree/)

éš¾åº¦ä¸­ç­‰564

ç»™å®šä¸€ä¸ªä¸é‡å¤çš„æ•´æ•°æ•°ç»„ `nums` ã€‚ **æœ€å¤§äºŒå‰æ ‘** å¯ä»¥ç”¨ä¸‹é¢çš„ç®—æ³•ä» `nums` é€’å½’åœ°æ„å»º:

1. åˆ›å»ºä¸€ä¸ªæ ¹èŠ‚ç‚¹ï¼Œå…¶å€¼ä¸º `nums` ä¸­çš„æœ€å¤§å€¼ã€‚
2. é€’å½’åœ°åœ¨æœ€å¤§å€¼ **å·¦è¾¹** çš„ **å­æ•°ç»„å‰ç¼€ä¸Š** æ„å»ºå·¦å­æ ‘ã€‚
3. é€’å½’åœ°åœ¨æœ€å¤§å€¼ **å³è¾¹** çš„ **å­æ•°ç»„åç¼€ä¸Š** æ„å»ºå³å­æ ‘ã€‚

è¿”å› *`nums` æ„å»ºçš„* ***æœ€å¤§äºŒå‰æ ‘\*** ã€‚

![image-20220914193806166](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220914193806166.png)

---------------------



```java
 public TreeNode constructMaximumBinaryTree(int[] nums) {

TreeNode root = dfs(nums,0,nums.length-1);

return root;
    }
    public TreeNode dfs(int[]nums,int left,int right){
        if(left>right)return null;
int max = 0,index = 0;
        int best = left;
        for (int i = left + 1; i <= right; ++i) {
            if (nums[i] > nums[best]) {
                best = i;
            }
        }
        TreeNode root = new TreeNode(nums[best]);

    root.left = dfs(nums,left,best-1);
    root.right = dfs(nums,best+1,right);
    return root;
    }
```

## [1026. èŠ‚ç‚¹ä¸å…¶ç¥–å…ˆä¹‹é—´çš„æœ€å¤§å·®å€¼](https://leetcode.cn/problems/maximum-difference-between-node-and-ancestor/)

éš¾åº¦ä¸­ç­‰126

ç»™å®šäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ `root`ï¼Œæ‰¾å‡ºå­˜åœ¨äº **ä¸åŒ** èŠ‚ç‚¹ `A` å’Œ `B` ä¹‹é—´çš„æœ€å¤§å€¼ `V`ï¼Œå…¶ä¸­ `V = |A.val - B.val|`ï¼Œä¸” `A` æ˜¯ `B` çš„ç¥–å…ˆã€‚

ï¼ˆå¦‚æœ A çš„ä»»ä½•å­èŠ‚ç‚¹ä¹‹ä¸€ä¸º Bï¼Œæˆ–è€… A çš„ä»»ä½•å­èŠ‚ç‚¹æ˜¯ B çš„ç¥–å…ˆï¼Œé‚£

ä¹ˆæˆ‘ä»¬è®¤ä¸º A æ˜¯ B çš„ç¥–å…ˆï¼‰

------------------

å…³é”®ï¼šå…¶å®å°±æ˜¯ç¥–å…ˆç»“ç‚¹ä¸­çš„æœ€å¤§å€¼æˆ–è€…æœ€å°å€¼ä¸å½“å‰ç»“ç‚¹çš„å·®å€¼

```java
int maxdiff = 0;
    public int maxAncestorDiff(TreeNode root) {
        dfs(root,root.val,root.val);
        return maxdiff;
    }
    public void dfs(TreeNode root, int min, int max){
        if(root==null) return ;
        maxdiff = Math.max(maxdiff,Math.max(Math.abs(min-root.val),Math.abs(max-root.val)));
        min = Math.min(min,root.val);
        max = Math.max(max,root.val);
        //è¿™é‡Œå…ˆå·¦å­æ ‘è¿˜æ˜¯å…ˆå³å­æ ‘ä¸å½±å“
        dfs(root.right,min,max);
        dfs(root.left,min,max);
    }
```

## å›¾ï¼š1361.éªŒè¯äºŒå‰æ ‘

äºŒå‰æ ‘ä¸Šæœ‰ n ä¸ªèŠ‚ç‚¹ï¼ŒæŒ‰ä» 0 åˆ° n - 1 ç¼–å·ï¼Œå…¶ä¸­èŠ‚ç‚¹ i çš„ä¸¤ä¸ªå­èŠ‚ç‚¹åˆ†åˆ«æ˜¯ leftChild[i] å’Œ rightChild[i]ã€‚

åªæœ‰ æ‰€æœ‰ èŠ‚ç‚¹èƒ½å¤Ÿå½¢æˆä¸” åª å½¢æˆ ä¸€é¢— æœ‰æ•ˆçš„äºŒå‰æ ‘æ—¶ï¼Œè¿”å› trueï¼›å¦åˆ™è¿”å› falseã€‚

å¦‚æœèŠ‚ç‚¹ i æ²¡æœ‰å·¦å­èŠ‚ç‚¹ï¼Œé‚£ä¹ˆ leftChild[i] å°±ç­‰äº -1ã€‚å³å­èŠ‚ç‚¹ä¹Ÿç¬¦åˆè¯¥è§„åˆ™ã€‚

æ³¨æ„ï¼šèŠ‚ç‚¹æ²¡æœ‰å€¼ï¼Œæœ¬é—®é¢˜ä¸­ä»…ä»…ä½¿ç”¨èŠ‚ç‚¹ç¼–å·ã€‚

ç¤ºä¾‹ 1ï¼š



è¾“å…¥ï¼šn = 4, leftChild = [1,-1,3,-1], rightChild = [2,-1,-1,-1]
è¾“å‡ºï¼štrue
ç¤ºä¾‹ 2ï¼š

![image-20230116195034524](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230116195034524.png)

è¾“å…¥ï¼šn = 4, leftChild = [1,-1,3,-1], rightChild = [2,3,-1,-1]
è¾“å‡ºï¼šfalse





------

åœ¨ç¬¬äºŒæ­¥ä¸­ï¼Œæˆ‘ä»¬ä»æ ¹èŠ‚ç‚¹å¼€å§‹è¿›è¡Œæ·±åº¦ä¼˜å…ˆæœç´¢æˆ–å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼Œåˆ¤å®šè¿™ n ä¸ªèŠ‚ç‚¹çš„è¿é€šæ€§ï¼Œè¿™æ˜¯å› ä¸ºå½“è¿™ä¸ª n ä¸ªèŠ‚ç‚¹æ˜¯ä¸€é¢—æœ‰æ•ˆçš„äºŒå‰æ ‘æ—¶ï¼Œæ‰€æœ‰çš„èŠ‚ç‚¹ä¼šæ°å¥½è¢«éå†ä¸€æ¬¡ã€‚å¦‚æœæŸä¸€ä¸ªèŠ‚ç‚¹è¢«éå†äº†è¶…è¿‡ä¸€æ¬¡ï¼ˆæœ‰ä¸æ­¢ä¸€ä¸ªçˆ¶èŠ‚ç‚¹ï¼‰æˆ–é›¶æ¬¡ï¼ˆä¸è¿é€šï¼‰ï¼Œé‚£ä¹ˆè¿™ n ä¸ªèŠ‚ç‚¹éƒ½ä¸æ˜¯ä¸€é¢—æœ‰æ•ˆçš„äºŒå‰æ ‘ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å“ˆå¸Œé›†åˆï¼ˆHashSetï¼‰seen æ¥å­˜æ”¾æ‰€æœ‰è¢«éå†è¿‡çš„èŠ‚ç‚¹ï¼Œå¦‚æœåœ¨æœç´¢æ—¶éå†åˆ°äº† seen ä¸­å‡ºç°çš„èŠ‚ç‚¹ï¼Œé‚£ä¹ˆè¯´æ˜è¯¥èŠ‚ç‚¹è¢«éå†äº†è¶…è¿‡ä¸€æ¬¡ã€‚å¦‚æœåœ¨æœç´¢å®Œæˆåï¼Œseen ä¸­çš„èŠ‚ç‚¹ä¸ªæ•°å°‘äº nï¼Œé‚£ä¹ˆè¯´æ˜æœ‰äº›èŠ‚ç‚¹æ²¡æœ‰è¢«éå†è¿‡ã€‚

å›åˆ°ç¬¬ä¸€æ­¥ä¸­é—ç•™çš„é‚£ä¸ªé—®é¢˜ï¼Œå¦‚æœæœ‰å¤šä¸ªæ»¡è¶³ index[root] == 0 çš„èŠ‚ç‚¹ r1, r2, ...ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ä»»æ„é€‰æ‹©ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä¾‹å¦‚ r1ï¼Œä½œä¸ºæ ¹èŠ‚ç‚¹ã€‚åœ¨æœç´¢æ—¶ï¼Œç”±äºèŠ‚ç‚¹ r2, ... çš„å…¥åº¦ä¸º 0ï¼Œå› æ­¤ä¸å¯èƒ½è¢«éå†åˆ°ã€‚è¿™æ ·åœ¨æœç´¢ç»“æŸåï¼Œseen ä¸­çš„èŠ‚ç‚¹ä¸ªæ•°ä¸€å®šå°‘äº nã€‚



```java
   //åªæœ‰æ»¡è¶³ï¼šå›¾ä¸­æ²¡æœ‰ç¯ã€å›¾éƒ½æ˜¯è¿é€šçš„æ‰å¯ä»¥
    public boolean validateBinaryTreeNodes(int n, int[] leftChild, int[] rightChild) {
int []indeg=new int[n];
for(int i=0;i<n;i++)
{
    if(leftChild[i]!=-1)
   {
        indeg[leftChild[i]]++;
          if(indeg[leftChild[i]]>1) return false;
   }
    if(rightChild[i]!=-1)
   { indeg[rightChild[i]]++;
  if(indeg[rightChild[i]]>1)return false;
}
}
int root=-1;
//å¦‚æœæœ‰å¤šä¸ªæ»¡è¶³ indeg[root] == 0 çš„èŠ‚ç‚¹å‘¢ï¼Ÿåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¿™ n ä¸ªèŠ‚ç‚¹ä¸€å®šä¸æ˜¯ä¸€é¢—æœ‰æ•ˆçš„äºŒå‰æ ‘ã€‚æˆ‘ä»¬æŠŠè¿™ä¸ªé—®é¢˜æ”¾åœ¨ç¬¬äºŒæ­¥æ¥è€ƒè™‘ï¼Œè€Œåœ¨ç¬¬ä¸€æ­¥ä¸­ï¼Œæˆ‘ä»¬å…ˆä¸å¤„ç†è¿™ä¸ªé—®é¢˜ã€‚


for(int i =0;i<n;i++){
    if(indeg[i]==0) {
        root=i;
        }
}
if(root==-1) return false;
Set<Integer>vis = new HashSet<>();
Queue<Integer>queue=new LinkedList<>();
vis.add(root);
queue.offer(root);
while(!queue.isEmpty()){
    int q=queue.poll();
    int left=leftChild[q];
    if(left!=-1) {
           if(vis.contains(left))return false;
        queue.offer(left);
 
    vis.add(left);
    }
    int right=rightChild[q];
    if(right!=-1) {
            if(vis.contains(right)) return false;
        queue.offer(right);

    vis.add(right);
    }
}
//æœ€åå¿…é¡»æ‰€æœ‰ç»“ç‚¹éƒ½è®¿é—®äº†ï¼Œå› æ­¤visçš„å…ƒç´ æ•°é‡åº”è¯¥ä¸ºnæ—¶æ‰æ­£ç¡®
return vis.size()==n;
    }
```

## [1110. åˆ ç‚¹æˆæ—](https://leetcode.cn/problems/delete-nodes-and-return-forest/)

éš¾åº¦ä¸­ç­‰199

ç»™å‡ºäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ `root`ï¼Œæ ‘ä¸Šæ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ä¸€ä¸ªä¸åŒçš„å€¼ã€‚

å¦‚æœèŠ‚ç‚¹å€¼åœ¨ `to_delete` ä¸­å‡ºç°ï¼Œæˆ‘ä»¬å°±æŠŠè¯¥èŠ‚ç‚¹ä»æ ‘ä¸Šåˆ å»ï¼Œæœ€åå¾—åˆ°ä¸€ä¸ªæ£®æ—ï¼ˆä¸€äº›ä¸ç›¸äº¤çš„æ ‘æ„æˆçš„é›†åˆï¼‰ã€‚

è¿”å›æ£®æ—ä¸­çš„æ¯æ£µæ ‘ã€‚ä½ å¯ä»¥æŒ‰ä»»æ„é¡ºåºç»„ç»‡ç­”æ¡ˆã€‚

 

**ç¤ºä¾‹ 1ï¼š**

![image-20230205201236372](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230205201236372.png)

```
è¾“å…¥ï¼šroot = [1,2,3,4,5,6,7], to_delete = [3,5]
è¾“å‡ºï¼š[[1,2,null,4],[6],[7]]
```

------------------

é€’å½’æ³•ï¼šroot.left=dfs root.right=dfsè¿™ç§æ¨¡æ¿

```java
 List<TreeNode>ans=new ArrayList<>();
     Set<Integer>set=new HashSet<>();
    public List<TreeNode> delNodes(TreeNode root, int[] to_delete) {
       if(root==null) return ans;
        for(int i:to_delete)
        set.add(i);
        dfs(root,null);
return ans;
    }
    public TreeNode dfs(TreeNode root,TreeNode parent){
        if(root==null) return null;
       TreeNode left=root.left;
       TreeNode right=root.right;
       if(set.contains(root.val)) root=null;
       else{
           //åªæœ‰parentä¸ºnulæ—¶æ‰éœ€è¦åŠ å…¥ï¼Œå¦åˆ™å°±ç®—é‡å¤åŠ å…¥äº†
           if(parent==null) ans.add(root);
          
       }
        TreeNode newleft=dfs(left,root);
           TreeNode newright=dfs(right,root);
           //å¦‚æœRootä¸ä¸ºnull,æŠŠå·¦å³ä¸¤è¾¹è¿æ¥èµ·æ¥ ï¼Œå¦‚æœrootä¸ºnull,å› ä¸ºå‰é¢ä¸€æ­¥ä¸­åˆ¤æ–­äº†æ˜¯å¦parentä¸ºnull æ­¤æ—¶leftå’ŒRightä¹Ÿå·²ç»åŠ è¿›å»äº†
           if(root!=null) root.left=newleft;
           if(root!=null) root.right=newright;
       return root;
        
    }
```

## [1080. æ ¹åˆ°å¶è·¯å¾„ä¸Šçš„ä¸è¶³èŠ‚ç‚¹](https://leetcode.cn/problems/insufficient-nodes-in-root-to-leaf-paths/)

éš¾åº¦ä¸­ç­‰75

ç»™å®šä¸€æ£µäºŒå‰æ ‘çš„æ ¹ `root`ï¼Œè¯·ä½ è€ƒè™‘å®ƒæ‰€æœ‰ **ä»æ ¹åˆ°å¶çš„è·¯å¾„**ï¼šä»æ ¹åˆ°ä»»ä½•å¶çš„è·¯å¾„ã€‚ï¼ˆæ‰€è°“ä¸€ä¸ªå¶å­èŠ‚ç‚¹ï¼Œå°±æ˜¯ä¸€ä¸ªæ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ï¼‰

å‡å¦‚é€šè¿‡èŠ‚ç‚¹ `node` çš„æ¯ç§å¯èƒ½çš„ â€œæ ¹-å¶â€ è·¯å¾„ä¸Šå€¼çš„æ€»å’Œå…¨éƒ½å°äºç»™å®šçš„ `limit`ï¼Œåˆ™è¯¥èŠ‚ç‚¹è¢«ç§°ä¹‹ä¸ºã€Œä¸è¶³èŠ‚ç‚¹ã€ï¼Œéœ€è¦è¢«åˆ é™¤ã€‚

è¯·ä½ åˆ é™¤æ‰€æœ‰ä¸è¶³èŠ‚ç‚¹ï¼Œå¹¶è¿”å›ç”Ÿæˆçš„äºŒå‰æ ‘çš„æ ¹ã€‚

 ![image-20230205210204362](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230205210204362.png)

æ³¨æ„é¢˜ç›®æ„æ€ï¼šæ˜¯åˆ äº†å¶èŠ‚ç‚¹ä»¥åå‰©ä¸‹çš„ç»“ç‚¹ä¸ä¼šæˆä¸ºå¶èŠ‚ç‚¹ï¼Œè€Œæ˜¯åˆ¤æ–­è¿™ä¸ªç»“ç‚¹å·¦è¾¹å’Œå³è¾¹æ˜¯å¦æœ‰ä¸€æ¡è·¯å¾„å’Œ>=limit(å³ï¼Œå¦‚æœä¸€ä¸ªç»“ç‚¹å·¦å³ä¸¤ä¸ªç»“ç‚¹éƒ½åˆ äº†ï¼Œé‚£ä¹ˆè¿™ä¸ªç»“ç‚¹ä¹Ÿæ˜¯ä¸æˆç«‹çš„ï¼Œå½“ä¸€ä¸ªç»“ç‚¹ä¸æ˜¯å¶å­ç»“ç‚¹çš„æ—¶å€™ï¼Œå®ƒæ˜¯å¦è¢«åˆ é™¤ï¼Œä¹Ÿè¦çœ‹å®ƒçš„å­©å­ç»“ç‚¹ï¼Œåªè¦å­©å­ç»“ç‚¹æœ‰ä¸€ä¸ªè¢«ä¿ç•™ï¼Œçˆ¶äº²ç»“ç‚¹å°±ä¸èƒ½è¢«åˆ ï¼Œæ¢å¥è¯è¯´ï¼Œçˆ¶äº²ç»“ç‚¹è¢«åˆ é™¤å½“ä¸”ä»…å½“å®ƒçš„ä¸¤ä¸ªå­©å­ç»“ç‚¹å‡è¢«åˆ é™¤ï¼›



```java
int lim;
    public TreeNode sufficientSubset(TreeNode root, int limit) {
lim=limit;
if(root==null) return null;
boolean issave= dfs(root,0);
return issave?root:null;
    }
    public boolean dfs(TreeNode root,int sum)
    {
        if(root==null) return false;
        if(root.left==null&&root.right==null)
        {
            return root.val+sum>=lim;
        }
      boolean left=false,right=false;
        if(root.left!=null)
        left=dfs(root.left,sum+root.val);
        if(root.right!=null)
        {
            right=dfs(root.right,sum+root.val);
        }

if(!left)
root.left=null;
if(!right)
root.right=null;
if(!left&&!right){
root=null;
return false;
}

  return left||right;
    }
```



## treesetä¸€äº›apiï¼š[729. æˆ‘çš„æ—¥ç¨‹å®‰æ’è¡¨ I](https://leetcode.cn/problems/my-calendar-i/)

#### 

éš¾åº¦ä¸­ç­‰247

å®ç°ä¸€ä¸ª `MyCalendar` ç±»æ¥å­˜æ”¾ä½ çš„æ—¥ç¨‹å®‰æ’ã€‚å¦‚æœè¦æ·»åŠ çš„æ—¥ç¨‹å®‰æ’ä¸ä¼šé€ æˆ **é‡å¤é¢„è®¢** ï¼Œåˆ™å¯ä»¥å­˜å‚¨è¿™ä¸ªæ–°çš„æ—¥ç¨‹å®‰æ’ã€‚

å½“ä¸¤ä¸ªæ—¥ç¨‹å®‰æ’æœ‰ä¸€äº›æ—¶é—´ä¸Šçš„äº¤å‰æ—¶ï¼ˆä¾‹å¦‚ä¸¤ä¸ªæ—¥ç¨‹å®‰æ’éƒ½åœ¨åŒä¸€æ—¶é—´å†…ï¼‰ï¼Œå°±ä¼šäº§ç”Ÿ **é‡å¤é¢„è®¢** ã€‚

æ—¥ç¨‹å¯ä»¥ç”¨ä¸€å¯¹æ•´æ•° `start` å’Œ `end` è¡¨ç¤ºï¼Œè¿™é‡Œçš„æ—¶é—´æ˜¯åŠå¼€åŒºé—´ï¼Œå³ `[start, end)`, å®æ•° `x` çš„èŒƒå›´ä¸ºï¼Œ  `start <= x < end` ã€‚

å®ç° `MyCalendar` ç±»ï¼š

- `MyCalendar()` åˆå§‹åŒ–æ—¥å†å¯¹è±¡ã€‚
- `boolean book(int start, int end)` å¦‚æœå¯ä»¥å°†æ—¥ç¨‹å®‰æ’æˆåŠŸæ·»åŠ åˆ°æ—¥å†ä¸­è€Œä¸ä¼šå¯¼è‡´é‡å¤é¢„è®¢ï¼Œè¿”å› `true` ã€‚å¦åˆ™ï¼Œè¿”å› `false` å¹¶ä¸”ä¸è¦å°†è¯¥æ—¥ç¨‹å®‰æ’æ·»åŠ åˆ°æ—¥å†ä¸­ã€‚

 ["MyCalendar", "book", "book", "book"]
[[], [10, 20], [15, 25], [20, 30]]
è¾“å‡ºï¼š
[null, true, false, true]

-----

æœ€ç®€å•çš„æ–¹æ³•æ˜¯æŠŠint[]æ”¾åœ¨listä¸­ï¼Œç„¶åæ¯æ¥ä¸€ä¸ª éƒ½å»éå†ï¼Œå¦‚æœå¯ä»¥ï¼Œåˆ™åŠ å…¥è¿›å»

ä¼˜åŒ–ï¼šç”¨treeset æŒ‰ç…§ç¬¬ä¸€ä¸ªå…ƒç´ è¿›è¡Œæ’åº

då¯¹äºæ–°çš„ä¸€ä¸ªæ•°ç»„ï¼Œç”¨ä¸€ä¸ª{end,0}æ¥è¿›è¡Œåˆ¤æ–­ï¼Œçœ‹æœ‰æ²¡æœ‰æ¯”å®ƒå¤§çš„ï¼Œå¦‚æœç¬¬ä¸€ä¸ªæ¯”å®ƒå¤§çš„å°±æ˜¯ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œé‚£ä¹ˆè¯´æ˜ç¬¬ä¸€ä¸ªå…ƒç´ çš„startå¤§äºend å®ƒä¸€ç‚¹å¯ä»¥æ”¾è¿›å»ï¼Œå¦åˆ™æ¯”è¾ƒç¬¬ä¸€ä¸ªæ¯”å®ƒå°çš„å…ƒç´  

```java
TreeSet<int[]> booked;

    public MyCalendar() {
        booked = new TreeSet<int[]>((a, b) -> a[0] - b[0]);
    }


    public boolean book(int start, int end) {
          if(booked.isEmpty()){
            booked.add(new int[]{start,end});
            return true;
        }
               int[] tmp = {end, 0};
        int[] arr = booked.ceiling(tmp);
        // /ceiling ()æ–¹æ³•ç”¨äºè¿”å›å¤§äºæˆ–ç­‰äºç»™å®šå…ƒç´ çš„è¯¥é›†åˆä¸­çš„æœ€å°å…ƒç´ ï¼›å¦‚æœæ²¡æœ‰æ­¤ç±»å…ƒç´ ï¼Œåˆ™è¿”å›nullã€‚
//å¦‚æœbookedä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ==arr,è¯´æ˜bookedä¸­æœ€å°çš„æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯end,é‚£ä¹ˆå¯ä»¥æ”¾è¿›å»ï¼Œå¦‚æœæ¯”{end,0}å°çš„ç¬¬ä¸€ä¸ªæ•°ç»„çš„ç¬¬äºŒä¸ªå…ƒç´ <=start,è¯´æ˜{start,end}å¯ä»¥æ”¾åœ¨è¿™ä¸ªæ•°ç»„åé¢ å¦‚æœå­˜åœ¨endä½œä¸ºç¬¬ä¸€ä¸ªå…ƒç´ çš„æ•°ç»„ï¼Œåˆ™è¿™ä¸ªæ•°ç»„çš„ç¬¬äºŒä¸ªå…ƒç´ ä¸€å®šå¤§äºend åˆå› ä¸ºå½“å‰{start,end}æœ€å¤§çš„å°±æ˜¯end,ä¹Ÿå°±æ˜¯ä¸€åˆ‡æ¯”tmpå¤§çš„æ•°ç»„çš„startä¸€å®šå¤§äºEnd 
//lower(E ele)æ–¹æ³•ç”¨äºè¿”å›æ­¤é›†åˆä¸­æœ€å¤§çš„å…ƒç´ ï¼Œè¯¥å…ƒç´ ä¸¥æ ¼å°äºç»™å®šçš„å…ƒç´ ã€‚
        if(arr==booked.first()||booked.lower(tmp)[1]<=start){
            booked.add(new int[]{start,end});
            return true;
        }
        return false;
  
    }
```

## [ æ‰€æœ‰å¤§äºç­‰äºèŠ‚ç‚¹çš„å€¼ä¹‹å’Œ](https://leetcode.cn/problems/w6cpku/)

éš¾åº¦ä¸­ç­‰51

ç»™å®šä¸€ä¸ªäºŒå‰æœç´¢æ ‘ï¼Œè¯·å°†å®ƒçš„æ¯ä¸ªèŠ‚ç‚¹çš„å€¼æ›¿æ¢æˆæ ‘ä¸­å¤§äºæˆ–è€…ç­‰äºè¯¥èŠ‚ç‚¹å€¼çš„æ‰€æœ‰èŠ‚ç‚¹å€¼ä¹‹å’Œã€‚

 

æé†’ä¸€ä¸‹ï¼ŒäºŒå‰æœç´¢æ ‘æ»¡è¶³ä¸‹åˆ—çº¦æŸæ¡ä»¶ï¼š

- èŠ‚ç‚¹çš„å·¦å­æ ‘ä»…åŒ…å«é”® **å°äº** èŠ‚ç‚¹é”®çš„èŠ‚ç‚¹ã€‚
- èŠ‚ç‚¹çš„å³å­æ ‘ä»…åŒ…å«é”® **å¤§äº** èŠ‚ç‚¹é”®çš„èŠ‚ç‚¹ã€‚
- å·¦å³å­æ ‘ä¹Ÿå¿…é¡»æ˜¯äºŒå‰æœç´¢æ ‘ã€‚



äºŒå‰æœç´¢æ ‘æ˜¯ä¸€æ£µç©ºæ ‘ï¼Œæˆ–è€…æ˜¯å…·æœ‰ä¸‹åˆ—æ€§è´¨çš„äºŒå‰æ ‘ï¼š

è‹¥å®ƒçš„å·¦å­æ ‘ä¸ç©ºï¼Œåˆ™å·¦å­æ ‘ä¸Šæ‰€æœ‰èŠ‚ç‚¹çš„å€¼å‡å°äºå®ƒçš„æ ¹èŠ‚ç‚¹çš„å€¼ï¼›

è‹¥å®ƒçš„å³å­æ ‘ä¸ç©ºï¼Œåˆ™å³å­æ ‘ä¸Šæ‰€æœ‰èŠ‚ç‚¹çš„å€¼å‡å¤§äºå®ƒçš„æ ¹èŠ‚ç‚¹çš„å€¼ï¼›

å®ƒçš„å·¦ã€å³å­æ ‘ä¹Ÿåˆ†åˆ«ä¸ºäºŒå‰æœç´¢æ ‘ã€‚

ç”±è¿™æ ·çš„æ€§è´¨æˆ‘ä»¬å¯ä»¥å‘ç°ï¼ŒäºŒå‰æœç´¢æ ‘çš„ä¸­åºéå†æ˜¯ä¸€ä¸ªå•è°ƒé€’å¢çš„æœ‰åºåºåˆ—ã€‚å¦‚æœæˆ‘ä»¬ååºåœ°ä¸­åºéå†è¯¥äºŒå‰æœç´¢æ ‘ï¼Œå³å¯å¾—åˆ°ä¸€ä¸ªå•è°ƒé€’å‡çš„æœ‰åºåºåˆ—ã€‚

æ–¹æ³•ä¸€ï¼šååºä¸­åºéå†
æ€è·¯åŠç®—æ³•

æœ¬é¢˜ä¸­è¦æ±‚æˆ‘ä»¬å°†æ¯ä¸ªèŠ‚ç‚¹çš„å€¼ä¿®æ”¹ä¸ºåŸæ¥çš„èŠ‚ç‚¹å€¼åŠ ä¸Šæ‰€æœ‰å¤§äºå®ƒçš„èŠ‚ç‚¹å€¼ä¹‹å’Œã€‚è¿™æ ·æˆ‘ä»¬åªéœ€è¦ååºä¸­åºéå†è¯¥äºŒå‰æœç´¢æ ‘ï¼Œè®°å½•è¿‡ç¨‹ä¸­çš„èŠ‚ç‚¹å€¼ä¹‹å’Œï¼Œå¹¶ä¸æ–­æ›´æ–°å½“å‰éå†åˆ°çš„èŠ‚ç‚¹çš„èŠ‚ç‚¹å€¼ï¼Œå³å¯å¾—åˆ°é¢˜ç›®è¦æ±‚çš„ç´¯åŠ æ ‘ã€‚

```java
 int sum=0;
    public TreeNode convertBST(TreeNode root) {
if(root==null) return root;

convertBST(root.right);
sum+=root.val;
root.val=sum;
convertBST(root.left);
return root;
    }
```

## [é¢è¯•é¢˜ 04.12. æ±‚å’Œè·¯å¾„](https://leetcode.cn/problems/paths-with-sum-lcci/)

éš¾åº¦ä¸­ç­‰132

ç»™å®šä¸€æ£µäºŒå‰æ ‘ï¼Œå…¶ä¸­æ¯ä¸ªèŠ‚ç‚¹éƒ½å«æœ‰ä¸€ä¸ªæ•´æ•°æ•°å€¼(è¯¥å€¼æˆ–æ­£æˆ–è´Ÿ)ã€‚è®¾è®¡ä¸€ä¸ªç®—æ³•ï¼Œæ‰“å°èŠ‚ç‚¹æ•°å€¼æ€»å’Œç­‰äºæŸä¸ªç»™å®šå€¼çš„æ‰€æœ‰è·¯å¾„çš„æ•°é‡ã€‚æ³¨æ„ï¼Œè·¯å¾„ä¸ä¸€å®šéå¾—ä»äºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹æˆ–å¶èŠ‚ç‚¹å¼€å§‹æˆ–ç»“æŸï¼Œä½†æ˜¯å…¶æ–¹å‘å¿…é¡»å‘ä¸‹(åªèƒ½ä»çˆ¶èŠ‚ç‚¹æŒ‡å‘å­èŠ‚ç‚¹æ–¹å‘)ã€‚

**ç¤ºä¾‹:**
ç»™å®šå¦‚ä¸‹äºŒå‰æ ‘ï¼Œä»¥åŠç›®æ ‡å’Œ `sum = 22`ï¼Œ

```
              5
             / \
            4   8
           /   / \
          11  13  4
         /  \    / \
        7    2  5   1
```

è¿”å›:

```
3
è§£é‡Šï¼šå’Œä¸º 22 çš„è·¯å¾„æœ‰ï¼š[5,4,11,2], [5,8,4,5], [4,11,7]
```

-----

![image-20230409215541957](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230409215541957.png)

æ˜¯å¦è¦åŒé‡é€’å½’(å³è°ƒç”¨æ ¹èŠ‚ç‚¹çš„dfså‡½æ•°åï¼Œç»§ç»­è°ƒç”¨æ ¹å·¦å³èŠ‚ç‚¹çš„pathsumå‡½æ•°)ï¼šçœ‹é¢˜ç›®è¦ä¸è¦æ±‚ä»æ ¹èŠ‚ç‚¹å¼€å§‹çš„ï¼Œè¿˜æ˜¯ä»ä»»æ„èŠ‚ç‚¹å¼€å§‹,å› ä¸ºè¿™é“é¢˜æ˜¯å¯ä»¥ä»ä»»æ„ç»“ç‚¹å¼€å§‹ï¼Œæ‰€ä»¥éœ€è¦ 

```java
 public int pathSum(TreeNode root, int sum) {
  if (root == null) {
            return 0;
        }

        int ans = getSum(root, sum);
        ans += pathSum(root.left, sum);
        ans += pathSum(root.right, sum);
        return ans;

    }
     public int getSum(TreeNode root, int sum) {
        int ret = 0;

        if (root == null) {
            return 0;
        }
        int val = root.val;
        if (val == sum) {
            ret++;
        } 

        ret += getSum(root.left, sum - val);
        ret += getSum(root.right, sum - val);
        return ret;
    }
```





# ç¨€ç–æ•°ç»„ä¸äºŒç»´æ•°ç»„çš„è½¬åŒ–

![image-20210909094926646](C:\Users\14172\AppData\Roaming\Typora\typora-user-images\image-20210909094926646.png)

```java
public static void main(String[] args) {
// åˆ›å»ºä¸€ä¸ªåŸå§‹çš„äºŒç»´æ•°ç»„11 * 11
// 0: è¡¨ç¤ºæ²¡æœ‰æ£‹å­ï¼Œ 1 è¡¨ç¤ºé»‘å­2 è¡¨è“å­
int chessArr1[][] = new int[11][11];
chessArr1[1][2] = 1;
chessArr1[2][3] = 2;
chessArr1[4][5] = 2;
    // å°†äºŒç»´æ•°ç»„è½¬ç¨€ç–æ•°ç»„çš„æ€
// 1. å…ˆéå†äºŒç»´æ•°ç»„å¾—åˆ°é0 æ•°æ®çš„ä¸ªæ•°
int sum = 0;
for (int i = 0; i < 11; i++) {
for (int j = 0; j < 11; j++) {
if (chessArr1[i][j] != 0) {
sum++;
}
}
}
// 2. åˆ›å»ºå¯¹åº”çš„ç¨€ç–æ•°ç»„
int sparseArr[][] = new int[sum + 1][3];
// ç»™ç¨€ç–æ•°ç»„èµ‹å€¼
sparseArr[0][0] = 11;
sparseArr[0][1] = 11;
sparseArr[0][2] = sum;
    // éå†äºŒç»´æ•°ç»„ï¼Œå°†é0 çš„å€¼å­˜æ”¾åˆ°sparseArr ä¸­
int count = 0; //count ç”¨äºè®°å½•æ˜¯ç¬¬å‡ ä¸ªé0 æ•°æ®
for (int i = 0; i < 11; i++) {
for (int j = 0; j < 11; j++) {
if (chessArr1[i][j] != 0) {
count++;
sparseArr[count][0] = i;
sparseArr[count][1] = j;
sparseArr[count][2] = chessArr1[i][j];
}
}
}
```

![image-20210909121311502](C:\Users\14172\AppData\Roaming\Typora\typora-user-images\image-20210909121311502.png)

# é˜Ÿåˆ—

## 2.é€šè¿‡é˜Ÿåˆ—æ”¹å˜ä¸€ä¸ªæ ˆçš„æ’åˆ—é¡ºåº

```++
//é€šè¿‡ä¸€ä¸ªé˜Ÿåˆ—æŠŠä¸€ä¸ªæ ˆst ä»æ ˆé¡¶åˆ°æ ˆåº•ä¸ºa2n,a2n-1,...,a1 å˜ä¸ºä»æ ˆé¡¶åˆ°æ ˆåº•a1,a3,a5...,a2,a4,...a2n
void reassign(stack<int>&st)
{int e;
	queue<int>qu;
	int i, m = st.size();
	for (i = 1; i <= m; i++)
	{
		qu.push(st.top());
		st.pop();
	}
	for (i = 1; i <= m; i++)
	{
		if (i % 2 == 1)//å¦‚æœiæ˜¯å¥‡æ•° åˆ™ä¸ºa2n a2n-2 æ¨å…¥æ ˆï¼Œ å¦åˆ™è¿›å…¥é˜Ÿåˆ—ä¸­
		{
			st.push(qu.front());
			qu.pop();
		}
		else
		{
			qu.push(qu.front());
			qu.pop();
		}
	}
	while(!qu.empty())
	{
		st.push(qu.front());
		qu.pop();
	}
}
```

## 3.//é€šè¿‡ä¸€ä¸ªé˜Ÿåˆ—å®ç°çº¦ç‘Ÿå¤«é—®é¢˜

```c++
//é€šè¿‡ä¸€ä¸ªé˜Ÿåˆ—å®ç°çº¦ç‘Ÿå¤«é—®é¢˜
void reassign(int n,int m)
{
	int i, p;
	queue<int>qu;
	for (i = 1; i <= n; i++)
	{
		qu.push(i);

	}
	i = 1;
	while (!qu.empty())
	{
		if (i % m == 0)//å¦‚æœæ•°åˆ°äº†må°±å°†è¿™ä¸ªäººå‡ºé˜Ÿ è¾“å‡ºæ•°æ® é‡æ–°ä»1å¼€å§‹æ•°
		{
			cout << qu.front()<<" ";
			qu.pop();
			i = 1;
			
		}
		else
		{
			i++;
			qu.push(qu.front());//å¦åˆ™å°†ä¸‹ä¸€ä¸ªäººå¼¹å‡ºå¹¶å†æ¬¡å…¥é˜Ÿ å°†è¿›å…¥é˜Ÿå°¾
			qu.pop();
		}

	}
}
```

c++







```c++
using namespace std;
int grid[8][8] =
{
	{1,1,1,1,1,1,1,1},
	{0,0,0,0,0,1,1,1},
	{1,0,1,1,0,1,1,1},
	{1,0,1,1,0,1,1,1},
	{1,0,1,1,1,1,1,1},
	{1,0,1,1,1,1,1,1},
	{1,0,0,0,0,0,0,1},
	{1,1,1,1,1,1,0,0},
};//0å¯ä»¥èµ° 1ä¸å¯ä»¥èµ°
typedef struct
{
	int i;
	int j;
	int pre;//preæ˜¯å‰é©±æ–¹å—åœ¨é˜Ÿåˆ—ä¸­çš„ä½ç½® ä»1~N-1
}box;//boxæ˜¯ä¸€ä¸ªæ–¹å—
int v[4] = {0,1,0,-1 };//æ°´å¹³åç§»é‡
int h[4] = {-1,0,1,0 };//å‚ç›´åç§»é‡

bool findpath(int xi, int yi, int xe, int ye)
{//æŸ¥æ‰¾ä»x1 yiåˆ°xe yeçš„è·¯å¾„
	box e;
	box qu[100];//è‡ªå·±è®¾ç½®éå¾ªç¯é¡ºåºé˜Ÿ
	int front = -1, rear = -1;//è®¾ç½®é˜Ÿå¤´ä¸é˜Ÿå°¾æŒ‡é’ˆ
	int i, j, j1, j2, k,pre,d;
	 e.i = xi; e.j = yi;//å…¥å£æ–¹å—è¿›é˜Ÿ
	e.pre = -1;
	rear++;
	qu[rear] = e;
	grid[xi][yi] = -1;//é˜²æ­¢é‡å¤æ‰«æ

	while (rear != front)//é˜Ÿä¸ç©ºæ—¶å¾ªç¯
	{
		front++; e = qu[front];
		i = e.i; j = e.j; pre = e.pre;
		if (i == xe && j == ye)//æ­¤æ—¶åˆ°è¾¾ç»ˆç‚¹
		{
			d = -1;
			
			box path[100];
			 k = front;
			while (true)//åå‘æœç´¢è·¯å¾„ å­˜æ”¾åœ¨pathä¸­
			{
				d++;
				path[d].i = qu[k].i;
				path[d].j = qu[k].j;
				if (qu[k].pre == -1) break;
				k = qu[k].pre;
				

			}
			for (k = d; k >= 0; k--)
			{
				if ((k - d) % 6 == 0) cout << endl;
				cout <<"(" <<path[k].i << ","<<path[k].j<<")";
			}
			cout << endl;
			return true;
		}
		else
		{
			for(i = 0;i < 4;i++)			
					if (grid[xi + v[i]][yi + h[i]] == 0 && (xi + v[i])>=0&& (xi + v[i]) < 8 && (yi + h[i])>=0&& (yi + h[i]) < 8)
					{//æ‰¾åˆ°ä¸€ä¸ªå¯èµ°çš„ç›¸é‚»æ–¹å— å³æœªè¢«æ‰«è¿‡å¯èµ° ä¸”ä¸è¶…è¿‡æœ€å¤§ä¸‹æ ‡
						
						e.i = xi + v[i];
						e.j = yi + h[i];
						e.pre = front;
						rear++;
						qu[rear] = e;//å°†è¿™ä¸ªæ–°æ–¹å—è¿›é˜Ÿ
						grid[xi + v[i]][yi + h[i]] = -1;//åšä¸Šæ ‡è®°é¿å…æ¥å›æœç´¢
					}
		}


	} 
	return false;

}
int main()
{
	findpath(1, 0, 7, 7);
	
}

```





## [225. ç”¨é˜Ÿåˆ—å®ç°æ ˆ](https://leetcode-cn.com/problems/implement-stack-using-queues/)

```java
class MyStack {
Queue<Integer>queue = new LinkedList<>();
Queue<Integer>help = new LinkedList<>();
    public MyStack() {

    }
    
    public void push(int x) {
help.offer(x);
while(!queue.isEmpty())
{
    help.offer(queue.poll());
}
Queue<Integer>temp = help;
help = queue;
queue = temp;
    }
    
    public int pop() {

return queue.poll();
    }
    
    public int top() {
return queue.peek();
    }
    
    public boolean empty() {
return queue.isEmpty();
    }
}
```



# æ ˆé—®é¢˜/å•è°ƒæ ˆ

å•è°ƒæ ˆæ¨¡æ¿ï¼š

```java
vector<int> dailyTemperatures(vector<int>& T) {
vector<int> ans(T.size());
stack<int> s; // è¿™â¾¥æ”¾å…ƒç´ ç´¢å¼•ï¼Œâ½½ä¸æ˜¯å…ƒç´ 
for (int i = T.size() - 1; i >= 0; i--) {
while (!s.empty() && T[s.top()] <= T[i]) {
s.pop();
}
ans[i] = s.empty() ? 0 : (s.top() - i); // å¾—åˆ°ç´¢å¼•é—´è·
s.push(i); // åŠ â¼Šç´¢å¼•ï¼Œâ½½ä¸æ˜¯å…ƒç´ 
}
return ans;
}
```



## å­æ•°ç»„çš„æœ€å°å€¼ä¹‹å’Œ

ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ arrï¼Œæ‰¾åˆ° min(b) çš„æ€»å’Œï¼Œå…¶ä¸­ b çš„èŒƒå›´ä¸º arr çš„æ¯ä¸ªï¼ˆè¿ç»­ï¼‰å­æ•°ç»„ã€‚

ç”±äºç­”æ¡ˆå¯èƒ½å¾ˆå¤§ï¼Œå› æ­¤ è¿”å›ç­”æ¡ˆæ¨¡ 10^9 + 7 ã€‚

 

ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼šarr = [3,1,2,4]
è¾“å‡ºï¼š17
è§£é‡Šï¼š
å­æ•°ç»„ä¸º [3]ï¼Œ[1]ï¼Œ[2]ï¼Œ[4]ï¼Œ[3,1]ï¼Œ[1,2]ï¼Œ[2,4]ï¼Œ[3,1,2]ï¼Œ[1,2,4]ï¼Œ[3,1,2,4]ã€‚ 
æœ€å°å€¼ä¸º 3ï¼Œ1ï¼Œ2ï¼Œ4ï¼Œ1ï¼Œ1ï¼Œ2ï¼Œ1ï¼Œ1ï¼Œ1ï¼Œå’Œä¸º 17ã€‚

------



è¿™é“é¢˜çš„æœ¬è´¨åœ¨äºæ‰¾åˆ°æ•°ç»„ä¸­çš„**æ¯ä¸€ä¸ªæ•°ä½œä¸ºæœ€å°å€¼çš„èŒƒå›´**ï¼Œæ¯”å¦‚å¯¹äºæŸä¸ªæ•°nums[i]èƒ½å¤Ÿæœ€å°å€¼ä»¥è¿™ç§å½¢å¼è¡¨ç¤ºï¼šå·¦è¾¹è¿ç»­mä¸ªæ•°æ¯”nums[i]å¤§ï¼Œå³è¾¹è¿ç»­nä¸ªæ•°æ¯”nums[i]å¤§ã€‚

å› æ­¤ï¼Œå½“å‰ç›®æ ‡æ˜¯æ‰¾åˆ°æ¯ä¸€ä¸ªæ•°nums[i]çš„å·¦å³ä¸¤è¾¹ç¬¬ä¸€ä¸ªå°äºç­‰äºçš„æ•°nums[prev]ï¼Œè¿™ä¸¤ä¸ªæ•°ä¹‹é—´çš„æ•°åˆ™å‡æ˜¯å¤§äºnums[i]ï¼Œè¿™æ ·ä¾¿å¯ä»¥è®¡ç®—å‡ºmå’Œnã€‚**åœ¨ä¸€ä¸ªæ•°ç»„ä¸­æ‰¾å·¦å³ä¸¤è¾¹ç¬¬ä¸€ä¸ªå¤§äºã€å°äºã€ç­‰äºçš„æ•°è¿™ç§é—®é¢˜å¯ä»¥ä½¿ç”¨å•è°ƒæ ˆæ¥è§£å†³**

ç»´æŠ¤ä¸€ä¸ªå•è°ƒé€’å¢æ ˆstk;
å½“å½“å‰æ•°nums[i] <= nums[stk.top()]ï¼Œè§¦å‘è®¡ç®—ï¼›
å› ä¸ºæ­¤æ—¶æ ˆé¡¶æ¯”æ ˆé‡Œæ ˆé¡¶ä¸‹ä¸€ä¸ªå…ƒç´ å¤§ï¼Œæ¯”å½“å‰æ•°å¤§ï¼Œé‚£ä¹ˆæ ˆé¡¶å°±æ˜¯åœ¨è¿™ä¸¤ä¸ªæ•°ä¹‹é—´ä½œä¸ºæœ€å°å€¼çš„ä¸€ä¸ªèŒƒå›´
æ ˆé¡¶ä¸‹ä¸€ä¸ªå…ƒç´ å°±æ˜¯å‰ä¸€ä¸ªæ¯”æ ˆé¡¶å°çš„æ•°ï¼Œå½“å‰æ•°å°±æ˜¯åä¸€ä¸ªæ¯”æ ˆé¡¶å°çš„å…ƒç´ 
**åˆ†åˆ«è®¡ç®—æ ˆé¡¶å…ƒç´ åˆ°å‰ä¸€ä¸ªå°çš„å…ƒç´ å’Œåˆ°åä¸€ä¸ªå°çš„å…ƒç´ ä¹‹é—´æœ‰å¤šå°‘å…ƒç´ ï¼Œè¿™äº›å…ƒç´ è‚¯å®šéƒ½æ¯”æ ˆé¡¶å¤§**

è­¬å¦‚ï¼šA=[3,1,2,4,1]ï¼Œ

åˆ°ä¸‹æ ‡0çš„å…ƒç´ 3è¾å°„èŒƒå›´ä¸º[3]ï¼Œä¸‹æ ‡1çš„å…ƒç´ 1è¾å°„èŒƒå›´ä¸º[3,1,2,4,1]ï¼Œä¸‹æ ‡2çš„å…ƒç´ 2è¾å°„èŒƒå›´ä¸º[2,4]ï¼Œä¸‹æ ‡3çš„å…ƒç´ 4è¾å°„èŒƒå›´ä¸º[4]ï¼Œä¸‹æ ‡4çš„å…ƒç´ 1è¾å°„èŒƒå›´ä¸º[2,4,1]ã€‚

æ¯ä¸ªå…ƒç´ E=A[i]çš„è¾å°„èŒƒå›´éƒ½æ˜¯ä¸€ä¸ªè¿ç»­æ•°ç»„ï¼Œè¿™ä¸ªè¾å°„èŒƒå›´å†…äº§ç”Ÿçš„æ‰€æœ‰å­æ•°ç»„æœ€å°å€¼éƒ½ä¸ºEï¼Œå› æ­¤Eåœ¨æ¯ä¸ªå­æ•°ç»„ä¸­å¯¹ç­”æ¡ˆçš„è´¡çŒ®å€¼éƒ½ä¸ºEã€‚å¦‚æœè¿™ä¸ªè¾å°„èŒƒå›´å†…çš„å­æ•°ç»„æœ‰nä¸ªï¼Œé‚£ä¹ˆæ€»è´¡çŒ®å€¼ä¸ºn*Eã€‚



```java
 public int sumSubarrayMins(int[] arr) {
Stack<Integer>mystack = new Stack<>();//å­˜å‚¨çš„æ˜¯ç´¢å¼•è€Œä¸æ˜¯å€¼
int mod = (int)1e9+7;
long a=0;
for(int i = 0;i <arr.length;i++)
{
while(!mystack.isEmpty() && arr[mystack.peek()]>=arr[i])//å¦‚æœæ ˆé¡¶å…ƒç´ å¤§äºå½“å‰å…ƒç´ 
{
    int index=mystack.pop();//æ ˆé¡¶è¡¨ç¤ºçš„ç´¢å¼•
    int left = mystack.isEmpty()?-1: mystack.peek();//æ ˆé¡¶çš„ä¸‹ä¸€ä¸ªå…ƒç´ 
    a=a+  (long) (index-left)*(i-index)*arr[index];
    a %=mod;
}
mystack.add(i);//å°†è¿™ä¸ªç´¢å¼•åŠ å…¥æ ˆ
}//forå¾ªç¯æ˜¯ä¸ºäº†å¾—åˆ°è¿™æ ·ä¸€ä¸ªé€’å¢çš„æ ˆï¼ŒåŒæ—¶ç»´æŠ¤aå…ƒç´ 
while(!mystack.isEmpty())//ç›®å‰arr[mystack[æœ€é¡¶éƒ¨]]åˆ°arr[mystack[æ ˆé¡¶]]æ˜¯é€’å¢çš„äº†
{
      int index=mystack.pop();//æ ˆé¡¶è¡¨ç¤ºçš„ç´¢å¼•
    int left =mystack.isEmpty()?-1: mystack.peek();//æ ˆé¡¶çš„ä¸‹ä¸€ä¸ªå…ƒç´ 
    a = a+((long)(index-left)*(arr.length-index)*arr[index]) %mod;
}
return (int)(a%mod);
    }
```

æˆ–è€…ä¹Ÿå¯ä»¥è¿™æ ·è§£ï¼š

åªè¦æˆ‘ä»¬å‘å·¦ğŸ‘ˆæ‰¾åˆ°ç¬¬ä¸€ä¸ªæ¯”A[i]å°çš„æ•°A[left]ä»¥åŠå‘å³ğŸ‘‰æ‰¾åˆ°ç¬¬ä¸€ä¸ªæ¯”Eå°çš„æ•°A[right]ï¼Œå°±å¯ä»¥ç¡®å®šEçš„è¾å°„èŒƒå›´ä¸ºA[left+1:right]ã€‚è¿™å°±å«åšä¸‹ä¸€ä¸ªæ›´å°/æ›´å¤§çš„æ•°é—®é¢˜ã€‚è§£å†³è¿™ç±»é—®é¢˜çš„é€šç”¨è§£æ³•å³ä¸ºå•è°ƒæ ˆã€‚

ä¸‹é¢æˆ‘ä»¬å…·ä½“æ•´ç†ä¸€ä¸‹æ±‚è§£æ€è·¯ï¼Œåˆ†ä¸ºä¸‰æ­¥ï¼š

åˆ©ç”¨å•è°ƒæ ˆå‘å·¦æ‰¾åˆ°ç¬¬ä¸€ä¸ªæ¯”A[i]å°çš„æ•°A[left]ï¼ˆéå†é¡ºåºä¸º0->n-1)ï¼Œä¹Ÿå°±æ˜¯Eè¾å°„èŒƒå›´çš„å·¦è¾¹ç•Œï¼›
åˆ©ç”¨å•è°ƒæ ˆå‘å³æ‰¾åˆ°ç¬¬ä¸€ä¸ªæ¯”A[i]å°çš„æ•°A[right]ï¼ˆéå†é¡ºåºä¸ºn-1->0)ï¼Œä¹Ÿå°±æ˜¯Eè¾å°„èŒƒå›´çš„å³è¾¹ç•Œï¼›
å°†æ¯ä¸ªå…ƒç´ çš„è´¡çŒ®å€¼æ±‚å’Œå¾—åˆ°æœ€ç»ˆç­”æ¡ˆ

```java
private static final int MOD = 1000000007;
    public int sumSubarrayMins(int[] arr) {
        // å¤„ç†è¾¹ç•Œæƒ…å†µ
        if (arr == null || arr.length == 0) {
            return 0;
        }
        int n = arr.length;
        // æ¯ä¸ªå…ƒç´ è¾å°„èŒƒå›´çš„å·¦è¾¹ç•Œ
        int[] left = new int[n];
        // æ¯ä¸ªå…ƒç´ è¾å°„èŒƒå›´çš„å³è¾¹ç•Œ
        int[] right = new int[n];
        Deque<Integer> stack = new LinkedList<>();

        // ç¬¬ä¸€æ¬¡å¾ªç¯å…ˆæ‰¾åˆ°æ‰€æœ‰å…ƒç´ çš„å·¦è¾¹ç•Œ
        for (int i = 0; i < n; i++) {
            // å‘å·¦æ‰¾ç¬¬ä¸€ä¸ªå°äºç­‰äºEçš„å…ƒç´ 
            while (!stack.isEmpty() && arr[stack.peek()] > arr[i]) {//è¿™ä¸ªæ˜¯å¤§äºå·ï¼Œä¸‹é¢æ˜¯å°äºç­‰äºå·ï¼Œä¸èƒ½é”™
                stack.pop();
            }
            // è®¾ç«‹ä¸€ä¸ªæœ€å·¦è¾¹ç•Œ-1
            if (stack.isEmpty()) {
                left[i] = -1;
            } else {
                left[i] = stack.peek();
            }
            // ä¸‹æ ‡å…¥æ ˆï¼Œæ–¹ä¾¿åŒæ—¶å¾—åˆ°iå’ŒA[i]
            stack.push(i);
        }

        // ç¬¬äºŒæ¬¡å¾ªç¯æ‰¾åˆ°æ‰€æœ‰å…ƒç´ çš„å³è¾¹ç•Œ
        stack.clear();//æ³¨æ„clearæ–¹æ³•
        for (int i = n - 1; i >= 0; i--) {
            // å‘å³æ‰¾ç¬¬ä¸€ä¸ªå°äºEçš„å…ƒç´ 
   while (!stack.isEmpty() && arr[stack.peek()] >= arr[i]) {
    stack.pop();
    }
            // è®¾ç«‹ä¸€ä¸ªæœ€å³è¾¹ç•Œn
            if (stack.isEmpty()) {
                right[i] = n;
            } else {
                right[i] = stack.peek();
            }
            // ä¸‹æ ‡å…¥æ ˆï¼Œæ–¹ä¾¿åŒæ—¶å¾—åˆ°iå’ŒA[i]
            stack.push(i);
        }

        // æŒ‰ç…§è´¡çŒ®åº¦è®¡ç®—å³å¯
        // æ³¨æ„æ­¤å¤„left[i]å’Œright[i]å®é™…ä¸Šè®°å½•çš„æ˜¯å·¦è¾¹ç•Œ-1å’Œå³è¾¹ç•Œ+1ï¼Œå’Œä¸Šé¢æ€è·¯ä¸­æœ‰äº›åŒºåˆ«ï¼Œä¾¿äºè®¡ç®—
        long ans = 0;
        for (int i = 0; i < n; i++) {
            ans = (ans + (long)(i - left[i]) * (right[i] - i) * arr[i]) % MOD; 
        }
        return (int)ans;
    }


```



## [503. ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  II](https://leetcode-cn.com/problems/next-greater-element-ii/)

éš¾åº¦ä¸­ç­‰567

ç»™å®šä¸€ä¸ªå¾ªç¯æ•°ç»„ `nums` ï¼ˆ `nums[nums.length - 1]` çš„ä¸‹ä¸€ä¸ªå…ƒç´ æ˜¯ `nums[0]` ï¼‰ï¼Œè¿”å› *`nums` ä¸­æ¯ä¸ªå…ƒç´ çš„ **ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ *** ã€‚

æ•°å­— `x` çš„ **ä¸‹ä¸€ä¸ªæ›´å¤§çš„å…ƒç´ ** æ˜¯æŒ‰æ•°ç»„éå†é¡ºåºï¼Œè¿™ä¸ªæ•°å­—ä¹‹åçš„ç¬¬ä¸€ä¸ªæ¯”å®ƒæ›´å¤§çš„æ•°ï¼Œè¿™æ„å‘³ç€ä½ åº”è¯¥å¾ªç¯åœ°æœç´¢å®ƒçš„ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ•°ã€‚å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™è¾“å‡º `-1` ã€‚

 

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: nums = [1,2,1]
è¾“å‡º: [2,-1,2]
è§£é‡Š: ç¬¬ä¸€ä¸ª 1 çš„ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ•°æ˜¯ 2ï¼›
æ•°å­— 2 æ‰¾ä¸åˆ°ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ•°ï¼› 
ç¬¬äºŒä¸ª 1 çš„ä¸‹ä¸€ä¸ªæœ€å¤§çš„æ•°éœ€è¦å¾ªç¯æœç´¢ï¼Œç»“æœä¹Ÿæ˜¯ 2ã€‚
```

----

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å•è°ƒæ ˆè§£å†³æœ¬é¢˜ã€‚å•è°ƒæ ˆä¸­ä¿å­˜çš„æ˜¯ä¸‹æ ‡ï¼Œä»æ ˆåº•åˆ°æ ˆé¡¶çš„ä¸‹æ ‡åœ¨æ•°ç»„nums ä¸­å¯¹åº”çš„å€¼æ˜¯å•è°ƒä¸å‡çš„ã€‚

æ¯æ¬¡æˆ‘ä»¬ç§»åŠ¨åˆ°æ•°ç»„ä¸­çš„ä¸€ä¸ªæ–°çš„ä½ç½® iï¼Œæˆ‘ä»¬å°±å°†å½“å‰å•è°ƒæ ˆä¸­æ‰€æœ‰å¯¹åº”å€¼å°äº nums[i] çš„ä¸‹æ ‡å¼¹å‡ºå•è°ƒæ ˆï¼Œè¿™äº›å€¼çš„ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ å³ä¸º nums[i]ï¼ˆè¯æ˜å¾ˆç®€å•ï¼šå¦‚æœæœ‰æ›´é å‰çš„æ›´å¤§å…ƒç´ ï¼Œé‚£ä¹ˆè¿™äº›ä½ç½®å°†è¢«æå‰å¼¹å‡ºæ ˆï¼‰ã€‚éšåæˆ‘ä»¬å°†ä½ç½® i å…¥æ ˆã€‚

ä½†æ˜¯æ³¨æ„åˆ°åªéå†ä¸€æ¬¡åºåˆ—æ˜¯ä¸å¤Ÿçš„ï¼Œä¾‹å¦‚åºåˆ— \[2,3,1]ï¼Œæœ€åå•è°ƒæ ˆä¸­å°†å‰©ä½™ \[3,1]ï¼Œå…¶ä¸­å…ƒç´  \[1] çš„ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ è¿˜æ˜¯ä¸çŸ¥é“çš„ã€‚

ä¸€ä¸ªæœ´ç´ çš„æ€æƒ³æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠè¿™ä¸ªå¾ªç¯æ•°ç»„ã€Œæ‹‰ç›´ã€ï¼Œå³å¤åˆ¶è¯¥åºåˆ—çš„å‰ n-1ä¸ªå…ƒç´ æ‹¼æ¥åœ¨åŸåºåˆ—çš„åé¢ã€‚è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥å°†è¿™ä¸ªæ–°åºåˆ—å½“ä½œæ™®é€šåºåˆ—ï¼Œç”¨ä¸Šæ–‡çš„æ–¹æ³•æ¥å¤„ç†ã€‚

**è€Œåœ¨æœ¬é¢˜ä¸­ï¼Œæˆ‘ä»¬ä¸éœ€è¦æ˜¾æ€§åœ°å°†è¯¥å¾ªç¯æ•°ç»„ã€Œæ‹‰ç›´ã€ï¼Œè€Œåªéœ€è¦åœ¨å¤„ç†æ—¶å¯¹ä¸‹æ ‡å–æ¨¡å³å¯ã€‚**

```java
  int n = nums.length;
        int[] ret = new int[n];
        Arrays.fill(ret, -1);
        Deque<Integer> stack = new LinkedList<Integer>();
        for (int i = 0; i < n * 2 - 1; i++) {
            while (!stack.isEmpty() && nums[stack.peek()] < nums[i % n]) {
                ret[stack.pop()] = nums[i % n];
            }
            stack.push(i % n);
        }
        return ret;
```





## [224. åŸºæœ¬è®¡ç®—å™¨](https://leetcode-cn.com/problems/basic-calculator/)

éš¾åº¦å›°éš¾703

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸²è¡¨è¾¾å¼ `s` ï¼Œè¯·ä½ å®ç°ä¸€ä¸ªåŸºæœ¬è®¡ç®—å™¨æ¥è®¡ç®—å¹¶è¿”å›å®ƒçš„å€¼ã€‚

 **æç¤ºï¼š**

- `1 <= s.length <= 3 * 105`
- `s` ç”±æ•°å­—ã€`'+'`ã€`'-'`ã€`'('`ã€`')'`ã€å’Œ `' '` ç»„æˆ
- `s` è¡¨ç¤ºä¸€ä¸ªæœ‰æ•ˆçš„è¡¨è¾¾å¼

```java
 public int calculate(String s) {
char[]arr=s.toCharArray();
Stack<Character>punsta = new Stack<>();
Stack<Integer>numsta=new Stack<>();
int i=0,len=s.length();
numsta.push(1);
int sign=1,ans=0;
while(i<len)
{
    if(s.charAt(i)==' ')
    i++;
    else if(s.charAt(i)=='+')
    {
        sign=numsta.peek();
        i++;
    }
     else   if(s.charAt(i)=='-')
    {
        sign=-numsta.peek();
        i++;
    }
     
   else if(s.charAt(i)=='(')
{
    numsta.push(sign);
    i++;
}
else if(s.charAt(i)==')')
{
    numsta.pop();
    i++;
}
else if(Character.isDigit(s.charAt(i)))
{
    long num=0;
    while(i<len&&Character.isDigit(s.charAt(i)))
    {
num = num*10+s.charAt(i)-'0';
i++;

    }//å¯¹äºè¿ç»­çš„æ•°å­—123è¿™ç§ï¼Œè®¡ç®—æ•´ä¸ªå­—ç¬¦ä¸²å®é™…ä»£è¡¨çš„æ•°å­—
    ans +=sign*num;
}

}
return ans;

    }
```





## ã€LeetCode - 772ã€‘åŸºæœ¬è®¡ç®—å™¨ III

![image-20220811140311492](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220811140311492.png)

â€ƒé€†æ³¢å…°è®¡ç®—å™¨çš„åŸç†æ˜¯ä½¿ç”¨é€†æ³¢å…°è¡¨è¾¾å¼æ¥è®¡ç®—å‡ºè¡¨è¾¾å¼çš„å€¼ï¼Œæˆ‘ä»¬äººç±»èƒ½å¤Ÿç†Ÿç»ƒä½¿ç”¨çš„æ˜¯ä¸­ç¼€è¡¨è¾¾å¼ï¼Œæ¯”å¦‚2Ã—(9+6/3-5)+4å°±æ˜¯ä¸€ä¸ªä¸­ç¼€è¡¨è¾¾å¼ï¼Œä½†æ˜¯çœ‹åˆ°ä¸Šé¢çš„ç®€å•è®¡ç®—å™¨å°±çŸ¥é“å¤„ç†èµ·æ¥å¾ˆéº»çƒ¦ã€‚äºæ˜¯æœ‰ä¸€ç§é€†æ³¢å…°è®¡ç®—å™¨ï¼Œè®¡ç®—æ˜¯åœ¨é€†æ³¢å…°è¡¨è¾¾å¼ï¼ˆä¹Ÿå«åšåç¼€è¡¨è¾¾å¼ï¼‰çš„åŸºç¡€ä¸Šã€‚
â€ƒâ€ƒé€†æ³¢å…°è®¡ç®—å™¨çš„è®¡ç®—è¿‡ç¨‹ä¸ºï¼šä»å·¦åˆ°å³æ‰«æåç¼€è¡¨è¾¾å¼ï¼Œé‡åˆ°æ•°å­—å°±å…¥æ ˆï¼Œé‡åˆ°æ“ä½œç¬¦å°±ä»æ ˆå¼¹å‡ºä¸¤ä¸ªæ•°å­—ï¼Œç„¶åè®¡ç®—å¾—åˆ°çš„å€¼ç»§ç»­å…¥æ ˆï¼Œç»§ç»­æ‰«æè¡¨è¾¾å¼ï¼Œç›´åˆ°æ‰«æå®Œæ¯•å¾—åˆ°ç»“æœã€‚



ç°åœ¨çš„éš¾ç‚¹åœ¨äºï¼šå¦‚ä½•æŠŠä¸­ç¼€è¡¨è¾¾å¼è½¬æˆåç¼€è¡¨è¾¾å¼ï¼Ÿ

â€ƒâ€ƒè¿™ä¸ªè¿‡ç¨‹å·²ç»æœ‰å¤§ç¥ç»™å‡ºæ¥äº†ï¼Œæˆ‘ä»¬è®°ä¸‹æ¥å³å¯ï¼š

â€ƒâ€ƒ1ã€åˆå§‹åŒ–ä¸¤ä¸ªæ ˆï¼šè¿ç®—ç¬¦æ ˆs1å’Œå­˜å‚¨ä¸­é—´ç»“æœçš„æ ˆs2ï¼›

â€ƒâ€ƒ2ã€ä»å·¦åˆ°å³æ‰«æä¸­ç¼€è¡¨è¾¾å¼ï¼›

â€ƒâ€ƒ3ã€é‡åˆ°æ“ä½œæ•°æ—¶ï¼Œå‹å…¥åˆ°æ ˆs2ï¼›

â€ƒâ€ƒ4ã€é‡åˆ°è¿ç®—ç¬¦æ—¶ï¼š

â€ƒâ€ƒâ€ƒâ€ƒ1ï¼‰å¦‚æœs1ä¸ºç©ºæˆ–s1æ ˆé¡¶ä¸ºå·¦æ‹¬å·"("ï¼Œåˆ™å‹å…¥åˆ°s1ï¼›

â€ƒâ€ƒâ€ƒâ€ƒ2ï¼‰ä¸æ»¡è¶³1ï¼‰ï¼Œåˆ™å’Œs1æ ˆé¡¶è¿ç®—ç¬¦æ¯”è¾ƒä¼˜å…ˆçº§ï¼Œé«˜äºï¼Œåˆ™å‹å…¥s1ï¼›

â€ƒâ€ƒâ€ƒâ€ƒ3ï¼‰ä¸æ»¡è¶³1ï¼‰å’Œ2ï¼‰ï¼Œå¼¹å‡ºs1æ ˆé¡¶è¿ç®—ç¬¦å¹¶å‹å…¥åˆ°s2ï¼Œå†æ¬¡å›åˆ°2ï¼‰ã€‚

â€ƒâ€ƒ5ã€é‡åˆ°å³æ‹¬å·")â€œæ—¶ï¼Œä¾æ­¤å¼¹å‡ºs1å¹¶å‹å…¥s2ï¼Œç›´åˆ°é‡åˆ°å·¦æ‹¬å·â€)"ä¸ºæ­¢ï¼Œæ­¤æ—¶ä¸¢æ‰ä¸€å¯¹æ‹¬å·ï¼›

â€ƒâ€ƒ6ã€é‡å¤2-5ï¼Œç›´åˆ°æ‰«æå®Œæ¯•ï¼›

â€ƒâ€ƒ7ã€å°†s2æ ˆå¼¹å‡ºå‹å…¥åˆ°s1ï¼Œç„¶ås1å¼¹å‡ºå…¨éƒ¨ï¼Œå¼¹å‡ºçš„é¡ºåºå³ä¸ºåç¼€è¡¨è¾¾å¼ã€‚



```java
class Solution {
    public int calculate(String s) {
        String expression = s.replaceAll(" ", "");   // å»é™¤ç©ºæ ¼
        List<String> infix = expressionToList(expression);  // List
        List<String> suffix = infixToSuffix(infix); // ä¸­ç¼€è½¬åç¼€
        Stack<String> stack = new Stack<>();    // å­˜å‚¨ä¸­é—´ç»“æœ
        // é€†æ³¢å…°è®¡ç®—å™¨
        for (int i = 0; i < suffix.size(); i++) {
            String tmp = suffix.get(i);
            if (isOper(tmp)) {
                String num2 = stack.pop();
                String num1 = stack.pop();
                String reuslt = cal(num1, tmp, num2);
                stack.push(reuslt);
            } else { // æ•°å­—ç›´æ¥å…¥æ ˆ
                stack.push(tmp);
            }
        }
        return Integer.parseInt(stack.pop());
    }
/**
 * num1 å’Œ num2 è¿›è¡Œ oper è®¡ç®—
 *
 * @param num1
 * @param oper
 * @param num2
 * @return
 */
public String cal(String num1, String oper, String num2) {
    Long result = 0l;
    Long a = Long.parseLong(num1);
    Long b = Long.parseLong(num2);
    switch (oper) {
        case "+":
            result = a + b;
            break;
        case "-":
            result = a - b;
            break;
        case "*":
            result = a * b;
            break;
        case "/":
            result = a / b;
            break;
    }
    return String.valueOf(result);
}

/**
 * ä¸­ç¼€è½¬åç¼€
 *
 * @param infix
 * @return
 */
public List<String> infixToSuffix(List<String> infix) {
    List<String> suffix = new ArrayList<>();
    Stack<String> stack1 = new Stack<>();   // åªç”¨äºä¿å­˜æ“ä½œç¬¦
    Stack<String> stack2 = new Stack<>();   // ç”¨äºä¿å­˜ä¸­é—´ç»“æœ
    for (int i = 0; i < infix.size(); i++) {
        String tmp = infix.get(i);
        if (isOper(tmp)) {   // æ“ä½œç¬¦è¦æ ¹æ®æƒ…å†µæ¥å…¥æ ˆ 1
            if (stack1.isEmpty() || "(".equals(tmp)) {
                // å¦‚æœ stack1 æ˜¯ç©ºçš„ï¼Œæˆ–è€… tmp æ˜¯å·¦æ‹¬å·ï¼Œç›´æ¥å…¥æ ˆ
                stack1.push(tmp);
            } else { // stack1 ä¸æ˜¯ç©ºçš„ï¼Œä¸” tmp ä¸æ˜¯å·¦æ‹¬å·
                if (")".equals(tmp)) {
                    // tmp æ˜¯å³æ‹¬å·ï¼Œåˆ™æŠŠ stack1 é‡åˆ°å·¦æ‹¬å·ä¹‹å‰ï¼Œå…¨éƒ¨å€’å…¥ stack2
                    while (!"(".equals(stack1.peek())) {
                        stack2.push(stack1.pop());
                    }
                    stack1.pop();   // ä¸¢æ‰å·¦æ‹¬å·
                } else {
                    // tmp æ˜¯ +-*/ å…¶ä¸­ä¹‹ä¸€
                    while (!stack1.isEmpty() && priority(stack1.peek()) >= priority(tmp)) {
                        // åœ¨ tmp èƒ½å¤Ÿç¢¾å‹ stack1 çš„æ ˆé¡¶æ“ä½œç¬¦ä¹‹å‰ï¼ŒæŠŠ stack1 çš„æ ˆé¡¶æ“ä½œç¬¦å€’å…¥ stack 2 ä¸­
                        stack2.push(stack1.pop());
                    }
                    // ç¦»å¼€ while æ—¶ï¼Œè¦ä¹ˆ stack1 å·²ç»å€’ç©ºäº†ï¼Œè¦ä¹ˆå°±æ˜¯ç°åœ¨ tmp å¯ä»¥å‹ä½ stack.peek() äº†
                    stack1.push(tmp);
                }
            }
        } else { // æ“ä½œæ•°ç›´æ¥å…¥æ ˆ 2
            stack2.push(tmp);
        }
    }

    // stack1 å‰©ä½™æ“ä½œç¬¦å…¨éƒ¨å€’å…¥ stack2
    while (!stack1.isEmpty()) {
        stack2.push(stack1.pop());
    }

    // stack2 çš„é€†åºæ‰æ˜¯ç»“æœï¼Œæ‰€ä»¥è¦å†å€’ä¸€æ¬¡
    while (!stack2.isEmpty()) {
        stack1.push(stack2.pop());
    }

    // ç°åœ¨ stack1 çš„å…ƒç´ å€’å‡ºæ¥çš„é¡ºåºå°±æ˜¯åç¼€è¡¨è¾¾å¼
    while (!stack1.isEmpty()) {
        suffix.add(stack1.pop());
    }

    return suffix;
}

/**
 * å­—ç¬¦ä¸²è½¬ä¸ºä¸­ç¼€ List
 *
 * @param expression
 * @return
 */
public List<String> expressionToList(String expression) {
    List<String> list = new ArrayList<>();
    int len = expression.length();
    String keepNum = "";
    for (int i = 0; i < len; i++) {
        char c = expression.charAt(i);
        if (isNum(c)) {
            if (i != len - 1 && isNum(expression.charAt(i + 1))) {
                // å¦‚æœä¸‹ä¸€ä¸ªå­—ç¬¦ä¹Ÿæ˜¯æ•°å­—
                keepNum += c;
            } else {
                // å½“å‰æ˜¯æœ€åä¸€ä¸ªå­—ç¬¦ï¼Œæˆ–è€…ä¸‹ä¸€ä¸ªå¼€å§‹ä¸æ˜¯æ•°å­—
                keepNum += c;
                list.add(keepNum);
                keepNum = "";
            }
        } else {
            list.add(c + "");
        }
    }
    return list;
}

/**
 * åˆ¤æ–­å­—ç¬¦ c æ˜¯ä¸æ˜¯æ•°å­—
 *
 * @param c
 * @return
 */
public boolean isNum(char c) {
    return c >= '0' && c <= '9';
}

/**
 * åˆ¤æ–­å­—ç¬¦ä¸² str æ˜¯ä¸æ˜¯æ“ä½œç¬¦
 *
 * @param str
 * @return
 */
public boolean isOper(String str) {
    return "+".equals(str) || "-".equals(str) || "*".equals(str) || "/".equals(str) ||
            "(".equals(str) || ")".equals(str);
}

/**
 * è¿”å›æ“ä½œç¬¦çš„ä¼˜å…ˆçº§ï¼Œ+- ä¸º 0ï¼Œ* / ä¸º 1
 *
 * @return
 */
public int priority(String oper) {
    if ("+".equals(oper) || "-".equals(oper)) {
        return 0;
    } else if ("*".equals(oper) || "/".equals(oper)) {
        return 1;
    } else {
        return -1;
    }
}
```
å¦‚æœæ˜¯å«æœ‰è´Ÿæ•°çš„ï¼Œé‚£ä¹ˆä¸­ç¼€è½¬åç¼€æ”¹æˆè¿™æ ·ï¼š

```java
 /**
     * ä¸­ç¼€è½¬åç¼€
     *
     * @param infix
     * @return
     */
    public static List<String> infixToSuffix(List<String> infix) {
        List<String> suffix = new ArrayList<>();
        Stack<String> stack1 = new Stack<>();   // åªç”¨äºä¿å­˜æ“ä½œç¬¦
        Stack<String> stack2 = new Stack<>();   // ç”¨äºä¿å­˜ä¸­é—´ç»“æœ
        int sign=1;
        for (int i = 0; i < infix.size(); i++) {
            String tmp = infix.get(i);

            if (isOper(tmp)) {
                if(tmp.equals("-")&&i==0){
                    sign=-1;
                    continue;
                }
                if(tmp.equals("-")&&infix.get(i-1).equals("(")) {
                    sign = -1;
                continue;
                }
                // æ“ä½œç¬¦è¦æ ¹æ®æƒ…å†µæ¥å…¥æ ˆ 1
                if (stack1.isEmpty() || "(".equals(tmp)) {
                    // å¦‚æœ stack1 æ˜¯ç©ºçš„ï¼Œæˆ–è€… tmp æ˜¯å·¦æ‹¬å·ï¼Œç›´æ¥å…¥æ ˆ
                    stack1.push(tmp);
                } else { // stack1 ä¸æ˜¯ç©ºçš„ï¼Œä¸” tmp ä¸æ˜¯å·¦æ‹¬å·
                    if (")".equals(tmp)) {
                        // tmp æ˜¯å³æ‹¬å·ï¼Œåˆ™æŠŠ stack1 é‡åˆ°å·¦æ‹¬å·ä¹‹å‰ï¼Œå…¨éƒ¨å€’å…¥ stack2
                        while (!"(".equals(stack1.peek())) {
                            stack2.push(stack1.pop());
                        }
                        stack1.pop();   // ä¸¢æ‰å·¦æ‹¬å·
                    } else {
                        // tmp æ˜¯ +-*/ å…¶ä¸­ä¹‹ä¸€
                        while (!stack1.isEmpty() && priority(stack1.peek()) >= priority(tmp)) {
                            // åœ¨ tmp èƒ½å¤Ÿç¢¾å‹ stack1 çš„æ ˆé¡¶æ“ä½œç¬¦ä¹‹å‰ï¼ŒæŠŠ stack1 çš„æ ˆé¡¶æ“ä½œç¬¦å€’å…¥ stack 2 ä¸­
                            stack2.push(stack1.pop());
                        }
                        // ç¦»å¼€ while æ—¶ï¼Œè¦ä¹ˆ stack1 å·²ç»å€’ç©ºäº†ï¼Œè¦ä¹ˆå°±æ˜¯ç°åœ¨ tmp å¯ä»¥å‹ä½ stack.peek() äº†
                        stack1.push(tmp);
                    }
                }
            } else { // æ“ä½œæ•°ç›´æ¥å…¥æ ˆ 2
                if(sign==-1) {
                    tmp = "-" + tmp;
                sign=1;
                }
                stack2.push(tmp);
            }
        }

        // stack1 å‰©ä½™æ“ä½œç¬¦å…¨éƒ¨å€’å…¥ stack2
        while (!stack1.isEmpty()) {
            stack2.push(stack1.pop());
        }

        // stack2 çš„é€†åºæ‰æ˜¯ç»“æœï¼Œæ‰€ä»¥è¦å†å€’ä¸€æ¬¡
        while (!stack2.isEmpty()) {
            stack1.push(stack2.pop());
        }

        // ç°åœ¨ stack1 çš„å…ƒç´ å€’å‡ºæ¥çš„é¡ºåºå°±æ˜¯åç¼€è¡¨è¾¾å¼
        while (!stack1.isEmpty()) {
            suffix.add(stack1.pop());
        }

        return suffix;
    }
```



## ç”¨åç¼€è¡¨è¾¾å¼ä½œè®¡ç®—å™¨

ï¼ˆ1ï¼‰è‹¥å–å‡ºçš„å­—ç¬¦æ˜¯æ“ä½œæ•°ï¼Œåˆ™åˆ†æå‡ºå®Œæ•´çš„è¿ç®—æ•°ï¼Œè¯¥æ“ä½œæ•°ç›´æ¥é€å…¥S2æ ˆã€‚

ï¼ˆ2ï¼‰è‹¥å–å‡ºçš„å­—ç¬¦æ˜¯è¿ç®—ç¬¦ï¼Œåˆ™å°†è¯¥è¿ç®—ç¬¦ä¸S1æ ˆæ ˆé¡¶å…ƒç´ æ¯”è¾ƒï¼Œå¦‚æœè¯¥è¿ç®—ç¬¦(ä¸åŒ…æ‹¬æ‹¬å·è¿ç®—ç¬¦)ä¼˜å…ˆçº§é«˜äºS1æ ˆæ ˆé¡¶è¿ç®—ç¬¦ï¼ˆåŒ…æ‹¬å·¦æ‹¬å·ï¼‰ä¼˜å…ˆçº§ï¼Œåˆ™å°†è¯¥è¿ç®—ç¬¦è¿›S1æ ˆï¼Œå¦åˆ™ï¼Œå°†S1æ ˆçš„æ ˆé¡¶è¿ç®—ç¬¦å¼¹å‡ºï¼Œé€å…¥S2æ ˆä¸­ï¼Œç›´è‡³S1æ ˆæ ˆé¡¶è¿ç®—ç¬¦ï¼ˆåŒ…æ‹¬å·¦æ‹¬å·ï¼‰ä½äºï¼ˆä¸åŒ…æ‹¬ç­‰äºï¼‰è¯¥[è¿ç®—ç¬¦ä¼˜å…ˆçº§](https://baike.baidu.com/item/è¿ç®—ç¬¦ä¼˜å…ˆçº§/4752611)æ—¶åœæ­¢å¼¹å‡ºè¿ç®—ç¬¦ï¼Œæœ€åå°†è¯¥è¿ç®—ç¬¦é€å…¥S1æ ˆã€‚

ï¼ˆ3ï¼‰è‹¥å–å‡ºçš„å­—ç¬¦æ˜¯â€œï¼ˆâ€ï¼Œåˆ™ç›´æ¥é€å…¥S1æ ˆé¡¶ã€‚

ï¼ˆ4ï¼‰è‹¥å–å‡ºçš„å­—ç¬¦æ˜¯â€œï¼‰â€ï¼Œåˆ™å°†è·ç¦»S1æ ˆæ ˆé¡¶æœ€è¿‘çš„â€œï¼ˆâ€ä¹‹é—´çš„è¿ç®—ç¬¦ï¼Œé€ä¸ªå‡ºæ ˆï¼Œä¾æ¬¡é€å…¥S2æ ˆï¼Œæ­¤æ—¶æŠ›å¼ƒâ€œï¼ˆâ€ã€‚

ï¼ˆ5ï¼‰é‡å¤ä¸Šé¢çš„1~4æ­¥ï¼Œç›´è‡³å¤„ç†å®Œæ‰€æœ‰çš„è¾“å…¥å­—ç¬¦ã€‚

```java
  
    public int calculate(String s) {
 List<String> expressionList = expressionToList(s);
      
        //å°†ä¸­ç¼€è¡¨è¾¾å¼è½¬æ¢ä¸ºåç¼€è¡¨è¾¾å¼
        List<String> suffixList = parseToSuffixExpression(expressionList);
       
        //æ ¹æ®åç¼€è¡¨è¾¾å¼è®¡ç®—ç»“æœ
        int calculateResult = calculate(suffixList);
        return calculateResult;
    }
    private static List<String> parseToSuffixExpression(List<String> expressionList) {
        //åˆ›å»ºä¸€ä¸ªæ ˆç”¨äºä¿å­˜æ“ä½œç¬¦
        Stack<String> opStack = new Stack<>();
        //åˆ›å»ºä¸€ä¸ªlistç”¨äºä¿å­˜åç¼€è¡¨è¾¾å¼
        List<String> suffixList = new ArrayList<>();
        for(String item : expressionList){
            //å¾—åˆ°æ•°æˆ–æ“ä½œç¬¦
            if(isOperator(item)){
                //æ˜¯æ“ä½œç¬¦ åˆ¤æ–­æ“ä½œç¬¦æ ˆæ˜¯å¦ä¸ºç©º
                if(opStack.isEmpty() ||"(".equals(opStack.peek())|| priority(item) > priority(opStack.peek())){
                    //ä¸ºç©ºæˆ–è€…æ ˆé¡¶å…ƒç´ ä¸ºå·¦æ‹¬å·æˆ–è€…å½“å‰æ“ä½œç¬¦å¤§äºæ ˆé¡¶æ“ä½œç¬¦ç›´æ¥å‹æ ˆ
                    opStack.push(item);
                }else {
                    //å¦åˆ™å°†æ ˆä¸­å…ƒç´ å‡ºæ ˆå¦‚é˜Ÿï¼Œç›´åˆ°é‡åˆ°å¤§äºå½“å‰æ“ä½œç¬¦æˆ–è€…é‡åˆ°å·¦æ‹¬å·æ—¶
                    while (!opStack.isEmpty() && !"(".equals(opStack.peek())){
                        if(priority(item) <= priority(opStack.peek())){
                            suffixList.add(opStack.pop());
                        }
                         else break;
                    }
                    //å½“å‰æ“ä½œç¬¦å‹æ ˆ
                    opStack.push(item);
                }
            }else if(isNumber(item)){
                //æ˜¯æ•°å­—åˆ™ç›´æ¥å…¥é˜Ÿ
                suffixList.add(item);
            }else if("(".equals(item)){
                //æ˜¯å·¦æ‹¬å·ï¼Œå‹æ ˆ
                opStack.push(item);
            }else if(")".equals(item)){
                //æ˜¯å³æ‹¬å· ï¼Œå°†æ ˆä¸­å…ƒç´ å¼¹å‡ºå…¥é˜Ÿï¼Œç›´åˆ°é‡åˆ°å·¦æ‹¬å·ï¼Œå·¦æ‹¬å·å‡ºæ ˆï¼Œä½†ä¸å…¥é˜Ÿ
                while (!opStack.isEmpty()){
                    if("(".equals(opStack.peek())){
                        opStack.pop();
                        break;
                    }else {
                        suffixList.add(opStack.pop());
                    }
                }
            }
        }
        //å¾ªç¯å®Œæ¯•ï¼Œå¦‚æœæ“ä½œç¬¦æ ˆä¸­å…ƒç´ ä¸ä¸ºç©ºï¼Œå°†æ ˆä¸­å…ƒç´ å‡ºæ ˆå…¥é˜Ÿ
        while (!opStack.isEmpty()){
            suffixList.add(opStack.pop());
        }
        return suffixList;
    }
    /**
     * åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä¸ºæ“ä½œç¬¦
     * @param op
     * @return
     */
    public static boolean isOperator(String op){
        return op.equals("+") || op.equals("-") || op.equals("*") || op.equals("/");
    }

    /**
     * åˆ¤æ–­æ˜¯å¦ä¸ºæ•°å­—
     * @param num
     * @return
     */
    public static boolean isNumber(String num){
        return num.matches("\\d+");
    }

    /**
     * è·å–æ“ä½œç¬¦çš„ä¼˜å…ˆçº§
     * @param op
     * @return
     */
    public static int priority(String op){
        if(op.equals("*") || op.equals("/")){
            return 1;
        }else if(op.equals("+") || op.equals("-")){
            return 0;
        }
        return -1;
    }
    private static List<String> expressionToList(String expression) {
        int index = 0;
        expression.replaceAll(" ","");
        List<String> list = new ArrayList<>();
        do{
            char ch = expression.charAt(index);
            
             if(ch >= '0' && ch <= '9'){
                //æ˜¯æ•°å­—,åˆ¤æ–­å¤šä½æ•°çš„æƒ…å†µ
                String str = "";
                int i = index;
                while (index < expression.length() && expression.charAt(index) >='0' && expression.charAt(index) <= '9'){
                    str += expression.charAt(index);
                    index ++;
                }
                list.add(str);

              //  index++;
            }
           else{

                   index ++ ;
                   list.add(ch+"");

           
            }
        }while (index < expression.length());
        return list;
    }
   int calculate(List<String> list) {
        Stack<Integer> stack = new Stack<>();
        for(int i=0; i<list.size(); i++){
            String item = list.get(i);
            if(item.matches("\\d+")){
                //æ˜¯æ•°å­—
                stack.push(Integer.parseInt(item));
            }else {
                //æ˜¯æ“ä½œç¬¦ï¼Œå–å‡ºæ ˆé¡¶ä¸¤ä¸ªå…ƒç´ 
                int num2 = stack.pop();
                int num1 = stack.pop();
                int res = 0;
                if(item.equals("+")){
                    res = num1 + num2;
                }else if(item.equals("-")){
                    res = num1 - num2;
                }else if(item.equals("*")){
                    res = num1 * num2;
                }else if(item.equals("/")){
                    res = num1 / num2;
                }
                stack.push(res);
            }
        }
        return stack.pop();
    }
```

åœ¨åªæœ‰+-*/æ—¶ä¹Ÿå¯ä»¥è¿™æ ·ï¼š

```java
 public int calculate(String s) {
arr = new char[s.length()];
Deque<Integer>stack=new LinkedList<>();
int num = 0;
    char preSign = '+';
for(int i = 0;i < s.length();i++)
{
if(Character.isDigit(s.charAt(i))) {
                num = num * 10 + s.charAt(i) - '0';
            }
  if (!Character.isDigit(s.charAt(i)) && s.charAt(i) != ' ' || i == s.length()- 1) 
                  {
switch(preSign){

   case '+':
                        stack.push(num);
                        break;
                    case '-':
                        stack.push(-num);
                        break;
                    case '*':
                        stack.push(stack.pop() * num);
                        break;
                    default:
                        stack.push(stack.pop() / num);
                }
                preSign = s.charAt(i);
                num = 0;

                  }
}
 int ans = 0;
        while (!stack.isEmpty()) {
            ans += stack.pop();
        }
        return ans;

    }
```





## [316. å»é™¤é‡å¤å­—æ¯](https://leetcode-cn.com/problems/remove-duplicate-letters/)

éš¾åº¦ä¸­ç­‰

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² `s` ï¼Œè¯·ä½ å»é™¤å­—ç¬¦ä¸²ä¸­é‡å¤çš„å­—æ¯ï¼Œä½¿å¾—æ¯ä¸ªå­—æ¯åªå‡ºç°ä¸€æ¬¡ã€‚éœ€ä¿è¯ **è¿”å›ç»“æœçš„å­—å…¸åºæœ€å°**ï¼ˆè¦æ±‚ä¸èƒ½æ‰“ä¹±å…¶ä»–å­—ç¬¦çš„ç›¸å¯¹ä½ç½®ï¼‰ã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šs = "bcabc"
è¾“å‡ºï¼š"abc"
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šs = "cbacdcbc"
è¾“å‡ºï¼š"acdb"
```

----

æ€è·¯ï¼šç”¨ç±»ä¼¼å•è°ƒæ ˆçš„ç»“æœï¼ˆä¸ä¸€å®šè¦ä½¿ç”¨æ ˆè¿™ä¸ªæ•°æ®ç»“æ„ï¼Œä¹Ÿå¯ä»¥æ¨¡æ‹Ÿå®ƒï¼‰

é¦–å…ˆè€ƒè™‘ä¸€ä¸ªç®€å•çš„é—®é¢˜ï¼šç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² sï¼Œå¦‚ä½•å»æ‰å…¶ä¸­çš„ä¸€ä¸ªå­—ç¬¦chï¼Œä½¿å¾—å¾—åˆ°çš„å­—ç¬¦ä¸²å­—å…¸åºæœ€å°å‘¢ï¼Ÿç­”æ¡ˆæ˜¯ï¼šæ‰¾å‡ºæœ€å°çš„æ»¡è¶³ `s[i]>s[i+1]`çš„ä¸‹æ ‡ iï¼Œå¹¶å»é™¤å­—ç¬¦ s[i]ã€‚ä¸ºäº†å™è¿°æ–¹ä¾¿ï¼Œä¸‹æ–‡ä¸­ç§°è¿™æ ·çš„å­—ç¬¦ä¸ºã€Œå…³é”®å­—ç¬¦ã€ã€‚

åœ¨ç†è§£è¿™ä¸€ç‚¹ä¹‹åï¼Œå°±å¯ä»¥ç€æ‰‹æœ¬é¢˜äº†ã€‚ä¸€ä¸ªç›´è§‚çš„æ€è·¯æ˜¯ï¼šæˆ‘ä»¬åœ¨å­—ç¬¦ä¸² ss ä¸­æ‰¾åˆ°ã€Œå…³é”®å­—ç¬¦ã€ï¼Œå»é™¤å®ƒï¼Œç„¶åä¸æ–­è¿›è¡Œè¿™æ ·çš„å¾ªç¯ã€‚ä½†æ˜¯è¿™ç§æœ´ç´ çš„è§£æ³•ä¼šåˆ›å»ºå¤§é‡çš„ä¸­é—´å­—ç¬¦ä¸²ï¼Œæˆ‘ä»¬æœ‰å¿…è¦å¯»æ‰¾ä¸€ç§æ›´ä¼˜çš„æ–¹æ³•ã€‚

æˆ‘ä»¬ä»å‰å‘åæ‰«æåŸå­—ç¬¦ä¸²ã€‚æ¯æ‰«æåˆ°ä¸€ä¸ªä½ç½®ï¼Œæˆ‘ä»¬å°±å°½å¯èƒ½åœ°å¤„ç†æ‰€æœ‰çš„ã€Œå…³é”®å­—ç¬¦ã€ã€‚å‡å®šåœ¨æ‰«æä½ç½® s[iâˆ’1] ä¹‹å‰çš„æ‰€æœ‰ã€Œå…³é”®å­—ç¬¦ã€éƒ½å·²ç»è¢«å»é™¤å®Œæ¯•ï¼Œåœ¨æ‰«æå­—ç¬¦ s[i]æ—¶ï¼Œæ–°å‡ºç°çš„ã€Œå…³é”®å­—ç¬¦ã€åªå¯èƒ½å‡ºç°åœ¨ s[i]æˆ–è€…å…¶åé¢çš„ä½ç½®ã€‚

äºæ˜¯ï¼Œæˆ‘ä»¬ä½¿ç”¨å•è°ƒæ ˆæ¥ç»´æŠ¤å»é™¤ã€Œå…³é”®å­—ç¬¦ã€åå¾—åˆ°çš„å­—ç¬¦ä¸²ï¼Œå•è°ƒæ ˆæ»¡è¶³æ ˆåº•åˆ°æ ˆé¡¶çš„å­—ç¬¦é€’å¢ã€‚å¦‚æœæ ˆé¡¶å­—ç¬¦å¤§äºå½“å‰å­—ç¬¦ s[i]ï¼Œè¯´æ˜æ ˆé¡¶å­—ç¬¦ä¸ºã€Œå…³é”®å­—ç¬¦ã€ï¼Œæ•…åº”å½“è¢«å»é™¤ã€‚å»é™¤åï¼Œæ–°çš„æ ˆé¡¶å­—ç¬¦å°±ä¸ s[i]ç›¸é‚»äº†ï¼Œæˆ‘ä»¬ç»§ç»­æ¯”è¾ƒæ–°çš„æ ˆé¡¶å­—ç¬¦ä¸ s[i]çš„å¤§å°ã€‚é‡å¤ä¸Šè¿°æ“ä½œï¼Œç›´åˆ°æ ˆä¸ºç©ºæˆ–è€…æ ˆé¡¶å­—ç¬¦ä¸å¤§äºs[i]ã€‚

æˆ‘ä»¬è¿˜é—æ¼äº†ä¸€ä¸ªè¦æ±‚ï¼šåŸå­—ç¬¦ä¸² s ä¸­çš„æ¯ä¸ªå­—ç¬¦éƒ½éœ€è¦å‡ºç°åœ¨æ–°å­—ç¬¦ä¸²ä¸­ï¼Œä¸”åªèƒ½å‡ºç°ä¸€æ¬¡ã€‚ä¸ºäº†è®©æ–°å­—ç¬¦ä¸²æ»¡è¶³è¯¥è¦æ±‚ï¼Œä¹‹å‰è®¨è®ºçš„ç®—æ³•éœ€è¦è¿›è¡Œä»¥ä¸‹ä¸¤ç‚¹çš„æ›´æ”¹ã€‚

åœ¨è€ƒè™‘å­—ç¬¦ s[i]æ—¶ï¼Œ`å¦‚æœå®ƒå·²ç»å­˜åœ¨äºæ ˆä¸­ï¼Œåˆ™ä¸èƒ½åŠ å…¥å­—ç¬¦ s[i]ã€‚ä¸ºæ­¤ï¼Œéœ€è¦è®°å½•æ¯ä¸ªå­—ç¬¦æ˜¯å¦å‡ºç°åœ¨æ ˆä¸­ã€‚`

åœ¨å¼¹å‡ºæ ˆé¡¶å­—ç¬¦æ—¶ï¼Œå¦‚æœå­—ç¬¦ä¸²åœ¨åé¢çš„ä½ç½®ä¸Šå†ä¹Ÿæ²¡æœ‰è¿™ä¸€å­—ç¬¦ï¼Œåˆ™ä¸èƒ½å¼¹å‡ºæ ˆé¡¶å­—ç¬¦ã€‚`ä¸ºæ­¤ï¼Œéœ€è¦è®°å½•æ¯ä¸ªå­—ç¬¦çš„å‰©ä½™æ•°é‡`ï¼Œå½“è¿™ä¸ªå€¼ä¸º 0 æ—¶ï¼Œå°±ä¸èƒ½å¼¹å‡ºæ ˆé¡¶å­—ç¬¦äº†ã€‚



```java
public String removeDuplicateLetters(String s) {
boolean[]vis =new boolean[26];
int[]num=new int[26];
for(int i=0;i<s.length();i++)
num[s.charAt(i)-'a']++;//ç»Ÿè®¡æ¯ä¸ªå­—ç¬¦å‡ºç°æ¬¡æ•°
StringBuilder str = new StringBuilder();//å…¶å®æ˜¯ç”¨è¿™ä¸ªå­—ç¬¦ä¸²æ¨¡æ‹Ÿäº†ç±»ä¼¼æ ˆçš„ç»“æ„
for(int i=0;i<s.length();i++)
{
    char ch = s.charAt(i);
    if(!vis[s.charAt(i)-'a'])
    {
        while(str.length()>0&&str.charAt(str.length()-1)>ch)
        {
            if(num[str.charAt(str.length()-1)-'a']>0){
            vis[str.charAt(str.length()-1)-'a']=false;
            str.deleteCharAt(str.length()-1);//å¦‚æœæ ˆé¡¶çš„å­—ç¬¦å¤§äºç›®å‰çš„å­—ç¬¦ä¸”æ ˆé¡¶å­—ç¬¦çš„å‡ºç°æ¬¡æ•°å¤§äº1åˆ™ç§»é™¤
            }//è¿™é‡Œstr.charAt(str.length()-1)å°±æ˜¯æ ˆé¡¶
            else break;
        }
            vis[s.charAt(i)-'a']=true;
            str.append(s.charAt(i));
    }

    num[ch-'a']--;
}
return str.toString();
    }
```



## [678. æœ‰æ•ˆçš„æ‹¬å·å­—ç¬¦ä¸²](https://leetcode-cn.com/problems/valid-parenthesis-string/)

éš¾åº¦ä¸­ç­‰446

ç»™å®šä¸€ä¸ªåªåŒ…å«ä¸‰ç§å­—ç¬¦çš„å­—ç¬¦ä¸²ï¼š`ï¼ˆ `ï¼Œ`ï¼‰` å’Œ `*`ï¼Œå†™ä¸€ä¸ªå‡½æ•°æ¥æ£€éªŒè¿™ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ä¸ºæœ‰æ•ˆå­—ç¬¦ä¸²ã€‚æœ‰æ•ˆå­—ç¬¦ä¸²å…·æœ‰å¦‚ä¸‹è§„åˆ™ï¼š

1. ä»»ä½•å·¦æ‹¬å· `(` å¿…é¡»æœ‰ç›¸åº”çš„å³æ‹¬å· `)`ã€‚
2. ä»»ä½•å³æ‹¬å· `)` å¿…é¡»æœ‰ç›¸åº”çš„å·¦æ‹¬å· `(` ã€‚
3. å·¦æ‹¬å· `(` å¿…é¡»åœ¨å¯¹åº”çš„å³æ‹¬å·ä¹‹å‰ `)`ã€‚
4. `*` å¯ä»¥è¢«è§†ä¸ºå•ä¸ªå³æ‹¬å· `)` ï¼Œæˆ–å•ä¸ªå·¦æ‹¬å· `(` ï¼Œæˆ–ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ã€‚
5. ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ä¹Ÿè¢«è§†ä¸ºæœ‰æ•ˆå­—ç¬¦ä¸²ã€‚

----


```java
    public boolean checkValidString(String s) {
        Stack<Integer>stak1=new Stack<>();
        Stack<Integer>st2= new Stack<>();
        for(int i=0;i<s.length();i++)
        {
            if(s.charAt(i)=='(')
            stak1.push(i);
            else if(s.charAt(i)=='*')
            st2.push(i);
            else{
                if(!stak1.isEmpty())
                {
                    stak1.pop();

                }
                else
                {if(!st2.isEmpty())
                st2.pop();
                else return false;
                }
            }
        }
        while(!stak1.isEmpty()&&!st2.isEmpty())
        {
            int index1=stak1.peek();
            stak1.pop();
            int index2=st2.peek();
            st2.pop();
            if(index1>index2) return false;
        }
 return stak1.isEmpty();
//return true;
    }
```



## [32. æœ€é•¿æœ‰æ•ˆæ‹¬å·](https://leetcode-cn.com/problems/longest-valid-parentheses/)

éš¾åº¦å›°éš¾1645

ç»™ä½ ä¸€ä¸ªåªåŒ…å« `'('` å’Œ `')'` çš„å­—ç¬¦ä¸²ï¼Œæ‰¾å‡ºæœ€é•¿æœ‰æ•ˆï¼ˆæ ¼å¼æ­£ç¡®ä¸”è¿ç»­ï¼‰æ‹¬å·å­ä¸²çš„é•¿åº¦ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šs = "(()"
è¾“å‡ºï¼š2
è§£é‡Šï¼šæœ€é•¿æœ‰æ•ˆæ‹¬å·å­ä¸²æ˜¯ "()"
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šs = ")()())"
è¾“å‡ºï¼š4
è§£é‡Šï¼šæœ€é•¿æœ‰æ•ˆæ‹¬å·å­ä¸²æ˜¯ "()()"
```

----

![image-20220211125716554](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220211125716554.png)

```java
   public int longestValidParentheses(String s) {
char[]arr = s.toCharArray();
int count=0;
if(s.length()==0||s.length()==1) return count;
 Deque<Integer>mysta = new LinkedList<>();
mysta.push(-1);//æ³¨æ„è¿™é‡Œå…ˆæ·»åŠ äº†-1è¿™ä¸ªå…ƒç´ ï¼Œæ‰€ä»¥æœ€åçš„é•¿åº¦åªéœ€è¦æ±‚i-mysta.peek()
for(int i = 0;i<arr.length;i++)
{
    if(arr[i]==')')
    {
        mysta.pop();
     if(mysta.isEmpty())
     {
         mysta.push(i);
     }
     else{
         count = Math.max(count,i-mysta.peek());
     }
        
    }
    else   {
        mysta.push(i);
    }
}
return count;
    }
```



## [84. æŸ±çŠ¶å›¾ä¸­æœ€å¤§çš„çŸ©å½¢](https://leetcode-cn.com/problems/largest-rectangle-in-histogram/)

éš¾åº¦å›°éš¾

ç»™å®š *n* ä¸ªéè´Ÿæ•´æ•°ï¼Œç”¨æ¥è¡¨ç¤ºæŸ±çŠ¶å›¾ä¸­å„ä¸ªæŸ±å­çš„é«˜åº¦ã€‚æ¯ä¸ªæŸ±å­å½¼æ­¤ç›¸é‚»ï¼Œä¸”å®½åº¦ä¸º 1 ã€‚

æ±‚åœ¨è¯¥æŸ±çŠ¶å›¾ä¸­ï¼Œèƒ½å¤Ÿå‹¾å‹’å‡ºæ¥çš„çŸ©å½¢çš„æœ€å¤§é¢ç§¯ã€‚

![image-20220212133015124](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220212133015124.png)

----

![image-20220212133625874](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220212133625874.png)

è¿™æ ·ä»¥æ¥ï¼Œæˆ‘ä»¬å¾—åˆ°å®ƒä»¬å·¦ä¾§çš„æŸ±å­ç¼–å·åˆ†åˆ«ä¸º [-1, 0, -1, -1, 3, 4, 5, 3][âˆ’1,0,âˆ’1,âˆ’1,3,4,5,3]ã€‚ç”¨ç›¸åŒçš„æ–¹æ³•ï¼Œæˆ‘ä»¬ä»å³å‘å·¦è¿›è¡Œéå†ï¼Œä¹Ÿå¯ä»¥å¾—åˆ°å®ƒä»¬å³ä¾§çš„æŸ±å­ç¼–å·åˆ†åˆ«ä¸º [2, 2, 3, 8, 7, 7, 7, 8][2,2,3,8,7,7,7,8]ï¼Œè¿™é‡Œæˆ‘ä»¬å°†ä½ç½® 8 çœ‹ä½œã€Œå“¨å…µã€ã€‚

åœ¨å¾—åˆ°äº†å·¦å³ä¸¤ä¾§çš„æŸ±å­ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥è®¡ç®—å‡ºæ¯æ ¹æŸ±å­å¯¹åº”çš„å·¦å³è¾¹ç•Œï¼Œå¹¶æ±‚å‡ºç­”æ¡ˆäº†ã€‚

```java
    public int largestRectangleArea(int[] heights) {
int[]left= new int[heights.length];
int[]right= new int[heights.length];
Deque<Integer>queue = new ArrayDeque<>();
//queue.push(-1);
for(int i =0;i < heights.length;i++)
{
    while(!queue.isEmpty()&&heights[queue.peek()]>=heights[i])//æ³¨æ„æ˜¯å¤§äºç­‰äº
    queue.pop();
left[i] = queue.isEmpty()?-1:queue.peek();//-1å®é™…ä¸Šæ˜¯å“¨å…µç»“ç‚¹ï¼Œè¡¨ç¤ºå·¦è¾¹æ²¡æœ‰å…ƒç´ äº†
queue.push(i);
}
queue.clear();
for(int i = heights.length-1;i>=0;i--)
    {
        while(!queue.isEmpty() && heights[queue.peek()]>= heights[i])
        queue.pop();
       right[i] =( queue.isEmpty()?heights.length:queue.peek());
queue.push(i);
    }
    int max=0;
    for(int i =0;i < heights.length;i++)
{
    int temp = (right[i] - left[i]-1)*heights[i];
max = Math.max(max,temp);
}
return max;
    }
```

## [456. 132 æ¨¡å¼](https://leetcode-cn.com/problems/132-pattern/)

éš¾åº¦ä¸­ç­‰631

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` ï¼Œæ•°ç»„ä¸­å…±æœ‰ `n` ä¸ªæ•´æ•°ã€‚**132 æ¨¡å¼çš„å­åºåˆ—** ç”±ä¸‰ä¸ªæ•´æ•° `nums[i]`ã€`nums[j]` å’Œ `nums[k]` ç»„æˆï¼Œå¹¶åŒæ—¶æ»¡è¶³ï¼š`i < j < k` å’Œ `nums[i] < nums[k] < nums[j]` ã€‚

å¦‚æœ `nums` ä¸­å­˜åœ¨ **132 æ¨¡å¼çš„å­åºåˆ—** ï¼Œè¿”å› `true` ï¼›å¦åˆ™ï¼Œè¿”å› `false` ã€‚

---

![image-20220321005929599](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220321005929599.png)

```java
//è¦æ‰¾åˆ°æŸä¸ªå…ƒç´ Aå·¦è¾¹å°äºå®ƒçš„å€¼å’Œå³è¾¹å°äºå®ƒçš„å€¼ï¼Œä¸”éœ€è¦ä¿å­˜å³è¾¹å°äºAçš„æ‰€æœ‰å€¼ä¸­çš„æœ€å¤§å€¼ï¼Œå› ä¸ºå·¦è¾¹å°äºAçš„å€¼è¦å°äºå³è¾¹å°äºAçš„å€¼
public boolean find132pattern(int[] nums) {
        if(nums.length <3) return false;
 Deque<Integer> candidateK = new LinkedList<Integer>();
        candidateK.push(nums[nums.length - 1]);
        int maxK = Integer.MIN_VALUE;
for(int i = nums.length-2;i>=0;i--)
{
    if(nums[i] < maxK) return true;
    while(!candidateK.isEmpty() && nums[i] > candidateK.peek())
    {
       maxK= candidateK.pop();//ç»´æŠ¤ä¸€ä¸ªè¢«ç§»é™¤çš„å…ƒç´ ä¸­çš„æœ€å¤§å€¼
    
    }    
    if(nums[i] > maxK)//å¦‚æœæ–°çš„è¢«éå†çš„å…ƒç´ å¤§äºä¹‹å‰è¢«ç§»é™¤çš„å…ƒç´ çš„æœ€å¤§å€¼ï¼Œåˆ™å°†å…¶æ”¾å…¥é˜Ÿåˆ—ä¸­ 
    candidateK.push(nums[i]);
}
return false;
    }
```

## é“¾è¡¨å®ç°æ ˆ

1.å½“è¦pushçš„æ—¶å€™ï¼Œç›¸å½“äºæ–°newä¸€ä¸ªå¤´ç»“ç‚¹ï¼Œç„¶åè®©æ–°èŠ‚ç‚¹æŒ‡å‘å•é“¾è¡¨çš„å¤´ç»“ç‚¹ã€‚ä»¥æ–°èŠ‚ç‚¹ä½œä¸ºå•é“¾è¡¨çš„å¤´èŠ‚ç‚¹å³å¯ã€‚

2.å½“è¦popçš„æ—¶å€™ï¼Œåªè¦å°†é“¾è¡¨çš„å¤´æŒ‡é’ˆåç§»åˆ°å®ƒçš„nextï¼Œå°†nextä½œä¸ºæ–°çš„å¤´ç»“ç‚¹å³å¯

3.å½“è¦peakçš„æ—¶å€™ï¼Œåªè¦è¿”å›å¤´ç»“ç‚¹çš„å€¼å°±å¥½äº†

```java
/**
/**
 * ç”¨å•é“¾è¡¨å®ç°æ ˆ
 * 
 * è¡¨ç¤ºé“¾è¡¨çš„ä¸€ä¸ªèŠ‚ç‚¹
 * @author ly
 *
 */
public class Node {
	
	Object element;
	Node next;
	
	public Node(Object element){
		this(element,null);
	}
	
	/**
	 * åˆ›å»ºä¸€ä¸ªæ–°çš„èŠ‚ç‚¹
	 * è®©ä»–çš„nextæŒ‡å‘ï¼Œå‚æ•°ä¸­çš„èŠ‚ç‚¹
	 * @param element
	 * @param n
	 */
	public Node(Object element,Node n){
		this.element=element;
		next=n;
	}
	
	public Object getElement() {
		return element;
	}
	
}
/**
 * ç”¨é“¾è¡¨å®ç°çš„æ ˆï¼Œå†…å«push pop peak æ–¹æ³•
 * @author ly
 *
 */
public class ListStack {
	
	Node header;//æ ˆé¡¶å…ƒç´ 
	int elementCount;//æ ˆå†…å…ƒç´ ä¸ªæ•°
	int size;//æ ˆçš„å¤§å°
	
	/**
	 * æ„é€ å‡½æ•°ï¼Œæ„é€ ä¸€ä¸ªç©ºçš„æ ˆ
	 */
	public ListStack(){
		header=null;
		elementCount=0;
		size=0;
	}
	
	/**
	 * é€šè¿‡æ„é€ å™¨è‡ªå®šä¹‰æ ˆçš„å¤§å°
	 * @param size
	 */
	public ListStack(int size) {
		header=null;
		elementCount=0;
		this.size=size;
	}
	
	public void setHeader(Node header) {
		this.header=header;
	}
	
	public boolean isFull() {
		if (elementCount==size) {
			return true;
		}
		
		return false;
	}
	
	public boolean isEmpty() {
		if (elementCount==0) {
			return true;
		}
		
		return false;
	}
	
	/**
	 * å…¥æ ˆ
	 * @param value
	 */
	public void push(Object value) {
		if (this.isFull()) {
			throw new RuntimeException("Stack is Full");
		}
		//æ³¨æ„è¿™é‡Œé¢è¯•å°†åŸæ¥çš„headerä½œä¸ºå‚æ•°ä¼ å…¥ï¼Œç„¶åä»¥æ–°newå‡ºæ¥çš„Nodeä½œä¸ºheader
		header=new Node(value, header);
		elementCount++;
	}
	
	/**
	 * å‡ºæ ˆ
	 * @return
	 */
	public Object pop() {
		if (this.isEmpty()) {
			throw new RuntimeException("Stack is empty");
		}
		Object object=header.getElement();
		
		header=header.next;
		
		elementCount--;
		
		return object;
	}
	
	/**
	 * è¿”å›æ ˆé¡¶å…ƒç´ 
	 */
	public Object peak(){
		
		if (this.isEmpty()) {
			throw new RuntimeException("Stack is empty");
		}
		
		return header.getElement();
	}
 

```

## åŒæ ˆæ’åº

ç»™å®šä¸€ä¸ªä¹±åºçš„æ ˆï¼Œè®¾è®¡ç®—æ³•å°†å…¶å‡åºæ’åˆ—ã€‚

ps: å…è®¸é¢å¤–ä½¿ç”¨ä¸€ä¸ªæ ˆæ¥è¾…åŠ©æ“ä½œ 

> è¾“å…¥
> [4, 2, 1, 3]
> è¾“å‡º
> [1, 2, 3, 4]

------

ä»£ç ï¼š

```java
  public Stack<Integer> stackSort(Stack<Integer> stk) {
       Stack<Integer> temp = new Stack<Integer>();
    
       while(!stk.isEmpty()) {
           int num = stk.pop();
           while (!temp.isEmpty() && temp.peek() > num) {
               int t = temp.pop();//è¾…åŠ©æ ˆä¸­çš„å…ƒç´ å¼¹å‡º
               stk.push(t);//å†æ”¾å…¥åŸæ ˆä¸­å»
               
           }
           temp.push(num);
       }
       return temp;//è¿”å›è¾…åŠ©æ ˆå³å¯ã€‚æ€»ä½“æ€è·¯ï¼šæ¯”è¾ƒTempæ ˆé¡¶ä¸åŸæ ˆçš„æ ˆé¡¶ï¼Œå¦‚æœå‰è€…æ•°å­—æ›´å¤§ï¼Œ
       // åˆ™æ”¾åˆ°åŸæ ˆä¸­å»ï¼Œå†æŠŠåŸæ ˆä¸­é‚£ä¸ªæ›´å°çš„å‹å…¥åˆ°è¾…åŠ©æ ˆä¸­ï¼Œæ³¨æ„æ˜¯ä¸€å¼€å§‹ç”¨ä¸€ä¸ªå˜é‡tå­˜å‚¨äº†åŸæ ˆçš„æ ˆé¡¶å…ƒç´ 
   }
```

## [735. è¡Œæ˜Ÿç¢°æ’](https://leetcode.cn/problems/asteroid-collision/)

éš¾åº¦ä¸­ç­‰346

ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ `asteroids`ï¼Œè¡¨ç¤ºåœ¨åŒä¸€è¡Œçš„è¡Œæ˜Ÿã€‚

å¯¹äºæ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ ï¼Œå…¶ç»å¯¹å€¼è¡¨ç¤ºè¡Œæ˜Ÿçš„å¤§å°ï¼Œæ­£è´Ÿè¡¨ç¤ºè¡Œæ˜Ÿçš„ç§»åŠ¨æ–¹å‘ï¼ˆæ­£è¡¨ç¤ºå‘å³ç§»åŠ¨ï¼Œè´Ÿè¡¨ç¤ºå‘å·¦ç§»åŠ¨ï¼‰ã€‚æ¯ä¸€é¢—è¡Œæ˜Ÿä»¥ç›¸åŒçš„é€Ÿåº¦ç§»åŠ¨ã€‚

æ‰¾å‡ºç¢°æ’åå‰©ä¸‹çš„æ‰€æœ‰è¡Œæ˜Ÿã€‚ç¢°æ’è§„åˆ™ï¼šä¸¤ä¸ªè¡Œæ˜Ÿç›¸äº’ç¢°æ’ï¼Œè¾ƒå°çš„è¡Œæ˜Ÿä¼šçˆ†ç‚¸ã€‚å¦‚æœä¸¤é¢—è¡Œæ˜Ÿå¤§å°ç›¸åŒï¼Œåˆ™ä¸¤é¢—è¡Œæ˜Ÿéƒ½ä¼šçˆ†ç‚¸ã€‚ä¸¤é¢—ç§»åŠ¨æ–¹å‘ç›¸åŒçš„è¡Œæ˜Ÿï¼Œæ°¸è¿œä¸ä¼šå‘ç”Ÿç¢°æ’ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šasteroids = [5,10,-5]
è¾“å‡ºï¼š[5,10]
è§£é‡Šï¼š10 å’Œ -5 ç¢°æ’ååªå‰©ä¸‹ 10 ã€‚ 5 å’Œ 10 æ°¸è¿œä¸ä¼šå‘ç”Ÿç¢°æ’ã€‚
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šasteroids = [8,-8]
è¾“å‡ºï¼š[]
è§£é‡Šï¼š8 å’Œ -8 ç¢°æ’åï¼Œä¸¤è€…éƒ½å‘ç”Ÿçˆ†ç‚¸ã€‚
```

---------------

ç”¨æ ˆ \textit{st}st æ¨¡æ‹Ÿè¡Œæ˜Ÿç¢°æ’ï¼Œä»å·¦å¾€å³éå†è¡Œæ˜Ÿæ•°ç»„ \textit{asteroids}asteroidsï¼Œå½“æˆ‘ä»¬éå†åˆ°è¡Œæ˜Ÿ \textit{aster}aster æ—¶ï¼Œä½¿ç”¨å˜é‡}alive è®°å½•è¡Œæ˜Ÿaster æ˜¯å¦è¿˜å­˜åœ¨ï¼ˆå³æœªçˆ†ç‚¸ï¼‰ã€‚

å½“è¡Œæ˜Ÿ aster å­˜åœ¨ä¸” aster<0ï¼Œæ ˆé¡¶å…ƒç´ éç©ºä¸”å¤§äº 0 æ—¶ï¼Œè¯´æ˜ä¸¤ä¸ªè¡Œæ˜Ÿç›¸äº’å‘å¯¹æ–¹ç§»åŠ¨ï¼šå¦‚æœæ ˆé¡¶å…ƒç´ å¤§äºç­‰äºâˆ’asterï¼Œåˆ™è¡Œæ˜Ÿ aster å‘ç”Ÿçˆ†ç‚¸ï¼Œå°† alive ç½®ä¸ºfalseï¼›å¦‚æœæ ˆé¡¶å…ƒç´ å°äºç­‰äºâˆ’asterï¼Œåˆ™æ ˆé¡¶å…ƒç´ è¡¨ç¤ºçš„è¡Œæ˜Ÿå‘ç”Ÿçˆ†ç‚¸ï¼Œæ‰§è¡Œå‡ºæ ˆæ“ä½œã€‚é‡å¤ä»¥ä¸Šåˆ¤æ–­ç›´åˆ°ä¸æ»¡è¶³æ¡ä»¶ï¼Œå¦‚æœæœ€åalive ä¸ºçœŸï¼Œè¯´æ˜è¡Œæ˜Ÿaster ä¸ä¼šçˆ†ç‚¸ï¼Œåˆ™å°† aster å…¥æ ˆã€‚



```java
   public int[] asteroidCollision(int[] asteroids) {
Deque<Integer>stack = new ArrayDeque<>();
for(int anstor:asteroids){
boolean alive = true;
while(alive && anstor<0&& !stack.isEmpty() && stack.peek() > 0){
    alive = stack.peek()<-anstor;
    if(stack.peek()<=-anstor){
     
        stack.pop();
    }
}
if(alive) stack.push(anstor);

}
int[]ans = new int[stack.size()];
for(int i =stack.size()-1;i >=0;i--)
ans[i] = stack.pop();
return ans;
    }
```

## [331. éªŒè¯äºŒå‰æ ‘çš„å‰åºåºåˆ—åŒ–](https://leetcode.cn/problems/verify-preorder-serialization-of-a-binary-tree/)

éš¾åº¦ä¸­ç­‰400

åºåˆ—åŒ–äºŒå‰æ ‘çš„ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨ **å‰åºéå†** ã€‚å½“æˆ‘ä»¬é‡åˆ°ä¸€ä¸ªéç©ºèŠ‚ç‚¹æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥è®°å½•ä¸‹è¿™ä¸ªèŠ‚ç‚¹çš„å€¼ã€‚å¦‚æœå®ƒæ˜¯ä¸€ä¸ªç©ºèŠ‚ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ªæ ‡è®°å€¼è®°å½•ï¼Œä¾‹å¦‚ `#`ã€‚

![image-20220820163903092](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220820163903092.png)

ä¾‹å¦‚ï¼Œä¸Šé¢çš„äºŒå‰æ ‘å¯ä»¥è¢«åºåˆ—åŒ–ä¸ºå­—ç¬¦ä¸² "9,3,4,#,#,1,#,#,2,#,6,#,#"ï¼Œå…¶ä¸­ # ä»£è¡¨ä¸€ä¸ªç©ºèŠ‚ç‚¹ã€‚

ç»™å®šä¸€ä¸²ä»¥é€—å·åˆ†éš”çš„åºåˆ—ï¼ŒéªŒè¯å®ƒæ˜¯å¦æ˜¯æ­£ç¡®çš„äºŒå‰æ ‘çš„å‰åºåºåˆ—åŒ–ã€‚ç¼–å†™ä¸€ä¸ªåœ¨ä¸é‡æ„æ ‘çš„æ¡ä»¶ä¸‹çš„å¯è¡Œç®—æ³•ã€‚

ä¿è¯ æ¯ä¸ªä»¥é€—å·åˆ†éš”çš„å­—ç¬¦æˆ–ä¸ºä¸€ä¸ªæ•´æ•°æˆ–ä¸ºä¸€ä¸ªè¡¨ç¤º null æŒ‡é’ˆçš„ '#' ã€‚

ä½ å¯ä»¥è®¤ä¸ºè¾“å…¥æ ¼å¼æ€»æ˜¯æœ‰æ•ˆçš„

ä¾‹å¦‚å®ƒæ°¸è¿œä¸ä¼šåŒ…å«ä¸¤ä¸ªè¿ç»­çš„é€—å·ï¼Œæ¯”å¦‚ "1,,3" ã€‚
æ³¨æ„ï¼šä¸å…è®¸é‡å»ºæ ‘ã€‚



----------------

ç®€å•æ–¹æ³•ï¼š

```java
    public boolean isValidSerialization(String preorder) {
String[]arr=preorder.split(",");
int tot = 1;
for(int i = 0;i < arr.length;i++){
tot--;
if(tot<0) return false;
if(!arr[i].equals("#"))
tot+=2;
}
return tot==0;
    }
```





å¦å¤–çš„æ–¹æ³•ï¼šæ ˆ
æˆ‘ä»¬å¯ä»¥å®šä¹‰ä¸€ä¸ªæ¦‚å¿µï¼Œå«åšæ§½ä½ã€‚ä¸€ä¸ªæ§½ä½å¯ä»¥è¢«çœ‹ä½œã€Œå½“å‰äºŒå‰æ ‘ä¸­æ­£åœ¨ç­‰å¾…è¢«èŠ‚ç‚¹å¡«å……ã€çš„é‚£äº›ä½ç½®ã€‚

äºŒå‰æ ‘çš„å»ºç«‹ä¹Ÿä¼´éšç€æ§½ä½æ•°é‡çš„å˜åŒ–ã€‚æ¯å½“é‡åˆ°ä¸€ä¸ªèŠ‚ç‚¹æ—¶ï¼š

å¦‚æœé‡åˆ°äº†ç©ºèŠ‚ç‚¹ï¼Œåˆ™è¦æ¶ˆè€—ä¸€ä¸ªæ§½ä½ï¼›

å¦‚æœé‡åˆ°äº†éç©ºèŠ‚ç‚¹ï¼Œåˆ™é™¤äº†æ¶ˆè€—ä¸€ä¸ªæ§½ä½å¤–ï¼Œè¿˜è¦å†è¡¥å……ä¸¤ä¸ªæ§½ä½ã€‚

æ­¤å¤–ï¼Œè¿˜éœ€è¦å°†æ ¹èŠ‚ç‚¹ä½œä¸ºç‰¹æ®Šæƒ…å†µå¤„ç†ã€‚

æˆ‘ä»¬ä½¿ç”¨æ ˆæ¥ç»´æŠ¤æ§½ä½çš„å˜åŒ–ã€‚æ ˆä¸­çš„æ¯ä¸ªå…ƒç´ ï¼Œä»£è¡¨äº†å¯¹åº”èŠ‚ç‚¹å¤„å‰©ä½™æ§½ä½çš„æ•°é‡ï¼Œè€Œæ ˆé¡¶å…ƒç´ å°±å¯¹åº”ç€ä¸‹ä¸€æ­¥å¯ç”¨çš„æ§½ä½æ•°é‡ã€‚å½“é‡åˆ°ç©ºèŠ‚ç‚¹æ—¶ï¼Œä»…å°†æ ˆé¡¶å…ƒç´ å‡ 1ï¼›å½“é‡åˆ°éç©ºèŠ‚ç‚¹æ—¶ï¼Œå°†æ ˆé¡¶å…ƒç´ å‡ 1 åï¼Œå†å‘æ ˆä¸­å‹å…¥ä¸€ä¸ª 2ã€‚æ— è®ºä½•æ—¶ï¼Œå¦‚æœæ ˆé¡¶å…ƒç´ å˜ä¸º 0ï¼Œå°±ç«‹åˆ»å°†æ ˆé¡¶å¼¹å‡ºã€‚

éå†ç»“æŸåï¼Œè‹¥æ ˆä¸ºç©ºï¼Œè¯´æ˜æ²¡æœ‰å¾…å¡«å……çš„æ§½ä½ï¼Œå› æ­¤æ˜¯ä¸€ä¸ªåˆæ³•åºåˆ—ï¼›å¦åˆ™è‹¥æ ˆä¸ä¸ºç©ºï¼Œåˆ™åºåˆ—ä¸åˆæ³•ã€‚æ­¤å¤–ï¼Œåœ¨éå†çš„è¿‡ç¨‹ä¸­ï¼Œè‹¥æ§½ä½æ•°é‡ä¸è¶³ï¼Œåˆ™åºåˆ—ä¸åˆæ³•ã€‚



```java
  public boolean isValidSerialization(String preorder) {
Deque<Integer>queue = new LinkedList<>();
queue.push(1);
int len = preorder.length();
int i = 0;
while(i <len){
    if(queue.isEmpty()){
        return false;
    }
    if(preorder.charAt(i)==',') {

            i++;
    }
    else if(preorder.charAt(i)=='#'){
        int top = queue.poll()-1;
        if(top >0)
            queue.push(top);
            i++;
    }
    else{
        while(i <len && preorder.charAt(i)!=',')//å¯èƒ½å‡ºç°æ•°å­—ä½æ•°è¶…è¿‡1ä½çš„æƒ…å†µï¼Œæ¯”å¦‚123
        i++;
        int top = queue.pop()-1;//å ç”¨çš„æ§½ä½å‡å»ä¸€ä¸ªï¼Œä½†è¿˜è¦åŠ ä¸¤ä¸ªæ§½ä½

        if(top>0){
            queue.push(top);
        }
        queue.push(2);
        i++;
    }
}
return queue.isEmpty();
    }
```



## [1673. æ‰¾å‡ºæœ€å…·ç«äº‰åŠ›çš„å­åºåˆ—](https://leetcode.cn/problems/find-the-most-competitive-subsequence/)

éš¾åº¦ä¸­ç­‰102

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` å’Œä¸€ä¸ªæ­£æ•´æ•° `k` ï¼Œè¿”å›é•¿åº¦ä¸º `k` ä¸”æœ€å…· **ç«äº‰åŠ›** çš„ `nums` å­åºåˆ—ã€‚

æ•°ç»„çš„å­åºåˆ—æ˜¯ä»æ•°ç»„ä¸­åˆ é™¤ä¸€äº›å…ƒç´ ï¼ˆå¯èƒ½ä¸åˆ é™¤å…ƒç´ ï¼‰å¾—åˆ°çš„åºåˆ—ã€‚

åœ¨å­åºåˆ— `a` å’Œå­åºåˆ— `b` ç¬¬ä¸€ä¸ªä¸ç›¸åŒçš„ä½ç½®ä¸Šï¼Œå¦‚æœ `a` ä¸­çš„æ•°å­—å°äº `b` ä¸­å¯¹åº”çš„æ•°å­—ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç§°å­åºåˆ— `a` æ¯”å­åºåˆ— `b`ï¼ˆç›¸åŒé•¿åº¦ä¸‹ï¼‰æ›´å…· **ç«äº‰åŠ›** ã€‚ ä¾‹å¦‚ï¼Œ`[1,3,4]` æ¯” `[1,3,5]` æ›´å…·ç«äº‰åŠ›ï¼Œåœ¨ç¬¬ä¸€ä¸ªä¸ç›¸åŒçš„ä½ç½®ï¼Œä¹Ÿå°±æ˜¯æœ€åä¸€ä¸ªä½ç½®ä¸Šï¼Œ `4` å°äº `5` ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šnums = [3,5,2,6], k = 2
è¾“å‡ºï¼š[2,6]
è§£é‡Šï¼šåœ¨æ‰€æœ‰å¯èƒ½çš„å­åºåˆ—é›†åˆ {[3,5], [3,2], [3,6], [5,2], [5,6], [2,6]} ä¸­ï¼Œ[2,6] æœ€å…·ç«äº‰åŠ›ã€‚
```

-----------------------

è¦å°½å¯èƒ½åœ°è®©å‰é¢çš„å…ƒç´ æœ€å°ï¼Œç„¶ååé¢çš„å…ƒç´ ä¹Ÿè¦æœ€å°ï¼ŒåŒæ—¶éœ€è¦æ»¡è¶³ç­”æ¡ˆæ•°ç»„çš„ä¸ªæ•°ä¸ºk ä¸èƒ½å°äºkï¼ˆæ¯”å¦‚å¦‚æœåŸæ•°ç»„æœ€å°çš„å…ƒç´ æ˜¯æœ€åä¸€ä¸ªï¼Œä½†æ˜¯k>1ï¼Œé‚£ä¹ˆæœ€å°çš„å…ƒç´ ä¸èƒ½ä½œä¸ºç¬¬ä¸€ä¸ªå…ƒç´ ï¼‰

é‡‡ç”¨å•è°ƒæ ˆï¼Œè¿™é‡Œä¸€ä¸ªå…³é”®æ³¨æ„æ˜¯ä¸èƒ½å¼¹å‡ºè¿‡å¤šçš„å…ƒç´ ï¼Œå¦åˆ™å‰©ä½™çš„å…ƒç´ æ— æ³•å¡«æ»¡ï¼Œé‚£ä¹ˆä¼šå¯¼è‡´ç»“æœçš„æ•°ç»„ä¸ªæ•°å°äºk

```java
 public int[] mostCompetitive(int[] nums, int k) {
Deque<Integer>stack=new ArrayDeque<>();
//remainå¯ä»¥ç†è§£ä¸ºæœ€å¤šèƒ½å¼¹å‡ºçš„ä¸ªæ•°
int remain=nums.length-k;
for(int i = 0;i<nums.length;i++)
{
   if(stack.isEmpty())
   stack.push(nums[i]);
   else{
        //æ³¨æ„å…³é”®ç»†èŠ‚ï¼šéœ€è¦åˆ¤æ–­å‰©ä½™å…ƒç´ çš„æ•°é‡æ˜¯å¦èƒ½å¡«æ»¡
        //å¦‚æœremain>0ä¸”æ ˆé¡¶å…ƒç´ å¤§äºå½“å‰å…ƒç´  å¼¹å‡º
        while(!stack.isEmpty()&& nums[i]<stack.peek()&& remain>0){
stack.pop();
        remain--;
  }
  stack.push(nums[i]);
   }
}
//æ³¨æ„ï¼šå¦‚æœæ ˆå†…çš„å…ƒç´ å¤§äºk éœ€è¦å¼¹å‡ºå¤šä½™çš„ï¼Œæ¯”å¦‚ä¸º1 2 3 4çš„æ—¶å€™ä¼šä¸€ç›´å…¥æ ˆï¼Œè¿™æ ·å°±å¼¹å‡ºåé¢çš„å…ƒç´  åé¢çš„å…ƒç´ åˆšå¥½ä¹Ÿæ˜¯æ›´å¤§çš„å…ƒç´  å› ä¸ºremain+k=nums.length
for(int i = 0;i<remain;i++)
stack.pop();
int[]ans=new int[k];
for(int i =k-1;i>=0;i--)
ans[i]=stack.pop();
return ans;
    }
```

## [726. åŸå­çš„æ•°é‡](https://leetcode.cn/problems/number-of-atoms/)

éš¾åº¦å›°éš¾281

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸²åŒ–å­¦å¼ `formula` ï¼Œè¿”å› **æ¯ç§åŸå­çš„æ•°é‡** ã€‚

åŸå­æ€»æ˜¯ä»¥ä¸€ä¸ªå¤§å†™å­—æ¯å¼€å§‹ï¼Œæ¥ç€è·Ÿéš 0 ä¸ªæˆ–ä»»æ„ä¸ªå°å†™å­—æ¯ï¼Œè¡¨ç¤ºåŸå­çš„åå­—ã€‚

å¦‚æœæ•°é‡å¤§äº 1ï¼ŒåŸå­åä¼šè·Ÿç€æ•°å­—è¡¨ç¤ºåŸå­çš„æ•°é‡ã€‚å¦‚æœæ•°é‡ç­‰äº 1 åˆ™ä¸ä¼šè·Ÿæ•°å­—ã€‚

- ä¾‹å¦‚ï¼Œ`"H2O"` å’Œ `"H2O2"` æ˜¯å¯è¡Œçš„ï¼Œä½† `"H1O2"` è¿™ä¸ªè¡¨è¾¾æ˜¯ä¸å¯è¡Œçš„ã€‚

ä¸¤ä¸ªåŒ–å­¦å¼è¿åœ¨ä¸€èµ·å¯ä»¥æ„æˆæ–°çš„åŒ–å­¦å¼ã€‚

- ä¾‹å¦‚ `"H2O2He3Mg4"` ä¹Ÿæ˜¯åŒ–å­¦å¼ã€‚

ç”±æ‹¬å·æ‹¬èµ·çš„åŒ–å­¦å¼å¹¶ä½ä»¥æ•°å­—ï¼ˆå¯é€‰æ‹©æ€§æ·»åŠ ï¼‰ä¹Ÿæ˜¯åŒ–å­¦å¼ã€‚

- ä¾‹å¦‚ `"(H2O2)"` å’Œ `"(H2O2)3"` æ˜¯åŒ–å­¦å¼ã€‚

è¿”å›æ‰€æœ‰åŸå­çš„æ•°é‡ï¼Œæ ¼å¼ä¸ºï¼šç¬¬ä¸€ä¸ªï¼ˆæŒ‰å­—å…¸åºï¼‰åŸå­çš„åå­—ï¼Œè·Ÿç€å®ƒçš„æ•°é‡ï¼ˆå¦‚æœæ•°é‡å¤§äº 1ï¼‰ï¼Œç„¶åæ˜¯ç¬¬äºŒä¸ªåŸå­çš„åå­—ï¼ˆæŒ‰å­—å…¸åºï¼‰ï¼Œè·Ÿç€å®ƒçš„æ•°é‡ï¼ˆå¦‚æœæ•°é‡å¤§äº 1ï¼‰ï¼Œä»¥æ­¤ç±»æ¨ã€‚

--------------------------

å¯¹äºæ‹¬å·åºåˆ—ç›¸å…³çš„é¢˜ç›®ï¼Œé€šç”¨çš„è§£æ³•æ˜¯ä½¿ç”¨é€’å½’æˆ–æ ˆã€‚æœ¬é¢˜ä¸­æˆ‘ä»¬å°†ä½¿ç”¨æ ˆè§£å†³ã€‚

ä»å·¦åˆ°å³éå†è¯¥åŒ–å­¦å¼ï¼Œå¹¶ä½¿ç”¨å“ˆå¸Œè¡¨è®°å½•å½“å‰å±‚éå†åˆ°çš„åŸå­åŠå…¶æ•°é‡ï¼Œå› æ­¤åˆå§‹æ—¶éœ€å°†ä¸€ä¸ªç©ºçš„å“ˆå¸Œè¡¨å‹å…¥æ ˆä¸­ã€‚å¯¹äºå½“å‰éå†çš„å­—ç¬¦ï¼š

å¦‚æœæ˜¯å·¦æ‹¬å·ï¼Œå°†ä¸€ä¸ªç©ºçš„å“ˆå¸Œè¡¨å‹å…¥æ ˆä¸­ï¼Œè¿›å…¥ä¸‹ä¸€å±‚ã€‚

å¦‚æœä¸æ˜¯æ‹¬å·ï¼Œåˆ™è¯»å–ä¸€ä¸ªåŸå­åç§°ï¼Œè‹¥åé¢è¿˜æœ‰æ•°å­—ï¼Œåˆ™è¯»å–ä¸€ä¸ªæ•°å­—ï¼Œå¦åˆ™å°†è¯¥åŸå­åé¢çš„æ•°å­—è§†ä½œ 1ã€‚ç„¶åå°†åŸå­åŠæ•°å­—åŠ å…¥æ ˆé¡¶çš„å“ˆå¸Œè¡¨ä¸­ã€‚

å¦‚æœæ˜¯å³æ‹¬å·ï¼Œåˆ™è¯´æ˜éå†å®Œäº†å½“å‰å±‚ï¼Œè‹¥æ‹¬å·å³ä¾§è¿˜æœ‰æ•°å­—ï¼Œåˆ™è¯»å–è¯¥æ•°å­— numï¼Œå¦åˆ™å°†è¯¥æ•°å­—è§†ä½œ 1ã€‚ç„¶åå°†æ ˆé¡¶çš„å“ˆå¸Œè¡¨å¼¹å‡ºï¼Œå°†å¼¹å‡ºçš„å“ˆå¸Œè¡¨ä¸­çš„åŸå­æ•°é‡ä¸ num ç›¸ä¹˜ï¼ŒåŠ åˆ°ä¸Šä¸€å±‚çš„åŸå­æ•°é‡ä¸­ã€‚



```java
int i = 0;
int n;
String formula;
    public String countOfAtoms(String formula) {
char[] arr=formula.toCharArray();
this.formula=formula;
this.n=formula.length();
TreeMap<String,Integer>map=new TreeMap<>();
Stack<Map<String,Integer>>stack=new Stack<>();
 stack.push(new HashMap<>());
while(i<arr.length)
{
  if(arr[i]=='('){
      i++;
        stack.push(new HashMap<>());
  }

  else if(arr[i]==')'){
      i++;
      int num=parseNum();
      Map<String,Integer>topMap=stack.pop();
      Map<String,Integer>stay=stack.peek();
       for (Map.Entry<String, Integer> entry : topMap.entrySet()) {
                    String atom = entry.getKey();
                    int v = entry.getValue();
                    stay.put(atom, stay.getOrDefault(atom, 0) + v * num); // å°†æ‹¬å·å†…çš„åŸå­æ•°é‡ä¹˜ä¸Š numï¼ŒåŠ åˆ°ä¸Šä¸€å±‚çš„åŸå­æ•°é‡ä¸­
                }
  }
  else{
      String letter=parseAtom();
      int num=parseNum();
      Map<String,Integer>topMap=stack.peek();
      topMap.put(letter,topMap.getOrDefault(letter,0)+num);
  }
}
StringBuilder ans=new StringBuilder();
map=new TreeMap<>(stack.pop());
for(Map.Entry<String,Integer>entry:map.entrySet()){
    if(entry.getValue()!=1)
    ans.append(entry.getKey()).append(entry.getValue());
else{
    ans.append(entry.getKey());
}
}
return ans.toString();
    }
     public String parseAtom() {
        StringBuffer sb = new StringBuffer();
        sb.append(formula.charAt(i++)); // æ‰«æé¦–å­—æ¯
        while (i < n && Character.isLowerCase(formula.charAt(i))) {
            sb.append(formula.charAt(i++)); // æ‰«æé¦–å­—æ¯åçš„å°å†™å­—æ¯
        }
        return sb.toString();
    }

    public int parseNum() {
        if (i == n || !Character.isDigit(formula.charAt(i))) {
            return 1; // ä¸æ˜¯æ•°å­—ï¼Œè§†ä½œ 1
        }
        int num = 0;
        while (i < n && Character.isDigit(formula.charAt(i))) {
            num = num * 10 + formula.charAt(i++) - '0'; // æ‰«ææ•°å­—
        }
        return num;
    }
```



# æ¨¡æ‹Ÿé˜Ÿåˆ—

å› ä¸ºé˜Ÿåˆ—çš„è¾“å‡ºã€è¾“å…¥æ˜¯åˆ†åˆ«ä»å‰åç«¯æ¥å¤„ç†ï¼Œå› æ­¤éœ€è¦ä¸¤ä¸ªå˜é‡front åŠrear åˆ†åˆ«è®°å½•é˜Ÿåˆ—å‰åç«¯çš„ä¸‹æ ‡ï¼Œfront ä¼šéšç€æ•°æ®è¾“å‡ºè€Œæ”¹å˜ï¼Œè€Œrear åˆ™æ˜¯éšç€æ•°æ®è¾“å…¥è€Œæ”¹å˜ï¼Œ

å½“æˆ‘ä»¬å°†æ•°æ®å­˜å…¥é˜Ÿåˆ—æ—¶ç§°ä¸ºâ€addQueueâ€ï¼ŒaddQueue çš„å¤„ç†éœ€è¦æœ‰ä¸¤ä¸ªæ­¥éª¤ï¼šæ€è·¯åˆ†æ
1) å°†å°¾æŒ‡é’ˆå¾€åç§»ï¼šrear+1 , å½“front == rear ã€ç©ºã€‘
2) è‹¥å°¾æŒ‡é’ˆrear å°äºé˜Ÿåˆ—çš„æœ€å¤§ä¸‹æ ‡maxSize-1ï¼Œåˆ™å°†æ•°æ®å­˜å…¥rear æ‰€æŒ‡çš„æ•°ç»„å…ƒç´ ä¸­ï¼Œå¦åˆ™æ— æ³•å­˜å…¥æ•°æ®ã€‚
rear == maxSize - 1[é˜Ÿåˆ—æ»¡]

```java
// ä½¿ç”¨æ•°ç»„æ¨¡æ‹Ÿé˜Ÿåˆ—-ç¼–å†™ä¸€ä¸ªArrayQueue ç±»
class ArrayQueue {
private int maxSize; // è¡¨ç¤ºæ•°ç»„çš„æœ€å¤§å®¹é‡
private int front; // é˜Ÿåˆ—å¤´
private int rear; // é˜Ÿåˆ—å°¾
private int[] arr; // è¯¥æ•°æ®ç”¨äºå­˜æ”¾æ•°æ®, æ¨¡æ‹Ÿé˜Ÿåˆ—
// åˆ›å»ºé˜Ÿåˆ—çš„æ„é€ å™¨
public ArrayQueue(int arrMaxSize) {
maxSize = arrMaxSize;
arr = new int[maxSize];
front = -1; // æŒ‡å‘é˜Ÿåˆ—å¤´éƒ¨ï¼Œåˆ†æå‡ºfront æ˜¯æŒ‡å‘é˜Ÿåˆ—å¤´çš„å‰ä¸€ä¸ªä½ç½®.
    rear = -1; // æŒ‡å‘é˜Ÿåˆ—å°¾ï¼ŒæŒ‡å‘é˜Ÿåˆ—å°¾çš„æ•°æ®(å³å°±æ˜¯é˜Ÿåˆ—æœ€åä¸€ä¸ªæ•°æ®)
}
// åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦æ»¡
public boolean isFull() {
return rear == maxSize - 1;
    }
// åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º
public boolean isEmpty() {
return rear == front;
}
// æ·»åŠ æ•°æ®åˆ°é˜Ÿåˆ—
public void addQueue(int n) {
// åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦æ»¡
if (isFull()) {
System.out.println("é˜Ÿåˆ—æ»¡ï¼Œä¸èƒ½åŠ å…¥æ•°æ®~");
return;
}
rear++
    arr[rear] = n;
}
// è·å–é˜Ÿåˆ—çš„æ•°æ®, å‡ºé˜Ÿåˆ—
public int getQueue() {
// åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ç©º
if (isEmpty()) {
// é€šè¿‡æŠ›å‡ºå¼‚å¸¸
throw new RuntimeException("é˜Ÿåˆ—ç©ºï¼Œä¸èƒ½å–æ•°æ®");
}
front++; //frontåç§»
    arr[rear] = n;
}
// è·å–é˜Ÿåˆ—çš„æ•°æ®, å‡ºé˜Ÿåˆ—
public int getQueue() {
// åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ç©º
if (isEmpty()) {
// é€šè¿‡æŠ›å‡ºå¼‚å¸¸
throw new RuntimeException("é˜Ÿåˆ—ç©ºï¼Œä¸èƒ½å–æ•°æ®");
}
front++; //åˆ¤æ–­
if (isEmpty()) {
throw new RuntimeException("é˜Ÿåˆ—ç©ºçš„ï¼Œæ²¡æœ‰æ•°æ®~~");
}
return arr[front + 1];
}
}
```







# å¤§æ•°è¿ç®—



æ•°ç»„æ¨¡æ‹Ÿæ•°å­—è¿›è¡Œå¤§æ•°è¿ç®—

å› ä¸ºintç±»å‹çš„æ•°å­—æœ‰é•¿åº¦é™åˆ¶ï¼Œè¶…è¿‡ä¸€å®šæ•°åè¡¨ç¤ºä¸å‡ºæ¥äº†ï¼Œæ‰€ä»¥åœ¨å¤§æ•°ä¸­å¯ä»¥ä½¿ç”¨æ•°ç»„è¡¨ç¤º

å¦‚ä¸€ä¸ªé˜¶ä¹˜è¿ç®—ï¼š

```java
  public static void jiecheng(int n)
    {
        int[]ints = new int[20];//è¶³å¤Ÿå¤§çš„æ•°ç»„
        ints[ints.length-1] = 1;
        for(int i = 1;i <= n;i++)
        {
             demo(ints,i);
        }
        for(int i = 0;i < ints.length;i++)
        {
            System.out.print(ints[i]);
        }
    }
    public static void demo(int []ints,int number)
    {
        for(int i = 0;i < ints.length;i++)
        {
            ints[i]*=number;
        }
        //è¿›ä½å’Œä½™ä½
        for(int i = ints.length-1;i>0;i--)
        {
            int carry = ints[i]/10;
            ints[i] = ints[i] % 10;
            ints[i-1] = ints[i-1]+carry;
        }
       
    }
    public static void main(String[] args) throws InterruptedException {
        jiecheng(5);
    }
```

## ä¸¤ä¸ªå¤§æ•°ç›¸åŠ 



 1ã€æ˜¯æ•´æ•°ï¼› 2ã€ä¸¤ä¸ªæ•°æ— é™å¤§ï¼Œlongéƒ½è£…ä¸ä¸‹ï¼› 3ã€ä¸èƒ½ç”¨BigIntegerï¼› 4ã€ä¸èƒ½ç”¨ä»»ä½•åŒ…è£…ç±»æä¾›çš„è¿ç®—æ–¹æ³•ï¼› 5ã€ä¸¤ä¸ªæ•°éƒ½æ˜¯ä»¥å­—ç¬¦ä¸²çš„æ–¹å¼æä¾›ã€‚

/**
     * æ€è·¯ï¼š
          * å­—ç¬¦ä¸²é€ä½ç›¸åŠ ï¼Œéœ€è¦è¿›ä½åˆ™è¿›ä½å¤„ç†ï¼Œè€ƒè™‘ä¸¤ä¸ªé—®é¢˜ï¼š
          * 1ã€charæ€ä¹ˆè½¬æ¢ä¸ºinteger, å‡å»'0'å³å¯
               * 2ã€æ€ä¹ˆå¤„ç†å¯¹åº”ä½ç›¸åŠ ?åè½¬å­—ç¬¦ä¸²ç›¸åŠ ï¼Œæ­£ç¡®å¤„ç†è¿›ä½å³å¯ï¼Œ
             *    è¿™æ ·ä¸ªä½å¯¹åº”ä¸ªä½ï¼Œåä½å¯¹åº”åä½ï¼Œå‰©ä½™çš„ç›´æ¥è¿½åŠ    */

```java
public static String add(String str1, String str2) {
    char[]arr1 = new StringBuilder(str1).reverse().toString().toCharArray();
    char[]arr2 =  new StringBuilder(str2).reverse().toString().toCharArray();
    int maxlen = arr1.length>arr2.length?arr1.length:arr2.length;
    int [] newlen = new int[maxlen+1];
    for (int i = 0; i < maxlen; i++) {
        int an1 = i < arr1.length?arr1[i]-'0':0;
        int an2 = i < arr2.length?arr2[i]-'0':0;
        newlen[i] = an1+an2;
    }
    for (int i = 0; i < newlen.length; i++)
    {
        if(newlen[i] >= 10)
        {
            newlen[i+1] += newlen[i]/10;
            newlen[i] %=10;

        }
    }
    StringBuilder ans = new StringBuilder();
    for (int i = newlen.length-1; i >=0;i--) {
        ans.append(newlen[i]);
    }
    if(ans.toString().charAt(0)=='0')
    {
        return ans.toString().substring(1,ans.length());//å»æ‰å¼€å¤´å¯èƒ½æœ‰çš„0
    }
    return ans.toString();

}
public static void main(String[] args) {
    System.out.println(  add("9234","22999999999"));
}
```



## å¤§æ•°ä¹˜æ³•

ï¼ˆå­—ç¬¦ä¸²ç›¸ä¹˜ï¼‰

ç»™å®šä¸¤ä¸ªä»¥å­—ç¬¦ä¸²å½¢å¼è¡¨ç¤ºçš„éè´Ÿæ•´æ•° num1 å’Œ num2ï¼Œè¿”å› num1 å’Œ num2 çš„ä¹˜ç§¯ï¼Œå®ƒä»¬çš„ä¹˜ç§¯ä¹Ÿè¡¨ç¤ºä¸ºå­—ç¬¦ä¸²å½¢å¼ã€‚

æ³¨æ„ï¼šä¸èƒ½ä½¿ç”¨ä»»ä½•å†…ç½®çš„ BigInteger åº“æˆ–ç›´æ¥å°†è¾“å…¥è½¬æ¢ä¸ºæ•´æ•°ã€‚

----

```java
   public String multiply(String num1, String num2) {
LinkedList<Integer>temp =  new LinkedList<>();
if(num2.equals("0")||num1.equals("0")) return "0";
int[]ans = new int[num1.length()+num2.length()];
for(int i = num1.length()-1;i>=0;i--)
{
    for(int j = num2.length()-1;j>=0;j--)
    {
        int digi1 = num1.charAt(i)-'0';
        int digi2 = num2.charAt(j)-'0';
        int tot = ans[i+j+1]+digi1*digi2;
        ans[i+j+1]=tot%10;
        ans[i+j] += tot/10;
     }
}
String ut ="";
boolean flag = true;
for(int i = 0;i < ans.length;i++)
{
    if(ans[i]==0&&flag)
    continue;
    flag = false;
    if(!flag)
ut+=ans[i];
}
return ut;
    }
```





# ç‰¹æ®Šçš„ç®—æ³•

## 100äº¿æ•°æ®æ‰¾å‡ºæœ€å¤§çš„1000ä¸ªæ•°å­—

è¿™æ˜¯äº’è”ç½‘é¢†åŸŸä¸€ä¸ªæ¯”è¾ƒç»å…¸çš„ç®—æ³•é—®é¢˜ï¼ˆtop kï¼‰ï¼Œå¦‚ä½•åœ¨å·¨å¤§çš„æ•°æ®ä¸­æ‰¾å‡ºæœ€å¤§ï¼Œæˆ–è€…è®¿é—®é‡æœ€é«˜çš„å‰10ä¸ªï¼Œå‰100ä¸ªæˆ–è€…å‰1000ä¸ªæ•°æ®ã€‚æ¯”å¦‚åœ¨2äº¿ç”¨æˆ·è®°å½•ä¸­æ‰¾å‡ºä¿¡ç”¨ç­‰çº§æœ€é«˜çš„ï¼Œåœ¨ä¸Šäº¿ä¸ªæœç´¢è¯æ±‡ä¸­æ‰¾å‡ºè¢«æœç´¢æ¬¡æ•°æœ€é«˜çš„10ä¸ªå…³é”®å­—ã€‚å‰ææ˜¯æ•°æ®å­˜å‚¨åœ¨æ–‡ä»¶ä¸­

ä¸€èˆ¬é‡åˆ°è¿™ä¸ªé—®é¢˜ï¼Œç¬¬ä¸€ååº”ä¼šæƒ³åˆ°æ’åºï¼Œä½†æ˜¯ç¨å¾®å¯¹å†…å­˜æœ‰ç‚¹äº†è§£çš„äººç«‹åˆ»éƒ½ä¼šå¦å®šè¿™ä¸ªç­”æ¡ˆï¼Œå¤§é‡çš„æ•°æ®å¯¼å…¥å†…å­˜ä¸”ä¸è¯´å†…å­˜å¤Ÿä¸å¤Ÿï¼Œå°±ç®—è¶³å¤ŸæœåŠ¡å™¨ä¸Šå…¶ä»–çš„æœåŠ¡éƒ½ä¸éœ€è¦å†…å­˜äº†å—ï¼Ÿé‚£ä¹ˆæ¥ä¸‹æ¥çš„æ€è·¯å°±æ˜¯ï¼Œå¦‚æœä¸å…è®¸å…¨éƒ¨å¯¼å…¥å†…å­˜ï¼Œè¿˜è¦æ‰¾å‡ºæœ€å¤§çš„1000ä¸ªæ•°å­—ï¼Œé‚£å°±è¦ç”¨åˆ°å¤–éƒ¨æ’åºï¼ˆé€‰æ‹©ï¼‰çš„ç®—æ³•äº†ã€‚

è§£å†³çš„æ€è·¯æœ‰ä¸‹é¢å‡ ä¸ªï¼š

1.é‡‡ç”¨å°é¡¶å †ç®—æ³•ï¼Œæˆ‘ä»¬çŸ¥é“å®Œå…¨äºŒå‰æ ‘æœ‰å‡ ä¸ªéå¸¸é‡è¦çš„ç‰¹æ€§ï¼Œå°±æ˜¯å‡å¦‚è¯¥äºŒå‰æ ‘ä¸­æ€»å…±æœ‰Nä¸ªèŠ‚ç‚¹ï¼Œé‚£ä¹ˆè¯¥äºŒå‰æ ‘çš„æ·±åº¦å°±æ˜¯log2Nï¼Œå¯¹äºå°é¡¶å †æ¥è¯´ç§»åŠ¨æ ¹å…ƒç´ åˆ° åº•éƒ¨æˆ–è€…ç§»åŠ¨åº•éƒ¨å…ƒç´ åˆ°æ ¹éƒ¨åªéœ€è¦log2Nï¼Œç›¸æ¯”Næ¥è¯´æ—¶é—´å¤æ‚åº¦ä¼˜åŒ–å¤ªå¤šäº†ï¼ˆ1äº¿çš„logNå€¼æ˜¯26-27çš„ä¸€ä¸ªæµ®ç‚¹æ•°ï¼‰ã€‚åŸºæœ¬çš„æ€è·¯å°±æ˜¯å…ˆä»æ–‡ä»¶ä¸­å–å‡º1000ä¸ªå…ƒç´ æ„å»ºä¸€ä¸ªå°é¡¶å †æ•°ç»„kï¼Œç„¶åä¾æ¬¡å¯¹å‰©ä¸‹çš„100äº¿-1000ä¸ªæ•°å­—è¿›è¡Œéå†mï¼Œå¦‚æœmå¤§äºå°é¡¶å †çš„æ ¹å…ƒç´ ï¼Œå³k[0]ï¼Œé‚£ä¹ˆç”¨må–ä»£k[0]ï¼Œå¯¹æ–°çš„æ•°ç»„è¿›è¡Œé‡æ–°æ„å»ºç»„æˆä¸€ä¸ªæ–°çš„å°é¡¶å †ã€‚è¿™ä¸ªç®—æ³•çš„æ—¶é—´å¤æ‚åº¦æ˜¯O((100äº¿-1000)log(1000))ï¼Œå³O((N-M)logM)ï¼Œç©ºé—´å¤æ‚åº¦æ˜¯M

è¿™ä¸ªç®—æ³•ä¼˜ç‚¹æ˜¯æ€§èƒ½å°šå¯ï¼Œç©ºé—´å¤æ‚åº¦ä½ï¼ŒIOè¯»å–æ¯”è¾ƒé¢‘ç¹ï¼Œå¯¹ç³»ç»Ÿå‹åŠ›å¤§ã€‚

2.é‡‡ç”¨åˆ†åŒºæ³•ï¼Œå°†100äº¿ä¸ªæ•°æ®åˆ†æˆ1000ä¸ªåˆ†åŒºï¼Œæ¯ä¸ªåˆ†åŒºä¸Š1000ä¸‡ä¸ªæ•°æ®ï¼Œåœ¨æ¯ä¸ªåˆ†åŒºä¸Šä¸Šå†ç»†åˆ†æˆ100ä¸ªåˆ†åŒºï¼Œå³æ€»å…±åˆ†æˆ1000*100ä¸ªåˆ†åŒºï¼Œç„¶åå¯åŠ¨å¤šçº¿ç¨‹è¿›è¡Œå¤„ç†ï¼Œå„ä¸ªåˆ†åŒºä¸Šé‡‡ç”¨å°é¡¶å †ç®—æ³•å–å‡ºæœ€å¤§çš„1000ä¸ªæ•°æ®ï¼Œåˆ†å±‚è¿›è¡Œåˆå¹¶ç„¶åé‡æ–°è®¡ç®—ä¸åŒå±‚ä¸Šçš„æœ€å¤§1000ä¸ªæ•°ï¼Œæœ€ç»ˆé€’å½’åˆ°æœ€ä¸Šå±‚ã€‚ä½†linuxç³»ç»Ÿä¸Šä¸€ä¸ªè¿›ç¨‹èƒ½å¯åŠ¨çš„é»˜è®¤çº¿ç¨‹æ•°æ˜¯1024ä¸ªï¼Œæ‰€ä»¥è¦ä¹ˆè°ƒæ•´æœ€å¤§çº¿ç¨‹æ•°ï¼Œè¦ä¹ˆåœ¨çº¿ç¨‹è°ƒç”¨å¤„åšä¸€äº›å¤„ç†ï¼Œæ¯”å¦‚ä¸€ä¸ªçº¿ç¨‹å®Œæˆä¸€ä¸ªåˆ†åŒºä¹‹åå†å»å¤„ç†ç›¸é‚»çš„åˆ†åŒºï¼Œæˆ–è€…åœ¨åˆ†åŒºçš„æ—¶å€™æŠŠæ‰€æœ‰çš„åˆ†åŒºæ•°ç›®é™åˆ¶åœ¨1024ä¹‹å†…ã€‚è¿™ä¸ªç®—æ³•åˆ‡åˆäº†map-reduceçš„æ€æƒ³ï¼Œåˆ©ç”¨äº†å¤šçº¿ç¨‹å’Œå¤šå¤„ç†å™¨çš„ä¼˜åŠ¿ï¼Œå‡å°‘äº†å¤šä½™çš„æ¯”è¾ƒå’ŒIOè¯»å–ï¼Œæ€§èƒ½æ¯”ç¬¬ä¸€ç§ä¼šæ›´å¥½ä½†ç®—æ³•æ›´å¤æ‚ä¸€ç‚¹ï¼Œè¦è€ƒè™‘çš„æƒ…å†µä¹Ÿæ›´å¤šã€‚



## å¿«æ…¢æŒ‡é’ˆæ‰¾æ•°ç»„ä¸­é‡å¤æ•°å­—



---

æ•°ç»„å½¢å¼çš„é“¾è¡¨
é¢˜ç›®è®¾å®šçš„é—®é¢˜æ˜¯ N+1 ä¸ªå…ƒç´ éƒ½åœ¨ [1,n] è¿™ä¸ªèŒƒå›´å†…ã€‚è¿™æ ·æˆ‘ä»¬å¯ä»¥ç”¨é‚£ä¸ªç±»ä¼¼äº â€˜ç¼ºå¤±çš„ç¬¬ä¸€ä¸ªæ­£æ•°â€™ è¿™ç§è§£æ³•æ¥åšï¼Œä½†æ˜¯é¢˜æ„é™åˆ¶äº†æˆ‘ä»¬ä¸èƒ½ä¿®æ”¹åŸæ•°ç»„ï¼Œæˆ‘ä»¬åªèƒ½å¦å¯»ä»–æ³•ã€‚ä¹Ÿå°±æ˜¯æœ¬ç¼–é¢˜è§£è®²çš„æ–¹æ³•ï¼Œå°†è¿™ä¸ªé¢˜ç›®ç»™çš„ç‰¹æ®Šçš„æ•°ç»„å½“ä½œä¸€ä¸ªé“¾è¡¨æ¥çœ‹ï¼Œæ•°ç»„çš„ä¸‹æ ‡å°±æ˜¯æŒ‡å‘å…ƒç´ çš„æŒ‡é’ˆï¼ŒæŠŠæ•°ç»„çš„å…ƒç´ ä¹Ÿçœ‹ä½œæŒ‡é’ˆã€‚å¦‚ 0 æ˜¯æŒ‡é’ˆï¼ŒæŒ‡å‘ nums[0]ï¼Œè€Œ nums[0] ä¹Ÿæ˜¯æŒ‡é’ˆï¼ŒæŒ‡å‘ nums[nums[0]].
è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥æœ‰è¿™æ ·çš„æ“ä½œ

int point = 0;
while(true){
    point = nums[point]; // ç­‰åŒäº next = next->next; 
}

é“¾è¡¨ä¸­çš„ç¯
å‡è®¾æœ‰è¿™æ ·ä¸€ä¸ªæ ·ä¾‹ï¼š[1,2,3,4,5,6,7,8,9,5]ã€‚å¦‚æœæˆ‘ä»¬æŒ‰ç…§ä¸Šé¢çš„å¾ªç¯ä¸‹å»å°±ä¼šå¾—åˆ°è¿™æ ·ä¸€ä¸ªè·¯å¾„: 1 2 3 4 5 [6 7 8 9] [6 7 8 9] [6 7 8 9] . . .è¿™æ ·å°±æœ‰äº†ä¸€ä¸ªç¯ï¼Œä¹Ÿå°±æ˜¯6 7 8 9ã€‚point ä¼šä¸€ç›´åœ¨ç¯ä¸­å¾ªç¯çš„å‰è¿›ã€‚
è¿™æ—¶æˆ‘ä»¬è®¾ç½®ä¸¤ä¸ªä¸€å¿«(fast)ä¸€æ…¢(slow)ä¸¤ä¸ªæŒ‡é’ˆï¼Œä¸€ä¸ªæ¯æ¬¡èµ°ä¸¤æ­¥ï¼Œä¸€ä¸ªæ¯æ¬¡èµ°ä¸€æ­¥ï¼Œè¿™æ ·è®©ä»–ä»¬ä¸€ç›´èµ°ä¸‹å»ï¼Œç›´åˆ°ä»–ä»¬åœ¨é‡å¤çš„åºåˆ—ä¸­ç›¸é‡ï¼Œ

```java
int fast = 0, slow = 0;
while(true){
    fast = nums[nums[fast]];
    slow = nums[slow];
    if(fast == slow)
        break;
}
```

å¦‚ä¸Šå›¾ï¼Œslowå’Œfastä¼šåœ¨ç¯ä¸­ç›¸é‡ï¼Œå…ˆå‡è®¾ä¸€äº›é‡ï¼šèµ·ç‚¹åˆ°ç¯çš„å…¥å£é•¿åº¦ä¸ºmï¼Œç¯çš„å‘¨é•¿ä¸ºcï¼Œåœ¨fastå’Œslowç›¸é‡æ—¶slowèµ°äº†næ­¥ã€‚åˆ™fastèµ°äº†2næ­¥ï¼Œfastæ¯”slowå¤šèµ°äº†næ­¥ï¼Œè€Œè¿™næ­¥å…¨ç”¨åœ¨äº†åœ¨ç¯é‡Œå¾ªç¯ï¼ˆn%c==0ï¼‰ã€‚


å¦‚ä¸Šå›¾ï¼Œslowå’Œfastä¼šåœ¨ç¯ä¸­ç›¸é‡ï¼Œå…ˆå‡è®¾ä¸€äº›é‡ï¼šèµ·ç‚¹åˆ°ç¯çš„å…¥å£é•¿åº¦ä¸ºmï¼Œç¯çš„å‘¨é•¿ä¸ºcï¼Œåœ¨fastå’Œslowç›¸é‡æ—¶slowèµ°äº†næ­¥ã€‚åˆ™fastèµ°äº†2næ­¥ï¼Œfastæ¯”slowå¤šèµ°äº†næ­¥ï¼Œè€Œè¿™næ­¥å…¨ç”¨åœ¨äº†åœ¨ç¯é‡Œå¾ªç¯ï¼ˆn%c==0ï¼‰ã€‚
å½“fastå’Œlastç›¸é‡ä¹‹åï¼Œæˆ‘ä»¬è®¾ç½®ç¬¬ä¸‰ä¸ªæŒ‡é’ˆfinderï¼Œå®ƒä»èµ·ç‚¹å¼€å§‹å’Œslow(åœ¨fastå’Œslowç›¸é‡å¤„)åŒæ­¥å‰è¿›ï¼Œå½“finderå’Œslowç›¸é‡æ—¶ï¼Œå°±æ˜¯åœ¨ç¯çš„å…¥å£å¤„ç›¸é‡ï¼Œä¹Ÿå°±æ˜¯é‡å¤çš„é‚£ä¸ªæ•°å­—ç›¸é‡ã€‚

ä¸ºä»€ä¹ˆ finder å’Œ slow ç›¸é‡åœ¨å…¥å£
fast å’Œ slow ç›¸é‡æ—¶ï¼Œslow åœ¨ç¯ä¸­è¡Œè¿›çš„è·ç¦»æ˜¯n-mï¼Œå…¶ä¸­ n%c==0ã€‚è¿™æ—¶æˆ‘ä»¬å†è®© slow å‰è¿› m æ­¥â€”â€”ä¹Ÿå°±æ˜¯åœ¨ç¯ä¸­èµ°äº† n æ­¥äº†ã€‚è€Œ n%c==0 å³ slow åœ¨ç¯é‡Œé¢èµ°çš„è·ç¦»æ˜¯ç¯çš„å‘¨é•¿çš„æ•´æ•°å€ï¼Œå°±å›åˆ°äº†ç¯çš„å…¥å£äº†ï¼Œè€Œå…¥å£å°±æ˜¯é‡å¤çš„æ•°å­—ã€‚
æˆ‘ä»¬ä¸çŸ¥é“èµ·ç‚¹åˆ°å…¥å£çš„é•¿åº¦mï¼Œæ‰€ä»¥å¼„ä¸ª finder å’Œ slow ä¸€èµ·èµ°ï¼Œä»–ä»¬å¿…å®šä¼šåœ¨å…¥å£å¤„ç›¸é‡ã€‚



```java
public int findDuplicate(int[] nums) {

int len=nums.length;
//1-len+1ä¹‹é—´
int slow=0,fast=0;
do{
slow=nums[slow];
fast=nums[nums[fast]];
}while(slow!=fast);
slow=0;
do{
    slow=nums[slow];
    fast=nums[fast];
}while(slow!=fast);
return slow;
    }
```



## å·¦ç¨‹äº‘ï¼šä»å·¦å¾€å³çš„å°è¯•æ¨¡å‹

![image-20211206105757500](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20211206105757500.png)

```java
public static int convert(string str)
{
    if(str == null ||str,length == 0)
        return 0;
    return process(str.toCharAr,0);//iä»0å¼€å§‹
}
public int process(char[] str,int i)
{
    if(i == str.length)
return 1;//ç›´æ¥è¿”å›
        if(str[i] == '0')
        return 0;
    if(str[i] == '1')
    {
        int res = process(str,i+1);//iè‡ªå·±ä½œä¸ºå•ç‹¬çš„éƒ¨åˆ†ï¼Œåç»­æœ‰å¤šå°‘ç§æ–¹æ³•
        if(i + 1 < str.length)
        {
res+=process(str,i+2);//iå’Œi+1ä½œä¸ºå•ç‹¬çš„éƒ¨åˆ†ï¼Œåç»­æœ‰å¤šå°‘ç§æ–¹æ³•
        }
        return res;
    }
    if(Str[i] == '2')
    {
        int res = process(str,i+1iè‡ªå·±ä½œä¸ºå•ç‹¬çš„éƒ¨åˆ†
      if(i+1 <str.length && (str[i+1] >='0' && str[i+1] <= '6'))//æœ€é«˜26ä¸ªå­—æ¯ï¼Œæ‰€ä»¥iä¸º2æ—¶i+1æœ€é«˜åªæœ‰26ä¸ª
        {
            res+=process(str,i+2);
        }
        return res;
    }
                          //å…¶ä»–çš„æƒ…å†µstr[i]!=1ä¸”!=2
    return process(str,i+1);//å¦‚æœstr[i] == '3' ~'9'çš„è¯
}
```

## [135. åˆ†å‘ç³–æœ](https://leetcode-cn.com/problems/candy/)

éš¾åº¦å›°éš¾751

`n` ä¸ªå­©å­ç«™æˆä¸€æ’ã€‚ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `ratings` è¡¨ç¤ºæ¯ä¸ªå­©å­çš„è¯„åˆ†ã€‚

ä½ éœ€è¦æŒ‰ç…§ä»¥ä¸‹è¦æ±‚ï¼Œç»™è¿™äº›å­©å­åˆ†å‘ç³–æœï¼š

- æ¯ä¸ªå­©å­è‡³å°‘åˆ†é…åˆ° `1` ä¸ªç³–æœã€‚
- ç›¸é‚»ä¸¤ä¸ªå­©å­è¯„åˆ†æ›´é«˜çš„å­©å­ä¼šè·å¾—æ›´å¤šçš„ç³–æœã€‚

è¯·ä½ ç»™æ¯ä¸ªå­©å­åˆ†å‘ç³–æœï¼Œè®¡ç®—å¹¶è¿”å›éœ€è¦å‡†å¤‡çš„ **æœ€å°‘ç³–æœæ•°ç›®** ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šratings = [1,0,2]
è¾“å‡ºï¼š5
è§£é‡Šï¼šä½ å¯ä»¥åˆ†åˆ«ç»™ç¬¬ä¸€ä¸ªã€ç¬¬äºŒä¸ªã€ç¬¬ä¸‰ä¸ªå­©å­åˆ†å‘ 2ã€1ã€2 é¢—ç³–æœã€‚
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šratings = [1,2,2]
è¾“å‡ºï¼š4
è§£é‡Šï¼šä½ å¯ä»¥åˆ†åˆ«ç»™ç¬¬ä¸€ä¸ªã€ç¬¬äºŒä¸ªã€ç¬¬ä¸‰ä¸ªå­©å­åˆ†å‘ 1ã€2ã€1 é¢—ç³–æœã€‚
     ç¬¬ä¸‰ä¸ªå­©å­åªå¾—åˆ° 1 é¢—ç³–æœï¼Œè¿™æ»¡è¶³é¢˜é¢ä¸­çš„ä¸¤ä¸ªæ¡ä»¶ã€‚
```

-----

![image-20220209171206392](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220209171206392.png)

## [168. Excelè¡¨åˆ—åç§°](https://leetcode-cn.com/problems/excel-sheet-column-title/)

éš¾åº¦ç®€å•492

ç»™ä½ ä¸€ä¸ªæ•´æ•° `columnNumber` ï¼Œè¿”å›å®ƒåœ¨ Excel è¡¨ä¸­ç›¸å¯¹åº”çš„åˆ—åç§°ã€‚

ä¾‹å¦‚ï¼š

```
A -> 1
B -> 2
C -> 3
...
Z -> 26
AA -> 27
AB -> 28 
...
```

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šcolumnNumber = 1
è¾“å‡ºï¼š"A"
```

------

```java
class Solution {
    public String convertToTitle(int columnNumber) {
char[]arr= new char[]{'0','A','B','C','D','E','F','G','H','I','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z'};
StringBuilder ans=new StringBuilder();
while(columnNumber!=0)
{
    --columnNumber;//è¦å…ˆå‡ä¸€æ‰è¡Œ
    int i=(columnNumber-1)%26;
  //  ans+=arr[i];
  ans.append((char)(columnNumber%26+'A'));//æ³¨æ„è¿™é‡Œcharåé¢çš„å†…å®¹è¦åŠ æ‹¬å·ï¼Œä¸ç„¶æœ€åç»“æœéƒ½æ˜¯æ•°å­—
    columnNumber/=26;

}
return ans.reverse().toString();
    }
}
```

## æ¨è¾‰ä¸‰è§’

```java
 public List<List<Integer>> generate(int numRows) {

List<List<Integer>> mylist= new LinkedList<>();
for(int i=0;i<numRows;i++){
List<Integer>temp = new LinkedList<>();

for(int j=0;j<i+1;j++)
{
  if(j==0||j==i) temp.add(1);
  else
  temp.add(mylist.get(i-1).get(j-1)+mylist.get(i-1).get(j));
}
mylist.add(temp);

}
return mylist;

  }
```

## åŸåœ°äº¤æ¢æ³•æ‰¾å‡ºæ•°ç»„ä¸­æŸä¸ªé‡å¤å…ƒç´ 

![image-20220211020645527](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220211020645527.png)

ä»£ç ï¼š

```java
    public int findRepeatNumber(int[] nums) {
int i = 0;
while(i < nums.length)
//æ³¨æ„ï¼Œè¿™é‡Œç”¨forå¾ªç¯ä¼šå‡ºé”™
{
    if(nums[i]==i) {i++;continue;}
     if(nums[nums[i]]==nums[i]) return nums[i];
    int temp = nums[i];
    nums[i] = nums[temp];
    nums[temp] = temp;
   
}
return -1;
    }
```



## [57. æ’å…¥åŒºé—´ï¼ˆåˆå¹¶åŒºé—´ï¼‰](https://leetcode-cn.com/problems/insert-interval/)

éš¾åº¦ä¸­ç­‰549

ç»™ä½ ä¸€ä¸ª **æ— é‡å çš„** *ï¼Œ*æŒ‰ç…§åŒºé—´èµ·å§‹ç«¯ç‚¹æ’åºçš„åŒºé—´åˆ—è¡¨ã€‚

åœ¨åˆ—è¡¨ä¸­æ’å…¥ä¸€ä¸ªæ–°çš„åŒºé—´ï¼Œä½ éœ€è¦ç¡®ä¿åˆ—è¡¨ä¸­çš„åŒºé—´ä»ç„¶æœ‰åºä¸”ä¸é‡å ï¼ˆå¦‚æœæœ‰å¿…è¦çš„è¯ï¼Œå¯ä»¥åˆå¹¶åŒºé—´ï¼‰ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šintervals = [[1,3],[6,9]], newInterval = [2,5]
è¾“å‡ºï¼š[[1,5],[6,9]]
```

----

![image-20220211025554083](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220211025554083.png)



```java
   public int[][] insert(int[][] intervals, int[] newInterval) {
 int left = newInterval[0],right = newInterval[1];
 List<int[]>temp = new ArrayList<>();
 boolean flag = false;
 for(int[]interval:intervals)
 {
   if(right < interval[0])
   {
       if(!flag)
       {
           temp.add(new int[]{left,right});
           flag = true;
       }
       temp.add(interval);
   }
   else if(left > interval[1])
   {
       temp.add(interval);
   }
   else
   {
       left = Math.min(left,interval[0]);
       right = Math.max(right,interval[1]);
     //  temp.add(new int[min,max]);
   }
 }
 if(!flag)
 temp.add(new int[]{left,right});
 int[][] ans = new int[temp.size()][2];
 for(int i = 0;i <temp.size();i++)
 ans[i] = temp.get(i);
       //ä¹Ÿå¯ä»¥è¿™æ ·å†™ï¼štemp.toArray(new int[ans.size()][]);
 return ans;

    }
```

## åŒºé—´äº¤é›†

ç»™å®šä¸¤ä¸ªç”±ä¸€äº› é—­åŒºé—´ ç»„æˆçš„åˆ—è¡¨ï¼ŒfirstList å’Œ secondList ï¼Œå…¶ä¸­ firstList[i] = [starti, endi] è€Œ secondList[j] = [startj, endj] ã€‚æ¯ä¸ªåŒºé—´åˆ—è¡¨éƒ½æ˜¯æˆå¯¹ ä¸ç›¸äº¤ çš„ï¼Œå¹¶ä¸” å·²ç»æ’åº ã€‚

è¿”å›è¿™ ä¸¤ä¸ªåŒºé—´åˆ—è¡¨çš„äº¤é›† ã€‚

å½¢å¼ä¸Šï¼Œé—­åŒºé—´ [a, b]ï¼ˆå…¶ä¸­ a <= bï¼‰è¡¨ç¤ºå®æ•° x çš„é›†åˆï¼Œè€Œ a <= x <= b ã€‚

ä¸¤ä¸ªé—­åŒºé—´çš„ äº¤é›† æ˜¯ä¸€ç»„å®æ•°ï¼Œè¦ä¹ˆä¸ºç©ºé›†ï¼Œè¦ä¹ˆä¸ºé—­åŒºé—´ã€‚ä¾‹å¦‚ï¼Œ[1, 3] å’Œ [2, 4] çš„äº¤é›†ä¸º [2, 3] ã€‚

---

è¿™é¢˜ä¸€å¼€å§‹è‡ªå·±ç”¨çš„æ˜¯ä¸¤ä¸ªforå¾ªç¯ï¼Œå®˜æ–¹ç­”æ¡ˆæ˜¯ä¸€ä¸ªforå¾ªç¯ï¼ˆè™½ç„¶è§‰å¾—è‡ªå·±çš„ä¸¤ä¸ªforä¹Ÿå¹¶ä¸ä¼šå·®åˆ«å¤ªå¤§ï¼Ÿ)

å®˜æ–¹ç­”æ¡ˆçš„ï¼š

```java
public int[][] intervalIntersection(int[][] firstList, int[][] secondList) {
//if(secondList.length == 0) return new int[];
List<int[]> ans = new ArrayList();
    int i = 0, j = 0;

    while (i < firstList.length && j < secondList.length) {
      // Let's check if A[i] intersects B[j].
      // lo - the startpoint of the intersection
      // hi - the endpoint of the intersection
      int lo = Math.max(firstList[i][0], secondList[j][0]);
      int hi = Math.min(firstList[i][1], secondList[j][1]);
      if (lo <= hi)
        ans.add(new int[]{lo, hi});

      // Remove the interval with the smallest endpoint
      if (firstList[i][1] < secondList[j][1])
        i++;
      else
        j++;
    }
    return ans.toArray(new int[ans.size()][]);
```



## [1288. åˆ é™¤è¢«è¦†ç›–åŒºé—´](https://leetcode-cn.com/problems/remove-covered-intervals/)

éš¾åº¦ä¸­ç­‰59

ç»™ä½ ä¸€ä¸ªåŒºé—´åˆ—è¡¨ï¼Œè¯·ä½ åˆ é™¤åˆ—è¡¨ä¸­è¢«å…¶ä»–åŒºé—´æ‰€è¦†ç›–çš„åŒºé—´ã€‚

åªæœ‰å½“ `c <= a` ä¸” `b <= d` æ—¶ï¼Œæˆ‘ä»¬æ‰è®¤ä¸ºåŒºé—´ `[a,b)` è¢«åŒºé—´ `[c,d)` è¦†ç›–ã€‚

åœ¨å®Œæˆæ‰€æœ‰åˆ é™¤æ“ä½œåï¼Œè¯·ä½ è¿”å›åˆ—è¡¨ä¸­å‰©ä½™åŒºé—´çš„æ•°ç›®ã€‚

 

**ç¤ºä¾‹ï¼š**

```
è¾“å…¥ï¼šintervals = [[1,4],[3,6],[2,8]]
è¾“å‡ºï¼š2
è§£é‡Šï¼šåŒºé—´ [3,6] è¢«åŒºé—´ [2,8] è¦†ç›–ï¼Œæ‰€ä»¥å®ƒè¢«åˆ é™¤äº†ã€‚
```

---

é¦–å…ˆæ˜¯å¯¹æ•°ç»„è¿›è¡Œæ’åºï¼Œè¿™é‡Œæ³¨æ„å¦‚æœç¬¬ä¸€ä¸ªå…ƒç´ ç›¸åŒï¼Œåˆ™æŒ‰ç…§ç¬¬äºŒä¸ªå…ƒç´ é€†åºæ¥æ’ï¼Œå¦åˆ™æŒ‰ç…§ç¬¬ä¸€ä¸ªå…ƒç´ çš„æ­£åºæ¥æ’

![image-20220211033715291](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220211033715291.png)

```java
    public int removeCoveredIntervals(int[][] intervals) {

int tot=0,prevend =0;
Arrays.sort(intervals,new Comparator<int[]>() {
@Override
public int compare(int[]a,int[]b)
{
    return a[0]==b[0]?b[1]-a[1]:a[0]-b[0];
} });
for(int i = 0;i < intervals.length;i++){

    int end = intervals[i][1];
  if(prevend <end)
  {
      tot++;
      prevend = end;
  }
}
return tot;
    }
```

## æ„é€ æœ€é•¿å›æ–‡ä¸²

ç»™å®šä¸€ä¸ªåŒ…å«å¤§å†™å­—æ¯å’Œå°å†™å­—æ¯çš„å­—ç¬¦ä¸² s ï¼Œè¿”å› é€šè¿‡è¿™äº›å­—æ¯æ„é€ æˆçš„ æœ€é•¿çš„å›æ–‡ä¸² ã€‚

åœ¨æ„é€ è¿‡ç¨‹ä¸­ï¼Œè¯·æ³¨æ„ åŒºåˆ†å¤§å°å†™ ã€‚æ¯”å¦‚ "Aa" ä¸èƒ½å½“åšä¸€ä¸ªå›æ–‡å­—ç¬¦ä¸²ã€‚

 

ç¤ºä¾‹ 1:

è¾“å…¥:s = "abccccdd"
è¾“å‡º:7
è§£é‡Š:
æˆ‘ä»¬å¯ä»¥æ„é€ çš„æœ€é•¿çš„å›æ–‡ä¸²æ˜¯"dccaccd", å®ƒçš„é•¿åº¦æ˜¯ 7ã€‚

----

æŠ€å·§ï¼šé¢˜ç›®ä¸è¦æ±‚é¡ºåºï¼Œå¯ä»¥åˆ©ç”¨hashsetæ¥æ„é€ ï¼Œæ¯é‡åˆ°ä¸€ä¸ªæ–°å­—ç¬¦åªéœ€è¦æ·»åŠ åˆ°hashsetä¸­ï¼Œä¸‹æ¬¡å†é‡åˆ°åŒæ ·çš„å°±ç§»é™¤

```java
 public int longestPalindrome(String s) {
HashSet<Character>myset = new HashSet<>();
int count=0;
for(int i= 0;i<s.length();i++)
{
if(myset.contains(s.charAt(i)))
{
    count++;
    myset.remove(s.charAt(i));
}
else
myset.add(s.charAt(i));
}
return myset.size()==0?count*2:count*2+1;
    }
```

## æœ€é•¿å›æ–‡å­åºåˆ—

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² `s` ï¼Œæ‰¾å‡ºå…¶ä¸­æœ€é•¿çš„å›æ–‡å­åºåˆ—ï¼Œå¹¶è¿”å›è¯¥åºåˆ—çš„é•¿åº¦ã€‚

å­åºåˆ—å®šä¹‰ä¸ºï¼šä¸æ”¹å˜å‰©ä½™å­—ç¬¦é¡ºåºçš„æƒ…å†µä¸‹ï¼Œåˆ é™¤æŸäº›å­—ç¬¦æˆ–è€…ä¸åˆ é™¤ä»»ä½•å­—ç¬¦å½¢æˆçš„ä¸€ä¸ªåºåˆ—ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šs = "bbbab"
è¾“å‡ºï¼š4
è§£é‡Šï¼šä¸€ä¸ªå¯èƒ½çš„æœ€é•¿å›æ–‡å­åºåˆ—ä¸º "bbbb" ã€‚
```

```java
 public int longestPalindromeSubseq(String s) {
int len = s.length();
int[][]dp = new int[len][len];
for(int i =len-1;i>=0;i--)
{
    dp[i][i] = 1;
    for(int j = i+1;j<len;j++)
    {
        if(s.charAt(i)==s.charAt(j))
        {
            dp[i][j]=dp[i+1][j-1]+2;
        }
        else dp[i][j] = Math.max(dp[i+1][j],dp[i][j-1]);
    }
}
return dp[0][len-1];
    }
```



----

![image-20220211063657710](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220211063657710.png)

## [647. å›æ–‡å­ä¸²](https://leetcode-cn.com/problems/palindromic-substrings/)

éš¾åº¦ä¸­ç­‰778

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² `s` ï¼Œè¯·ä½ ç»Ÿè®¡å¹¶è¿”å›è¿™ä¸ªå­—ç¬¦ä¸²ä¸­ **å›æ–‡å­ä¸²** çš„æ•°ç›®ã€‚

**å›æ–‡å­—ç¬¦ä¸²** æ˜¯æ­£ç€è¯»å’Œå€’è¿‡æ¥è¯»ä¸€æ ·çš„å­—ç¬¦ä¸²ã€‚

**å­å­—ç¬¦ä¸²** æ˜¯å­—ç¬¦ä¸²ä¸­çš„ç”±è¿ç»­å­—ç¬¦ç»„æˆçš„ä¸€ä¸ªåºåˆ—ã€‚

å…·æœ‰ä¸åŒå¼€å§‹ä½ç½®æˆ–ç»“æŸä½ç½®çš„å­ä¸²ï¼Œå³ä½¿æ˜¯ç”±ç›¸åŒçš„å­—ç¬¦ç»„æˆï¼Œä¹Ÿä¼šè¢«è§†ä½œä¸åŒçš„å­ä¸²ã€‚

```
è¾“å…¥ï¼šs = "abc"
è¾“å‡ºï¼š3
è§£é‡Šï¼šä¸‰ä¸ªå›æ–‡å­ä¸²: "a", "b", "c"
```

-----

```java
 public int countSubstrings(String s) {
boolean[][]dp = new boolean[s.length()][s.length()];
int len = s.length();

for(int i =len-1;i>=0;i--)
{
    dp[i][i] = true;
    for(int j = i+1;j<len;j++)
    {
        if(s.charAt(i) == s.charAt(j))
        {
            if(j-i==1) dp[i][j] = true;
            else dp[i][j] = dp[i+1][j-1];
        }
        else
dp[i][j] =false;
}
}
int tot = 0;
for(int i = 0;i<len;i++)
for(int j = 0;j < len;j++)
   if(dp[i][j]==true) tot++;
return tot;
    }
```



## ä¸¤æ¬¡éå†[821. å­—ç¬¦çš„æœ€çŸ­è·ç¦»](https://leetcode-cn.com/problems/shortest-distance-to-a-character/)ï¼š

éš¾åº¦ç®€å•213

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² `s` å’Œä¸€ä¸ªå­—ç¬¦ `c` ï¼Œä¸” `c` æ˜¯ `s` ä¸­å‡ºç°è¿‡çš„å­—ç¬¦ã€‚

è¿”å›ä¸€ä¸ªæ•´æ•°æ•°ç»„ `answer` ï¼Œå…¶ä¸­ `answer.length == s.length` ä¸” `answer[i]` æ˜¯ `s` ä¸­ä»ä¸‹æ ‡ `i` åˆ°ç¦»å®ƒ **æœ€è¿‘** çš„å­—ç¬¦ `c` çš„ **è·ç¦»** ã€‚

ä¸¤ä¸ªä¸‹æ ‡ `i` å’Œ `j` ä¹‹é—´çš„ **è·ç¦»** ä¸º `abs(i - j)` ï¼Œå…¶ä¸­ `abs` æ˜¯ç»å¯¹å€¼å‡½æ•°ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šs = "loveleetcode", c = "e"
è¾“å‡ºï¼š[3,2,1,0,1,0,0,1,2,2,1,0]
è§£é‡Šï¼šå­—ç¬¦ 'e' å‡ºç°åœ¨ä¸‹æ ‡ 3ã€5ã€6 å’Œ 11 å¤„ï¼ˆä¸‹æ ‡ä» 0 å¼€å§‹è®¡æ•°ï¼‰ã€‚
è·ä¸‹æ ‡ 0 æœ€è¿‘çš„ 'e' å‡ºç°åœ¨ä¸‹æ ‡ 3 ï¼Œæ‰€ä»¥è·ç¦»ä¸º abs(0 - 3) = 3 ã€‚
è·ä¸‹æ ‡ 1 æœ€è¿‘çš„ 'e' å‡ºç°åœ¨ä¸‹æ ‡ 3 ï¼Œæ‰€ä»¥è·ç¦»ä¸º abs(1 - 3) = 2 ã€‚
å¯¹äºä¸‹æ ‡ 4 ï¼Œå‡ºç°åœ¨ä¸‹æ ‡ 3 å’Œä¸‹æ ‡ 5 å¤„çš„ 'e' éƒ½ç¦»å®ƒæœ€è¿‘ï¼Œä½†è·ç¦»æ˜¯ä¸€æ ·çš„ abs(4 - 3) == abs(4 - 5) = 1 ã€‚
è·ä¸‹æ ‡ 8 æœ€è¿‘çš„ 'e' å‡ºç°åœ¨ä¸‹æ ‡ 6 ï¼Œæ‰€ä»¥è·ç¦»ä¸º abs(8 - 6) = 2 ã€‚
```

---

ä»å·¦å‘å³éå†ï¼Œè®°å½•ä¸Šä¸€ä¸ªå­—ç¬¦ C å‡ºç°çš„ä½ç½® prevï¼Œé‚£ä¹ˆç­”æ¡ˆå°±æ˜¯ i - prevã€‚

ä»å³æƒ³åšéå†ï¼Œè®°å½•ä¸Šä¸€ä¸ªå­—ç¬¦ C å‡ºç°çš„ä½ç½® prevï¼Œé‚£ä¹ˆç­”æ¡ˆå°±æ˜¯ prev - iã€‚

```java
    public int[] shortestToChar(String s, char c) {
int[]ans = new int[s.length()];
int prev = Integer.MIN_VALUE/2;//æ³¨æ„è¿™ä¸ªå€¼
for(int i = 0;i <s.length();i++)
{
    if(s.charAt(i) == c) prev = i;
    ans[i] = i-prev;
}
prev = Integer.MAX_VALUE/2;//æ³¨æ„è¿™ä¸ªå€¼ é™¤ä»¥2æ˜¯é˜²æ­¢æº¢å‡º
for(int i = s.length()-1;i>=0;i--)
{
    if(s.charAt(i)==c) prev = i;
ans[i] = Math.min(ans[i],prev-i);
}
return ans;
    }
```

## [406. æ ¹æ®èº«é«˜é‡å»ºé˜Ÿåˆ—](https://leetcode-cn.com/problems/queue-reconstruction-by-height/)

éš¾åº¦ä¸­ç­‰1131

å‡è®¾æœ‰æ‰“ä¹±é¡ºåºçš„ä¸€ç¾¤äººç«™æˆä¸€ä¸ªé˜Ÿåˆ—ï¼Œæ•°ç»„ `people` è¡¨ç¤ºé˜Ÿåˆ—ä¸­ä¸€äº›äººçš„å±æ€§ï¼ˆä¸ä¸€å®šæŒ‰é¡ºåºï¼‰ã€‚æ¯ä¸ª `people[i] = [hi, ki]` è¡¨ç¤ºç¬¬ `i` ä¸ªäººçš„èº«é«˜ä¸º `hi` ï¼Œå‰é¢ **æ­£å¥½** æœ‰ `ki` ä¸ªèº«é«˜å¤§äºæˆ–ç­‰äº `hi` çš„äººã€‚

è¯·ä½ é‡æ–°æ„é€ å¹¶è¿”å›è¾“å…¥æ•°ç»„ `people` æ‰€è¡¨ç¤ºçš„é˜Ÿåˆ—ã€‚è¿”å›çš„é˜Ÿåˆ—åº”è¯¥æ ¼å¼åŒ–ä¸ºæ•°ç»„ `queue` ï¼Œå…¶ä¸­ `queue[j] = [hj, kj]` æ˜¯é˜Ÿåˆ—ä¸­ç¬¬ `j` ä¸ªäººçš„å±æ€§ï¼ˆ`queue[0]` æ˜¯æ’åœ¨é˜Ÿåˆ—å‰é¢çš„äººï¼‰ã€‚

 



**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼špeople = [[7,0],[4,4],[7,1],[5,0],[6,1],[5,2]]
è¾“å‡ºï¼š[[5,0],[7,0],[5,2],[6,1],[4,4],[7,1]]
è§£é‡Šï¼š
ç¼–å·ä¸º 0 çš„äººèº«é«˜ä¸º 5 ï¼Œæ²¡æœ‰èº«é«˜æ›´é«˜æˆ–è€…ç›¸åŒçš„äººæ’åœ¨ä»–å‰é¢ã€‚
ç¼–å·ä¸º 1 çš„äººèº«é«˜ä¸º 7 ï¼Œæ²¡æœ‰èº«é«˜æ›´é«˜æˆ–è€…ç›¸åŒçš„äººæ’åœ¨ä»–å‰é¢ã€‚
ç¼–å·ä¸º 2 çš„äººèº«é«˜ä¸º 5 ï¼Œæœ‰ 2 ä¸ªèº«é«˜æ›´é«˜æˆ–è€…ç›¸åŒçš„äººæ’åœ¨ä»–å‰é¢ï¼Œå³ç¼–å·ä¸º 0 å’Œ 1 çš„äººã€‚
ç¼–å·ä¸º 3 çš„äººèº«é«˜ä¸º 6 ï¼Œæœ‰ 1 ä¸ªèº«é«˜æ›´é«˜æˆ–è€…ç›¸åŒçš„äººæ’åœ¨ä»–å‰é¢ï¼Œå³ç¼–å·ä¸º 1 çš„äººã€‚
ç¼–å·ä¸º 4 çš„äººèº«é«˜ä¸º 4 ï¼Œæœ‰ 4 ä¸ªèº«é«˜æ›´é«˜æˆ–è€…ç›¸åŒçš„äººæ’åœ¨ä»–å‰é¢ï¼Œå³ç¼–å·ä¸º 0ã€1ã€2ã€3 çš„äººã€‚
ç¼–å·ä¸º 5 çš„äººèº«é«˜ä¸º 7 ï¼Œæœ‰ 1 ä¸ªèº«é«˜æ›´é«˜æˆ–è€…ç›¸åŒçš„äººæ’åœ¨ä»–å‰é¢ï¼Œå³ç¼–å·ä¸º 1 çš„äººã€‚
å› æ­¤ [[5,0],[7,0],[5,2],[6,1],[4,4],[7,1]] æ˜¯é‡æ–°æ„é€ åçš„é˜Ÿåˆ—ã€‚
```

---

æŒ‰ç…§èº«é«˜ä»å¤§åˆ°å°æ’åºåï¼Œæ¯ä¸ªäººå‰é¢çš„äººéƒ½å¤§äºç­‰äºè‡ªå·±ï¼Œç„¶åå†æŒ‰ç¬¬äºŒä¸ªå…ƒç´ ä»å°åˆ°å¤§æ’

```java
public int[][] reconstructQueue(int[][] people) {
Arrays.sort(people,new Comparator<int[]>(){
    public int compare(int[]a,int[]b)
    {
        if(a[0] != b[0]) return b[0]-a[0];//æŒ‰ä»å¤§åˆ°å°çš„èº«é«˜æ’åˆ—
        return a[1]-b[1];//å¦‚æœèº«é«˜ç›¸åŒï¼ŒæŒ‰ç¬¬äºŒä¸ªå…ƒç´ ä»å°åˆ°å¤§æ’åˆ—
    }
});
     List<int[]> ans = new ArrayList<int[]>();
        for (int[] person : people) {
            ans.add(person[1], person);//ä¾æ¬¡æ’å…¥åˆ°æ•°ç»„ä¸­
        }
return ans.toArray(new int[ans.size()][]);
    }
```

## ç»™å®šä¸€ä¸ªæ•° nï¼Œå¦‚ 23121ï¼›ç»™å®šä¸€ç»„æ•°å­— A å¦‚ {2,4,9}ï¼Œæ±‚ç”± A ä¸­å…ƒç´ ç»„æˆçš„ã€å°äº n çš„æœ€å¤§æ•°

å¦‚å°äº 23121 çš„æœ€å¤§æ•°ä¸º 22999



```javascript
\#include <bits/stdc++.h>
using namespace std;

int main()
{
string s = "23121";
string a = "249";
string res;
sort(a.begin(), a.end());
bool flag = false;

for (int i = 0; i < s.size(); i ++)
   for (int j = 0; j < a.size(); j ++){
           if(flag)
           {
             res += a[a.size() - 1];
             break;
        }
           else if (s[i] == a[j]) 
           {
              res +=a[j];
              break;
        }
           else if (s[i] < a[j]){
               if (j - 1 >= 0) {
               res += a[j - 1];
               flag = true; 
               break;
           }
           else 

           return -1ï¼›
   }

} 
cout << res;

return 0;
```

## æ•´æ•°è½¬æ¢è‹±æ–‡è¡¨ç¤º

å°†éè´Ÿæ•´æ•° num è½¬æ¢ä¸ºå…¶å¯¹åº”çš„è‹±æ–‡è¡¨ç¤ºã€‚

 

ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼šnum = 123
è¾“å‡ºï¼š"One Hundred Twenty Three"
ç¤ºä¾‹ 2ï¼š

è¾“å…¥ï¼šnum = 12345
è¾“å‡ºï¼š"Twelve Thousand Three Hundred Forty Five"
ç¤ºä¾‹ 3ï¼š

è¾“å…¥ï¼šnum = 1234567
è¾“å‡ºï¼š"One Million Two Hundred Thirty Four Thousand Five Hundred Sixty Seven"



----

ç”±äºéè´Ÿæ•´æ•° num çš„æœ€å¤§å€¼ä¸º 2^{31}-2 31âˆ’1ï¼Œå› æ­¤æœ€å¤šæœ‰ 10 ä½æ•°ã€‚å°†æ•´æ•°è½¬æ¢æˆè‹±æ–‡è¡¨ç¤ºä¸­ï¼Œå°†æ•°å­—æŒ‰ç…§ 33 ä½ä¸€ç»„åˆ’åˆ†ï¼Œå°†æ¯ä¸€ç»„çš„è‹±æ–‡è¡¨ç¤ºæ‹¼æ¥ä¹‹åå³å¯å¾—åˆ°æ•´æ•° num çš„è‹±æ–‡è¡¨ç¤ºã€‚

æ¯ä¸€ç»„æœ€å¤šæœ‰ 33 ä½æ•°ï¼Œå¯ä»¥ä½¿ç”¨é€’å½’çš„æ–¹å¼å¾—åˆ°æ¯ä¸€ç»„çš„è‹±æ–‡è¡¨ç¤ºã€‚æ ¹æ®æ•°å­—æ‰€åœ¨çš„èŒƒå›´ï¼Œå…·ä½“åšæ³•å¦‚ä¸‹ï¼š

å°äº 20 çš„æ•°å¯ä»¥ç›´æ¥å¾—åˆ°å…¶è‹±æ–‡è¡¨ç¤ºï¼›

å¤§äºç­‰äº 20 ä¸”å°äº 100 çš„æ•°é¦–å…ˆå°†åä½è½¬æ¢æˆè‹±æ–‡è¡¨ç¤ºï¼Œç„¶åå¯¹ä¸ªä½é€’å½’åœ°è½¬æ¢æˆè‹±æ–‡è¡¨ç¤ºï¼›

å¤§äºç­‰äº 100 çš„æ•°é¦–å…ˆå°†ç™¾ä½è½¬æ¢æˆè‹±æ–‡è¡¨ç¤ºï¼Œç„¶åå¯¹å…¶ä½™éƒ¨åˆ†ï¼ˆåä½å’Œä¸ªä½ï¼‰é€’å½’åœ°è½¬æ¢æˆè‹±æ–‡è¡¨ç¤ºã€‚

![image-20220324231805872](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220324231805872.png)

----

```java
class Solution {
    String[] singles = {"", "One", "Two", "Three", "Four", "Five", "Six", "Seven", "Eight", "Nine"};
    String[] teens = {"Ten", "Eleven", "Twelve", "Thirteen", "Fourteen", "Fifteen", "Sixteen", "Seventeen", "Eighteen", "Nineteen"};
    String[] tens = {"", "Ten", "Twenty", "Thirty", "Forty", "Fifty", "Sixty", "Seventy", "Eighty", "Ninety"};
    String[] thousands = {"", "Thousand", "Million", "Billion"};

    public String numberToWords(int num) {
        if (num == 0) {
            return "Zero";
        }
        StringBuffer sb = new StringBuffer();
        for (int i = 3, unit = 1000000000; i >= 0; i--, unit /= 1000) {
            int curNum = num / unit;
            if (curNum != 0) {
                num -= curNum * unit;
                StringBuffer curr = new StringBuffer();
                recursion(curr, curNum);
                curr.append(thousands[i]).append(" ");
                sb.append(curr);
            }
        }
        return sb.toString().trim();
    }

    public void recursion(StringBuffer curr, int num) {
        if (num == 0) {
            return;
        } else if (num < 10) {
            curr.append(singles[num]).append(" ");
        } else if (num < 20) {
            curr.append(teens[num - 10]).append(" ");
        } else if (num < 100) {
            curr.append(tens[num / 10]).append(" ");
            recursion(curr, num % 10);
        } else {
            curr.append(singles[num / 100]).append(" Hundred ");
            recursion(curr, num % 100);
        }
    }
}

ä½œè€…ï¼šLeetCode-Solution
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/integer-to-english-words/solution/zheng-shu-zhuan-huan-ying-wen-biao-shi-b-ivik/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```

## [233. æ•°å­— 1 çš„ä¸ªæ•°](https://leetcode.cn/problems/number-of-digit-one/)

éš¾åº¦å›°éš¾441

ç»™å®šä¸€ä¸ªæ•´æ•° `n`ï¼Œè®¡ç®—æ‰€æœ‰å°äºç­‰äº `n` çš„éè´Ÿæ•´æ•°ä¸­æ•°å­— `1` å‡ºç°çš„ä¸ªæ•°ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šn = 13
è¾“å‡ºï¼š6
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šn = 0
è¾“å‡ºï¼š0
```

----

è¿™é‡Œè¦ç”¨å½’çº³æ•´ç†æ³•ï¼Œå…ˆå¾—åˆ°ä¸€ä¸ªç»Ÿä¸€çš„æ–¹æ³•å¯ä»¥è®¡ç®—å‡ºæ¯ä¸ªä½æ•°ä¸Š1çš„ä¸ªæ•°ï¼Œç„¶åå†æ¯ä¸€ä½è¿›è¡Œç»Ÿè®¡ï¼Œä»ä¸ªä½æ•°å­—å¼€å§‹ç»Ÿè®¡ï¼Œå¯ä»¥è®¾ç½®ä¸€ä¸ªmutiä½ä»1å¼€å§‹ï¼Œæ¯æ¬¡ç®—å®Œä»¥åmuti*10,è®¡ç®—åä½ã€ç™¾ä½..

```java
 public int countDigitOne(int n) {
     long multik = 1;//multikä»ä¸ªä½å¼€å§‹ï¼Œä¸ªä½æ•°å­—æ˜¯1ï¼Œåä½æ˜¯10ï¼Œè®¡ç®—æ¯ä¸ªæ•°ä½ä¸Šçš„1
     int ans = 0;
     for(int k = 0;n>=multik;k++){
         //è¿™ä¸ªç”¨math.maxçš„æ­¥éª¤å¾ˆå·§å¦™ï¼Œçœå»äº†å¾ˆå¤šç¹ççš„ifåˆ¤æ–­æƒ…å†µï¼Œä»¥åä½æ•°å­—çš„1ä¸¾ä¾‹ï¼Œå¦‚æœn<10 åˆ™åä½æ•°å­—ä¸Š1çš„ä¸ªæ•°ä¸º0 å¦‚æœn>=10 &&n<20 åä½æ•°å­—ä¸Šçš„1ä¸ºn%100-10+1 n>20,åä½æ•°å­—ä¸Šçš„1æ˜¯10 
         ans += (n/(multik * 10)) * multik + Math.min(Math.max(0,n%(multik*10)-multik+1),multik);
         multik *=10;
     }
     return ans;
    }
```

## [133. å…‹éš†å›¾](https://leetcode.cn/problems/clone-graph/)

éš¾åº¦ä¸­ç­‰527

ç»™ä½ æ— å‘ **[è¿é€š](https://baike.baidu.com/item/è¿é€šå›¾/6460995?fr=aladdin)** å›¾ä¸­ä¸€ä¸ªèŠ‚ç‚¹çš„å¼•ç”¨ï¼Œè¯·ä½ è¿”å›è¯¥å›¾çš„ [**æ·±æ‹·è´**](https://baike.baidu.com/item/æ·±æ‹·è´/22785317?fr=aladdin)ï¼ˆå…‹éš†ï¼‰ã€‚

å›¾ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹éƒ½åŒ…å«å®ƒçš„å€¼ `val`ï¼ˆ`int`ï¼‰ å’Œå…¶é‚»å±…çš„åˆ—è¡¨ï¼ˆ`list[Node]`ï¼‰ã€‚

```
class Node {
    public int val;
    public List<Node> neighbors;
}
```

 

**æµ‹è¯•ç”¨ä¾‹æ ¼å¼ï¼š**

ç®€å•èµ·è§ï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½å’Œå®ƒçš„ç´¢å¼•ç›¸åŒã€‚ä¾‹å¦‚ï¼Œç¬¬ä¸€ä¸ªèŠ‚ç‚¹å€¼ä¸º 1ï¼ˆ`val = 1`ï¼‰ï¼Œç¬¬äºŒä¸ªèŠ‚ç‚¹å€¼ä¸º 2ï¼ˆ`val = 2`ï¼‰ï¼Œä»¥æ­¤ç±»æ¨ã€‚è¯¥å›¾åœ¨æµ‹è¯•ç”¨ä¾‹ä¸­ä½¿ç”¨é‚»æ¥åˆ—è¡¨è¡¨ç¤ºã€‚

**é‚»æ¥åˆ—è¡¨** æ˜¯ç”¨äºè¡¨ç¤ºæœ‰é™å›¾çš„æ— åºåˆ—è¡¨çš„é›†åˆã€‚æ¯ä¸ªåˆ—è¡¨éƒ½æè¿°äº†å›¾ä¸­èŠ‚ç‚¹çš„é‚»å±…é›†ã€‚

ç»™å®šèŠ‚ç‚¹å°†å§‹ç»ˆæ˜¯å›¾ä¸­çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆå€¼ä¸º 1ï¼‰ã€‚ä½ å¿…é¡»å°† **ç»™å®šèŠ‚ç‚¹çš„æ‹·è´** ä½œä¸ºå¯¹å…‹éš†å›¾çš„å¼•ç”¨è¿”å›ã€‚



------------------

ä½¿ç”¨ä¸€ä¸ªå“ˆå¸Œè¡¨å­˜å‚¨æ‰€æœ‰å·²è¢«è®¿é—®å’Œå…‹éš†çš„èŠ‚ç‚¹ã€‚å“ˆå¸Œè¡¨ä¸­çš„ key æ˜¯åŸå§‹å›¾ä¸­çš„èŠ‚ç‚¹ï¼Œvalue æ˜¯å…‹éš†å›¾ä¸­çš„å¯¹åº”èŠ‚ç‚¹ã€‚

ä»ç»™å®šèŠ‚ç‚¹å¼€å§‹éå†å›¾ã€‚å¦‚æœæŸä¸ªèŠ‚ç‚¹å·²ç»è¢«è®¿é—®è¿‡ï¼Œåˆ™è¿”å›å…¶å…‹éš†å›¾ä¸­çš„å¯¹åº”èŠ‚ç‚¹ã€‚

å¦‚ä¸‹å›¾ï¼Œæˆ‘ä»¬ç»™å®šæ— å‘è¾¹è¾¹ A - Bï¼Œè¡¨ç¤º A èƒ½è¿æ¥åˆ° Bï¼Œä¸” B èƒ½è¿æ¥åˆ° Aã€‚å¦‚æœä¸å¯¹è®¿é—®è¿‡çš„èŠ‚ç‚¹åšæ ‡è®°ï¼Œåˆ™ä¼šé™·å…¥æ­»å¾ªç¯ä¸­ã€‚

å¦‚æœå½“å‰è®¿é—®çš„èŠ‚ç‚¹ä¸åœ¨å“ˆå¸Œè¡¨ä¸­ï¼Œåˆ™åˆ›å»ºå®ƒçš„å…‹éš†èŠ‚ç‚¹å¹¶å­˜å‚¨åœ¨å“ˆå¸Œè¡¨ä¸­ã€‚æ³¨æ„ï¼šåœ¨è¿›å…¥é€’å½’ä¹‹å‰ï¼Œå¿…é¡»å…ˆåˆ›å»ºå…‹éš†èŠ‚ç‚¹å¹¶ä¿å­˜åœ¨å“ˆå¸Œè¡¨ä¸­ã€‚å¦‚æœä¸ä¿è¯è¿™ç§é¡ºåºï¼Œå¯èƒ½ä¼šåœ¨é€’å½’ä¸­å†æ¬¡é‡åˆ°åŒä¸€ä¸ªèŠ‚ç‚¹ï¼Œå†æ¬¡éå†è¯¥èŠ‚ç‚¹æ—¶ï¼Œé™·å…¥æ­»å¾ªç¯ã€‚

é€’å½’è°ƒç”¨æ¯ä¸ªèŠ‚ç‚¹çš„é‚»æ¥ç‚¹ã€‚æ¯ä¸ªèŠ‚ç‚¹é€’å½’è°ƒç”¨çš„æ¬¡æ•°ç­‰äºé‚»æ¥ç‚¹çš„æ•°é‡ï¼Œæ¯ä¸€æ¬¡è°ƒç”¨è¿”å›å…¶å¯¹åº”é‚»æ¥ç‚¹çš„å…‹éš†èŠ‚ç‚¹ï¼Œæœ€ç»ˆè¿”å›è¿™äº›å…‹éš†é‚»æ¥ç‚¹çš„åˆ—è¡¨ï¼Œå°†å…¶æ”¾å…¥å¯¹åº”å…‹éš†èŠ‚ç‚¹çš„é‚»æ¥è¡¨ä¸­ã€‚è¿™æ ·å°±å¯ä»¥å…‹éš†ç»™å®šçš„èŠ‚ç‚¹å’Œå…¶é‚»æ¥ç‚¹ã€‚

```java
class Solution {
    private HashMap <Node, Node> visited = new HashMap <> ();
    public Node cloneGraph(Node node) {
        if (node == null) {
            return node;
        }

        // å¦‚æœè¯¥èŠ‚ç‚¹å·²ç»è¢«è®¿é—®è¿‡äº†ï¼Œåˆ™ç›´æ¥ä»å“ˆå¸Œè¡¨ä¸­å–å‡ºå¯¹åº”çš„å…‹éš†èŠ‚ç‚¹è¿”å›
        if (visited.containsKey(node)) {
            return visited.get(node);
        }

        // å…‹éš†èŠ‚ç‚¹ï¼Œæ³¨æ„åˆ°ä¸ºäº†æ·±æ‹·è´æˆ‘ä»¬ä¸ä¼šå…‹éš†å®ƒçš„é‚»å±…çš„åˆ—è¡¨
        Node cloneNode = new Node(node.val, new ArrayList());
        // å“ˆå¸Œè¡¨å­˜å‚¨
        visited.put(node, cloneNode);

        // éå†è¯¥èŠ‚ç‚¹çš„é‚»å±…å¹¶æ›´æ–°å…‹éš†èŠ‚ç‚¹çš„é‚»å±…åˆ—è¡¨
        for (Node neighbor: node.neighbors) {
            cloneNode.neighbors.add(cloneGraph(neighbor));
        }
        return cloneNode;
    }
}


```







## æœ€å¤§å€¼å‡å»æœ€å°å€¼å°äºç­‰äºnumçš„å­æ•°ç»„æ•°é‡

è¦æ±‚æ—¶é—´å¤æ‚åº¦o(n)

------------

é¦–å…ˆä»‹ç»æ™®é€šçš„è§£æ³•ï¼Œæ‰¾åˆ°arrçš„æ‰€æœ‰å­æ•°ç»„ï¼Œä¸€å…±æœ‰Oï¼ˆN2ï¼‰ä¸ªï¼Œç„¶åå¯¹æ¯ä¸€ä¸ªå­æ•°ç»„åšéå†æ‰¾åˆ°å…¶ä¸­çš„æœ€å°å€¼å’Œæœ€å¤§å€¼ï¼Œè¿™ä¸ªè¿‡ç¨‹æ—¶é—´å¤æ‚åº¦ä¸ºOï¼ˆNï¼‰ï¼Œç„¶åçœ‹çœ‹è¿™ä¸ªå­æ•°ç»„æ˜¯å¦æ»¡è¶³æ¡ä»¶ã€‚ç»Ÿè®¡æ‰€æœ‰æ»¡è¶³çš„å­æ•°ç»„æ•°é‡å³å¯ã€‚æ™®é€šè§£æ³•å®¹æ˜“å®ç°ï¼Œä½†æ˜¯æ—¶é—´å¤æ‚åº¦ä¸ºOï¼ˆN3ï¼‰ï¼Œæœ¬ä¹¦ä¸å†è¯¦è¿°ã€‚æœ€ä¼˜è§£å¯ä»¥åšåˆ°æ—¶é—´å¤æ‚åº¦Oï¼ˆNï¼‰ï¼Œé¢å¤–ç©ºé—´å¤æ‚åº¦Oï¼ˆNï¼‰ï¼Œåœ¨é˜…è¯»ä¸‹é¢çš„åˆ†æè¿‡ç¨‹ä¹‹å‰ï¼Œè¯·è¯»è€…å…ˆé˜…è¯»æœ¬ç« â€œç”Ÿæˆçª—å£æœ€å¤§å€¼æ•°ç»„â€é—®é¢˜ï¼Œæœ¬é¢˜æ‰€ä½¿ç”¨åˆ°çš„åŒç«¯é˜Ÿåˆ—ç»“æ„ä¸è§£å†³â€œç”Ÿæˆçª—å£æœ€å¤§å€¼æ•°ç»„â€é—®é¢˜ä¸­çš„åŒç«¯é˜Ÿåˆ—ç»“æ„å«ä¹‰åŸºæœ¬ä¸€è‡´ã€‚ ç”Ÿæˆä¸¤ä¸ªåŒç«¯é˜Ÿåˆ—qmaxå’Œqminã€‚å½“å­æ•°ç»„ä¸ºarr[i..j]æ—¶ï¼Œqmaxç»´æŠ¤äº†çª—å£å­æ•°ç»„arr[i..j]çš„æœ€å¤§å€¼æ›´æ–°çš„ç»“æ„ï¼Œqminç»´æŠ¤äº†çª—å£å­æ•°ç»„arr[i..j]çš„æœ€å°å€¼æ›´æ–°çš„ç»“æ„ã€‚å½“å­æ•°ç»„arr[i..j]å‘å³æ‰©ä¸€ä¸ªä½ç½®å˜æˆarr[i..j+1]æ—¶ï¼Œqmaxå’Œqminç»“æ„å¯ä»¥åœ¨Oï¼ˆ1ï¼‰çš„æ—¶é—´å†…æ›´æ–°ï¼Œå¹¶ä¸”å¯ä»¥åœ¨O1ï¼‰çš„æ—¶é—´å†…å¾—åˆ°arr[i..j+1]çš„æœ€å¤§å€¼å’Œæœ€å°å€¼ã€‚å½“å­æ•°ç»„arr[i..j]å‘å·¦ç¼©ä¸€ä¸ªä½ç½®å˜æˆarr[i+1..j]æ—¶ï¼Œqmaxå’Œqminç»“æ„ä¾ç„¶å¯ä»¥åœ¨Oï¼ˆ1ï¼‰çš„æ—¶é—´å†…æ›´æ–°ï¼Œå¹¶ä¸”åœ¨Oï¼ˆ1ï¼‰çš„æ—¶é—´å†…å¾—åˆ°arr[i+1..j]çš„æœ€å¤§å€¼å’Œæœ€å°å€¼ã€‚ é€šè¿‡åˆ†æé¢˜ç›®æ»¡è¶³çš„æ¡ä»¶ï¼Œå¯ä»¥å¾—åˆ°å¦‚ä¸‹ä¸¤ä¸ªç»“è®ºï¼š å¦‚æœå­æ•°ç»„arr[i..j]æ»¡è¶³æ¡ä»¶ï¼Œå³maxï¼ˆarr[i..j]ï¼‰-minï¼ˆarr[i..j]ï¼‰<=numï¼Œé‚£ä¹ˆarr[i..j]ä¸­çš„æ¯ä¸€ä¸ªå­æ•°ç»„ï¼Œå³arr[k..l]ï¼ˆi<=k<=l<=jï¼‰éƒ½æ»¡è¶³æ¡ä»¶ã€‚æˆ‘ä»¬ä»¥å­æ•°ç»„arr[i..j-1]ä¸ºä¾‹è¯´æ˜ï¼Œarr[i..j-1]æœ€å¤§å€¼åªå¯èƒ½å°äºæˆ–ç­‰äºarr[i..j]çš„æœ€å¤§å€¼ï¼Œarr[i..j-1]æœ€å°å€¼åªå¯èƒ½å¤§äºæˆ–ç­‰äºarr[i..j]çš„æœ€å°å€¼ï¼Œæ‰€ä»¥arr[i..j-1]å¿…ç„¶æ»¡è¶³æ¡ä»¶ã€‚åŒç†ï¼Œarr[i..j]ä¸­çš„æ¯ä¸€ä¸ªå­æ•°ç»„éƒ½æ»¡è¶³æ¡ä»¶ã€‚ å¦‚æœå­æ•°ç»„arr[i..j]ä¸æ»¡è¶³æ¡ä»¶ï¼Œé‚£ä¹ˆæ‰€æœ‰åŒ…å«arr[i..j]çš„å­æ•°ç»„ï¼Œå³arr[k..l]ï¼ˆk<=i<=j<=lï¼‰éƒ½ä¸æ»¡è¶³æ¡ä»¶ã€‚
æ­¥éª¤:

1.ç”Ÿæˆä¸¤ä¸ªåŒç«¯é˜Ÿåˆ—qmaxå’Œqminï¼Œå«ä¹‰å¦‚ä¸Šæ–‡æ‰€è¯´ã€‚ç”Ÿæˆä¸¤ä¸ªæ•´å‹å˜é‡iå’Œjï¼Œè¡¨ç¤ºå­æ•°ç»„çš„èŒƒå›´ï¼Œå³arr[i..j]ã€‚ç”Ÿæˆæ•´å‹å˜é‡resï¼Œè¡¨ç¤ºæ‰€æœ‰æ»¡è¶³æ¡ä»¶çš„å­æ•°ç»„æ•°é‡ã€‚ 

2.ä»¤jä¸æ–­å‘å³ç§»åŠ¨ï¼ˆj++ï¼‰ï¼Œè¡¨ç¤ºarr[i..j]ä¸€ç›´å‘å³æ‰©å¤§ï¼Œå¹¶ä¸æ–­æ›´æ–°qmaxå’Œqminç»“æ„ï¼Œä¿è¯qmaxå’Œqminå§‹ç»ˆç»´æŒåŠ¨æ€çª—å£æœ€å¤§å€¼å’Œæœ€å°å€¼çš„æ›´æ–°ç»“æ„ã€‚ä¸€æ—¦å‡ºç°arr[i..j]ä¸æ»¡è¶³æ¡ä»¶çš„æƒ…å†µï¼Œjå‘å³æ‰©çš„è¿‡ç¨‹åœæ­¢ï¼Œæ­¤æ—¶arr[i..j-1]ã€arr[i..j-2]ã€arr[i..j-3]ã€...ã€arr[i..i]ä¸€å®šéƒ½æ˜¯æ»¡è¶³æ¡ä»¶çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ‰€æœ‰å¿…é¡»ä»¥arr[i]ä½œä¸ºç¬¬ä¸€ä¸ªå…ƒç´ çš„å­æ•°ç»„ï¼Œæ»¡è¶³æ¡ä»¶çš„æ•°é‡ä¸ºj-iä¸ªã€‚äºæ˜¯ä»¤res+=j-iã€‚ 

3.å½“è¿›è¡Œå®Œæ­¥éª¤2ï¼Œä»¤iå‘å³ç§»åŠ¨ä¸€ä¸ªä½ç½®ï¼Œå¹¶å¯¹qmaxå’Œqminåšå‡ºç›¸åº”çš„æ›´æ–°ï¼Œqmaxå’Œqminä»åŸæ¥çš„arr[i..j]çª—å£å˜æˆarr[i+1..j]çª—å£çš„æœ€å¤§å€¼å’Œæœ€å°å€¼çš„æ›´æ–°ç»“æ„ã€‚ç„¶åé‡å¤æ­¥éª¤2ï¼Œä¹Ÿå°±æ˜¯æ±‚æ‰€æœ‰å¿…é¡»ä»¥arr[i+1]ä½œä¸ºç¬¬ä¸€ä¸ªå…ƒç´ çš„å­æ•°ç»„ä¸­ï¼Œæ»¡è¶³æ¡ä»¶çš„æ•°é‡æœ‰å¤šå°‘ä¸ªã€‚ 

4.æ ¹æ®æ­¥éª¤2å’Œæ­¥éª¤3ï¼Œä¾æ¬¡æ±‚å‡ºä»¥arr[0]ã€arr[1]ã€...ã€arr[N-1]ä½œä¸ºç¬¬ä¸€ä¸ªå…ƒç´ çš„å­æ•°ç»„ä¸­æ»¡è¶³æ¡ä»¶çš„æ•°é‡åˆ†åˆ«æœ‰å¤šå°‘ä¸ªï¼Œç´¯åŠ èµ·æ¥çš„æ•°é‡å°±æ˜¯æœ€ç»ˆçš„ç»“æœã€‚ ä¸Šè¿°è¿‡ç¨‹ä¸­ï¼Œæ‰€æœ‰çš„ä¸‹æ ‡å€¼æœ€å¤šè¿›qmaxå’Œqminä¸€æ¬¡ï¼Œå‡ºqmaxå’Œqminä¸€æ¬¡ã€‚iå’Œjçš„å€¼ä¹Ÿä¸æ–­å¢åŠ ï¼Œå¹¶ä¸”ä»æ¥ä¸å‡å°ã€‚æ‰€ä»¥æ•´ä¸ªè¿‡ç¨‹çš„æ—¶é—´å¤æ‚åº¦ä¸ºOï¼ˆNï¼‰ã€‚ æœ€ä¼˜è§£å…¨éƒ¨å®ç°è¯·å‚çœ‹å¦‚ä¸‹ä»£ç ä¸­çš„getNumæ–¹æ³•ã€‚

```java
public int(int[]arr,int num)
{
    if(arr==null||arr.length==0) return 0;
    LinkedList<Integer>qmin = new LinkedList<>();
LinkedList<Integer>qmax = new LinkedList<>();    
   int i=0,j=0,res=0;
      while(i < arr.length)
      {
        while(j<arr.length)
        {
            while(!qmin.isEmpty() && arr[qmin.peekLast()]>=arr[j])
                qmin.pollLast();//æ›´æ–°æœ€å°å€¼
            qmin.addLast(j);
            while(!qmax.isEmpty()&&arr[qmax.peekLast()]<=arr[j])
                qmax.pollLast();
            qmax.addLast(j);
            if(arr[qmax.getFirst()]-arr[qmin.getFirst()]>num) break;//ä¸æ»¡è¶³æ—¶jåœæ­¢å‘åæ‰©å……
            j++;
                
        }
          if(qmin.peekFirst()==i)
              qmin.pollFirst();
     if(qmax.peekFirst()==i)
              qmax.pollFirst();     
          
          res += j-i;//ç”¨äºå­˜å‚¨æ€»æ•°
          i++;//iå‘åç§»
          
      }
return res;
}
```

## è¾…åŠ©æ•°ç»„ï¼š[915. åˆ†å‰²æ•°ç»„](https://leetcode.cn/problems/partition-array-into-disjoint-intervals/)

éš¾åº¦ä¸­ç­‰102

ç»™å®šä¸€ä¸ªæ•°ç»„ `nums` ï¼Œå°†å…¶åˆ’åˆ†ä¸ºä¸¤ä¸ªè¿ç»­å­æ•°ç»„ `left` å’Œ `right`ï¼Œ ä½¿å¾—ï¼š

- `left` ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½å°äºæˆ–ç­‰äº `right` ä¸­çš„æ¯ä¸ªå…ƒç´ ã€‚
- `left` å’Œ `right` éƒ½æ˜¯éç©ºçš„ã€‚
- `left` çš„é•¿åº¦è¦å°½å¯èƒ½å°ã€‚

*åœ¨å®Œæˆè¿™æ ·çš„åˆ†ç»„åè¿”å› `left` çš„ **é•¿åº¦*** ã€‚

ç”¨ä¾‹å¯ä»¥ä¿è¯å­˜åœ¨è¿™æ ·çš„åˆ’åˆ†æ–¹æ³•ã€‚

--------------------

```java
  public int partitionDisjoint(int[] nums) {
if(nums.length==2) return 1;
int[]left = new int[nums.length];
int[]right = new int[nums.length];
int m = nums[0];
for(int i = 0;i < nums.length;i++){
m = Math.max(m,nums[i]);
left[i] = m;
}
m = nums[nums.length-1];
for(int i = nums.length-1;i >=0;i--){
m = Math.min(m,nums[i]);
right[i] = m;
}
for(int i = 1;i < nums.length;i++){
if(left[i-1]<=right[i]) return i;
}
return nums.length-2;
    }
```

## [454. å››æ•°ç›¸åŠ  II](https://leetcode.cn/problems/4sum-ii/)

éš¾åº¦ä¸­ç­‰653

ç»™ä½ å››ä¸ªæ•´æ•°æ•°ç»„ `nums1`ã€`nums2`ã€`nums3` å’Œ `nums4` ï¼Œæ•°ç»„é•¿åº¦éƒ½æ˜¯ `n` ï¼Œè¯·ä½ è®¡ç®—æœ‰å¤šå°‘ä¸ªå…ƒç»„ `(i, j, k, l)` èƒ½æ»¡è¶³ï¼š

- `0 <= i, j, k, l < n`
- `nums1[i] + nums2[j] + nums3[k] + nums4[l] == 0`

--------------



![image-20220916223215306](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220916223215306.png)

```java
  public int fourSumCount(int[] nums1, int[] nums2, int[] nums3, int[] nums4) {
  Map<Integer,Integer>map = new HashMap<>();
        for (int i : nums1) {
            for (int i1 : nums2) {
                map.put(i+i1,map.getOrDefault(i+i1,0)+1);
            }
        }
        int ans = 0;
        for (int i : nums3) {
            for (int i1 : nums4) {
                ans += map.getOrDefault(-(i+i1),0);
            }
        }
        return ans;
    }
```

## [396. æ—‹è½¬å‡½æ•°](https://leetcode.cn/problems/rotate-function/)

éš¾åº¦ä¸­ç­‰234

ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º `n` çš„æ•´æ•°æ•°ç»„ `nums` ã€‚

å‡è®¾ `arrk` æ˜¯æ•°ç»„ `nums` é¡ºæ—¶é’ˆæ—‹è½¬ `k` ä¸ªä½ç½®åçš„æ•°ç»„ï¼Œæˆ‘ä»¬å®šä¹‰ `nums` çš„ **æ—‹è½¬å‡½æ•°** `F` ä¸ºï¼š

- `F(k) = 0 * arrk[0] + 1 * arrk[1] + ... + (n - 1) * arrk[n - 1]`

è¿”å› *`F(0), F(1), ..., F(n-1)`ä¸­çš„æœ€å¤§å€¼* ã€‚

ç”Ÿæˆçš„æµ‹è¯•ç”¨ä¾‹è®©ç­”æ¡ˆç¬¦åˆ **32 ä½** æ•´æ•°ã€‚

 

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: nums = [4,3,2,6]
è¾“å‡º: 26
è§£é‡Š:
F(0) = (0 * 4) + (1 * 3) + (2 * 2) + (3 * 6) = 0 + 3 + 4 + 18 = 25
F(1) = (0 * 6) + (1 * 4) + (2 * 3) + (3 * 2) = 0 + 4 + 6 + 6 = 16
F(2) = (0 * 2) + (1 * 6) + (2 * 4) + (3 * 3) = 0 + 6 + 8 + 9 = 23
F(3) = (0 * 3) + (1 * 2) + (2 * 6) + (3 * 4) = 0 + 2 + 12 + 12 = 26
æ‰€ä»¥ F(0), F(1), F(2), F(3) ä¸­çš„æœ€å¤§å€¼æ˜¯ F(3) = 26 ã€‚
```

-------------------

![image-20220924122242687](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220924122242687.png)

```java
    public int maxRotateFunction(int[] nums) {
int[]newnum = new int[nums.length];
int max = Integer.MIN_VALUE,sum = Arrays.stream(nums).sum(),total=0;
for(int i = 0;i < nums.length;i++){
total +=i*nums[i];
}
int res = total;
for(int i = nums.length-1;i>=0;i--){
total +=sum - nums[i]*nums.length;
res = Math.max(res,total);
}
return res;
    }
```

## [å‰‘æŒ‡ Offer 44. æ•°å­—åºåˆ—ä¸­æŸä¸€ä½çš„æ•°å­—](https://leetcode.cn/problems/shu-zi-xu-lie-zhong-mou-yi-wei-de-shu-zi-lcof/)

éš¾åº¦ä¸­ç­‰290

æ•°å­—ä»¥0123456789101112131415â€¦çš„æ ¼å¼åºåˆ—åŒ–åˆ°ä¸€ä¸ªå­—ç¬¦åºåˆ—ä¸­ã€‚åœ¨è¿™ä¸ªåºåˆ—ä¸­ï¼Œç¬¬5ä½ï¼ˆä»ä¸‹æ ‡0å¼€å§‹è®¡æ•°ï¼‰æ˜¯5ï¼Œç¬¬13ä½æ˜¯1ï¼Œç¬¬19ä½æ˜¯4ï¼Œç­‰ç­‰ã€‚

è¯·å†™ä¸€ä¸ªå‡½æ•°ï¼Œæ±‚ä»»æ„ç¬¬nä½å¯¹åº”çš„æ•°å­—ã€‚

-------------------

![image-20221001173422391](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20221001173422391.png)

count=9Ã—startÃ—digit

æ ¹æ®ä»¥ä¸Šåˆ†æï¼Œå¯å°†æ±‚è§£åˆ†ä¸ºä¸‰æ­¥ï¼š

ç¡®å®š n æ‰€åœ¨ æ•°å­— çš„ ä½æ•° ï¼Œè®°ä¸ºdigit ï¼›
ç¡®å®š n æ‰€åœ¨çš„ æ•°å­— ï¼Œè®°ä¸º num ï¼›
ç¡®å®š n æ˜¯num ä¸­çš„å“ªä¸€æ•°ä½ï¼Œå¹¶è¿”å›ç»“æœã€‚

![image-20221001173505321](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20221001173505321.png)

```java
 public int findNthDigit(int n) {
    int digit = 1;
        long count = 9,num = 1;
        while(n > count){
            n -=count;
            digit++;
            num *=10;
            count = num*digit*9;
        }
        long totalBit = num + (n-1)/digit;
        return Long.toString(totalBit).charAt((n-1)%digit)-'0'; 
    }
```

## [357. ç»Ÿè®¡å„ä½æ•°å­—éƒ½ä¸åŒçš„æ•°å­—ä¸ªæ•°](https://leetcode.cn/problems/count-numbers-with-unique-digits/)

éš¾åº¦ä¸­ç­‰311

ç»™ä½ ä¸€ä¸ªæ•´æ•° `n` ï¼Œç»Ÿè®¡å¹¶è¿”å›å„ä½æ•°å­—éƒ½ä¸åŒçš„æ•°å­— `x` çš„ä¸ªæ•°ï¼Œå…¶ä¸­ `0 <= x < 10çš„næ¬¡æ–¹` ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šn = 2
è¾“å‡ºï¼š91
è§£é‡Šï¼šç­”æ¡ˆåº”ä¸ºé™¤å» 11ã€22ã€33ã€44ã€55ã€66ã€77ã€88ã€99 å¤–ï¼Œåœ¨ 0 â‰¤ x < 100 èŒƒå›´å†…çš„æ‰€æœ‰æ•°å­—ã€‚ 
```

---------------------



![image-20230117185737187](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230117185737187.png)

```java
public int countNumbersWithUniqueDigits(int n) {

if(n==0) return 1;

int res=10,cur=9;
for(int i=0;i<n-1;i++){
    cur=cur*(9-i);
    res+=cur;
}
return res;
    }
```

## [880. ç´¢å¼•å¤„çš„è§£ç å­—ç¬¦ä¸²](https://leetcode.cn/problems/decoded-string-at-index/)

éš¾åº¦ä¸­ç­‰174

ç»™å®šä¸€ä¸ªç¼–ç å­—ç¬¦ä¸² `S`ã€‚è¯·ä½ æ‰¾å‡º **è§£ç å­—ç¬¦ä¸²** å¹¶å°†å…¶å†™å…¥ç£å¸¦ã€‚è§£ç æ—¶ï¼Œä»ç¼–ç å­—ç¬¦ä¸²ä¸­ **æ¯æ¬¡è¯»å–ä¸€ä¸ªå­—ç¬¦** ï¼Œå¹¶é‡‡å–ä»¥ä¸‹æ­¥éª¤ï¼š

- å¦‚æœæ‰€è¯»çš„å­—ç¬¦æ˜¯å­—æ¯ï¼Œåˆ™å°†è¯¥å­—æ¯å†™åœ¨ç£å¸¦ä¸Šã€‚
- å¦‚æœæ‰€è¯»çš„å­—ç¬¦æ˜¯æ•°å­—ï¼ˆä¾‹å¦‚ `d`ï¼‰ï¼Œåˆ™æ•´ä¸ªå½“å‰ç£å¸¦æ€»å…±ä¼šè¢«é‡å¤å†™ `d-1` æ¬¡ã€‚

ç°åœ¨ï¼Œå¯¹äºç»™å®šçš„ç¼–ç å­—ç¬¦ä¸² `S` å’Œç´¢å¼• `K`ï¼ŒæŸ¥æ‰¾å¹¶è¿”å›è§£ç å­—ç¬¦ä¸²ä¸­çš„ç¬¬ `K` ä¸ªå­—æ¯ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šS = "leet2code3", K = 10
è¾“å‡ºï¼š"o"
è§£é‡Šï¼š
è§£ç åçš„å­—ç¬¦ä¸²ä¸º "leetleetcodeleetleetcodeleetleetcode"ã€‚
å­—ç¬¦ä¸²ä¸­çš„ç¬¬ 10 ä¸ªå­—æ¯æ˜¯ "o"ã€‚
```

--------------------------

é€†å‘æ€ç»´æ³•ï¼šå…ˆå¾—åˆ°size,å†ä»åå¾€å‰éå†

ä¸€èˆ¬æ¥è¯´ï¼Œå½“è§£ç çš„å­—ç¬¦ä¸²ç­‰äºæŸä¸ªé•¿åº¦ä¸º size çš„å•è¯é‡å¤æŸäº›æ¬¡æ•°ï¼ˆä¾‹å¦‚ apple ä¸ size=5 ç»„åˆé‡å¤6æ¬¡ï¼‰æ—¶ï¼Œç´¢å¼• K çš„ç­”æ¡ˆä¸ç´¢å¼• K % size çš„ç­”æ¡ˆç›¸åŒã€‚

æˆ‘ä»¬å¯ä»¥é€šè¿‡é€†å‘å·¥ä½œï¼Œè·Ÿè¸ªè§£ç å­—ç¬¦ä¸²çš„å¤§å°æ¥ä½¿ç”¨è¿™ç§æ´å¯ŸåŠ›ã€‚æ¯å½“è§£ç çš„å­—ç¬¦ä¸²ç­‰äºæŸäº›å•è¯ word é‡å¤ d æ¬¡æ—¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥å°† k å‡å°‘åˆ° K % (Word.Length)ã€‚



```java
    public String decodeAtIndex(String s, int k) {
StringBuilder sb=new StringBuilder();
//è¿™é‡Œå¿…é¡»è¦å®šä¹‰ä¸ºlongç±»å‹ï¼Œä¸ç„¶ä¼šè¶Šç•Œå¼‚å¸¸
long size=0;
for (int i = 0; i < s.length(); ++i) {
            char c = s.charAt(i);
            if (Character.isDigit(c))
                size *= c - '0';
            else
                size++;
        }

for (int i = s.length()-1; i >= 0; --i) {
            char c =s.charAt(i);
            k %= size;
            if (k == 0 && Character.isLetter(c))
                return Character.toString(c);

            if (Character.isDigit(c))
                size /= c - '0';
            else
                size--;
        }

return null;
    }
```

## [462. æœ€å°æ“ä½œæ¬¡æ•°ä½¿æ•°ç»„å…ƒç´ ç›¸ç­‰ II](https://leetcode.cn/problems/minimum-moves-to-equal-array-elements-ii/)

éš¾åº¦ä¸­ç­‰279

ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸º `n` çš„æ•´æ•°æ•°ç»„ `nums` ï¼Œè¿”å›ä½¿æ‰€æœ‰æ•°ç»„å…ƒç´ ç›¸ç­‰éœ€è¦çš„æœ€å°æ“ä½œæ•°ã€‚

åœ¨ä¸€æ¬¡æ“ä½œä¸­ï¼Œä½ å¯ä»¥ä½¿æ•°ç»„ä¸­çš„ä¸€ä¸ªå…ƒç´ åŠ  `1` æˆ–è€…å‡ `1` ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šnums = [1,2,3]
è¾“å‡ºï¼š2
è§£é‡Šï¼š
åªéœ€è¦ä¸¤æ¬¡æ“ä½œï¼ˆæ¯æ¬¡æ“ä½œæŒ‡å—ä½¿ä¸€ä¸ªå…ƒç´ åŠ  1 æˆ–å‡ 1ï¼‰ï¼š
[1,2,3]  =>  [2,2,3]  =>  [2,2,2]
```



--------

![image-20230131150833727](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230131150833727.png)

æ¯”å¦‚è¯´ä¸€ä¸ªæ•°ç»„[1,2,3,4,5,6],targetæ˜¯1å’Œ6ä¹‹é—´çš„æ•°ï¼Œåˆ™ä¸ç®¡æ˜¯å‡ ï¼Œç§»åŠ¨æ¬¡æ•°éƒ½æ˜¯5ï¼Œå¦‚æœè¿™ä¸ªæ•°å­—åœ¨[1,6]ä¹‹å¤–ï¼Œæ¯”å¦‚7ï¼Œé‚£ä¹ˆå°±æ˜¯7-1+7-6ï¼Œå³2*target-num1-num2,è¿™é‡Œ7-1ä¸€å®šæ˜¯å¤§äº6-1çš„ï¼Œæ‰€ä»¥å¦‚æœèŒƒå›´åœ¨è¿™ä¸ªåŒºé—´å¤–é¢ï¼Œç§»åŠ¨æ¬¡æ•°ä¸€å®šä¼šæ›´å¤§çš„

```java
public int minMoves2(int[] nums) {
if(nums.length==1) return 0;

int ans=0;
Arrays.sort(nums);
int n=nums[nums.length/2];

for(int i:nums)
ans+=Math.abs(n-i);
return ans;
}
```



# ä¼˜å…ˆçº§é˜Ÿåˆ—

## [179. æœ€å¤§æ•°](https://leetcode-cn.com/problems/largest-number/)

ç»™å®šä¸€ç»„éè´Ÿæ•´æ•° `nums`ï¼Œé‡æ–°æ’åˆ—æ¯ä¸ªæ•°çš„é¡ºåºï¼ˆæ¯ä¸ªæ•°ä¸å¯æ‹†åˆ†ï¼‰ä½¿ä¹‹ç»„æˆä¸€ä¸ªæœ€å¤§çš„æ•´æ•°ã€‚

**æ³¨æ„ï¼š**è¾“å‡ºç»“æœå¯èƒ½éå¸¸å¤§ï¼Œæ‰€ä»¥ä½ éœ€è¦è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²è€Œä¸æ˜¯æ•´æ•°ã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šnums = [10,2]
è¾“å‡ºï¼š"210"
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šnums = [3,30,34,5,9]
è¾“å‡ºï¼š"9534330"
```

```java
public String largestNumber(int[] nums) {
PriorityQueue<String>queue = new PriorityQueue<>((x,y)->(y+x).compareTo(x+y));
for(int i:nums)
queue.offer(String.valueOf(i));
String ans="";
while(queue.size()>0)
{
ans+=queue.poll();
}
if(ans.charAt(0)=='0') return"0";
return ans;

    }
```





## [918. ç¯å½¢å­æ•°ç»„çš„æœ€å¤§å’Œ](https://leetcode-cn.com/problems/maximum-sum-circular-subarray/)

é¦–å…ˆå…³äºä¸€èˆ¬æ•°ç»„çš„æœ€å¤§å’Œï¼š

```java
    int maxSubArray(vector<int>& nums) {

int pre = 0;
int sum = nums[0];
for(const auto &i: nums){
    pre = max(pre+i,i);
    sum = max(pre,sum);
}
return sum;
    }

```

ç„¶åç¯å½¢æ•°ç»„æœ€å¤§å’Œçš„å…³é”®æ˜¯çŸ¥é“æœ€å¤§å’Œæ˜¯æ€ä¹ˆäº§ç”Ÿçš„ï¼Œå…¶å®æœ‰ä¸¤ç§æƒ…å†µï¼Œä¸€ä¸ªæ˜¯æœ€å¤§å’Œæ˜¯æ•°ç»„ä¸­é—´çš„æ•°å­—ä¹‹å’Œï¼ˆä»ç¬¬0ç´¢å¼•åˆ°ç¬¬length-1ä¸ªç´¢å¼•ä¹‹é—´æŸå‡ ä¸ªæ•°ä¹‹å’Œï¼‰ï¼Œå¦ä¸€ä¸ªæ˜¯ç”±ä¸¤ç«¯çš„äº§ç”Ÿï¼Œï¼ˆå³åŒ…å«0å’Œlength-1ç´¢å¼•ï¼Œä½†ä¸­é—´æœ‰çš„å…ƒç´ ä¸åŒ…å«ï¼‰ï¼Œç¬¬äºŒç§æƒ…å†µæ˜¯æœ‰è´Ÿæ•°çš„æƒ…å†µï¼Œå¦‚[8,-1,-1,1],è¿™æ ·éœ€è¦ç”¨æ‰€æœ‰å…ƒç´ ä¹‹å’Œå‡å»æœ€å°å­æ•°ç»„æ¥æ±‚ï¼Œæœ‰ä¸€ç§ç‰¹æ®Šæƒ…å†µï¼Œå¦‚æœå…¨ä¸ºè´Ÿæ•°è¿™æ—¶å€™æ‰€æœ‰å…ƒç´ ä¹‹å’Œå‡å»æœ€å°å­æ•°ç»„ä¸º0ï¼Œè¿™ä¸ªç¯å½¢æ•°ç»„çš„æœ€å¤§å’Œåº”è¯¥æ˜¯å…ƒç´ ä¸­æœ€å¤§çš„é‚£ä¸ªæ•°ï¼Œæ¦‚å†µï¼š

å¯¹äºç¯å½¢æ•°ç»„ï¼Œåˆ†ä¸¤ç§æƒ…å†µã€‚
(1)ç­”æ¡ˆåœ¨æ•°ç»„ä¸­é—´ï¼Œå°±æ˜¯æœ€å¤§å­åºå’Œã€‚ä¾‹å¦‚[1,-2,3,-2]ï¼›
(2)ç­”æ¡ˆåœ¨æ•°ç»„ä¸¤è¾¹ï¼Œä¾‹å¦‚[5,-3,5]æœ€å¤§çš„å­åºå’Œå°±ç­‰äºæ•°ç»„çš„æ€»å’ŒSUM-æœ€å°çš„å­åºå’Œã€‚(ä¸€ç§ç‰¹æ®Šæƒ…å†µæ˜¯æ•°ç»„å…¨ä¸ºè´Ÿæ•°ï¼Œä¹Ÿå°±æ˜¯SUM-æœ€å°å­åºå’Œ==0ï¼Œæœ€å¤§å­åºå’Œç­‰äºæ•°ç»„ä¸­æœ€å¤§çš„é‚£ä¸ª)ã€‚

```java
public int maxSubarraySumCircular(int[] nums) {
int premax = 0,premin = 0,maxval = nums[0],minval = nums[0],sum=0;
for(int i = 0;i < nums.length;i++)
{
    premax = Math.max(premax+nums[i],nums[i]);
    maxval = Math.max(maxval,premax);
    premin = Math.min(premin+nums[i],nums[i]);
    minval =  Math.min(minval,premin);
    sum+=nums[i];
}
return Math.max(maxval,sum-minval ==0?maxval:sum-minval);
    }
```

## [1094. æ‹¼è½¦](https://leetcode-cn.com/problems/car-pooling/)

éš¾åº¦ä¸­ç­‰146

å‡è®¾ä½ æ˜¯ä¸€ä½é¡ºé£è½¦å¸æœºï¼Œè½¦ä¸Šæœ€åˆæœ‰ `capacity` ä¸ªç©ºåº§ä½å¯ä»¥ç”¨æ¥è½½å®¢ã€‚ç”±äºé“è·¯çš„é™åˆ¶ï¼Œè½¦ **åªèƒ½** å‘ä¸€ä¸ªæ–¹å‘è¡Œé©¶ï¼ˆä¹Ÿå°±æ˜¯è¯´ï¼Œ**ä¸å…è®¸æ‰å¤´æˆ–æ”¹å˜æ–¹å‘**ï¼Œä½ å¯ä»¥å°†å…¶æƒ³è±¡ä¸ºä¸€ä¸ªå‘é‡ï¼‰ã€‚

è¿™å„¿æœ‰ä¸€ä»½ä¹˜å®¢è¡Œç¨‹è®¡åˆ’è¡¨ `trips[][]`ï¼Œå…¶ä¸­ `trips[i] = [num_passengers, start_location, end_location]` åŒ…å«äº†ç¬¬ `i` ç»„ä¹˜å®¢çš„è¡Œç¨‹ä¿¡æ¯ï¼š

- å¿…é¡»æ¥é€çš„ä¹˜å®¢æ•°é‡ï¼›
- ä¹˜å®¢çš„ä¸Šè½¦åœ°ç‚¹ï¼›
- ä»¥åŠä¹˜å®¢çš„ä¸‹è½¦åœ°ç‚¹ã€‚

è¿™äº›ç»™å‡ºçš„åœ°ç‚¹ä½ç½®æ˜¯ä»ä½ çš„ **åˆå§‹** å‡ºå‘ä½ç½®å‘å‰è¡Œé©¶åˆ°è¿™äº›åœ°ç‚¹æ‰€éœ€çš„è·ç¦»ï¼ˆå®ƒä»¬ä¸€å®šåœ¨ä½ çš„è¡Œé©¶æ–¹å‘ä¸Šï¼‰ã€‚

è¯·ä½ æ ¹æ®ç»™å‡ºçš„è¡Œç¨‹è®¡åˆ’è¡¨å’Œè½¦å­çš„åº§ä½æ•°ï¼Œæ¥åˆ¤æ–­ä½ çš„è½¦æ˜¯å¦å¯ä»¥é¡ºåˆ©å®Œæˆæ¥é€æ‰€æœ‰ä¹˜å®¢çš„ä»»åŠ¡ï¼ˆå½“ä¸”ä»…å½“ä½ å¯ä»¥åœ¨æ‰€æœ‰ç»™å®šçš„è¡Œç¨‹ä¸­æ¥é€æ‰€æœ‰ä¹˜å®¢æ—¶ï¼Œè¿”å› `true`ï¼Œå¦åˆ™è¯·è¿”å› `false`ï¼‰ã€‚

ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼štrips = [[2,1,5],[3,3,7]], capacity = 4
è¾“å‡ºï¼šfalse
ç¤ºä¾‹ 2ï¼š

è¾“å…¥ï¼štrips = [[2,1,5],[3,3,7]], capacity = 5
è¾“å‡ºï¼štrue
ç¤ºä¾‹ 3ï¼š

è¾“å…¥ï¼štrips = [[2,1,5],[3,5,7]], capacity = 3
è¾“å‡ºï¼štrue

-------------------

é¦–å…ˆæŒ‰åˆ†åˆ«æŒ‰ä¸Šè½¦åœ°ç‚¹å’Œä¸‹è½¦åœ°ç‚¹ç»´æŠ¤ä¸¤ä¸ªå°é¡¶å †ã€‚æ¯æ¬¡æ¯”è¾ƒå †é¡¶å…ƒç´ ï¼Œå¹¶ç»´æŠ¤å½“å‰å®¹é‡ï¼Œè‹¥ä¸‹è½¦åœ°ç‚¹æ›´å°ï¼ˆæˆ–ç›¸ç­‰ï¼‰ï¼Œå…ˆä¸‹è½¦ï¼ˆå½“å‰å®¹é‡å¢åŠ ï¼‰ï¼Œå¦åˆ™ä¸Šè½¦ï¼ˆå½“å‰å®¹é‡å‡å°ï¼‰ï¼Œä¸Šè½¦æ—¶è¦åˆ¤æ–­å½“å‰å®¹é‡æ˜¯å¦å˜æˆè´Ÿå€¼ï¼Œè‹¥å˜æˆè´Ÿå€¼åº”ç›´æ¥è¿”å›falseã€‚
æ³¨æ„ï¼Œå› ä¸ºæœ€åä¸€ä¸ªä¸‹è½¦åœ°ç‚¹ä¸€å®šå¤§äºæœ€åä¸€ä¸ªä¸Šè½¦åœ°ç‚¹ï¼Œå› æ­¤æŒ‰ä¸Šè½¦åœ°ç‚¹ç»´æŠ¤çš„å°é¡¶å †ä¸€å®šå…ˆå˜ä¸ºç©ºã€‚



```java
 public boolean carPooling(int[][] trips, int capacity) {
PriorityQueue<int[]>up = new PriorityQueue<>((a,b)->a[1]-b[1]);//æŒ‰ä¸Šè½¦åœ°ç‚¹è¿›è¡Œæ’åº
PriorityQueue<int[]>down = new PriorityQueue<>((a,b)->a[2]-b[2]);
for(int i = 0;i<trips.length;i++)
{
    up.offer(trips[i]);
    down.offer(trips[i]);
}
while(!up.isEmpty())
{
    int start = up.peek()[1];
    int end = down.peek()[2];
    if(end<=start)
    {
        int[] temp=down.poll();//ä¸‹è½¦ï¼Œå®¹é‡å¢åŠ 
        capacity+=temp[0];
    }
    else
    {
        int[] temp = up.poll();
        capacity-=temp[0];
    }
    if(capacity<0) return false;
}
return true;
    }
```

## [264. ä¸‘æ•° II](https://leetcode-cn.com/problems/ugly-number-ii/)

éš¾åº¦ä¸­ç­‰

ç»™ä½ ä¸€ä¸ªæ•´æ•° `n` ï¼Œè¯·ä½ æ‰¾å‡ºå¹¶è¿”å›ç¬¬ `n` ä¸ª **ä¸‘æ•°** ã€‚

**ä¸‘æ•°** å°±æ˜¯åªåŒ…å«è´¨å› æ•° `2`ã€`3` å’Œ/æˆ– `5` çš„æ­£æ•´æ•°ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šn = 10
è¾“å‡ºï¼š12
è§£é‡Šï¼š[1, 2, 3, 4, 5, 6, 8, 9, 10, 12] æ˜¯ç”±å‰ 10 ä¸ªä¸‘æ•°ç»„æˆçš„åºåˆ—ã€‚
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šn = 1
è¾“å‡ºï¼š1
è§£é‡Šï¼š1 é€šå¸¸è¢«è§†ä¸ºä¸‘æ•°ã€‚
```

---

è¦å¾—åˆ°ä»å°åˆ°å¤§çš„ç¬¬ nä¸ªä¸‘æ•°ï¼Œå¯ä»¥ä½¿ç”¨æœ€å°å †å®ç°ã€‚

åˆå§‹æ—¶å †ä¸ºç©ºã€‚é¦–å…ˆå°†æœ€å°çš„ä¸‘æ•° 1åŠ å…¥å †ã€‚

æ¯æ¬¡å–å‡ºå †é¡¶å…ƒç´  xxï¼Œåˆ™ xx æ˜¯å †ä¸­æœ€å°çš„ä¸‘æ•°ï¼Œç”±äº 2x, 3x, 5x ä¹Ÿæ˜¯ä¸‘æ•°ï¼Œå› æ­¤å°† 2x, 3x, 5x åŠ å…¥å †ã€‚

ä¸Šè¿°åšæ³•ä¼šå¯¼è‡´å †ä¸­å‡ºç°é‡å¤å…ƒç´ çš„æƒ…å†µã€‚ä¸ºäº†é¿å…é‡å¤å…ƒç´ ï¼Œå¯ä»¥ä½¿ç”¨å“ˆå¸Œé›†åˆå»é‡ï¼Œé¿å…ç›¸åŒå…ƒç´ å¤šæ¬¡åŠ å…¥å †ã€‚

åœ¨æ’é™¤é‡å¤å…ƒç´ çš„æƒ…å†µä¸‹ï¼Œç¬¬ n æ¬¡ä»æœ€å°å †ä¸­å–å‡ºçš„å…ƒç´ å³ä¸ºç¬¬ n ä¸ªä¸‘æ•°ã€‚



```java
 public int nthUglyNumber(int n) {
int[]ug=new int[]{2,3,5};
PriorityQueue<Long>queue = new PriorityQueue<>();
Set<Long>myset = new HashSet<>();//åœ¨æ·»åŠ å…ƒç´ çš„è¿‡ç¨‹ä¸­å¯èƒ½å‡ºç°éå¸¸å¤§çš„æ•°ï¼Œå› æ­¤è¦ç”¨longç±»å‹
queue.offer(1L);//1æ˜¯ä¸‘æ•°
myset.add(1L);
 int ans=1;
for(int i = 0;i<n;i++)
{
  long heap=queue.poll();
   ans = (int)heap;//å¼ºåˆ¶è½¬åŒ–ä¸ºintç±»å‹
  for(int j = 0;j < ug.length;j++)
  {
      long temp = heap*ug[j];
      if(myset.add(temp))//ç”¨äºå»é‡ï¼Œå¦‚æœhashsetå¯ä»¥æ·»åŠ æˆåŠŸåˆ™è¯æ˜è¿™ä¸ªå…ƒç´ æ²¡æœ‰å‡ºç°è¿‡ï¼Œå¯ä»¥æ·»åŠ åˆ°å †ä¸­
      queue.offer(temp);
  }  

}
return ans;
    }
  
```



## å‰kä¸ªå‡ºç°é¢‘ç‡æœ€é«˜çš„æ•°å­—



```java
   public int[] topKFrequent(int[] nums, int k) {
        Map<Integer, Integer> occurrences = new HashMap<Integer, Integer>();
        for (int num : nums) {
            occurrences.put(num, occurrences.getOrDefault(num, 0) + 1);
        }

        // int[] çš„ç¬¬ä¸€ä¸ªå…ƒç´ ä»£è¡¨æ•°ç»„çš„å€¼ï¼Œç¬¬äºŒä¸ªå…ƒç´ ä»£è¡¨äº†è¯¥å€¼å‡ºç°çš„æ¬¡æ•°
        PriorityQueue<int[]> queue = new PriorityQueue<int[]>(new Comparator<int[]>() {
            public int compare(int[] m, int[] n) {
                return m[1] - n[1];//è¿™ä¸€æ­¥æ¯”è¾ƒä¸èƒ½å†™åï¼Œå¦åˆ™ç»“æœæ˜¯é”™çš„
            }
        });
        for (Map.Entry<Integer, Integer> entry : occurrences.entrySet()) {
            int num = entry.getKey(), count = entry.getValue();
            if (queue.size() == k) {
                if (queue.peek()[1] < count) {
                    queue.poll();
                    queue.offer(new int[]{num, count});
                }
            } else {
                queue.offer(new int[]{num, count});
            }
        }
        int[] ret = new int[k];
        for (int i = 0; i < k; ++i) {
            ret[i] = queue.poll()[0];
        }
        return ret;
    }
}


```

## ç”¨ä¼˜å…ˆçº§é˜Ÿåˆ—åˆå¹¶kä¸ªæœ‰åºé“¾è¡¨

```java
class Status implements Comparable<Status> {
        int val;
        ListNode ptr;
        public Status(int val,ListNode ptr)
        {
            this.val=val;
            this.ptr=ptr;
        }
        
        public int compareTo(Status s2)
        {
return ptr.val-s2.val;
        }
    }
    PriorityQueue<Status>queue=new PriorityQueue<Status>();
    public ListNode mergeKLists(ListNode[] lists) {
for(ListNode node:lists)
if (node != null) {
queue.offer(new Status(node.val,node));
}
ListNode head=new ListNode(0);
ListNode tail=head;
while(!queue.isEmpty())
{
    Status f=queue.poll();
    tail.next=f.ptr;
    tail=f.ptr;
    if(f.ptr.next!=null)
    queue.offer(new Status(f.ptr.next.val,f.ptr.next));//è¿™ä¸€æ­¥æ¯”è¾ƒå·§å¦™ï¼Œæ²¡æœ‰ç›´æ¥å±•å¼€ä¸Šé¢çš„æ‰€æœ‰é“¾è¡¨ç»“ç‚¹ï¼Œè€Œæ˜¯å…ˆå°†é“¾è¡¨æ•°ç»„ä¸­çš„å…ƒç´ æŒ‰ç…§ç¬¬ä¸€ä¸ªç»“ç‚¹çš„å¤§å°åŠ å…¥ä¼˜å…ˆçº§é˜Ÿåˆ—ï¼Œåå†å¯¹æ¯ä¸€ä¸ªç»“ç‚¹ä¸­å¯»æ‰¾ä¸‹ä¸€ä¸ªç»“ç‚¹åŠ å…¥é˜Ÿåˆ—
}
return head.next;
    }
```



## å¯¹äºŒç»´æ•°ç»„è‡ªå®šä¹‰æ’åº

```java
Arrays.sort(intervals,new Comparator<int[]>() {
@Override
public int compare(int[]a,int[]b)
{
    return a[0]==b[0]?b[1]-a[1]:a[0]-b[0];
} });
```

## æ»‘åŠ¨çª—å£çš„æœ€å¤§å€¼

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ numsï¼Œæœ‰ä¸€ä¸ªå¤§å°ä¸º k çš„æ»‘åŠ¨çª—å£ä»æ•°ç»„çš„æœ€å·¦ä¾§ç§»åŠ¨åˆ°æ•°ç»„çš„æœ€å³ä¾§ã€‚ä½ åªå¯ä»¥çœ‹åˆ°åœ¨æ»‘åŠ¨çª—å£å†…çš„ k ä¸ªæ•°å­—ã€‚æ»‘åŠ¨çª—å£æ¯æ¬¡åªå‘å³ç§»åŠ¨ä¸€ä½ã€‚

è¿”å› æ»‘åŠ¨çª—å£ä¸­çš„æœ€å¤§å€¼ ã€‚

 

ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼šnums = [1,3,-1,-3,5,3,6,7], k = 3
è¾“å‡ºï¼š[3,3,5,5,6,7]
è§£é‡Šï¼š
æ»‘åŠ¨çª—å£çš„ä½ç½®                æœ€å¤§å€¼
---------------               -----
[1  3  -1] -3  5  3  6  7       3
 1 [3  -1  -3] 5  3  6  7       3
 1  3 [-1  -3  5] 3  6  7       5
 1  3  -1 [-3  5  3] 6  7       5
 1  3  -1  -3 [5  3  6] 7       6
 1  3  -1  -3  5 [3  6  7]      7

------

ç”±äºå‡ºç°äº†æœ€å¤§å€¼ï¼Œç”¨ä¼˜å…ˆçº§é˜Ÿåˆ—å¯ä»¥ç»´æŠ¤æ¯æ¬¡çª—å£çš„æœ€å¤§å€¼ï¼Œå…¶ä¸­ç”¨æ•°ç»„ä¸‹æ ‡ç”¨æ¥æ’é™¤çª—å£ä¹‹å¤–çš„å…ƒç´ 

```java
 public int[] maxSlidingWindow(int[] nums, int k) {
int[]ans = new int[nums.length+1-k];
PriorityQueue<int[]>queue = new PriorityQueue<int[]>(new Comparator<int[]>(){
    @Override
    public int compare(int[]a1,int[]a2)
    {
        return a1[0]==a2[0]?a2[1]-a1[1]:a2[0]-a1[0];
    }
});
for(int i = 0;i <k;i++)
queue.offer(new int[]{nums[i],i});
int index = 0;
ans[0]= queue.peek()[0];
for(int i = k;i<nums.length;i++)
{
      queue.offer(new int[]{nums[i],i});
   while(queue.peek()[1] <= i-k)//æ³¨æ„è¿™é‡Œæ˜¯whileå¾ªç¯ä¸æ˜¯ifåˆ¤æ–­
    queue.poll();
  
   
      ans[i-k+1] = queue.peek()[0];
  
}
return ans;
    }
```

ä¹Ÿå¯ä»¥ç”¨åŒç«¯é˜Ÿåˆ—ï¼š

![image-20220211100522678](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220211100522678.png)

```java
   public int[] maxSlidingWindow(int[] nums, int k) {
int[]ans = new int[nums.length+1-k];
Deque<Integer>queue = new LinkedList<>();

for(int i = 0;i <k;i++)
{
while(!queue.isEmpty()&& nums[i]>=nums[queue.peekLast()])
queue.pollLast();
queue.offerLast(i);
}
int index = 0;
ans[0]= nums[queue.peekFirst()];
for(int i = k;i<nums.length;i++)
{
   while(!queue.isEmpty()&& nums[i]>=nums[queue.peekLast()])
queue.pollLast();
 queue.offerLast(i);
   while(queue.peekFirst() <= i-k)//æ³¨æ„è¿™é‡Œæ˜¯whileå¾ªç¯ä¸æ˜¯ifåˆ¤æ–­
    queue.pollFirst();
  
   
      ans[i-k+1] = nums[queue.peekFirst()];
  
}
return ans;
    }
```

## [703. æ•°æ®æµä¸­çš„ç¬¬ K å¤§å…ƒç´ ](https://leetcode-cn.com/problems/kth-largest-element-in-a-stream/)

éš¾åº¦ç®€å•321

è®¾è®¡ä¸€ä¸ªæ‰¾åˆ°æ•°æ®æµä¸­ç¬¬ `k` å¤§å…ƒç´ çš„ç±»ï¼ˆclassï¼‰ã€‚æ³¨æ„æ˜¯æ’åºåçš„ç¬¬ `k` å¤§å…ƒç´ ï¼Œä¸æ˜¯ç¬¬ `k` ä¸ªä¸åŒçš„å…ƒç´ ã€‚

è¯·å®ç° `KthLargest` ç±»ï¼š

- `KthLargest(int k, int[] nums)` ä½¿ç”¨æ•´æ•° `k` å’Œæ•´æ•°æµ `nums` åˆå§‹åŒ–å¯¹è±¡ã€‚
- `int add(int val)` å°† `val` æ’å…¥æ•°æ®æµ `nums` åï¼Œè¿”å›å½“å‰æ•°æ®æµä¸­ç¬¬ `k` å¤§çš„å…ƒç´ ã€‚

 

**ç¤ºä¾‹ï¼š**

```
è¾“å…¥ï¼š
["KthLargest", "add", "add", "add", "add", "add"]
[[3, [4, 5, 8, 2]], [3], [5], [10], [9], [4]]
è¾“å‡ºï¼š
[null, 4, 5, 5, 8, 8]
```

----

é¦–å…ˆéœ€è¦è§‚å¯Ÿç‰¹å¾ï¼Œå¯ä»¥è¿‘ä¼¼äºæ•°ç»„ä¸­å®é™…ä¸Šåªä¿å­˜å‰kå¤§çš„æ•°ç„¶åå–kä¸ªæ•°å…¶ä¸­çš„æœ€å°æ•°å³å¯

```java
int number;
PriorityQueue<Integer>queue ;
    public KthLargest(int k, int[] nums){
this.number = k;
queue= new PriorityQueue<>();
for(int i :nums)
{
add(i);
}
    }
    
    public int add(int val) {
queue.offer(val);
if(queue.size()>number)
queue.poll();
return queue.peek();
    }
```

## ä¼šè®®å®¤

ç»™å®šä¸€ä¸ªä¼šè®®æ—¶é—´å®‰æ’çš„æ•°ç»„ï¼Œæ¯ä¸ªä¼šè®®æ—¶é—´éƒ½ä¼šåŒ…æ‹¬å¼€å§‹å’Œç»“æŸçš„æ—¶é—´ [[s1,e1],[s2,e2],â€¦] (si < ei)ï¼Œ
ä¸ºé¿å…ä¼šè®®å†²çªï¼ŒåŒæ—¶è¦è€ƒè™‘å……åˆ†åˆ©ç”¨ä¼šè®®å®¤èµ„æºï¼Œè¯·ä½ è®¡ç®—è‡³å°‘éœ€è¦å¤šå°‘é—´ä¼šè®®å®¤ï¼Œæ‰èƒ½æ»¡è¶³è¿™äº›ä¼šè®®å®‰æ’ã€‚

ç¤ºä¾‹ 1:
è¾“å…¥: [[0, 30],[5, 10],[15, 20]]
è¾“å‡º: 2

ç¤ºä¾‹ 2:
è¾“å…¥: [[7,10],[2,4]]

è¾“å‡º: 1

----

```java
å¼€å§‹æ—¶é—´ä¸€æ ·ï¼Œå…ˆç»“æŸçš„åœ¨å‰ï¼›å¼€å§‹æ—©çš„åœ¨å‰
ä¼˜å…ˆé˜Ÿåˆ—å­˜å‚¨ä¼šè®®ç»“æŸçš„æ—¶é—´ï¼Œå †é¡¶æ˜¯ç»“æŸæ—¶é—´æ—©çš„
ä¸‹ä¸€ä¸ªä¼šè®®å¼€å§‹æ—¶é—´æ—©äºå †é¡¶çš„æˆ¿é—´ç»“æŸæ—¶é—´ï¼Œè¯¥ä¼šè®®æ–°å¼€ä¸€ä¸ªroomï¼Œpushè¿›é˜Ÿåˆ—
int  minMeetingRooms(int[][]newlen)
  {
      Arrays.sort(newlen, new Comparator<int[]>() {
          @Override
          public int compare(int[] o1, int[] o2) {
              return o1[0]==o2[0]?o1[1]-o2[1]:o1[0]-o2[0];
          }
      });

PriorityQueue<Integer> queue = new PriorityQueue<Integer>();
queue.offer(newlen[0][1]);//ä¼˜å…ˆçº§é˜Ÿåˆ—åªå­˜æ”¾ç»“æŸæ—¶é—´

      for(int i = 1;i < newlen.length;i++)
      {
          if(newlen[i][0] >= queue.peek())//å¦‚æœè¿™ä¸ªä¼šè®®çš„å¼€å§‹æ—¶é—´å¤§äºä¸Šä¸€ä¸ªé˜Ÿåˆ—çš„ç»“æŸæ—¶é—´ï¼Œåˆ™å¯ä»¥ç”¨åŸæ¥çš„æˆ¿é—´
              queue.poll();
          queue.offer(newlen[i][1]);
      }
  return queue.size();
  }
```











## [å‰‘æŒ‡ Offer 64. æ±‚1+2+â€¦+n](https://leetcode-cn.com/problems/qiu-12n-lcof/)

éš¾åº¦ä¸­ç­‰438

æ±‚ `1+2+...+n` ï¼Œè¦æ±‚ä¸èƒ½ä½¿ç”¨ä¹˜é™¤æ³•ã€forã€whileã€ifã€elseã€switchã€caseç­‰å…³é”®å­—åŠæ¡ä»¶åˆ¤æ–­è¯­å¥ï¼ˆA?B:Cï¼‰ã€‚

----



![image-20220220175044175](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20220220175044175.png)

åˆ©ç”¨è¿™ä¸€ç‰¹æ€§ï¼Œæˆ‘ä»¬å¯ä»¥å°†åˆ¤æ–­æ˜¯å¦ä¸ºé€’å½’çš„å‡ºå£çœ‹ä½œ A && B è¡¨è¾¾å¼ä¸­Trueï¼Œå¹¶ç»§ç»­æ‰§è¡Œè¡¨è¾¾å¼ B çš„éƒ¨åˆ†ï¼Œå¦åˆ™é€’å½’ç»“æŸã€‚å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥ç”¨é€»è¾‘è¿ç®—ç¬¦ || ç»™å‡ºç±»ä¼¼çš„å®ç°ï¼Œè¿™é‡Œæˆ‘ä»¬åªæä¾›ç»“åˆé€»è¾‘è¿ç®—ç¬¦ && çš„é€’å½’å®ç°ã€‚

```java
public int sumNums(int n) {
boolean flag= (n>0)&&(n = n+sumNums(n-1))>0;
return n;

    }
```

## [166. åˆ†æ•°åˆ°å°æ•°](https://leetcode-cn.com/problems/fraction-to-recurring-decimal/)

éš¾åº¦ä¸­ç­‰366

ç»™å®šä¸¤ä¸ªæ•´æ•°ï¼Œåˆ†åˆ«è¡¨ç¤ºåˆ†æ•°çš„åˆ†å­ `numerator` å’Œåˆ†æ¯ `denominator`ï¼Œä»¥ **å­—ç¬¦ä¸²å½¢å¼è¿”å›å°æ•°** ã€‚

å¦‚æœå°æ•°éƒ¨åˆ†ä¸ºå¾ªç¯å°æ•°ï¼Œåˆ™å°†å¾ªç¯çš„éƒ¨åˆ†æ‹¬åœ¨æ‹¬å·å†…ã€‚

å¦‚æœå­˜åœ¨å¤šä¸ªç­”æ¡ˆï¼Œåªéœ€è¿”å› **ä»»æ„ä¸€ä¸ª** ã€‚

å¯¹äºæ‰€æœ‰ç»™å®šçš„è¾“å…¥ï¼Œ**ä¿è¯** ç­”æ¡ˆå­—ç¬¦ä¸²çš„é•¿åº¦å°äº `104` ã€‚

ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼šnumerator = 1, denominator = 2
è¾“å‡ºï¼š"0.5"
ç¤ºä¾‹ 2ï¼š

è¾“å…¥ï¼šnumerator = 2, denominator = 1
è¾“å‡ºï¼š"2"
ç¤ºä¾‹ 3ï¼š

è¾“å…¥ï¼šnumerator = 2, denominator = 3
è¾“å‡ºï¼š"0.(6)"

-----

è®¡ç®—é•¿é™¤æ³•æ—¶ï¼Œé¦–å…ˆè®¡ç®—ç»“æœçš„æ•´æ•°éƒ¨åˆ†ï¼Œå°†ä»¥ä¸‹éƒ¨åˆ†ä¾æ¬¡æ‹¼æ¥åˆ°ç»“æœä¸­ï¼š

å¦‚æœç»“æœæ˜¯è´Ÿæ•°åˆ™å°†è´Ÿå·æ‹¼æ¥åˆ°ç»“æœä¸­ï¼Œå¦‚æœç»“æœæ˜¯æ­£æ•°åˆ™è·³è¿‡è¿™ä¸€æ­¥ï¼›

å°†æ•´æ•°éƒ¨åˆ†æ‹¼æ¥åˆ°ç»“æœä¸­ï¼›

å°†å°æ•°ç‚¹æ‹¼æ¥åˆ°ç»“æœä¸­ã€‚

å®Œæˆä¸Šè¿°æ‹¼æ¥ä¹‹åï¼Œæ ¹æ®ä½™æ•°è®¡ç®—å°æ•°éƒ¨åˆ†ã€‚

è®¡ç®—å°æ•°éƒ¨åˆ†æ—¶ï¼Œæ¯æ¬¡å°†ä½™æ•°ä¹˜ä»¥ 10ï¼Œç„¶åè®¡ç®—å°æ•°çš„ä¸‹ä¸€ä½æ•°å­—ï¼Œå¹¶å¾—åˆ°æ–°çš„ä½™æ•°ã€‚é‡å¤ä¸Šè¿°æ“ä½œç›´åˆ°ä½™æ•°å˜æˆ 0 æˆ–è€…æ‰¾åˆ°å¾ªç¯èŠ‚ã€‚

å¦‚æœä½™æ•°å˜æˆ 0ï¼Œåˆ™ç»“æœæ˜¯æœ‰é™å°æ•°ï¼Œå°†å°æ•°éƒ¨åˆ†æ‹¼æ¥åˆ°ç»“æœä¸­ã€‚

å¦‚æœæ‰¾åˆ°å¾ªç¯èŠ‚ï¼Œåˆ™æ‰¾åˆ°å¾ªç¯èŠ‚çš„å¼€å§‹ä½ç½®å’Œç»“æŸä½ç½®å¹¶åŠ ä¸Šæ‹¬å·ï¼Œç„¶åå°†å°æ•°éƒ¨åˆ†æ‹¼æ¥åˆ°ç»“æœä¸­ã€‚

å¦‚ä½•åˆ¤æ–­æ˜¯å¦æ‰¾åˆ°å¾ªç¯èŠ‚ï¼Ÿæ³¨æ„åˆ°å¯¹äºç›¸åŒçš„ä½™æ•°ï¼Œè®¡ç®—å¾—åˆ°çš„å°æ•°çš„ä¸‹ä¸€ä½æ•°å­—ä¸€å®šæ˜¯ç›¸åŒçš„ï¼Œå› æ­¤å¦‚æœè®¡ç®—è¿‡ç¨‹ä¸­å‘ç°æŸä¸€ä½çš„ä½™æ•°åœ¨ä¹‹å‰å·²ç»å‡ºç°è¿‡ï¼Œåˆ™ä¸ºæ‰¾åˆ°å¾ªç¯èŠ‚ã€‚ä¸ºäº†è®°å½•æ¯ä¸ªä½™æ•°æ˜¯å¦å·²ç»å‡ºç°è¿‡ï¼Œéœ€è¦ä½¿ç”¨å“ˆå¸Œè¡¨å­˜å‚¨æ¯ä¸ªä½™æ•°åœ¨å°æ•°éƒ¨åˆ†ç¬¬ä¸€æ¬¡å‡ºç°çš„ä¸‹æ ‡ã€‚

```java
 public String fractionToDecimal(int numerator, int denominator) {
     long numeratorLong = (long) numerator;//åˆ†å­
        long denominatorLong = (long) denominator;//åˆ†æ¯
      StringBuilder sb = new StringBuilder();
       
        if(  numeratorLong%denominator == 0) 
        return String.valueOf(numeratorLong / denominatorLong);
        if(numeratorLong<0 ^ denominatorLong < 0) //ä¸¤ä¸ªå¼‚æˆ–ï¼Œå¦‚æœä¸ºtrueè¯´æ˜ä¸æ˜¯ä¸¤ä¸ªå¼‚å·
        sb.append('-');
          // æ•´æ•°éƒ¨åˆ†
        numeratorLong = Math.abs(numeratorLong);
        denominatorLong = Math.abs(denominatorLong);
        long ans = numeratorLong/denominatorLong;
        sb.append(ans);
sb.append('.');//å°æ•°ç‚¹åˆ«å¿˜äº†
StringBuilder smallnum = new StringBuilder();//å°æ•°
Map<Long,Integer>mymap = new HashMap<>();//longæ˜¯æ•°å­—ï¼Œintegeræ˜¯ç´¢å¼•
long remainindex = numeratorLong % denominatorLong;//ä½™æ•°
int index = 0;
while(remainindex != 0 && !mymap.containsKey(remainindex))
{
     mymap.put(remainindex,index);
    remainindex = remainindex *10;
    long temp = remainindex/denominatorLong;
    remainindex %= denominator;//æ³¨æ„è¿™ä¸€æ­¥ä¸è¦å¿˜è®°ï¼Œä½™æ•°è¦æ¨¡ä¸Šåˆ†æ¯å¾—åˆ°æ–°çš„ä½™æ•°ï¼Œä¸æ–­å¾ªç¯
    smallnum.append(temp);
   
    index++;
}
if(remainindex != 0)
{
    //æœ‰ä½™æ•°
    int begin = mymap.get(remainindex);
    smallnum.insert(begin,'(');
    smallnum.append(')');
}
sb.append(smallnum);
return sb.toString();
    }
```

## 76.é‡æ„å­—ç¬¦ä¸²

ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² s ï¼Œæ£€æŸ¥æ˜¯å¦èƒ½é‡æ–°æ’å¸ƒå…¶ä¸­çš„å­—æ¯ï¼Œä½¿å¾—ä¸¤ç›¸é‚»çš„å­—ç¬¦ä¸åŒã€‚

è¿”å› s çš„ä»»æ„å¯èƒ½çš„é‡æ–°æ’åˆ—ã€‚è‹¥ä¸å¯è¡Œï¼Œè¿”å›ç©ºå­—ç¬¦ä¸² "" ã€‚

 

ç¤ºä¾‹ 1:

è¾“å…¥: s = "aab"
è¾“å‡º: "aba"
ç¤ºä¾‹ 2:

è¾“å…¥: s = "aaab"
è¾“å‡º: ""

----

è¿™é‡Œå¾ˆå·§å¦™ï¼Œä¼˜å…ˆçº§é˜Ÿåˆ—æ˜¯å¯¹å­—ç¬¦è¿›è¡Œæ’åºçš„ï¼Œè€Œä¸”æ˜¯æŒ‰ç…§å­—ç¬¦åœ¨æ•°ç»„ä¸­å‡ºç°çš„æ¬¡æ•°æ’åºï¼ˆè¿™ä¸ªè‡ªå·±ä¸€ç›´æ²¡æƒ³åˆ°æ–¹æ³•è¦æ€ä¹ˆæ’ï¼Œç”¨treemapè¿›è¡Œäº†è‡ªå®šä¹‰æ’åºä½†å‘ç°è¿™æ ·ä¸å¯è¡Œï¼Œæ¯”å¦‚vvvloè¿™ç§æƒ…å†µï¼Œä¼šè¾“å‡ºvlovvï¼Œæœ€åä¸¤ä¸ªå‡ºç°æ¬¡æ•°ä¸€æ ·çš„è¿˜æ˜¯è¿åœ¨ä¸€èµ·äº†ï¼‰

ç„¶åå¦ä¸€ä¸ªå·§å¦™ç‚¹æ˜¯æ‹¼æ¥çš„æ—¶å€™ä¸€æ¬¡å–å‡ºä¸¤ä¸ªå­—ç¬¦ï¼Œè¿™æ ·ä¸¤ä¸ªå­—ç¬¦å¿…ç„¶æ˜¯ä¸ä¸€æ ·çš„å­—ç¬¦ï¼Œè€Œä¸”ä¸€å®šæ˜¯å–å‡ºå‡ºç°æ¬¡æ•°æœ€å¤§çš„ä¸¤ä¸ªå­—ç¬¦

å½“æœ€å¤§å †çš„å…ƒç´ ä¸ªæ•°å¤§äº 11 æ—¶ï¼Œæ¯æ¬¡ä»æœ€å¤§å †å–å‡ºä¸¤ä¸ªå­—æ¯ï¼Œæ‹¼æ¥åˆ°é‡æ„çš„å­—ç¬¦ä¸²ï¼Œç„¶åå°†ä¸¤ä¸ªå­—æ¯çš„å‡ºç°æ¬¡æ•°åˆ†åˆ«å‡ 11ï¼Œå¹¶å°†å‰©ä½™å‡ºç°æ¬¡æ•°å¤§äº 00 çš„å­—æ¯é‡æ–°åŠ å…¥æœ€å¤§å †ã€‚ç”±äºæœ€å¤§å †ä¸­çš„å…ƒç´ éƒ½æ˜¯ä¸åŒçš„ï¼Œå› æ­¤å–å‡ºçš„ä¸¤ä¸ªå­—æ¯ä¸€å®šä¹Ÿæ˜¯ä¸åŒçš„ï¼Œå°†ä¸¤ä¸ªä¸åŒçš„å­—æ¯æ‹¼æ¥åˆ°é‡æ„çš„å­—ç¬¦ä¸²ï¼Œå¯ä»¥ç¡®ä¿ç›¸é‚»çš„å­—æ¯éƒ½ä¸ç›¸åŒã€‚

å¦‚æœæœ€å¤§å †å˜æˆç©ºï¼Œåˆ™å·²ç»å®Œæˆå­—ç¬¦ä¸²çš„é‡æ„ã€‚å¦‚æœæœ€å¤§å †å‰©ä¸‹ 11 ä¸ªå…ƒç´ ï¼Œåˆ™å–å‡ºæœ€åä¸€ä¸ªå­—æ¯ï¼Œæ‹¼æ¥åˆ°é‡æ„çš„å­—ç¬¦ä¸²ã€‚

å¯¹äºé•¿åº¦ä¸º n çš„å­—ç¬¦ä¸²ï¼Œå…±æœ‰ n/2 æ¬¡æ¯æ¬¡ä»æœ€å¤§å †å–å‡ºä¸¤ä¸ªå­—æ¯çš„æ“ä½œï¼Œå½“ n æ˜¯å¥‡æ•°æ—¶ï¼Œè¿˜æœ‰ä¸€æ¬¡ä»æœ€å¤§å †å–å‡ºä¸€ä¸ªå­—æ¯çš„æ“ä½œï¼Œå› æ­¤é‡æ„çš„å­—ç¬¦ä¸²çš„é•¿åº¦ä¸€å®šæ˜¯ nã€‚

å½“ n æ˜¯å¥‡æ•°æ—¶ï¼Œæ˜¯å¦å¯èƒ½å‡ºç°é‡æ„çš„å­—ç¬¦ä¸²çš„æœ€åä¸¤ä¸ªå­—æ¯ç›¸åŒçš„æƒ…å†µï¼Ÿå¦‚æœæœ€åä¸€ä¸ªå­—æ¯åœ¨æ•´ä¸ªå­—ç¬¦ä¸²ä¸­è‡³å°‘å‡ºç°äº† 2 æ¬¡ï¼Œåˆ™åœ¨æœ€åä¸€æ¬¡ä»æœ€å¤§å †å–å‡ºä¸¤ä¸ªå­—æ¯æ—¶ï¼Œè¯¥å­—æ¯ä¼šå…ˆè¢«é€‰å‡ºï¼Œå› æ­¤ä¸ä¼šæˆä¸ºé‡æ„çš„å­—ç¬¦ä¸²çš„å€’æ•°ç¬¬äºŒä¸ªå­—æ¯ï¼Œä¹Ÿä¸å¯èƒ½å‡ºç°é‡æ„çš„å­—ç¬¦ä¸²æœ€åä¸¤ä¸ªå­—æ¯ç›¸åŒçš„æƒ…å†µã€‚

æ‰€ä»¥åœ¨å¾ªç¯çš„æ—¶å€™æ¡ä»¶æ˜¯queue.size()>1è€Œä¸æ˜¯>0

```java
  public String reorganizeString(String s) {
int []arr=new int [26];
int len=s.length();
for(char item:s.toCharArray())
arr[item-'a']++;
int same=0;//ç›¸åŒçš„å­—æ¯æ•°
int totnum = 0;//å­—æ¯ç§ç±»æ•°
for(int i = 0;i < 26;i++)
{
        same=Math.max(arr[i],same);
       
    
}

    String ans="";
    char pre='1';
     if (same > (len + 1) / 2) {
            return "";
        }
 PriorityQueue<Character> queue = new PriorityQueue<Character>(new Comparator<Character>() {
            public int compare(Character letter1, Character letter2) {
                return arr[letter2 - 'a'] - arr[letter1 - 'a'];
            }
        });
        for (char c = 'a'; c <= 'z'; c++) {
            if (arr[c - 'a'] > 0) {
                queue.offer(c);
            }
        }
 //Arrays.sort(arr);//é™åºæ’åˆ—
 Map<Integer,Integer>mymap = new TreeMap<>();
 for(int i =0;i<26;i++ )
 if(arr[i]!=0)
 mymap.put(i,arr[i]);
while (queue.size() > 1) {
Character letter1=queue.poll();
Character letter2 = queue.poll();
ans+=letter1;
ans+=letter2;
  int index1 = letter1 - 'a', index2 = letter2 - 'a';
            arr[index1]--;
            arr[index2]--;
            if (arr[index1] > 0) {
                queue.offer(letter1);
            }
            if (arr[index2] > 0) {
                queue.offer(letter2);
            }
}
      if (queue.size() > 0) {
            ans+=queue.poll();
        }
int max=0;

return ans;
    }
```

## [I. é˜Ÿåˆ—çš„æœ€å¤§å€¼](https://leetcode.cn/problems/dui-lie-de-zui-da-zhi-lcof/)

éš¾åº¦ä¸­ç­‰407

è¯·å®šä¹‰ä¸€ä¸ªé˜Ÿåˆ—å¹¶å®ç°å‡½æ•° `max_value` å¾—åˆ°é˜Ÿåˆ—é‡Œçš„æœ€å¤§å€¼ï¼Œè¦æ±‚å‡½æ•°`max_value`ã€`push_back` å’Œ `pop_front` çš„**å‡æ‘Š**æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯O(1)ã€‚

è‹¥é˜Ÿåˆ—ä¸ºç©ºï¼Œ`pop_front` å’Œ `max_value` éœ€è¦è¿”å› -1

è¿™é‡Œpop_frontæ˜¯å¼¹å‡ºæœ€å…ˆè¿›å»çš„å…ƒç´ ã€‚

------------------------





æ€è·¯ï¼šç»´æŠ¤ä¸¤ä¸ªé˜Ÿåˆ—ï¼Œä¸€ä¸ªç”¨äºå–å‡ºæœ€å¤§å€¼ï¼Œä¸€ä¸ª æ™®é€šé˜Ÿåˆ—ç”¨äºå¼¹å‡ºæœ€æ–°è¿›å»çš„å…ƒç´ ï¼š

æœ¬ç®—æ³•åŸºäºé—®é¢˜çš„ä¸€ä¸ªé‡è¦æ€§è´¨ï¼šå½“ä¸€ä¸ªå…ƒç´ è¿›å…¥é˜Ÿåˆ—çš„æ—¶å€™ï¼Œå®ƒå‰é¢æ‰€æœ‰æ¯”å®ƒå°çš„å…ƒç´ å°±ä¸ä¼šå†å¯¹ç­”æ¡ˆäº§ç”Ÿå½±å“ã€‚

ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœæˆ‘ä»¬å‘é˜Ÿåˆ—ä¸­æ’å…¥æ•°å­—åºåˆ— 1 1 1 1 2ï¼Œé‚£ä¹ˆåœ¨ç¬¬ä¸€ä¸ªæ•°å­— 2 è¢«æ’å…¥åï¼Œæ•°å­— 2 å‰é¢çš„æ‰€æœ‰æ•°å­— 1 å°†ä¸ä¼šå¯¹ç»“æœäº§ç”Ÿå½±å“ã€‚å› ä¸ºæŒ‰ç…§é˜Ÿåˆ—çš„å–å‡ºé¡ºåºï¼Œæ•°å­— 2 åªèƒ½åœ¨æ‰€æœ‰çš„æ•°å­— 1 è¢«å–å‡ºä¹‹åæ‰èƒ½è¢«å–å‡ºï¼Œå› æ­¤å¦‚æœæ•°å­— 1 å¦‚æœåœ¨é˜Ÿåˆ—ä¸­ï¼Œé‚£ä¹ˆæ•°å­— 2 å¿…ç„¶ä¹Ÿåœ¨é˜Ÿåˆ—ä¸­ï¼Œä½¿å¾—æ•°å­— 1 å¯¹ç»“æœæ²¡æœ‰å½±å“ã€‚

æŒ‰ç…§ä¸Šé¢çš„æ€è·¯ï¼Œæˆ‘ä»¬å¯ä»¥è®¾è®¡è¿™æ ·çš„æ–¹æ³•ï¼šä»é˜Ÿåˆ—å°¾éƒ¨æ’å…¥å…ƒç´ æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥æå‰å–å‡ºé˜Ÿåˆ—ä¸­æ‰€æœ‰æ¯”è¿™ä¸ªå…ƒç´ å°çš„å…ƒç´ ï¼Œä½¿å¾—é˜Ÿåˆ—ä¸­åªä¿ç•™å¯¹ç»“æœæœ‰å½±å“çš„æ•°å­—ã€‚è¿™æ ·çš„æ–¹æ³•ç­‰ä»·äºè¦æ±‚ç»´æŒé˜Ÿåˆ—å•è°ƒé€’å‡ï¼Œå³è¦ä¿è¯æ¯ä¸ªå…ƒç´ çš„å‰é¢éƒ½æ²¡æœ‰æ¯”å®ƒå°çš„å…ƒç´ ã€‚

é‚£ä¹ˆå¦‚ä½•é«˜æ•ˆå®ç°ä¸€ä¸ªå§‹ç»ˆé€’å‡çš„é˜Ÿåˆ—å‘¢ï¼Ÿæˆ‘ä»¬åªéœ€è¦åœ¨æ’å…¥æ¯ä¸€ä¸ªå…ƒç´  value æ—¶ï¼Œä»é˜Ÿåˆ—å°¾éƒ¨ä¾æ¬¡å–å‡ºæ¯”å½“å‰å…ƒç´  value å°çš„å…ƒç´ ï¼Œç›´åˆ°é‡åˆ°ä¸€ä¸ªæ¯”å½“å‰å…ƒç´ å¤§çš„å…ƒç´  value' å³å¯ã€‚

ä¸Šé¢çš„è¿‡ç¨‹ä¿è¯äº†åªè¦åœ¨å…ƒç´  value è¢«æ’å…¥ä¹‹å‰é˜Ÿåˆ—é€’å‡ï¼Œé‚£ä¹ˆåœ¨ value è¢«æ’å…¥ä¹‹åé˜Ÿåˆ—ä¾ç„¶é€’å‡ã€‚
è€Œé˜Ÿåˆ—çš„åˆå§‹çŠ¶æ€ï¼ˆç©ºé˜Ÿåˆ—ï¼‰ç¬¦åˆå•è°ƒé€’å‡çš„å®šä¹‰ã€‚
ç”±æ•°å­¦å½’çº³æ³•å¯çŸ¥é˜Ÿåˆ—å°†ä¼šå§‹ç»ˆä¿æŒå•è°ƒé€’å‡ã€‚
ä¸Šé¢çš„è¿‡ç¨‹éœ€è¦ä»é˜Ÿåˆ—å°¾éƒ¨å–å‡ºå…ƒç´ ï¼Œå› æ­¤éœ€è¦ä½¿ç”¨åŒç«¯é˜Ÿåˆ—æ¥å®ç°ã€‚å¦å¤–æˆ‘ä»¬ä¹Ÿéœ€è¦ä¸€ä¸ªè¾…åŠ©é˜Ÿåˆ—æ¥è®°å½•æ‰€æœ‰è¢«æ’å…¥çš„å€¼ï¼Œä»¥ç¡®å®š pop_front å‡½æ•°çš„è¿”å›å€¼ã€‚

ä¿è¯äº†é˜Ÿåˆ—å•è°ƒé€’å‡åï¼Œæ±‚æœ€å¤§å€¼æ—¶åªéœ€è¦ç›´æ¥å–åŒç«¯é˜Ÿåˆ—ä¸­çš„ç¬¬ä¸€é¡¹å³å¯ã€‚





```java
Deque<Integer>deque;
Queue<Integer>queue;

    public MaxQueue() {
deque = new LinkedList<>();
queue = new LinkedList<>();
    }
    
    public int max_value() {
        if(deque.size()==0) return -1;
return deque.peekFirst();
    }
    
    public void push_back(int value) {
        while(deque.size()>0&& value>deque.peekLast()){
            deque.pollLast();
        }
        deque.offerLast(value);
queue.offer(value);

    }
    
    public int pop_front() {
if(queue.size()==0) return -1;
int top = queue.poll();
if(top == deque.peekFirst())
{
    deque.pollFirst();
}
return top;
    }
```

## åˆ†æ²»ï¼š[856. æ‹¬å·çš„åˆ†æ•°](https://leetcode.cn/problems/score-of-parentheses/)

éš¾åº¦ä¸­ç­‰460

ç»™å®šä¸€ä¸ªå¹³è¡¡æ‹¬å·å­—ç¬¦ä¸² `S`ï¼ŒæŒ‰ä¸‹è¿°è§„åˆ™è®¡ç®—è¯¥å­—ç¬¦ä¸²çš„åˆ†æ•°ï¼š

- `()` å¾— 1 åˆ†ã€‚
- `AB` å¾— `A + B` åˆ†ï¼Œå…¶ä¸­ A å’Œ B æ˜¯å¹³è¡¡æ‹¬å·å­—ç¬¦ä¸²ã€‚
- `(A)` å¾— `2 * A` åˆ†ï¼Œå…¶ä¸­ A æ˜¯å¹³è¡¡æ‹¬å·å­—ç¬¦ä¸²ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼š "()"
è¾“å‡ºï¼š 1
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼š "(())"
è¾“å‡ºï¼š 2
```

**ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥ï¼š "()()"
è¾“å‡ºï¼š 2
```



--------------------

æ ¹æ®é¢˜æ„ï¼Œä¸€ä¸ªå¹³è¡¡æ‹¬å·å­—ç¬¦ä¸² s å¯ä»¥è¢«åˆ†è§£ä¸º A+Bæˆ– (A) çš„å½¢å¼ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥å¯¹ s è¿›è¡Œåˆ†è§£ï¼Œåˆ†è€Œæ²»ä¹‹ã€‚

å¦‚ä½•åˆ¤æ–­ s åº”è¯¥åˆ†è§£ä¸º A+B æˆ–(A) çš„å“ªä¸€ç§å‘¢ï¼Ÿæˆ‘ä»¬å°†å·¦æ‹¬å·è®°ä¸º 11ï¼Œå³æ‹¬å·è®°ä¸º -1âˆ’1ï¼Œå¦‚æœ s çš„æŸä¸ªéç©ºå‰ç¼€å¯¹åº”çš„å’Œbal=0ï¼Œé‚£ä¹ˆè¿™ä¸ªå‰ç¼€å°±æ˜¯ä¸€ä¸ªå¹³è¡¡æ‹¬å·å­—ç¬¦ä¸²ã€‚å¦‚æœè¯¥å‰ç¼€é•¿åº¦ç­‰äº s çš„é•¿åº¦ï¼Œé‚£ä¹ˆ s å¯ä»¥åˆ†è§£ä¸º (A) çš„å½¢å¼ï¼›å¦åˆ™ s å¯ä»¥åˆ†è§£ä¸º A+B çš„å½¢å¼ï¼Œå…¶ä¸­ A ä¸ºè¯¥å‰ç¼€ã€‚å°† s åˆ†è§£ä¹‹åï¼Œæˆ‘ä»¬é€’å½’åœ°æ±‚è§£å­é—®é¢˜ï¼Œå¹¶ä¸” s çš„é•¿åº¦ä¸º 2 æ—¶ï¼Œåˆ†æ•°ä¸º 1ã€‚



```java
public int scoreOfParentheses(String s) {
    if(s.length()==2){
        return 1;
    }
    int score = 0,len = 0;
    for (int i = 0; i < s.length(); i++)
    {
        score +=s.charAt(i)=='('?1:-1;
        if(score==0){
            //æ³¨æ„æ˜¯è®¾ç½®ä¸ºi+1ä¸æ˜¯i
            len = i+1;
            break;
        }
    }
    if(len == s.length()){
        return 2*scoreOfParentheses(s.substring(1,s.length()-1));
    }
    else{
        return scoreOfParentheses(s.substring(0,len))+scoreOfParentheses(s.substring(len,s.length()));
    }
}
```

## [480. æ»‘åŠ¨çª—å£ä¸­ä½æ•°](https://leetcode.cn/problems/sliding-window-median/)

éš¾åº¦å›°éš¾406

ä¸­ä½æ•°æ˜¯æœ‰åºåºåˆ—æœ€ä¸­é—´çš„é‚£ä¸ªæ•°ã€‚å¦‚æœåºåˆ—çš„é•¿åº¦æ˜¯å¶æ•°ï¼Œåˆ™æ²¡æœ‰æœ€ä¸­é—´çš„æ•°ï¼›æ­¤æ—¶ä¸­ä½æ•°æ˜¯æœ€ä¸­é—´çš„ä¸¤ä¸ªæ•°çš„å¹³å‡æ•°ã€‚

ä¾‹å¦‚ï¼š

- `[2,3,4]`ï¼Œä¸­ä½æ•°æ˜¯ `3`
- `[2,3]`ï¼Œä¸­ä½æ•°æ˜¯ `(2 + 3) / 2 = 2.5`

ç»™ä½ ä¸€ä¸ªæ•°ç»„ *nums*ï¼Œæœ‰ä¸€ä¸ªé•¿åº¦ä¸º *k* çš„çª—å£ä»æœ€å·¦ç«¯æ»‘åŠ¨åˆ°æœ€å³ç«¯ã€‚çª—å£ä¸­æœ‰ *k* ä¸ªæ•°ï¼Œæ¯æ¬¡çª—å£å‘å³ç§»åŠ¨ *1* ä½ã€‚ä½ çš„ä»»åŠ¡æ˜¯æ‰¾å‡ºæ¯æ¬¡çª—å£ç§»åŠ¨åå¾—åˆ°çš„æ–°çª—å£ä¸­å…ƒç´ çš„ä¸­ä½æ•°ï¼Œå¹¶è¾“å‡ºç”±å®ƒä»¬ç»„æˆçš„æ•°ç»„ã€‚

 

**ç¤ºä¾‹ï¼š**

ç»™å‡º *nums* = `[1,3,-1,-3,5,3,6,7]`ï¼Œä»¥åŠ *k* = 3ã€‚

```
çª—å£ä½ç½®                      ä¸­ä½æ•°
---------------               -----
[1  3  -1] -3  5  3  6  7       1
 1 [3  -1  -3] 5  3  6  7      -1
 1  3 [-1  -3  5] 3  6  7      -1
 1  3  -1 [-3  5  3] 6  7       3
 1  3  -1  -3 [5  3  6] 7       5
 1  3  -1  -3  5 [3  6  7]      6
```

---------------------

é¦–å…ˆæ˜¯å…³äºä¸­ä½æ•°ï¼Œéœ€è¦ç»´æŠ¤ä¸¤ä¸ªä¼˜å…ˆçº§é˜Ÿåˆ—ï¼Œå…¶ä¸­æ˜¯å¤§çš„ä¸€åŠï¼Œå¦ä¸€è¾¹æ˜¯å°çš„ä¸€åŠï¼Œå¦‚æœä¸ºå¥‡æ•°é‚£ä¹ˆå°çš„ä¸€åŠçš„peek()å°±æ˜¯ä¸­ä½æ•°ï¼Œå¦‚æœæ˜¯å¶æ•°ï¼Œé‚£ä¹ˆå°±æ˜¯ä¸¤ä¸ªé˜Ÿåˆ—peekï¼ˆ)çš„ä¸€åŠ

æ³¨æ„ï¼šä¸€ä¸ªä»å°åˆ°å¤§çš„ä¼˜å…ˆé˜Ÿåˆ—ï¼Œé‚£ä¹ˆpeek()å–å‡ºæ¥æ˜¯æœ€å°çš„

```java
 public double[] medianSlidingWindow(int[] nums, int k) {
        DualHeap dh = new DualHeap(k);
        for (int i = 0; i < k; ++i) {
            dh.insert(nums[i]);
        }
        double[] ans = new double[nums.length - k + 1];
        ans[0] = dh.getMedian();
        for (int i = k; i < nums.length; ++i) {
            dh.insert(nums[i]);
            dh.erase(nums[i - k]);
            ans[i - k + 1] = dh.getMedian();
        }
        return ans;
    }
}

class DualHeap {
    // å¤§æ ¹å †ï¼Œç»´æŠ¤è¾ƒå°çš„ä¸€åŠå…ƒç´ 
    private PriorityQueue<Integer> small;
    // å°æ ¹å †ï¼Œç»´æŠ¤è¾ƒå¤§çš„ä¸€åŠå…ƒç´ 
    private PriorityQueue<Integer> large;
    // å“ˆå¸Œè¡¨ï¼Œè®°å½•ã€Œå»¶è¿Ÿåˆ é™¤ã€çš„å…ƒç´ ï¼Œkey ä¸ºå…ƒç´ ï¼Œvalue ä¸ºéœ€è¦åˆ é™¤çš„æ¬¡æ•°
    private Map<Integer, Integer> delayed;

    private int k;
    // small å’Œ large å½“å‰åŒ…å«çš„å…ƒç´ ä¸ªæ•°ï¼Œéœ€è¦æ‰£é™¤è¢«ã€Œå»¶è¿Ÿåˆ é™¤ã€çš„å…ƒç´ 
    private int smallSize, largeSize;
//æ¯”å¦‚1 2 3 4 5 6 7 8åˆ†æˆä¸¤ä¸ªé˜Ÿåˆ—ï¼Œä¸€ä¸ªæ”¾4 3 2 1ï¼Œä¸€ä¸ªæ”¾5 6 7 8ï¼Œé‚£ä¹ˆå‰è€…peekæ˜¯4 åè€…æ˜¯5
    public DualHeap(int k) {
        //è¿™ä¸ªé˜Ÿåˆ—æ˜¯ä»å¤§åˆ°å° è¦è®©ä»å¤§åˆ°å°çš„é˜Ÿåˆ—å…ˆæ”¾å…ƒç´ 
        this.small = new PriorityQueue<Integer>(new Comparator<Integer>() {
            public int compare(Integer num1, Integer num2) {
                //num2-num1ä¼šå‘ç”Ÿæº¢å‡ºï¼Œåªèƒ½è¿™æ ·å†™
                return num2.compareTo(num1);
                
            }
        });
        //è¿™ä¸ªæ˜¯ä»å°åˆ°å¤§ peekæ˜¯æœ€å°çš„
        this.large = new PriorityQueue<Integer>(new Comparator<Integer>() {
            public int compare(Integer num1, Integer num2) {
                return num1.compareTo(num2);
            }
        });
        this.delayed = new HashMap<Integer, Integer>();
        this.k = k;
        this.smallSize = 0;
        this.largeSize = 0;
    }

    public double getMedian() {
        return (k & 1) == 1 ? small.peek() : ((double) small.peek() + large.peek()) / 2;
    }

    public void insert(int num) {
        if (small.isEmpty() || num <= small.peek()) {
            small.offer(num);
            ++smallSize;
        } else {
            large.offer(num);
            ++largeSize;
        }
        makeBalance();
    }

    public void erase(int num) {
        delayed.put(num, delayed.getOrDefault(num, 0) + 1);
        if (num <= small.peek()) {
            --smallSize;
            if (num == small.peek()) {
                prune(small);
            }
        } else {
            --largeSize;
            if (num == large.peek()) {
                prune(large);
            }
        }
        makeBalance();
    }

    // ä¸æ–­åœ°å¼¹å‡º heap çš„å †é¡¶å…ƒç´ ï¼Œå¹¶ä¸”æ›´æ–°å“ˆå¸Œè¡¨
    private void prune(PriorityQueue<Integer> heap) {
        while (!heap.isEmpty()) {
            int num = heap.peek();
            if (delayed.containsKey(num)) {
                delayed.put(num, delayed.get(num) - 1);
                if (delayed.get(num) == 0) {
                    delayed.remove(num);
                }
                heap.poll();
            } else {
                break;
            }
        }
    }

    // è°ƒæ•´ small å’Œ large ä¸­çš„å…ƒç´ ä¸ªæ•°ï¼Œä½¿å¾—äºŒè€…çš„å…ƒç´ ä¸ªæ•°æ»¡è¶³è¦æ±‚
    private void makeBalance() {
        if (smallSize > largeSize + 1) {
            // small æ¯” large å…ƒç´ å¤š 2 ä¸ª
            large.offer(small.poll());
            --smallSize;
            ++largeSize;
            // small å †é¡¶å…ƒç´ è¢«ç§»é™¤ï¼Œéœ€è¦è¿›è¡Œ prune
            prune(small);
        } else if (smallSize < largeSize) {
            // large æ¯” small å…ƒç´ å¤š 1 ä¸ª
            small.offer(large.poll());
            ++smallSize;
            --largeSize;
            // large å †é¡¶å…ƒç´ è¢«ç§»é™¤ï¼Œéœ€è¦è¿›è¡Œ prune
            prune(large);
        }
    }
```

------

## [å‰‘æŒ‡ Offer II 061. å’Œæœ€å°çš„ k ä¸ªæ•°å¯¹](https://leetcode.cn/problems/qn8gGX/)

éš¾åº¦ä¸­ç­‰67

ç»™å®šä¸¤ä¸ªä»¥å‡åºæ’åˆ—çš„æ•´æ•°æ•°ç»„ `nums1` å’Œ `nums2` , ä»¥åŠä¸€ä¸ªæ•´æ•° `k` ã€‚

å®šä¹‰ä¸€å¯¹å€¼ `(u,v)`ï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ æ¥è‡ª `nums1`ï¼Œç¬¬äºŒä¸ªå…ƒç´ æ¥è‡ª `nums2` ã€‚

è¯·æ‰¾åˆ°å’Œæœ€å°çš„ `k` ä¸ªæ•°å¯¹ `(u1,v1)`, ` (u2,v2)` ...  `(uk,vk)` ã€‚

 

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: nums1 = [1,7,11], nums2 = [2,4,6], k = 3
è¾“å‡º: [1,2],[1,4],[1,6]
è§£é‡Š: è¿”å›åºåˆ—ä¸­çš„å‰ 3 å¯¹æ•°ï¼š
    [1,2],[1,4],[1,6],[7,2],[7,4],[11,2],[7,6],[11,4],[11,6]
```



![image-20230325193704369](C:\Users\heziyi6\AppData\Roaming\Typora\typora-user-images\image-20230325193704369.png)

```java
  public List<List<Integer>> kSmallestPairs(int[] nums1, int[] nums2, int k) {
        PriorityQueue<int[]> pq = new PriorityQueue<>(k, (o1, o2)->{
            return nums1[o1[0]] + nums2[o1[1]] - nums1[o2[0]] - nums2[o2[1]];
        });
        List<List<Integer>> ans = new ArrayList<>();
        int m = nums1.length;
        int n = nums2.length;
        for (int i = 0; i < Math.min(m, k); i++) {
            pq.offer(new int[]{i,0});
        }
        while (k-- > 0 && !pq.isEmpty()) {
            int[] idxPair = pq.poll();
            List<Integer> list = new ArrayList<>();
            list.add(nums1[idxPair[0]]);
            list.add(nums2[idxPair[1]]);
            ans.add(list);
            if (idxPair[1] + 1 < n) {
                pq.offer(new int[]{idxPair[0], idxPair[1] + 1});
            }
        }
        
        return ans;
    }


```



# [18. å››æ•°ä¹‹å’Œ](https://leetcode-cn.com/problems/4sum/)

éš¾åº¦ä¸­ç­‰1101

ç»™ä½ ä¸€ä¸ªç”± `n` ä¸ªæ•´æ•°ç»„æˆçš„æ•°ç»„ `nums` ï¼Œå’Œä¸€ä¸ªç›®æ ‡å€¼ `target` ã€‚è¯·ä½ æ‰¾å‡ºå¹¶è¿”å›æ»¡è¶³ä¸‹è¿°å…¨éƒ¨æ¡ä»¶ä¸”**ä¸é‡å¤**çš„å››å…ƒç»„ `[nums[a], nums[b], nums[c], nums[d]]` ï¼ˆè‹¥ä¸¤ä¸ªå››å…ƒç»„å…ƒç´ ä¸€ä¸€å¯¹åº”ï¼Œåˆ™è®¤ä¸ºä¸¤ä¸ªå››å…ƒç»„é‡å¤ï¼‰ï¼š

- `0 <= a, b, c, d < n`
- `a`ã€`b`ã€`c` å’Œ `d` **äº’ä¸ç›¸åŒ**
- `nums[a] + nums[b] + nums[c] + nums[d] == target`

ä½ å¯ä»¥æŒ‰ **ä»»æ„é¡ºåº** è¿”å›ç­”æ¡ˆ ã€‚

```java
 List<List<Integer>>ans = new LinkedList<>();
    public List<List<Integer>> fourSum(int[] nums, int target) {
List<Integer>mylist = new LinkedList<>();
if(nums==null||nums.length<4) return ans;
Arrays.sort(nums);
for(int i = 0;i<nums.length-3;i++)
{
     if(i>0 && nums[i]==nums[i-1])
     continue;
     if((long)nums[i]+nums[i+1]+nums[i+2]+nums[i+3]>target) break;//æ²¡æœ‰å››æ•°ä¹‹å’Œä¸ºç›®æ ‡å€¼
     if((long)nums[nums.length-1]+nums[nums.length-2]+nums[nums.length-3]+nums[i]<target) continue;
    for(int j = i+1;j<nums.length-2;j++)
    {
  if(j>i+1&&nums[j-1]==nums[j])//å»é‡
{
    continue;
}
    int left = j+1,right = nums.length-1;
    while(left<right)
    {
        if(nums[i]+ nums[j] + nums[left] + nums[right]==target)
        {
            ans.add(Arrays.asList(nums[i], nums[j], nums[left], nums[right]));
            while(left<right && nums[left]==nums[left+1])
            left++;
              left++;
        while(left<right && nums[right]==nums[right-1])
        right--;
        right--;
        }
      else if(nums[i]+ nums[j] + nums[left] + nums[right]<target)
left++;
else right--;
    }
    }
}
return ans;
    }
```



# æ™ºåŠ›é¢˜



## èµ›é©¬é—®é¢˜



- 64åŒ¹é©¬ï¼Œ8ä¸ªè·‘é“ï¼Œé—®æœ€å°‘æ¯”èµ›å¤šå°‘åœºï¼Œå¯ä»¥é€‰å‡ºè·‘å¾—æœ€å¿«çš„4åŒ¹é©¬

- - Assumptionsï¼šæ¯åœºæ¯”èµ›æ¯ä¸ªè·‘é“åªå…è®¸ä¸€åŒ¹é©¬ï¼Œä¸”ä¸å­˜åœ¨å¹¶åˆ—æƒ…å½¢



- **step1ï¼šéœ€8åœºæ¯”èµ›**

- - é¦–å…ˆæŠŠ64åŒ¹é©¬éšæœºåˆ†ä¸º8ç»„å¹¶æ ‡è®°ç»„åˆ«ï¼Œéå†ç»„åˆ«ï¼Œæ¯”èµ›8æ¬¡ï¼Œå¹¶è®°å½•æ¯ç»„èµ›é©¬åæ¬¡(egï¼šA1>A2>...>A7>A8
  - é¦–å…ˆå¯ç›´æ¥å‰”é™¤å„ç»„åå››åèµ›é©¬ï¼Œå‰©ä½™64-4*8=32åŒ¹èµ›é©¬å¾…å®š



- **step2ï¼šéœ€1åœºæ¯”èµ›**

- - é€‰å‡ºæ¯ç»„æ’åç¬¬ä¸€çš„èµ›é©¬è¿›è¡Œä¸€æ¬¡æ¯”èµ›ï¼Œè®°å½•ç»“æœï¼Œä¸å¤±ä¸€èˆ¬æ€§åœ°ï¼Œè®°ä¸ºï¼šA1>B1>C1>D1>E1>F1>G1>H1
  - æ ¹æ®è¿™è½®æ¯”èµ›ç»“æœï¼Œé¦–å…ˆå¯ä»¥å‰”é™¤Eã€Fã€Gã€Hè¿™å››ç»„æ‰€æœ‰èµ›é©¬ï¼ˆå› ä¸ºæœ¬ç»„ç¬¬ä¸€éƒ½æœªè¿›å…¥å‰4ï¼‰ï¼Œå‰©ä½™16åŒ¹é©¬

![img](https://pic4.zhimg.com/80/v2-b740151b48b343b61adde04bbd0f5e2b_1440w.jpg)

- - å…¶æ¬¡å¯ä»¥ç¡®å®šA1å°±æ˜¯å…¨åœºMVPï¼Œå±å…¨åœºN01ï¼Œå‰©ä½™15åŒ¹é©¬å¾…å®š

  - è¿˜å¯ä»¥è¿›ä¸€æ­¥ç»†åŒ–

  - - Dç»„2-4åèµ›é©¬ï¼šD2>D3>D4ï¼Œä¸å¯èƒ½æ˜¯Top4ï¼Œå¯å‰”é™¤è¿™3åŒ¹ï¼Œå‰©ä½™15-3=12åŒ¹èµ›é©¬å¾…å®š

  - Cç»„3-4åèµ›é©¬:C3>C4ï¼Œä¸å¯èƒ½æ˜¯Top4ï¼Œå¯å‰”é™¤è¿™2åŒ¹ï¼Œå‰©ä½™12-2=10åŒ¹èµ›é©¬å¾…å®š

  - - Bç»„ç¬¬4åèµ›é©¬ï¼šB4ï¼Œä¹Ÿä¸å¯èƒ½æ˜¯Top4ï¼Œå¯å‰”é™¤è¿™1åŒ¹ï¼Œå‰©ä½™10-1=9åŒ¹èµ›é©¬å¾…å®š



- **step3ï¼šéœ€1åœºor2åœºæ¯”èµ›**

- - å½“å‰å‰©ä½™å¾…å®š9åŒ¹èµ›é©¬ï¼šA2>A3>A4,B1>B2>B3,C1>C2,D1

  - å› ä¸ºå¯ä»¥ç¡®å®šB1>C1>D1ï¼Œå› æ­¤æŒ‘é€‰ï¼šA2>A3>A4,B1>B2>B3,C1>C2ï¼ˆ æˆ–è€… A2>A3>A4,B1>B2>B3,C1>D1ï¼‰ç­‰8åŒ¹é©¬è¿›è¡Œä¸€åœºæ¯”èµ›ï¼Œå‰©ä½™ä¸€åŒ¹èµ›é©¬D1æˆ–è€…C2å¾…å®šï¼Œé‡ç‚¹å…³æ³¨C1åæ¬¡

  - **ä»…éœ€1åœºæ¯”èµ›æƒ…å½¢**

  - - å½“C1æ’åç¬¬3åŠä»¥åï¼Œåˆ™é€‰å‡ºæœ¬åœºå‰3åèµ›é©¬ï¼Œå¤–åŠ å¤§ä½¬A1ï¼Œå³ä¸ºæ‰€æ±‚çš„Top4åŒ¹é©¬

  - **éœ€2åœºæ¯”èµ›æƒ…å½¢**

  - - å› ä¸ºå·²çŸ¥B1>C1,æ‰€ä»¥C1æœ¬åœºåæ¬¡åŒºé—´ä¸º[2,8]

    - å½“C1æ’åç¬¬2æ—¶ï¼Œå¯æ¨çŸ¥B1æ’åæœ¬åœºç¬¬ä¸€ï¼Œå› æ­¤A1>B1>C1å³ä¸ºå…¨åœºTop3åŒ¹é©¬ï¼Œæ­¤æ—¶å¯å‰”é™¤B1,C1ä¸¤åŒ¹é©¬ï¼Œå‰©ä½™9-2=7åŒ¹é©¬å¾…å®šï¼ˆå¦‚ä¸‹ï¼‰

    - - æœ¬è½®ä¸Šåœºå‰©ä½™6åŒ¹ï¼šA2>A3>A4ï¼ŒB2>B3,C2
      - æœªä¸Šåœº1åŒ¹ï¼šD1

    - å°†æœ¬åœºå‰©ä½™7åŒ¹èµ›é©¬å†è¿›è¡Œä¸€åœºæ¯”èµ›ï¼Œä¸€å†³é«˜ä½ï¼Œè®°å½•åæ¬¡ï¼Œé€‰å‡ºæœ¬åœºæ’åç¬¬ä¸€çš„èµ›é©¬ï¼ŒåŠ ä¸ŠA1>B1>C1ï¼Œå³ä¸ºå…¨åœºTop4åŒ¹é©¬

- ç­”æ¡ˆï¼š

- æœ€å°‘éœ€è¦10åœºor11åœº

-----

![preview](https://pic1.zhimg.com/v2-3a430aad55598addb9ac144bef99eeac_r.jpg)

25åŒ¹é©¬ï¼Œ5ä¸ªèµ›é“ï¼Œæ±‚é€‰å‡ºé€Ÿåº¦æœ€å¿«çš„3åŒ¹é©¬æœ€å°‘éœ€è¦å¤šå°‘æ¬¡æ¯”èµ›ï¼Ÿ

ç­”æ¡ˆï¼š7æ¬¡ï¼ˆä¸€ä¸ªèµ›é“ä¸€åŒ¹é©¬ï¼‰
ç”±äºåœºåœ°åªæœ‰5ä¸ªèµ›é“ï¼Œæ¯æ¬¡æœ€å¤š5åŒ¹é©¬æ¯”èµ›ï¼Œå°†25åŒ¹é©¬åˆ†ä¸º5ç»„ï¼ˆAã€Bã€Cã€Dã€Eï¼‰ï¼Œæ¯ç»„5åŒ¹ï¼ˆç¼–å·1ã€2ã€3ã€4ã€5ï¼‰ã€‚

åˆ†æˆäº”ç»„ï¼Œæ¯ç»„äº”åŒ¹ï¼Œé€‰å‡ºæ¯ç»„ç¬¬ä¸€å

é¦–å…ˆï¼Œè¿›è¡Œ5åœºæ¯”èµ›ï¼Œæ¯åœºæ¯”èµ›ç»™æ¯ç»„æ’åã€‚

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/20201012114538336.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3JlYWxZdXpob3U=,size_16,color_FFFFFF,t_70#pic_center)

å‡è®¾åæ¬¡ä¸ç¼–å·ä¸€è‡´ï¼Œé€‰å‡ºæ¯ç»„å‰ä¸‰åã€‚

å†å°†æ¯ä¸ªèµ›é“çš„ç¬¬ä¸€åæ‹‰å‡ºæ¥æ¯”èµ›ä¸€æ¬¡ï¼Œé€‰å‡ºå‰ä¸‰åã€‚

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/20201012114843467.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3JlYWxZdXpob3U=,size_16,color_FFFFFF,t_70#pic_center)



åˆ™å‡è®¾æœ€ç»ˆåæ¬¡ä¹Ÿæ˜¯æŒ‰ç…§ä¸Šå›¾é¡ºåºï¼Œå³A1åæ¬¡æœ€é«˜ï¼ŒE1åæ¬¡æœ€ä½ã€‚Dç»„å’ŒEç»„å…¨éƒ¨æ·˜æ±°ã€‚A1ä¹Ÿæ˜¯25åŒ¹é©¬ä¸­çš„ç¬¬ä¸€ï¼Œæ¥ä¸‹æ¥éœ€è¦é€‰å‡ºç¬¬äºŒåå’Œç¬¬ä¸‰åã€‚
ç”±äºA1æ˜¯å† å†›ï¼Œæ¯”A1é€Ÿåº¦ç¨æ…¢çš„æ˜¯A2å’ŒB1ï¼Œäºšå†›åªå¯èƒ½åœ¨ä»–ä»¬ä¸¤ä¸ªä¹‹ä¸­äº§ç”Ÿã€‚

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/20201012115117513.png#pic_center)

å‡è®¾A2æ˜¯äºšå†›ï¼Œé‚£ä¹ˆå­£å†›éœ€è¦åœ¨A3ã€B1ä¸­é€‰æ‹©ã€‚
å‡è®¾B1æ˜¯äºšå†›ï¼Œé‚£ä¹ˆå­£å†›éœ€è¦åœ¨A2ã€B2ã€C1ä¸­é€‰æ‹©ã€‚
ç»¼ä¸Šï¼Œåªéœ€è¦A2ã€A3ã€B1ã€B2ã€C1å†æ¯”èµ›ä¸€åœºå³å¯ã€‚



æ‰€ä»¥ï¼Œä¸€å…±è‡³å°‘éœ€è¦7åœºæ¯”èµ›ï¼Œæ‰èƒ½é€‰å‡º25åŒ¹é©¬ä¸­çš„å‰ä¸‰åã€‚

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/20201012120130999.png#pic_center)
